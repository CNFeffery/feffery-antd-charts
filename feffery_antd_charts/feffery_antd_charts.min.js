window.feffery_antd_charts=function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";function o(){var t=document.currentScript;if(!t){for(var e=document.getElementsByTagName("script"),n=[],r=0;r<e.length;r++)n.push(e[r]);t=(n=n.filter(function(t){return!t.async&&!t.text&&!t.textContent})).slice(-1)[0]}return t}var t,a;return Object.defineProperty(i,"p",{get:(t=o().src.split("/").slice(0,-1).join("/")+"/",function(){return t})}),"undefined"!=typeof jsonpScriptSrc&&(a=jsonpScriptSrc,jsonpScriptSrc=function(t){var e=/\/_dash-component-suites\//.test(o().src),t=a(t);if(!e)return t;e=t.split("/"),t=e.slice(-1)[0].split(".");return t.splice(1,0,"v0_0_1-rc6m1664029335"),e.splice(-1,1,t.join(".")),e.join("/")}),i(i.s=400)}([function(i,t,e){"use strict";e.r(t),e.d(t,"contains",function(){return d}),e.d(t,"includes",function(){return d}),e.d(t,"difference",function(){return p}),e.d(t,"find",function(){return x}),e.d(t,"findIndex",function(){return E}),e.d(t,"firstValue",function(){return w}),e.d(t,"flatten",function(){return M}),e.d(t,"flattenDeep",function(){return P}),e.d(t,"getRange",function(){return S}),e.d(t,"pull",function(){return T}),e.d(t,"pullAt",function(){return k}),e.d(t,"reduce",function(){return L}),e.d(t,"remove",function(){return R}),e.d(t,"sortBy",function(){return B}),e.d(t,"union",function(){return F}),e.d(t,"uniq",function(){return N}),e.d(t,"valuesOfKey",function(){return U}),e.d(t,"head",function(){return W}),e.d(t,"last",function(){return z}),e.d(t,"startsWith",function(){return G}),e.d(t,"endsWith",function(){return $}),e.d(t,"filter",function(){return f}),e.d(t,"every",function(){return K}),e.d(t,"some",function(){return V}),e.d(t,"group",function(){return q}),e.d(t,"groupBy",function(){return Y}),e.d(t,"groupToMap",function(){return H}),e.d(t,"getWrapBehavior",function(){return Z}),e.d(t,"wrapBehavior",function(){return Q}),e.d(t,"number2color",function(){return tt}),e.d(t,"parseRadius",function(){return et}),e.d(t,"clamp",function(){return nt}),e.d(t,"fixedBase",function(){return rt}),e.d(t,"isDecimal",function(){return it}),e.d(t,"isEven",function(){return ot}),e.d(t,"isInteger",function(){return at}),e.d(t,"isNegative",function(){return st}),e.d(t,"isNumberEqual",function(){return ct}),e.d(t,"isOdd",function(){return ut}),e.d(t,"isPositive",function(){return lt}),e.d(t,"max",function(){return C}),e.d(t,"maxBy",function(){return ht}),e.d(t,"min",function(){return A}),e.d(t,"minBy",function(){return dt}),e.d(t,"mod",function(){return ft}),e.d(t,"toDegree",function(){return gt}),e.d(t,"toInteger",function(){return yt}),e.d(t,"toRadian",function(){return mt}),e.d(t,"forIn",function(){return vt}),e.d(t,"has",function(){return bt}),e.d(t,"hasKey",function(){return Ot}),e.d(t,"hasValue",function(){return Et}),e.d(t,"keys",function(){return m}),e.d(t,"isMatch",function(){return v}),e.d(t,"values",function(){return xt}),e.d(t,"lowerCase",function(){return Mt}),e.d(t,"lowerFirst",function(){return Pt}),e.d(t,"substitute",function(){return Ct}),e.d(t,"upperCase",function(){return At}),e.d(t,"upperFirst",function(){return St}),e.d(t,"getType",function(){return Dt}),e.d(t,"isArguments",function(){return Tt}),e.d(t,"isArray",function(){return l}),e.d(t,"isArrayLike",function(){return s}),e.d(t,"isBoolean",function(){return It}),e.d(t,"isDate",function(){return kt}),e.d(t,"isError",function(){return Lt}),e.d(t,"isFunction",function(){return c}),e.d(t,"isFinite",function(){return Rt}),e.d(t,"isNil",function(){return u}),e.d(t,"isNull",function(){return Bt}),e.d(t,"isNumber",function(){return o}),e.d(t,"isObject",function(){return y}),e.d(t,"isObjectLike",function(){return b}),e.d(t,"isPlainObject",function(){return O}),e.d(t,"isPrototype",function(){return Ft}),e.d(t,"isRegExp",function(){return Ut}),e.d(t,"isString",function(){return h}),e.d(t,"isType",function(){return n}),e.d(t,"isUndefined",function(){return Wt}),e.d(t,"isElement",function(){return zt}),e.d(t,"requestAnimationFrame",function(){return Gt}),e.d(t,"clearAnimationFrame",function(){return $t}),e.d(t,"augment",function(){return Yt}),e.d(t,"clone",function(){return Ht}),e.d(t,"debounce",function(){return qt}),e.d(t,"memoize",function(){return Zt}),e.d(t,"deepMix",function(){return ee}),e.d(t,"each",function(){return _}),e.d(t,"extend",function(){return ne}),e.d(t,"indexOf",function(){return re}),e.d(t,"isEmpty",function(){return oe}),e.d(t,"isEqual",function(){return ae}),e.d(t,"isEqualWith",function(){return se}),e.d(t,"map",function(){return ce}),e.d(t,"mapValues",function(){return ue}),e.d(t,"mix",function(){return Vt}),e.d(t,"assign",function(){return Vt}),e.d(t,"get",function(){return le}),e.d(t,"set",function(){return he}),e.d(t,"pick",function(){return fe}),e.d(t,"omit",function(){return pe}),e.d(t,"throttle",function(){return ge}),e.d(t,"toArray",function(){return ye}),e.d(t,"toString",function(){return wt}),e.d(t,"uniqueId",function(){return me}),e.d(t,"noop",function(){return ve}),e.d(t,"identity",function(){return be}),e.d(t,"size",function(){return Oe}),e.d(t,"measureTextWidth",function(){return xe}),e.d(t,"getEllipsisText",function(){return Ee}),e.d(t,"Cache",function(){return we});function a(t,e){if(void 0===e&&(e=[]),l(t))for(var n=0;n<t.length;n+=1)a(t[n],e);else e.push(t);return e}var s=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},d=function(t,e){return!!s(t)&&-1<t.indexOf(e)},f=function(t,e){if(!s(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n},p=function(t,e){return void 0===e&&(e=[]),f(t,function(t){return!d(e,t)})},g={}.toString,n=function(t,e){return g.call(t)==="[object "+e+"]"},c=function(t){return n(t,"Function")},u=function(t){return null==t},l=function(t){return Array.isArray?Array.isArray(t):n(t,"Array")},y=function(t){var e=typeof t;return null!==t&&"object"==e||"function"==e},_=function(t,e){if(t)if(l(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(y(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},m=Object.keys?function(t){return Object.keys(t)}:function(n){var r=[];return _(n,function(t,e){c(n)&&"prototype"===e||r.push(e)}),r},v=function(t,e){var n=m(e),r=n.length;if(u(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0},b=function(t){return"object"==typeof t&&null!==t},O=function(t){if(!b(t)||!n(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},x=function(t,e){if(!l(t))return null;var n;if(c(e)&&(n=e),n=O(e)?function(t){return v(t,e)}:n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null},E=function(t,e,n){for(var r=n=void 0===n?0:n;r<t.length;r++)if(e(t[r],r))return r;return-1},w=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!u(i)){n=l(i)?i[0]:i;break}}return n},M=function(t){if(!l(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},P=a,C=function(t){if(l(t))return t.reduce(function(t,e){return Math.max(t,e)},t[0])},A=function(t){if(l(t))return t.reduce(function(t,e){return Math.min(t,e)},t[0])},S=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(l(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=C(e);return{min:A(e),max:i}},e=Array.prototype,j=e.splice,D=e.indexOf,T=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i,o=e[r];-1<(i=D.call(t,o));)j.call(t,i,1);return t},I=Array.prototype.splice,k=function(t,e){if(!s(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var i=void 0,o=e[n];n!==r&&o===i||I.call(t,i=o,1)}return t},L=function(t,n,e){if(!l(t)&&!O(t))return t;var r=e;return _(t,function(t,e){r=n(r,t,e)}),r},R=function(t,e){var n=[];if(!s(t))return n;for(var r=-1,i=[],o=t.length;++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return k(t,i),n},h=function(t){return n(t,"String")},B=function(t,n){var i,e=c(n)?function(t,e){return n(t)-n(e)}:(i=[],h(n)?i.push(n):l(n)&&(i=n),function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0});return t.sort(e),t};function N(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var F=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N([].concat.apply([],t))},U=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!u(o)){l(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function W(t){if(s(t))return t[0]}function z(t){if(s(t))return t[t.length-1]}var G=function(t,e){return!(!l(t)&&!h(t))&&t[0]===e},$=function(t,e){return!(!l(t)&&!h(t))&&t[t.length-1]===e},K=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},V=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},X=Object.prototype.hasOwnProperty,Y=function(t,e){if(!e||!l(t))return{};for(var n={},r=c(e)?e:function(t){return t[e]},i=0;i<t.length;i++){var o=t[i],a=r(o);X.call(n,a)?n[a].push(o):n[a]=[o]}return n};function H(t,e){return e?(c(e)||(i=l(e)?e:e.replace(/\s+/g,"").split("*"),e=function(t){for(var e="_",n=0,r=i.length;n<r;n++)e+=t[i[n]]&&t[i[n]].toString();return e}),Y(t,e)):{0:t};var i}var q=function(t,e){if(!e)return[t];var n,r=H(t,e),i=[];for(n in r)i.push(r[n]);return i},Z=function(t,e){return t["_wrap_"+e]},Q=function(e,n){if(e["_wrap_"+n])return e["_wrap_"+n];function t(t){e[n](t)}return e["_wrap_"+n]=t},J={},tt=function(t){var e=J[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;J[t]=e="#"+n}return e},et=function(t){var e=0,n=0,r=0,i=0;return l(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},nt=function(t,e,n){return t<e?e:n<t?n:t},rt=function(t,e){var e=e.toString(),n=e.indexOf(".");if(-1===n)return Math.round(t);e=e.substr(n+1).length;return 20<e&&(e=20),parseFloat(t.toFixed(e))},o=function(t){return n(t,"Number")},it=function(t){return o(t)&&t%1!=0},ot=function(t){return o(t)&&t%2==0},at=Number.isInteger||function(t){return o(t)&&t%1==0},st=function(t){return o(t)&&t<0};function ct(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var ut=function(t){return o(t)&&t%2!=0},lt=function(t){return o(t)&&0<t},ht=function(t,e){if(l(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=c(e)?e(o):o[e];r<a&&(n=o,r=a)}return n}},dt=function(t,e){if(l(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=c(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},ft=function(t,e){return(t%e+e)%e},pt=180/Math.PI,gt=function(t){return pt*t},yt=parseInt,_t=Math.PI/180,mt=function(t){return _t*t},vt=_,bt=function(t,e){return t.hasOwnProperty(e)},Ot=bt,xt=Object.values?function(t){return Object.values(t)}:function(n){var r=[];return _(n,function(t,e){c(n)&&"prototype"===e||r.push(t)}),r},Et=function(t,e){return d(xt(t),e)},wt=function(t){return u(t)?"":t.toString()},Mt=function(t){return wt(t).toLowerCase()},Pt=function(t){t=wt(t);return t.charAt(0).toLowerCase()+t.substring(1)},Ct=function(t,n){return t&&n?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===n[e]?"":n[e]}):t},At=function(t){return wt(t).toUpperCase()},St=function(t){t=wt(t);return t.charAt(0).toUpperCase()+t.substring(1)},jt={}.toString,Dt=function(t){return jt.call(t).replace(/^\[object /,"").replace(/]$/,"")},Tt=function(t){return n(t,"Arguments")},It=function(t){return n(t,"Boolean")},kt=function(t){return n(t,"Date")},Lt=function(t){return n(t,"Error")},Rt=function(t){return o(t)&&isFinite(t)},Bt=function(t){return null===t},Nt=Object.prototype,Ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Nt)},Ut=function(t){return n(t,"RegExp")},Wt=function(t){return void 0===t},zt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Gt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function $t(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Kt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Vt(t,e,n,r){return e&&Kt(t,e),n&&Kt(t,n),r&&Kt(t,r),t}function Xt(t){if("object"!=typeof t||null===t)return t;if(l(t))for(var e=[],n=0,r=t.length;n<r;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=Xt(t[n]):e[n]=t[n];else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=Xt(t[i]):e[i]=t[i];return e}var Yt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];c(i)&&(i=i.prototype),Vt(n.prototype,i)}},Ht=Xt,qt=function(r,i,o){var a;return function(){var t=this,e=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||r.apply(t,e)},i),n&&r.apply(t,e)}},Zt=function(o,a){if(!c(o))throw new TypeError("Expected a function");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=a?a.apply(this,t):t[0],r=s.cache;if(r.has(n))return r.get(n);var i=o.apply(this,t);return r.set(n,i),i}return s.cache=new Map,s};function Qt(t,e){if(t===e)return!0;if(!t||!e)return!1;if(h(t)||h(e))return!1;if(s(t)||s(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=Qt(t[r],e[r]));r++);return n}if(b(t)||b(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length&&(n=Qt(t[i[r]],e[i[r]]));r++);return n}return!1}function Jt(t){return t}var te,ee=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)!function t(e,n,r,i){for(var o in r=r||0,i=i||5,n){var a;n.hasOwnProperty(o)&&(null!==(a=n[o])&&O(a)?(O(e[o])||(e[o]={}),r<i?t(e[o],a,r+1,i):e[o]=n[o]):l(a)?(e[o]=[],e[o]=e[o].concat(a)):void 0!==a&&(e[o]=a))}}(t,e[r]);return t},ne=function(t,e,n,r){c(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;t=new n;return t.constructor=e,t},o=i(e.prototype,t);return t.prototype=Vt(o,t.prototype),t.superclass=i(e.prototype,e),Vt(o,n),Vt(t,r),t},re=function(t,e){if(!s(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},ie=Object.prototype.hasOwnProperty,oe=function(t){if(u(t))return!0;if(s(t))return!t.length;var e,n=Dt(t);if("Map"===n||"Set"===n)return!t.size;if(Ft(t))return!Object.keys(t).length;for(e in t)if(ie.call(t,e))return!1;return!0},ae=Qt,se=function(t,e,n){return c(n)?!!n(t,e):ae(t,e)},ce=function(t,e){if(!s(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e(i,r))}return n},ue=function(e,n){void 0===n&&(n=Jt);var r={};return y(e)&&!u(e)&&Object.keys(e).forEach(function(t){r[t]=n(e[t],t)}),r},le=function(t,e,n){for(var r=0,i=h(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},he=function(t,e,n){var r=t,i=h(e)?e.split("."):e;return i.forEach(function(t,e){e<i.length-1?(y(r[t])||(r[t]=o(i[e+1])?[]:{}),r=r[t]):r[t]=n}),t},de=Object.prototype.hasOwnProperty,fe=function(e,t){if(null===e||!O(e))return{};var n={};return _(t,function(t){de.call(e,t)&&(n[t]=e[t])}),n},pe=function(t,r){return L(t,function(t,e,n){return r.includes(n)||(t[n]=e),t},{})},ge=function(n,r,i){function o(){l=!1===i.leading?0:Date.now(),a=null,u=n.apply(s,c),a||(s=c=null)}function t(){var t=Date.now(),e=(l||!1!==i.leading||(l=t),r-(t-l));return s=this,c=arguments,e<=0||r<e?(a&&(clearTimeout(a),a=null),l=t,u=n.apply(s,c),a||(s=c=null)):a||!1===i.trailing||(a=setTimeout(o,e)),u}var a,s,c,u,l=0;i=i||{};return t.cancel=function(){clearTimeout(a),l=0,a=s=c=null},t},ye=function(t){return s(t)?Array.prototype.slice.call(t):[]},_e={},me=function(t){return _e[t=t||"g"]?_e[t]+=1:_e[t]=1,t+_e[t]},ve=function(){},be=function(t){return t};function Oe(t){return u(t)?0:(s(t)?t:Object.keys(t)).length}Object.create,Object.create;var xe=Zt(function(t,e){var n=(e=void 0===e?{}:e).fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,e=e.fontVariant;return(te=te||document.createElement("canvas").getContext("2d")).font=[o,e,i,n+"px",r].join(" "),te.measureText(h(t)?t:"").width},function(t,e){return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}([t],xt(e=void 0===e?{}:e)).join("")}),Ee=function(t,e,n,r){var i,o,a=xe(r=void 0===r?"...":r,n),s=h(t)?t:wt(t),c=e,u=[];if(xe(t,n)<=e)return t;for(;i=s.substr(0,16),!((o=xe(i,n))+a>c&&c<o);)if(u.push(i),c-=o,!(s=s.substr(16)))return u.join("");for(;i=s.substr(0,1),!((o=xe(i,n))+a>c);)if(u.push(i),c-=o,!(s=s.substr(1)))return u.join("");return""+u.join("")+r},we=(r.prototype.has=function(t){return void 0!==this.map[t]},r.prototype.get=function(t,e){t=this.map[t];return void 0===t?e:t},r.prototype.set=function(t,e){this.map[t]=e},r.prototype.clear=function(){this.map={}},r.prototype.delete=function(t){delete this.map[t]},r.prototype.size=function(){return Object.keys(this.map).length},r);function r(){this.map={}}},function(t,e){t.exports=window.PropTypes},function(u,t,e){"use strict";function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(t,e){return e(t)},t)}}e.d(t,"f",function(){return l}),e.d(t,"t",function(){return h.a}),e.d(t,"y",function(){return d}),e.d(t,"r",function(){return n.b}),e.d(t,"a",function(){return n.a}),e.d(t,"k",function(){return f}),e.d(t,"d",function(){return p}),e.d(t,"h",function(){return r}),e.d(t,"i",function(){return i}),e.d(t,"j",function(){return g}),e.d(t,"e",function(){return o.a}),e.d(t,"n",function(){return o.c}),e.d(t,"l",function(){return o.b}),e.d(t,"A",function(){return m}),e.d(t,"m",function(){return v}),e.d(t,"c",function(){return b.a}),e.d(t,"q",function(){return O}),e.d(t,"w",function(){return E.b}),e.d(t,"v",function(){return E.a}),e.d(t,"o",function(){return w.a}),e.d(t,"p",function(){return w.b}),e.d(t,"b",function(){return a.a}),e.d(t,"z",function(){return a.c}),e.d(t,"u",function(){return a.b}),e.d(t,"s",function(){return c.b}),e.d(t,"g",function(){return c.a}),e.d(t,"x",function(){return c.c});var h=e(171),s=e(0);function d(t,e){return e?Object(s.reduce)(e,function(t,e,n){return t.replace(new RegExp("{\\s*"+n+"\\s*}","g"),e)},t):t}var n=e(123);function f(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function p(t,e){return t.geometries.find(function(t){return t.type===e})}function r(t){return Object(s.reduce)(t.geometries,function(t,e){return t.concat(e.elements)},[])}function i(t){return Object(s.get)(t,["views","length"],0)<=0?r(t):Object(s.reduce)(t.views,function(t,e){return t.concat(i(e))},r(t))}function g(t){return Object(s.get)(t,["views","length"],0)<=0?t.geometries:Object(s.reduce)(t.views,function(t,e){return t.concat(e.geometries)},t.geometries)}var o=e(51),y=e(3);function m(t){if(!Object(s.isType)(t,"Object"))return t;t=Object(y.a)({},t);return t.formatter&&!t.content&&(t.content=t.formatter),t}var _=e(12);function v(t,e,l){var n=[],h=t[0],r=null;if(t.length<=2){var i=t,o=e,a=[];if(i.length){a.push(["M",i[0].x,i[0].y]);for(var s=1,d=i.length;s<d;s+=1){var f=i[s];a.push(["L",f.x,f.y])}o&&a.push(["Z"])}return a}for(var c=0,p=t.length;c<p;c++){var u=t[c];r&&r.x===u.x&&r.y===u.y||(n.push(u.x),n.push(u.y),r=u)}o=function(t,e,l){for(var e=!!e,n=[],r=0,h=t.length;r<h;r+=2)n.push([t[r],t[r+1]]);for(var i,o,a,s=function(t,l,h){var e,n,r=[],d=!!h;if(d){a=[1/0,1/0],s=[-1/0,-1/0];for(var i=0,f=t.length;i<f;i++)var o=t[i],a=_.c.min([0,0],a,o),s=_.c.max([0,0],s,o);a=_.c.min([0,0],a,h[0]),s=_.c.max([0,0],s,h[1])}for(var i=0,p=t.length;i<p;i++){if(o=t[i],l)e=t[i?i-1:p-1],n=t[(i+1)%p];else{if(0===i||i===p-1){r.push(o);continue}e=t[i-1],n=t[i+1]}var c=_.c.sub([0,0],n,e),g=(c=_.c.scale(c,c,.4),_.c.distance(o,e)),u=_.c.distance(o,n),y=g+u,y=(0!==y&&(g/=y,u/=y),_.c.scale([0,0],c,-g)),g=_.c.scale([0,0],c,u),c=_.c.add([0,0],o,y),u=_.c.add([0,0],o,g);d&&(c=_.c.max([0,0],c,a),c=_.c.min([0,0],c,s),u=_.c.max([0,0],u,a),u=_.c.min([0,0],u,s)),r.push(c),r.push(u)}return l&&r.push(r.shift()),r}(n,e,l),c=n.length,u=[],r=0;r<c-1;r++)i=s[2*r],o=s[2*r+1],a=n[r+1],u.push(["C",i[0],i[1],o[0],o[1],a[0],a[1]]);return e&&(i=s[c],o=s[c+1],a=n[0],u.push(["C",i[0],i[1],o[0],o[1],a[0],a[1]])),u}(n,e,l||[[0,0],[1,1]]);return o.unshift(["M",h.x,h.y]),o}var b=e(172);function O(t){return t&&t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map(function(t){return t.toLowerCase()}).join("-")}var x,E=e(149),w=(Object(s.memoize)(function(t,e){var n=(e=void 0===e?{}:e).fontSize,r=e.fontFamily,r=void 0===r?"sans-serif":r,i=e.fontWeight,o=e.fontStyle,e=e.fontVariant,a=x=x||document.createElement("canvas").getContext("2d");return a.font=[o,i,e,n+"px",r].join(" "),a.measureText(Object(s.isString)(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(y.d)([t],Object(s.values)(e)).join("")}),e(99)),a=e(110),c=e(77)},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}Object.create,Object.create},function(u,l,t){"use strict";t.d(l,"a",function(){return e}),t.d(l,"b",function(){return n}),t.d(l,"c",function(){return i}),t.d(l,"d",function(){return mn}),t.d(l,"e",function(){return o}),t.d(l,"f",function(){return r});var e={},n=(t.r(e),t.d(e,"create",function(){return h}),t.d(e,"fromMat4",function(){return d}),t.d(e,"clone",function(){return f}),t.d(e,"copy",function(){return p}),t.d(e,"fromValues",function(){return g}),t.d(e,"set",function(){return y}),t.d(e,"identity",function(){return _}),t.d(e,"transpose",function(){return m}),t.d(e,"invert",function(){return v}),t.d(e,"adjoint",function(){return b}),t.d(e,"determinant",function(){return O}),t.d(e,"multiply",function(){return x}),t.d(e,"translate",function(){return E}),t.d(e,"rotate",function(){return w}),t.d(e,"scale",function(){return M}),t.d(e,"fromTranslation",function(){return P}),t.d(e,"fromRotation",function(){return C}),t.d(e,"fromScaling",function(){return A}),t.d(e,"fromMat2d",function(){return S}),t.d(e,"fromQuat",function(){return j}),t.d(e,"normalFromMat4",function(){return D}),t.d(e,"projection",function(){return I}),t.d(e,"str",function(){return k}),t.d(e,"frob",function(){return L}),t.d(e,"add",function(){return R}),t.d(e,"subtract",function(){return B}),t.d(e,"multiplyScalar",function(){return N}),t.d(e,"multiplyScalarAndAdd",function(){return F}),t.d(e,"exactEquals",function(){return U}),t.d(e,"equals",function(){return W}),t.d(e,"mul",function(){return z}),t.d(e,"sub",function(){return G}),{}),r=(t.r(n),t.d(n,"create",function(){return $}),t.d(n,"clone",function(){return K}),t.d(n,"copy",function(){return V}),t.d(n,"fromValues",function(){return X}),t.d(n,"set",function(){return Y}),t.d(n,"identity",function(){return H}),t.d(n,"transpose",function(){return q}),t.d(n,"invert",function(){return Z}),t.d(n,"adjoint",function(){return Q}),t.d(n,"determinant",function(){return J}),t.d(n,"multiply",function(){return tt}),t.d(n,"translate",function(){return et}),t.d(n,"scale",function(){return nt}),t.d(n,"rotate",function(){return rt}),t.d(n,"rotateX",function(){return it}),t.d(n,"rotateY",function(){return ot}),t.d(n,"rotateZ",function(){return at}),t.d(n,"fromTranslation",function(){return st}),t.d(n,"fromScaling",function(){return ct}),t.d(n,"fromRotation",function(){return ut}),t.d(n,"fromXRotation",function(){return lt}),t.d(n,"fromYRotation",function(){return ht}),t.d(n,"fromZRotation",function(){return dt}),t.d(n,"fromRotationTranslation",function(){return ft}),t.d(n,"fromQuat2",function(){return pt}),t.d(n,"getTranslation",function(){return gt}),t.d(n,"getScaling",function(){return yt}),t.d(n,"getRotation",function(){return _t}),t.d(n,"fromRotationTranslationScale",function(){return mt}),t.d(n,"fromRotationTranslationScaleOrigin",function(){return vt}),t.d(n,"fromQuat",function(){return bt}),t.d(n,"frustum",function(){return Ot}),t.d(n,"perspectiveNO",function(){return xt}),t.d(n,"perspective",function(){return Et}),t.d(n,"perspectiveZO",function(){return wt}),t.d(n,"perspectiveFromFieldOfView",function(){return Mt}),t.d(n,"orthoNO",function(){return Pt}),t.d(n,"ortho",function(){return Ct}),t.d(n,"orthoZO",function(){return At}),t.d(n,"lookAt",function(){return St}),t.d(n,"targetTo",function(){return jt}),t.d(n,"str",function(){return Dt}),t.d(n,"frob",function(){return Tt}),t.d(n,"add",function(){return It}),t.d(n,"subtract",function(){return kt}),t.d(n,"multiplyScalar",function(){return Lt}),t.d(n,"multiplyScalarAndAdd",function(){return Rt}),t.d(n,"exactEquals",function(){return Bt}),t.d(n,"equals",function(){return Nt}),t.d(n,"mul",function(){return Ft}),t.d(n,"sub",function(){return Ut}),{}),i=(t.r(r),t.d(r,"create",function(){return Wt}),t.d(r,"clone",function(){return zt}),t.d(r,"fromValues",function(){return Gt}),t.d(r,"copy",function(){return $t}),t.d(r,"set",function(){return Kt}),t.d(r,"add",function(){return Vt}),t.d(r,"subtract",function(){return Xt}),t.d(r,"multiply",function(){return Yt}),t.d(r,"divide",function(){return Ht}),t.d(r,"ceil",function(){return qt}),t.d(r,"floor",function(){return Zt}),t.d(r,"min",function(){return Qt}),t.d(r,"max",function(){return Jt}),t.d(r,"round",function(){return te}),t.d(r,"scale",function(){return ee}),t.d(r,"scaleAndAdd",function(){return ne}),t.d(r,"distance",function(){return re}),t.d(r,"squaredDistance",function(){return ie}),t.d(r,"length",function(){return oe}),t.d(r,"squaredLength",function(){return ae}),t.d(r,"negate",function(){return se}),t.d(r,"inverse",function(){return ce}),t.d(r,"normalize",function(){return ue}),t.d(r,"dot",function(){return le}),t.d(r,"cross",function(){return he}),t.d(r,"lerp",function(){return de}),t.d(r,"random",function(){return fe}),t.d(r,"transformMat4",function(){return pe}),t.d(r,"transformQuat",function(){return ge}),t.d(r,"zero",function(){return ye}),t.d(r,"str",function(){return _e}),t.d(r,"exactEquals",function(){return me}),t.d(r,"equals",function(){return ve}),t.d(r,"sub",function(){return be}),t.d(r,"mul",function(){return Oe}),t.d(r,"div",function(){return xe}),t.d(r,"dist",function(){return Ee}),t.d(r,"sqrDist",function(){return we}),t.d(r,"len",function(){return Me}),t.d(r,"sqrLen",function(){return Pe}),t.d(r,"forEach",function(){return Ce}),{}),T=(t.r(i),t.d(i,"create",function(){return Ae}),t.d(i,"identity",function(){return Se}),t.d(i,"setAxisAngle",function(){return je}),t.d(i,"getAxisAngle",function(){return De}),t.d(i,"getAngle",function(){return Te}),t.d(i,"multiply",function(){return Ie}),t.d(i,"rotateX",function(){return ke}),t.d(i,"rotateY",function(){return Le}),t.d(i,"rotateZ",function(){return Re}),t.d(i,"calculateW",function(){return Be}),t.d(i,"exp",function(){return Ne}),t.d(i,"ln",function(){return Fe}),t.d(i,"pow",function(){return Ue}),t.d(i,"slerp",function(){return We}),t.d(i,"random",function(){return ze}),t.d(i,"invert",function(){return Ge}),t.d(i,"conjugate",function(){return $e}),t.d(i,"fromMat3",function(){return Ke}),t.d(i,"fromEuler",function(){return Ve}),t.d(i,"str",function(){return Xe}),t.d(i,"clone",function(){return Qe}),t.d(i,"fromValues",function(){return Je}),t.d(i,"copy",function(){return tn}),t.d(i,"set",function(){return en}),t.d(i,"add",function(){return nn}),t.d(i,"mul",function(){return rn}),t.d(i,"scale",function(){return on}),t.d(i,"dot",function(){return an}),t.d(i,"lerp",function(){return sn}),t.d(i,"length",function(){return cn}),t.d(i,"len",function(){return un}),t.d(i,"squaredLength",function(){return ln}),t.d(i,"sqrLen",function(){return hn}),t.d(i,"normalize",function(){return dn}),t.d(i,"exactEquals",function(){return fn}),t.d(i,"equals",function(){return pn}),t.d(i,"rotationTo",function(){return gn}),t.d(i,"sqlerp",function(){return yn}),t.d(i,"setAxes",function(){return _n}),t(24));function h(){var t=new T.a(9);return T.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function f(t){var e=new T.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function g(t,e,n,r,i,o,a,s,c){var u=new T.a(9);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=i,u[5]=o,u[6]=a,u[7]=s,u[8]=c,u}function y(t,e,n,r,i,o,a,s,c,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=c,t[8]=u,t}function _(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function m(t,e){var n,r,i;return t===e?(n=e[1],r=e[2],i=e[5],t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]),t}function v(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=e[6],l=e[7],e=e[8],h=e*a-s*l,d=-e*o+s*c,f=l*o-a*c,u=n*h+r*d+i*f;return u?(t[0]=h*(u=1/u),t[1]=(-e*r+i*l)*u,t[2]=(s*r-i*a)*u,t[3]=d*u,t[4]=(e*n-i*c)*u,t[5]=(-s*n+i*o)*u,t[6]=f*u,t[7]=(-l*n+r*c)*u,t[8]=(a*n-r*o)*u,t):null}function b(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],e=e[8];return t[0]=a*e-s*u,t[1]=i*u-r*e,t[2]=r*s-i*a,t[3]=s*c-o*e,t[4]=n*e-i*c,t[5]=i*o-n*s,t[6]=o*u-a*c,t[7]=r*c-n*u,t[8]=n*a-r*o,t}function O(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],t=t[8];return e*(t*o-a*c)+n*(-t*i+a*s)+r*(c*i-o*s)}function x(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],e=e[8],h=n[0],d=n[1],f=n[2],p=n[3],g=n[4],y=n[5],_=n[6],m=n[7],n=n[8];return t[0]=h*r+d*a+f*u,t[1]=h*i+d*s+f*l,t[2]=h*o+d*c+f*e,t[3]=p*r+g*a+y*u,t[4]=p*i+g*s+y*l,t[5]=p*o+g*c+y*e,t[6]=_*r+m*a+n*u,t[7]=_*i+m*s+n*l,t[8]=_*o+m*c+n*e,t}function E(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],c=e[5],l=e[6],h=e[7],e=e[8],u=n[0],n=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=c,t[6]=u*r+n*a+l,t[7]=u*i+n*s+h,t[8]=u*o+n*c+e,t}function w(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],c=e[5],l=e[6],h=e[7],e=e[8],u=Math.sin(n),n=Math.cos(n);return t[0]=n*r+u*a,t[1]=n*i+u*s,t[2]=n*o+u*c,t[3]=n*a-u*r,t[4]=n*s-u*i,t[5]=n*c-u*o,t[6]=l,t[7]=h,t[8]=e,t}function M(t,e,n){var r=n[0],n=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function P(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function C(t,e){var n=Math.sin(e),e=Math.cos(e);return t[0]=e,t[1]=n,t[2]=0,t[3]=-n,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function A(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function S(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function j(t,e){var n=e[0],r=e[1],i=e[2],e=e[3],o=n+n,a=r+r,s=i+i,n=n*o,c=r*o,r=r*a,u=i*o,l=i*a,i=i*s,o=e*o,a=e*a,e=e*s;return t[0]=1-r-i,t[3]=c-e,t[6]=u+a,t[1]=c+e,t[4]=1-n-i,t[7]=l-o,t[2]=u-a,t[5]=l+o,t[8]=1-n-r,t}function D(t,e){var n=e[0],r=e[1],l=e[2],i=e[3],h=e[4],d=e[5],f=e[6],o=e[7],a=e[8],s=e[9],c=e[10],u=e[11],p=e[12],g=e[13],y=e[14],e=e[15],_=n*d-r*h,m=n*f-l*h,v=n*o-i*h,b=r*f-l*d,O=r*o-i*d,x=l*o-i*f,E=a*g-s*p,w=a*y-c*p,a=a*e-u*p,M=s*y-c*g,s=s*e-u*g,c=c*e-u*y,u=_*c-m*s+v*M+b*a-O*w+x*E;return u?(t[0]=(d*c-f*s+o*M)*(u=1/u),t[1]=(f*a-h*c-o*w)*u,t[2]=(h*s-d*a+o*E)*u,t[3]=(l*s-r*c-i*M)*u,t[4]=(n*c-l*a+i*w)*u,t[5]=(r*a-n*s-i*E)*u,t[6]=(g*x-y*O+e*b)*u,t[7]=(y*v-p*x-e*m)*u,t[8]=(p*O-g*v+e*_)*u,t):null}function I(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function k(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function L(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function R(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function B(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function N(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function F(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function U(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function W(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],u=t[7],t=t[8],l=e[0],h=e[1],d=e[2],f=e[3],p=e[4],g=e[5],y=e[6],_=e[7],e=e[8];return Math.abs(n-l)<=T.b*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-h)<=T.b*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-d)<=T.b*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-f)<=T.b*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-p)<=T.b*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-g)<=T.b*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-y)<=T.b*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(u-_)<=T.b*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(t-e)<=T.b*Math.max(1,Math.abs(t),Math.abs(e))}var z=x,G=B;function $(){var t=new T.a(16);return T.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function K(t){var e=new T.a(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function V(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function X(t,e,n,r,i,o,a,s,c,l,h,d,f,p,g,y){var u=new T.a(16);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=i,u[5]=o,u[6]=a,u[7]=s,u[8]=c,u[9]=l,u[10]=h,u[11]=d,u[12]=f,u[13]=p,u[14]=g,u[15]=y,u}function Y(t,e,n,r,i,o,a,s,c,u,l,h,d,f,p,g,y){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=c,t[8]=u,t[9]=l,t[10]=h,t[11]=d,t[12]=f,t[13]=p,t[14]=g,t[15]=y,t}function H(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function q(t,e){var n,r,i,o,a,s;return t===e?(n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s):(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15]),t}function Z(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=e[6],l=e[7],h=e[8],d=e[9],f=e[10],p=e[11],g=e[12],y=e[13],_=e[14],e=e[15],m=n*s-r*a,v=n*c-i*a,b=n*l-o*a,O=r*c-i*s,x=r*l-o*s,E=i*l-o*c,w=h*y-d*g,M=h*_-f*g,P=h*e-p*g,C=d*_-f*y,A=d*e-p*y,S=f*e-p*_,u=m*S-v*A+b*C+O*P-x*M+E*w;return u?(t[0]=(s*S-c*A+l*C)*(u=1/u),t[1]=(i*A-r*S-o*C)*u,t[2]=(y*E-_*x+e*O)*u,t[3]=(f*x-d*E-p*O)*u,t[4]=(c*P-a*S-l*M)*u,t[5]=(n*S-i*P+o*M)*u,t[6]=(_*b-g*E-e*v)*u,t[7]=(h*E-f*b+p*v)*u,t[8]=(a*A-s*P+l*w)*u,t[9]=(r*P-n*A-o*w)*u,t[10]=(g*x-y*b+e*m)*u,t[11]=(d*b-h*x-p*m)*u,t[12]=(s*M-a*C-c*w)*u,t[13]=(n*C-r*M+i*w)*u,t[14]=(y*v-g*O-_*m)*u,t[15]=(h*O-d*v+f*m)*u,t):null}function Q(t,e){var l=e[0],n=e[1],r=e[2],i=e[3],h=e[4],d=e[5],o=e[6],a=e[7],f=e[8],p=e[9],s=e[10],c=e[11],g=e[12],y=e[13],u=e[14],e=e[15];return t[0]=d*(s*e-c*u)-p*(o*e-a*u)+y*(o*c-a*s),t[1]=-(n*(s*e-c*u)-p*(r*e-i*u)+y*(r*c-i*s)),t[2]=n*(o*e-a*u)-d*(r*e-i*u)+y*(r*a-i*o),t[3]=-(n*(o*c-a*s)-d*(r*c-i*s)+p*(r*a-i*o)),t[4]=-(h*(s*e-c*u)-f*(o*e-a*u)+g*(o*c-a*s)),t[5]=l*(s*e-c*u)-f*(r*e-i*u)+g*(r*c-i*s),t[6]=-(l*(o*e-a*u)-h*(r*e-i*u)+g*(r*a-i*o)),t[7]=l*(o*c-a*s)-h*(r*c-i*s)+f*(r*a-i*o),t[8]=h*(p*e-c*y)-f*(d*e-a*y)+g*(d*c-a*p),t[9]=-(l*(p*e-c*y)-f*(n*e-i*y)+g*(n*c-i*p)),t[10]=l*(d*e-a*y)-h*(n*e-i*y)+g*(n*a-i*d),t[11]=-(l*(d*c-a*p)-h*(n*c-i*p)+f*(n*a-i*d)),t[12]=-(h*(p*u-s*y)-f*(d*u-o*y)+g*(d*s-o*p)),t[13]=l*(p*u-s*y)-f*(n*u-r*y)+g*(n*s-r*p),t[14]=-(l*(d*u-o*y)-h*(n*u-r*y)+g*(n*o-r*d)),t[15]=l*(d*s-o*p)-h*(n*s-r*p)+f*(n*o-r*d),t}function J(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11],f=t[12],p=t[13],g=t[14],t=t[15];return(e*a-n*o)*(h*t-d*g)-(e*s-r*o)*(l*t-d*p)+(e*c-i*o)*(l*g-h*p)+(n*s-r*a)*(u*t-d*f)-(n*c-i*a)*(u*g-h*f)+(r*c-i*s)*(u*p-l*f)}function tt(t,e,n){var r=e[0],i=e[1],o=e[2],l=e[3],h=e[4],d=e[5],f=e[6],p=e[7],g=e[8],y=e[9],_=e[10],m=e[11],v=e[12],b=e[13],O=e[14],e=e[15],a=n[0],s=n[1],c=n[2],u=n[3];return t[0]=a*r+s*h+c*g+u*v,t[1]=a*i+s*d+c*y+u*b,t[2]=a*o+s*f+c*_+u*O,t[3]=a*l+s*p+c*m+u*e,a=n[4],s=n[5],c=n[6],u=n[7],t[4]=a*r+s*h+c*g+u*v,t[5]=a*i+s*d+c*y+u*b,t[6]=a*o+s*f+c*_+u*O,t[7]=a*l+s*p+c*m+u*e,a=n[8],s=n[9],c=n[10],u=n[11],t[8]=a*r+s*h+c*g+u*v,t[9]=a*i+s*d+c*y+u*b,t[10]=a*o+s*f+c*_+u*O,t[11]=a*l+s*p+c*m+u*e,a=n[12],s=n[13],c=n[14],u=n[15],t[12]=a*r+s*h+c*g+u*v,t[13]=a*i+s*d+c*y+u*b,t[14]=a*o+s*f+c*_+u*O,t[15]=a*l+s*p+c*m+u*e,t}function et(t,e,n){var r,i,o,a,s,l,h,d,f,p,g,y,c=n[0],u=n[1],n=n[2];return e===t?(t[12]=e[0]*c+e[4]*u+e[8]*n+e[12],t[13]=e[1]*c+e[5]*u+e[9]*n+e[13],t[14]=e[2]*c+e[6]*u+e[10]*n+e[14],t[15]=e[3]*c+e[7]*u+e[11]*n+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],h=e[6],d=e[7],f=e[8],p=e[9],g=e[10],y=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=h,t[7]=d,t[8]=f,t[9]=p,t[10]=g,t[11]=y,t[12]=r*c+s*u+f*n+e[12],t[13]=i*c+l*u+p*n+e[13],t[14]=o*c+h*u+g*n+e[14],t[15]=a*c+d*u+y*n+e[15]),t}function nt(t,e,n){var r=n[0],i=n[1],n=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function rt(t,e,n,r){var i,l,h,d,f,p,g,y,_,m,v,b,O,x,o,a,E,w,M,P,s=r[0],c=r[1],r=r[2],u=Math.hypot(s,c,r);return u<T.b?null:(s*=u=1/u,c*=u,r*=u,u=Math.sin(n),i=1-(n=Math.cos(n)),l=e[0],h=e[1],d=e[2],f=e[3],p=e[4],g=e[5],y=e[6],_=e[7],m=e[8],v=e[9],b=e[10],O=e[11],o=s*c*i-r*u,a=c*c*i+n,E=r*c*i+s*u,w=s*r*i+c*u,M=c*r*i-s*u,P=r*r*i+n,t[0]=l*(n=s*s*i+n)+p*(x=c*s*i+r*u)+m*(r=r*s*i-c*u),t[1]=h*n+g*x+v*r,t[2]=d*n+y*x+b*r,t[3]=f*n+_*x+O*r,t[4]=l*o+p*a+m*E,t[5]=h*o+g*a+v*E,t[6]=d*o+y*a+b*E,t[7]=f*o+_*a+O*E,t[8]=l*w+p*M+m*P,t[9]=h*w+g*M+v*P,t[10]=d*w+y*M+b*P,t[11]=f*w+_*M+O*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function it(t,e,n){var r=Math.sin(n),n=Math.cos(n),i=e[4],o=e[5],a=e[6],s=e[7],c=e[8],u=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*n+c*r,t[5]=o*n+u*r,t[6]=a*n+l*r,t[7]=s*n+h*r,t[8]=c*n-i*r,t[9]=u*n-o*r,t[10]=l*n-a*r,t[11]=h*n-s*r,t}function ot(t,e,n){var r=Math.sin(n),n=Math.cos(n),i=e[0],o=e[1],a=e[2],s=e[3],c=e[8],u=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*n-c*r,t[1]=o*n-u*r,t[2]=a*n-l*r,t[3]=s*n-h*r,t[8]=i*r+c*n,t[9]=o*r+u*n,t[10]=a*r+l*n,t[11]=s*r+h*n,t}function at(t,e,n){var r=Math.sin(n),n=Math.cos(n),i=e[0],o=e[1],a=e[2],s=e[3],c=e[4],u=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*n+c*r,t[1]=o*n+u*r,t[2]=a*n+l*r,t[3]=s*n+h*r,t[4]=c*n-i*r,t[5]=u*n-o*r,t[6]=l*n-a*r,t[7]=h*n-s*r,t}function st(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function ct(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ut(t,e,n){var r,i=n[0],o=n[1],n=n[2],a=Math.hypot(i,o,n);return a<T.b?null:(i*=a=1/a,o*=a,n*=a,a=Math.sin(e),r=1-(e=Math.cos(e)),t[0]=i*i*r+e,t[1]=o*i*r+n*a,t[2]=n*i*r-o*a,t[3]=0,t[4]=i*o*r-n*a,t[5]=o*o*r+e,t[6]=n*o*r+i*a,t[7]=0,t[8]=i*n*r+o*a,t[9]=o*n*r-i*a,t[10]=n*n*r+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function lt(t,e){var n=Math.sin(e),e=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ht(t,e){var n=Math.sin(e),e=Math.cos(e);return t[0]=e,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function dt(t,e){var n=Math.sin(e),e=Math.cos(e);return t[0]=e,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ft(t,e,n){var r=e[0],i=e[1],o=e[2],e=e[3],a=r+r,s=i+i,c=o+o,u=r*a,l=r*s,r=r*c,h=i*s,i=i*c,o=o*c,a=e*a,s=e*s,e=e*c;return t[0]=1-(h+o),t[1]=l+e,t[2]=r-s,t[3]=0,t[4]=l-e,t[5]=1-(u+o),t[6]=i+a,t[7]=0,t[8]=r+s,t[9]=i-a,t[10]=1-(u+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function pt(l,t){var e=new T.a(3),n=-t[0],r=-t[1],i=-t[2],o=t[3],a=t[4],s=t[5],c=t[6],u=t[7],h=n*n+r*r+i*i+o*o;return 0<h?(e[0]=2*(a*o+u*n+s*i-c*r)/h,e[1]=2*(s*o+u*r+c*n-a*i)/h,e[2]=2*(c*o+u*i+a*r-s*n)/h):(e[0]=2*(a*o+u*n+s*i-c*r),e[1]=2*(s*o+u*r+c*n-a*i),e[2]=2*(c*o+u*i+a*r-s*n)),ft(l,t,e),l}function gt(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function yt(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],c=e[8],u=e[9],e=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(c,u,e),t}function _t(t,e){var n=new T.a(3),r=(yt(n,e),1/n[0]),i=1/n[1],n=1/n[2],o=e[0]*r,a=e[1]*i,s=e[2]*n,l=e[4]*r,c=e[5]*i,h=e[6]*n,r=e[8]*r,i=e[9]*i,e=e[10]*n,n=o+c+e,u=0;return 0<n?(u=2*Math.sqrt(1+n),t[3]=.25*u,t[0]=(h-i)/u,t[1]=(r-s)/u,t[2]=(a-l)/u):c<o&&e<o?(u=2*Math.sqrt(1+o-c-e),t[3]=(h-i)/u,t[0]=.25*u,t[1]=(a+l)/u,t[2]=(r+s)/u):e<c?(u=2*Math.sqrt(1+c-o-e),t[3]=(r-s)/u,t[0]=(a+l)/u,t[1]=.25*u,t[2]=(h+i)/u):(u=2*Math.sqrt(1+e-o-c),t[3]=(a-l)/u,t[0]=(r+s)/u,t[1]=(h+i)/u,t[2]=.25*u),t}function mt(t,e,n,r){var i=e[0],o=e[1],a=e[2],e=e[3],s=i+i,c=o+o,u=a+a,l=i*s,h=i*c,i=i*u,d=o*c,o=o*u,a=a*u,s=e*s,c=e*c,e=e*u,u=r[0],f=r[1],r=r[2];return t[0]=(1-(d+a))*u,t[1]=(h+e)*u,t[2]=(i-c)*u,t[3]=0,t[4]=(h-e)*f,t[5]=(1-(l+a))*f,t[6]=(o+s)*f,t[7]=0,t[8]=(i+c)*r,t[9]=(o-s)*r,t[10]=(1-(l+d))*r,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function vt(t,e,l,n,r){var i=e[0],o=e[1],a=e[2],e=e[3],h=i+i,s=o+o,c=a+a,d=i*h,f=i*s,i=i*c,p=o*s,o=o*c,a=a*c,h=e*h,s=e*s,e=e*c,c=n[0],u=n[1],n=n[2],g=r[0],y=r[1],r=r[2],_=(1-(p+a))*c,m=(f+e)*c,c=(i-s)*c,f=(f-e)*u,e=(1-(d+a))*u,a=(o+h)*u,u=(i+s)*n,i=(o-h)*n,s=(1-(d+p))*n;return t[0]=_,t[1]=m,t[2]=c,t[3]=0,t[4]=f,t[5]=e,t[6]=a,t[7]=0,t[8]=u,t[9]=i,t[10]=s,t[11]=0,t[12]=l[0]+g-(_*g+f*y+u*r),t[13]=l[1]+y-(m*g+e*y+i*r),t[14]=l[2]+r-(c*g+a*y+s*r),t[15]=1,t}function bt(t,e){var n=e[0],r=e[1],i=e[2],e=e[3],o=n+n,a=r+r,s=i+i,n=n*o,c=r*o,r=r*a,u=i*o,l=i*a,i=i*s,o=e*o,a=e*a,e=e*s;return t[0]=1-r-i,t[1]=c+e,t[2]=u-a,t[3]=0,t[4]=c-e,t[5]=1-n-i,t[6]=l+o,t[7]=0,t[8]=u+a,t[9]=l-o,t[10]=1-n-r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ot(t,e,n,r,i,o,a){var s=1/(n-e),c=1/(i-r),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*c,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}function xt(t,e,n,r,i){e=1/Math.tan(e/2);return t[0]=e/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(n=1/(r-i)),t[14]=2*i*r*n):(t[10]=-1,t[14]=-2*r),t}var Et=xt;function wt(t,e,n,r,i){e=1/Math.tan(e/2);return t[0]=e/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=i*(n=1/(r-i)),t[14]=i*r*n):(t[10]=-1,t[14]=-r),t}function Mt(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),e=Math.tan(e.rightDegrees*Math.PI/180),s=2/(a+e),c=2/(i+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-e)*s*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Pt(t,e,n,r,i,o,a){var s=1/(e-n),c=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*c,t[14]=(a+o)*u,t[15]=1,t}var Ct=Pt;function At(t,e,n,r,i,o,a){var s=1/(e-n),c=1/(r-i),a=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*c,t[14]=o*a,t[15]=1,t}function St(t,e,n,r){var i,l,h,o,d=e[0],f=e[1],e=e[2],a=r[0],s=r[1],r=r[2],c=n[0],u=n[1],n=n[2];return Math.abs(d-c)<T.b&&Math.abs(f-u)<T.b&&Math.abs(e-n)<T.b?H(t):(n=e-n,i=s*(n*=o=1/Math.hypot(c=d-c,u=f-u,n))-r*(u*=o),r=r*(c*=o)-a*n,a=a*u-s*c,(o=Math.hypot(i,r,a))?(i*=o=1/o,r*=o,a*=o):a=r=i=0,s=u*a-n*r,l=n*i-c*a,h=c*r-u*i,(o=Math.hypot(s,l,h))?(s*=o=1/o,l*=o,h*=o):h=l=s=0,t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=r,t[5]=l,t[6]=u,t[7]=0,t[8]=a,t[9]=h,t[10]=n,t[11]=0,t[12]=-(i*d+r*f+a*e),t[13]=-(s*d+l*f+h*e),t[14]=-(c*d+u*f+n*e),t[15]=1,t)}function jt(t,e,n,r){var i=e[0],l=e[1],e=e[2],o=r[0],h=r[1],r=r[2],a=i-n[0],s=l-n[1],n=e-n[2],c=a*a+s*s+n*n,u=(0<c&&(a*=c=1/Math.sqrt(c),s*=c,n*=c),h*n-r*s),r=r*a-o*n,o=o*s-h*a;return 0<(c=u*u+r*r+o*o)&&(u*=c=1/Math.sqrt(c),r*=c,o*=c),t[0]=u,t[1]=r,t[2]=o,t[3]=0,t[4]=s*o-n*r,t[5]=n*u-a*o,t[6]=a*r-s*u,t[7]=0,t[8]=a,t[9]=s,t[10]=n,t[11]=0,t[12]=i,t[13]=l,t[14]=e,t[15]=1,t}function Dt(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Tt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function It(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function kt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Lt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Rt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Bt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Nt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],g=t[13],y=t[14],t=t[15],_=e[0],m=e[1],v=e[2],b=e[3],O=e[4],x=e[5],E=e[6],w=e[7],M=e[8],P=e[9],C=e[10],A=e[11],S=e[12],j=e[13],D=e[14],e=e[15];return Math.abs(n-_)<=T.b*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(r-m)<=T.b*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(i-v)<=T.b*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(o-b)<=T.b*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-O)<=T.b*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(s-x)<=T.b*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(c-E)<=T.b*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(u-w)<=T.b*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(l-M)<=T.b*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(h-P)<=T.b*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(d-C)<=T.b*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(f-A)<=T.b*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(p-S)<=T.b*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(g-j)<=T.b*Math.max(1,Math.abs(g),Math.abs(j))&&Math.abs(y-D)<=T.b*Math.max(1,Math.abs(y),Math.abs(D))&&Math.abs(t-e)<=T.b*Math.max(1,Math.abs(t),Math.abs(e))}var Ft=tt,Ut=kt,o=t(79);function Wt(){var t=new T.a(4);return T.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function zt(t){var e=new T.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Gt(t,e,n,r){var i=new T.a(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function $t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Kt(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Vt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Xt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Yt(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Ht(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function qt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Zt(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Qt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Jt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function te(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function ee(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function ne(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function re(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],e=e[3]-t[3];return Math.hypot(n,r,i,e)}function ie(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],e=e[3]-t[3];return n*n+r*r+i*i+e*e}function oe(t){var e=t[0],n=t[1],r=t[2],t=t[3];return Math.hypot(e,n,r,t)}function ae(t){var e=t[0],n=t[1],r=t[2],t=t[3];return e*e+n*n+r*r+t*t}function se(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function ce(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function ue(t,e){var n=e[0],r=e[1],i=e[2],e=e[3],o=n*n+r*r+i*i+e*e;return 0<o&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=e*o,t}function le(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function he(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],l=n[1]*r[3]-n[3]*r[1],n=n[2]*r[3]-n[3]*r[2],r=e[0],c=e[1],u=e[2],e=e[3];return t[0]=c*n-u*l+e*s,t[1]=-r*n+u*a-e*o,t[2]=r*l-c*a+e*i,t[3]=-r*s+c*o-u*i,t}function de(t,e,n,r){var i=e[0],o=e[1],a=e[2],e=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=e+r*(n[3]-e),t}function fe(t,e){var n,r,i,o,a,s;for(e=e||1;1<=(a=(n=2*T.c()-1)*n+(r=2*T.c()-1)*r););for(;1<=(s=(i=2*T.c()-1)*i+(o=2*T.c()-1)*o););var c=Math.sqrt((1-a)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*i*c,t[3]=e*o*c,t}function pe(t,e,n){var r=e[0],i=e[1],o=e[2],e=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*e,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*e,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*e,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*e,t}function ge(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],c=n[2],n=n[3],u=n*r+s*o-c*i,l=n*i+c*r-a*o,h=n*o+a*i-s*r,r=-a*r-s*i-c*o;return t[0]=u*n+r*-a+l*-c-h*-s,t[1]=l*n+r*-s+h*-a-u*-c,t[2]=h*n+r*-c+u*-s-l*-a,t[3]=e[3],t}function ye(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function _e(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function me(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function ve(t,e){var n=t[0],r=t[1],i=t[2],t=t[3],o=e[0],a=e[1],s=e[2],e=e[3];return Math.abs(n-o)<=T.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=T.b*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=T.b*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(t-e)<=T.b*Math.max(1,Math.abs(t),Math.abs(e))}var c,be=Xt,Oe=Yt,xe=Ht,Ee=re,we=ie,Me=oe,Pe=ae,Ce=(c=Wt(),function(t,e,n,r,i,o){var a,s;for(e=e||4,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)c[0]=t[a],c[1]=t[a+1],c[2]=t[a+2],c[3]=t[a+3],i(c,c,o),t[a]=c[0],t[a+1]=c[1],t[a+2]=c[2],t[a+3]=c[3];return t});function Ae(){var t=new T.a(4);return T.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Se(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function je(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function De(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>T.b?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Te(t,e){t=an(t,e);return Math.acos(2*t*t-1)}function Ie(t,e,n){var r=e[0],i=e[1],o=e[2],e=e[3],a=n[0],s=n[1],c=n[2],n=n[3];return t[0]=r*n+e*a+i*c-o*s,t[1]=i*n+e*s+o*a-r*c,t[2]=o*n+e*c+r*s-i*a,t[3]=e*n-r*a-i*s-o*c,t}function ke(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],e=e[3],a=Math.sin(n),n=Math.cos(n);return t[0]=r*n+e*a,t[1]=i*n+o*a,t[2]=o*n-i*a,t[3]=e*n-r*a,t}function Le(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],e=e[3],a=Math.sin(n),n=Math.cos(n);return t[0]=r*n-o*a,t[1]=i*n+e*a,t[2]=o*n+r*a,t[3]=e*n-i*a,t}function Re(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],e=e[3],a=Math.sin(n),n=Math.cos(n);return t[0]=r*n+i*a,t[1]=i*n-r*a,t[2]=o*n+e*a,t[3]=e*n-o*a,t}function Be(t,e){var n=e[0],r=e[1],e=e[2];return t[0]=n,t[1]=r,t[2]=e,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-e*e)),t}function Ne(t,e){var n=e[0],r=e[1],i=e[2],e=e[3],o=Math.sqrt(n*n+r*r+i*i),e=Math.exp(e),a=0<o?e*Math.sin(o)/o:0;return t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=e*Math.cos(o),t}function Fe(t,e){var n=e[0],r=e[1],i=e[2],e=e[3],o=Math.sqrt(n*n+r*r+i*i),o=0<o?Math.atan2(o,e)/o:0;return t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=.5*Math.log(n*n+r*r+i*i+e*e),t}function Ue(t,e,n){return Fe(t,e),on(t,t,n),Ne(t,t),t}function We(t,e,n,r){var i,o,a,l=e[0],h=e[1],d=e[2],e=e[3],s=n[0],c=n[1],u=n[2],n=n[3];return(a=l*s+h*c+d*u+e*n)<0&&(a=-a,s=-s,c=-c,u=-u,n=-n),a=1-a>T.b?(a=Math.acos(a),i=Math.sin(a),o=Math.sin((1-r)*a)/i,Math.sin(r*a)/i):(o=1-r,r),t[0]=o*l+a*s,t[1]=o*h+a*c,t[2]=o*d+a*u,t[3]=o*e+a*n,t}function ze(t){var e=T.c(),n=T.c(),r=T.c(),i=Math.sqrt(1-e),e=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=e*Math.sin(2*Math.PI*r),t[3]=e*Math.cos(2*Math.PI*r),t}function Ge(t,e){var n=e[0],r=e[1],i=e[2],e=e[3],o=n*n+r*r+i*i+e*e,o=o?1/o:0;return t[0]=-n*o,t[1]=-r*o,t[2]=-i*o,t[3]=e*o,t}function $e(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Ke(t,e){var n,r,i,o=e[0]+e[4]+e[8];return 0<o?(i=Math.sqrt(o+1),t[3]=.5*i,t[0]=(e[5]-e[7])*(i=.5/i),t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i):(e[4]>e[o=0]&&(o=1),n=((o=e[8]>e[3*o+o]?2:o)+1)%3,r=(o+2)%3,i=Math.sqrt(e[3*o+o]-e[3*n+n]-e[3*r+r]+1),t[o]=.5*i,t[3]=(e[3*n+r]-e[3*r+n])*(i=.5/i),t[n]=(e[3*n+o]+e[3*o+n])*i,t[r]=(e[3*r+o]+e[3*o+r])*i),t}function Ve(t,e,n,r){var i=.5*Math.PI/180,i=(e*=i,n*=i,r*=i,Math.sin(e)),e=Math.cos(e),o=Math.sin(n),n=Math.cos(n),a=Math.sin(r),r=Math.cos(r);return t[0]=i*n*r-e*o*a,t[1]=e*o*r+i*n*a,t[2]=e*n*a-i*o*r,t[3]=e*n*r+i*o*a,t}function Xe(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var a,Ye,He,qe,Ze,s,Qe=zt,Je=Gt,tn=$t,en=Kt,nn=Vt,rn=Ie,on=ee,an=le,sn=de,cn=oe,un=cn,ln=ae,hn=ln,dn=ue,fn=me,pn=ve,gn=(a=o.create(),Ye=o.fromValues(1,0,0),He=o.fromValues(0,1,0),function(t,e,n){var r=o.dot(e,n);return r<-.999999?(o.cross(a,Ye,e),o.len(a)<1e-6&&o.cross(a,He,e),o.normalize(a,a),je(t,a,Math.PI),t):.999999<r?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o.cross(a,e,n),t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=1+r,dn(t,t))}),yn=(qe=Ae(),Ze=Ae(),function(t,e,n,r,i,o){return We(qe,e,i,o),We(Ze,n,r,o),We(t,qe,Ze,2*o*(1-o)),t}),_n=(s=h(),function(t,e,n,r){return s[0]=n[0],s[3]=n[1],s[6]=n[2],s[1]=r[0],s[4]=r[1],s[7]=r[2],s[2]=-e[0],s[5]=-e[1],s[8]=-e[2],dn(t,Ke(t,s))}),mn=t(138)},function(l,t,e){"use strict";e.d(t,"AST_TOKEN_TYPES",function(){return a}),e.d(t,"STORAGE_CLASS",function(){return s}),e.d(t,"Target",function(){return c}),e.d(t,"DefineValuePlaceholder",function(){return g}),e(313),e(52),e(196),e(208),e(183),e(184),e(185),e(186),e(187),e(188),e(126),e(190),e(191),e(192),e(193);var n=e(182),h=(e.d(t,"createEntity",function(){return n.b}),e(26)),d=(e.d(t,"IDENTIFIER",function(){return h.a}),e(148)),f=(e.d(t,"createWorldContainer",function(){return d.a}),e(322)),p=(e.d(t,"generateAABBFromVertices",function(){return f.a}),e(323)),r=(e.d(t,"isSafari",function(){return p.a}),e(384),e(386)),i=(e.d(t,"AABB",function(){return r.a}),e.d(t,"Frustum",function(){return r.b}),e(166)),o=(e.o(i,"gl")&&e.d(t,"gl",function(){return i.gl}),e(335));e.o(o,"gl")&&e.d(t,"gl",function(){return o.gl});var a,s,c,u=e(336),g=(e.o(u,"gl")&&e.d(t,"gl",function(){return u.gl}),e.o(i,"gl")&&e.d(t,"gl",function(){return i.gl}),(e=a=a||{}).Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]",0,(t=s=s||{}).Input="Input",t.Output="Output",t.Uniform="Uniform",t.Workgroup="Workgroup",t.UniformConstant="UniformConstant",t.Image="Image",t.StorageBuffer="StorageBuffer",t.Private="Private",t.Function="Function",(e=c=c||{}).GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL","__DefineValuePlaceholder__")},function(t,e){t.exports=window.React},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return c});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function s(t,a,s,c){return new(s=s||Promise)(function(n,e){function r(t){try{o(c.next(t))}catch(t){e(t)}}function i(t){try{o(c.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,i)}o((c=c.apply(t,a||[])).next())})}function c(r,i){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){c=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){c.label=e[1];break}if(6===e[0]&&c.label<s[1]){c.label=s[1],s=e;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(e);break}s[2]&&c.ops.pop(),c.trys.pop();continue}e=i.call(r,c)}catch(t){e=[6,t],a=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}}},function(l,t,e){"use strict";e.d(t,"d",function(){return r}),e.d(t,"l",function(){return i}),e.d(t,"c",function(){return u}),e.d(t,"a",function(){return h}),e.d(t,"k",function(){return d}),e.d(t,"j",function(){return f}),e.d(t,"i",function(){return p}),e.d(t,"h",function(){return g}),e.d(t,"g",function(){return y}),e.d(t,"b",function(){return _}),e.d(t,"e",function(){return m});var o=e(3),a=e(0),s=e(60),c=e(2),n=e(89);function r(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,n=n.seriesField;return!1===r?e.legend(!1):(i||n)&&e.legend(i||n,r),t}function i(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t}function u(t){var e=t.chart,n=t.options.interactions;return Object(a.each)(n,function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})}),t}function h(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),Object(a.each)(e.geometries,function(t){t.animate(n)}),t}function d(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t}function f(t){var e=t.chart,n=t.options.state;return n&&Object(a.each)(e.geometries,function(t){t.state(n)}),t}function p(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t}function g(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t}function y(i,o){return function(t){var e=t.chart,n=t.options,r={};return Object(a.each)(i,function(t,e){r[e]=Object(c.t)(t,s.a)}),r=Object(c.c)({},o,n.meta,r),e.scale(r),t}}function _(i){return function(t){var e=t.chart,n=t.options,r=e.getController("annotation");return Object(a.each)(Object(o.d)(n.annotations||[],i||[]),function(t){r.annotation(t)}),t}}function m(t){var e=t.chart,n=t.options,r=n.yAxis,n=n.limitInPlot,i=n;return Object(a.isObject)(r)&&Object(a.isNil)(n)&&(i=!!Object.values(Object(c.t)(r,["min","max","minLimit","maxLimit"])).some(function(t){return!Object(a.isNil)(t)})),e.limitInPlot=i,t}e.d(t,"f",function(){return n.a})},function(t,E,w){!function(b,O){var x;!function(){var Io="Expected a function",zo="__lodash_placeholder__",Go=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$o="[object Arguments]",Ko="[object Array]",Vo="[object Boolean]",Xo="[object Date]",Yo="[object Error]",Ho="[object Function]",qo="[object GeneratorFunction]",ko="[object Map]",Zo="[object Number]",Qo="[object Object]",Jo="[object RegExp]",ta="[object Set]",ea="[object String]",na="[object Symbol]",ra="[object WeakMap]",ia="[object ArrayBuffer]",oa="[object DataView]",aa="[object Float32Array]",sa="[object Float64Array]",ca="[object Int8Array]",ua="[object Int16Array]",la="[object Int32Array]",ha="[object Uint8Array]",da="[object Uint16Array]",fa="[object Uint32Array]",pa=/\b__p \+= '';/g,ga=/\b(__p \+=) '' \+/g,ya=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_a=/&(?:amp|lt|gt|quot|#39);/g,ma=/[&<>"']/g,va=RegExp(_a.source),ba=RegExp(ma.source),Oa=/<%-([\s\S]+?)%>/g,xa=/<%([\s\S]+?)%>/g,Ea=/<%=([\s\S]+?)%>/g,wa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ma=/^\w*$/,Pa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ca=/[\\^$.*+?()[\]{}|]/g,Aa=RegExp(Ca.source),Sa=/^\s+/,n=/\s/,ja=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Da=/\{\n\/\* \[wrapped with (.+)\] \*/,Ta=/,? & /,Ia=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ka=/[()=,{}\[\]\/\s]/,La=/\\(\\)?/g,Ra=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ba=/\w*$/,Na=/^[-+]0x[0-9a-f]+$/i,Fa=/^0b[01]+$/i,Ua=/^\[object .+?Constructor\]$/,Wa=/^0o[0-7]+$/i,za=/^(?:0|[1-9]\d*)$/,Ga=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$a=/($^)/,Ka=/['\n\r\u2028\u2029\\]/g,e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+r+"]",o="["+e+"]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",r="[^\\ud800-\\udfff"+r+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",t="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",l="[A-Z\\xc0-\\xd6\\xd8-\\xde]",r="(?:"+a+"|"+r+")",h="(?:"+o+"|"+t+")?",h="[\\ufe0e\\ufe0f]?"+h+"(?:\\u200d(?:"+[s,c,u].join("|")+")[\\ufe0e\\ufe0f]?"+h+")*",d="(?:"+["[\\u2700-\\u27bf]",c,u].join("|")+")"+h,s="(?:"+[s+o+"?",o,c,u,"[\\ud800-\\udfff]"].join("|")+")",Va=RegExp("['’]","g"),Xa=RegExp(o,"g"),f=RegExp(t+"(?="+t+")|"+s+h,"g"),Ya=RegExp([l+"?"+a+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[i,l,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[i,l+r,"$"].join("|")+")",l+"?"+r+"+(?:['’](?:d|ll|m|re|s|t|ve))?",l+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",d].join("|"),"g"),p=RegExp("[\\u200d\\ud800-\\udfff"+e+"\\ufe0e\\ufe0f]"),Ha=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Za=-1,Lo={},Ro=(Lo[aa]=Lo[sa]=Lo[ca]=Lo[ua]=Lo[la]=Lo[ha]=Lo["[object Uint8ClampedArray]"]=Lo[da]=Lo[fa]=!0,Lo[$o]=Lo[Ko]=Lo[ia]=Lo[Vo]=Lo[oa]=Lo[Xo]=Lo[Yo]=Lo[Ho]=Lo[ko]=Lo[Zo]=Lo[Qo]=Lo[Jo]=Lo[ta]=Lo[ea]=Lo[ra]=!1,{}),g=(Ro[$o]=Ro[Ko]=Ro[ia]=Ro[oa]=Ro[Vo]=Ro[Xo]=Ro[aa]=Ro[sa]=Ro[ca]=Ro[ua]=Ro[la]=Ro[ko]=Ro[Zo]=Ro[Qo]=Ro[Jo]=Ro[ta]=Ro[ea]=Ro[na]=Ro[ha]=Ro["[object Uint8ClampedArray]"]=Ro[da]=Ro[fa]=!0,Ro[Yo]=Ro[Ho]=Ro[ra]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),Qa=parseFloat,Ja=parseInt,c="object"==typeof b&&b&&b.Object===Object&&b,u="object"==typeof self&&self&&self.Object===Object&&self,Bo=c||u||Function("return this")(),o=E&&!E.nodeType&&E,y=o&&"object"==typeof O&&O&&!O.nodeType&&O,ts=y&&y.exports===o,_=ts&&c.process,t=function(){try{return y&&y.require&&y.require("util").types||_&&_.binding&&_.binding("util")}catch(t){}}(),es=t&&t.isArrayBuffer,ns=t&&t.isDate,rs=t&&t.isMap,is=t&&t.isRegExp,os=t&&t.isSet,as=t&&t.isTypedArray;function No(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ss(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Fo(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function cs(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function us(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function ls(t,e){return!(null==t||!t.length)&&-1<ms(t,e,0)}function hs(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Uo(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function ds(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fs(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ps(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function gs(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var m=xs("length");function ys(t,r,e){var i;return e(t,function(t,e,n){if(r(t,e,n))return i=e,!1}),i}function _s(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ms(t,e,n){if(e!=e)return _s(t,bs,n);for(var r=t,i=e,o=n-1,a=r.length;++o<a;)if(r[o]===i)return o;return-1}function vs(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function bs(t){return t!=t}function Os(t,e){var n=null==t?0:t.length;return n?ws(t,e)/n:NaN}function xs(e){return function(t){return null==t?void 0:t[e]}}function v(e){return function(t){return null==e?void 0:e[t]}}function Es(t,r,i,o,e){return e(t,function(t,e,n){i=o?(o=!1,t):r(i,t,e,n)}),i}function ws(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ms(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ps(t){return t&&t.slice(0,Ws(t)+1).replace(Sa,"")}function Wo(e){return function(t){return e(t)}}function Cs(e,t){return Uo(t,function(t){return e[t]})}function As(t,e){return t.has(e)}function Ss(t,e){for(var n=-1,r=t.length;++n<r&&-1<ms(e,t[n],0););return n}function js(t,e){for(var n=t.length;n--&&-1<ms(e,t[n],0););return n}var Ds=v({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ts=v({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Is(t){return"\\"+g[t]}function ks(t){return p.test(t)}function Ls(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function Rs(e,n){return function(t){return e(n(t))}}function Bs(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==zo||(t[n]=zo,o[i++]=n)}return o}function Ns(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Fs(t){return(ks(t)?function(t){for(var e=f.lastIndex=0;f.test(t);)++e;return e}:m)(t)}function Us(t){return ks(t)?t.match(f)||[]:t.split("")}function Ws(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}var zs=v({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Gs=function e(t){var S=(t=null==t?Bo:Gs.defaults(Bo.Object(),t,Gs.pick(Bo,qa))).Array,n=t.Date,d=t.Error,f=t.Function,i=t.Math,_=t.Object,y=t.RegExp,l=t.String,j=t.TypeError,o=S.prototype,r=f.prototype,m=_.prototype,c=t["__core-js_shared__"],u=r.toString,C=m.hasOwnProperty,v=0,b=(r=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",O=m.toString,x=u.call(_),E=Bo._,w=y("^"+u.call(C).replace(Ca,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),r=ts?t.Buffer:void 0,M=t.Symbol,D=t.Uint8Array,T=r?r.allocUnsafe:void 0,I=Rs(_.getPrototypeOf,_),k=_.create,L=m.propertyIsEnumerable,R=o.splice,B=M?M.isConcatSpreadable:void 0,N=M?M.iterator:void 0,F=M?M.toStringTag:void 0,U=function(){try{var t=Dn(_,"defineProperty");return t({},"",{}),t}catch(t){}}(),W=t.clearTimeout!==Bo.clearTimeout&&t.clearTimeout,z=n&&n.now!==Bo.Date.now&&n.now,G=t.setTimeout!==Bo.setTimeout&&t.setTimeout,$=i.ceil,K=i.floor,V=_.getOwnPropertySymbols,r=r?r.isBuffer:void 0,X=t.isFinite,Y=o.join,H=Rs(_.keys,_),q=i.max,Z=i.min,Q=n.now,J=t.parseInt,tt=i.random,et=o.reverse,n=Dn(t,"DataView"),nt=Dn(t,"Map"),rt=Dn(t,"Promise"),it=Dn(t,"Set"),t=Dn(t,"WeakMap"),ot=Dn(_,"create"),at=t&&new t,st={},ct=ir(n),ut=ir(nt),lt=ir(rt),ht=ir(it),dt=ir(t),M=M?M.prototype:void 0,ft=M?M.valueOf:void 0,pt=M?M.toString:void 0;function p(t){if(li(t)&&!A(t)&&!(t instanceof g)){if(t instanceof mt)return t;if(C.call(t,"__wrapped__"))return or(t)}return new mt(t)}var gt=function(t){if(!ui(t))return{};if(k)return k(t);yt.prototype=t;t=new yt;return yt.prototype=void 0,t};function yt(){}function _t(){}function mt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function g(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function vt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ot;++e<n;)this.add(t[e])}function Et(t){t=this.__data__=new bt(t);this.size=t.size}function wt(t,e){var n,r=A(t),i=!r&&ti(t),o=!r&&!i&&ii(t),a=!r&&!i&&!o&&mi(t),s=r||i||o||a,c=s?Ms(t.length,l):[],u=c.length;for(n in t)!e&&!C.call(t,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Nn(n,u))||c.push(n);return c}function Mt(t){var e=t.length;return e?t[ve(0,e-1)]:void 0}function Pt(t,e,n){(void 0===n||Zr(t[e],n))&&(void 0!==n||e in t)||Dt(t,e,n)}function Ct(t,e,n){var r=t[e];C.call(t,e)&&Zr(r,n)&&(void 0!==n||e in t)||Dt(t,e,n)}function At(t,e){for(var n=t.length;n--;)if(Zr(t[n][0],e))return n;return-1}function St(t,r,i,o){return Nt(t,function(t,e,n){r(o,t,i(t),n)}),o}function jt(t,e){return t&&qe(e,Ni(e),t)}function Dt(t,e,n){"__proto__"==e&&U?U(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Tt(t,e){for(var n=-1,r=e.length,i=S(r),o=null==t;++n<r;)i[n]=o?void 0:Ii(t,e[n]);return i}function It(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=e<=t?t:e)),t}function kt(n,r,i,l,h,o){var a,d=1&r,f=2&r,p=4&r;if(void 0!==(a=i?h?i(n,l,h,o):i(n):a))return a;if(!ui(n))return n;var t,e,s,l=A(n);if(l){if(u=(e=n).length,s=new e.constructor(u),u&&"string"==typeof e[0]&&C.call(e,"index")&&(s.index=e.index,s.input=e.input),a=s,!d)return He(n,a)}else{var c=kn(n),u=c==Ho||c==qo;if(ii(n))return Ge(n,d);if(c==Qo||c==$o||u&&!h){if(a=f||u?{}:Rn(n),!d)return f?(e=n,t=(s=a)&&qe(n,Fi(n),s),qe(e,In(e),t)):(g=jt(a,t=n),qe(t,Tn(t),g))}else{if(!Ro[c])return h?n:{};a=function(t,e){var n,r,i=t.constructor;switch(c){case ia:return $e(t);case Vo:case Xo:return new i(+t);case oa:return n=t,r=e?$e(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.byteLength);case aa:case sa:case ca:case ua:case la:case ha:case"[object Uint8ClampedArray]":case da:case fa:return Ke(t,e);case ko:return new i;case Zo:case ea:return new i(t);case Jo:return(n=new(r=t).constructor(r.source,Ba.exec(r))).lastIndex=r.lastIndex,n;case ta:return new i;case na:return ft?_(ft.call(t)):{}}}(n,d)}}var g=(o=o||new Et).get(n);if(g)return g;o.set(n,a),gi(n)?n.forEach(function(t){a.add(kt(t,r,i,t,n,o))}):hi(n)&&n.forEach(function(t,e){a.set(e,kt(t,r,i,e,n,o))});var y=l?void 0:(p?f?Mn:wn:f?Fi:Ni)(n);return Fo(y||n,function(t,e){y&&(t=n[e=t]),Ct(a,e,kt(t,r,i,e,n,o))}),a}function Lt(t,e,n){var r=n.length;if(null==t)return!r;for(t=_(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Rt(t,e,n){if("function"!=typeof t)throw new j(Io);return qn(function(){t.apply(void 0,n)},e)}function Bt(t,e,n,r){var i=-1,o=ls,a=!0,l=t.length,s=[],h=e.length;if(!l)return s;n&&(e=Uo(e,Wo(n))),r?(o=hs,a=!1):200<=e.length&&(o=As,a=!1,e=new xt(e));t:for(;++i<l;){var c=t[i],u=null==n?c:n(c),c=r||0!==c?c:0;if(a&&u==u){for(var d=h;d--;)if(e[d]===u)continue t;s.push(c)}else o(e,u,r)||s.push(c)}return s}p.templateSettings={escape:Oa,evaluate:xa,interpolate:Ea,variable:"",imports:{_:p}},(p.prototype=_t.prototype).constructor=p,(mt.prototype=gt(_t.prototype)).constructor=mt,(g.prototype=gt(_t.prototype)).constructor=g,vt.prototype.clear=function(){this.__data__=ot?ot(null):{},this.size=0},vt.prototype.delete=function(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t},vt.prototype.get=function(t){var e,n=this.__data__;return ot?"__lodash_hash_undefined__"===(e=n[t])?void 0:e:C.call(n,t)?n[t]:void 0},vt.prototype.has=function(t){var e=this.__data__;return ot?void 0!==e[t]:C.call(e,t)},vt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ot&&void 0===e?"__lodash_hash_undefined__":e,this},bt.prototype.clear=function(){this.__data__=[],this.size=0},bt.prototype.delete=function(t){var e=this.__data__,t=At(e,t);return!(t<0||(t==e.length-1?e.pop():R.call(e,t,1),--this.size,0))},bt.prototype.get=function(t){var e=this.__data__,t=At(e,t);return t<0?void 0:e[t][1]},bt.prototype.has=function(t){return-1<At(this.__data__,t)},bt.prototype.set=function(t,e){var n=this.__data__,r=At(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Ot.prototype.clear=function(){this.size=0,this.__data__={hash:new vt,map:new(nt||bt),string:new vt}},Ot.prototype.delete=function(t){t=Sn(this,t).delete(t);return this.size-=t?1:0,t},Ot.prototype.get=function(t){return Sn(this,t).get(t)},Ot.prototype.has=function(t){return Sn(this,t).has(t)},Ot.prototype.set=function(t,e){var n=Sn(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},xt.prototype.add=xt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},xt.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.clear=function(){this.__data__=new bt,this.size=0},Et.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var n=this.__data__;if(n instanceof bt){var r=n.__data__;if(!nt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ot(r)}return n.set(t,e),this.size=n.size,this};var Nt=Je(Vt),Ft=Je(Xt,!0);function Ut(t,r){var i=!0;return Nt(t,function(t,e,n){return i=!!r(t,e,n)}),i}function Wt(t,e,n){for(var r=-1,i=t.length;++r<i;){var o,a,s=t[r],c=e(s);null!=c&&(void 0===o?c==c&&!_i(c):n(c,o))&&(o=c,a=s)}return a}function zt(t,r){var i=[];return Nt(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i}function Gt(t,e,n,r,i){var o=-1,a=t.length;for(n=n||Bn,i=i||[];++o<a;){var s=t[o];0<e&&n(s)?1<e?Gt(s,e-1,n,r,i):ds(i,s):r||(i[i.length]=s)}return i}var $t=tn(),Kt=tn(!0);function Vt(t,e){return t&&$t(t,e,Ni)}function Xt(t,e){return t&&Kt(t,e,Ni)}function Yt(e,t){return us(t,function(t){return ai(e[t])})}function Ht(t,e){for(var n=0,r=(e=Fe(e,t)).length;null!=t&&n<r;)t=t[rr(e[n++])];return n&&n==r?t:void 0}function qt(t,e,n){e=e(t);return A(t)?e:ds(e,n(t))}function Zt(t){{if(null==t)return void 0===t?"[object Undefined]":"[object Null]";if(F&&F in _(t)){var e=t,n=C.call(e,F),r=e[F];try{var i=!(e[F]=void 0)}catch(e){}var o=O.call(e);return i&&(n?e[F]=r:delete e[F]),o}return O.call(t)}}function Qt(t,e){return e<t}function Jt(t,e){return null!=t&&C.call(t,e)}function te(t,e){return null!=t&&e in _(t)}function ee(t,e,n){for(var l=n?hs:ls,h=t[0].length,r=t.length,i=r,d=S(r),f=1/0,o=[];i--;){var a=t[i];i&&e&&(a=Uo(a,Wo(e))),f=Z(a.length,f),d[i]=!n&&(e||120<=h&&120<=a.length)?new xt(i&&a):void 0}var a=t[0],p=-1,s=d[0];t:for(;++p<h&&o.length<f;){var c=a[p],u=e?e(c):c,c=n||0!==c?c:0;if(!(s?As(s,u):l(o,u,n))){for(i=r;--i;){var g=d[i];if(!(g?As(g,u):l(t[i],u,n)))continue t}s&&s.push(u),o.push(c)}}return o}function ne(t,e,n){e=null==(t=Xn(t,e=Fe(e,t)))?t:t[rr(lr(e))];return null==e?void 0:No(e,t,n)}function re(t){return li(t)&&Zt(t)==$o}function ie(t,e,n,r,i){return t===e||(null==t||null==e||!li(t)&&!li(e)?t!=t&&e!=e:function(t,e,l,h,d,n){var r=A(t),i=A(e),f=r?Ko:kn(t),i=i?Ko:kn(e),p=(f=f==$o?Qo:f)==Qo,o=(i=i==$o?Qo:i)==Qo,i=f==i;if(i&&ii(t)){if(!ii(e))return!1;p=!(r=!0)}if(i&&!p)return n=n||new Et,(r||mi(t)?xn:function(t,e,n,r,i,o){switch(f){case oa:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ia:return!(t.byteLength!=e.byteLength||!i(new D(t),new D(e)));case Vo:case Xo:case Zo:return Zr(+t,+e);case Yo:return t.name==e.name&&t.message==e.message;case Jo:case ea:return t==e+"";case ko:var a=Ls;case ta:a=a||Ns;if(t.size!=e.size&&!(1&n))return!1;var s=o.get(t);if(s)return s==e;n|=2,o.set(t,e);s=xn(a(t),a(e),n,r,i,o);return o.delete(t),s;case na:if(ft)return ft.call(t)==ft.call(e)}return!1})(t,e,l,h,d,n);if(!(1&l)){r=p&&C.call(t,"__wrapped__"),p=o&&C.call(e,"__wrapped__");if(r||p)return d(r?t.value():t,p?e.value():e,l,h,n=n||new Et)}if(i){n=n||new Et;var a=t,s=e,g=l,y=h,_=d,c=n,m=1&g,v=wn(a),b=v.length;if(b!=wn(s).length&&!m)return!1;for(var O=b;O--;){var u=v[O];if(!(m?u in s:C.call(s,u)))return!1}o=c.get(a),r=c.get(s);if(o&&r)return o==s&&r==a;for(var x=!0,E=(c.set(a,s),c.set(s,a),m);++O<b;){var w,M=a[u=v[O]],P=s[u];if(!(void 0===(w=y?m?y(P,M,u,s,a,c):y(M,P,u,a,s,c):w)?M===P||_(M,P,g,y,c):w)){x=!1;break}E=E||"constructor"==u}return!x||E||(o=a.constructor)!=(r=s.constructor)&&"constructor"in a&&"constructor"in s&&!("function"==typeof o&&o instanceof o&&"function"==typeof r&&r instanceof r)&&(x=!1),c.delete(a),c.delete(s),x}return!1}(t,e,n,r,ie,i))}function oe(t,l,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=_(t);r--;){var a=e[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){var s=(a=e[r])[0],c=t[s],h=a[1];if(o&&a[2]){if(void 0===c&&!(s in t))return!1}else{var u,d=new Et;if(!(void 0===(u=n?n(c,h,s,t,l,d):u)?ie(h,c,3,n,d):u))return!1}}return!0}function ae(t){return!(!ui(t)||b&&b in t)&&(ai(t)?w:Ua).test(ir(t))}function se(t){return"function"==typeof t?t:null==t?lo:"object"==typeof t?A(t)?de(t[0],t[1]):he(t):bo(t)}function ce(t){if(!Gn(t))return H(t);var e,n=[];for(e in _(t))C.call(t,e)&&"constructor"!=e&&n.push(e);return n}function ue(t,e){return t<e}function le(t,r){var i=-1,o=ni(t)?S(t.length):[];return Nt(t,function(t,e,n){o[++i]=r(t,e,n)}),o}function he(e){var n=jn(e);return 1==n.length&&n[0][2]?Kn(n[0][0],n[0][1]):function(t){return t===e||oe(t,e,n)}}function de(n,r){return Un(n)&&$n(r)?Kn(rr(n),r):function(t){var e=Ii(t,n);return void 0===e&&e===r?ki(t,n):ie(r,e,3)}}function fe(g,y,_,m,v){g!==y&&$t(y,function(l,t){var h,e,d,f,n,r,i,o,a,s,p,c,u;v=v||new Et,ui(l)?(u=y,d=_,f=fe,n=m,r=v,i=Yn(h=g,e=t),o=Yn(u,e),(c=r.get(o))||(c=n?n(i,o,e+"",h,u,r):void 0,(u=void 0===c)&&(s=!(a=A(o))&&ii(o),p=!a&&!s&&mi(o),c=o,a||s||p?c=A(i)?i:ri(i)?He(i):s?Ge(o,!(u=!1)):p?Ke(o,!(u=!1)):[]:fi(o)||ti(o)?ti(c=i)?c=Mi(i):ui(i)&&!ai(i)||(c=Rn(o)):u=!1),u&&(r.set(o,c),f(c,o,d,n,r),r.delete(o))),Pt(h,e,c)):(a=m?m(Yn(g,t),l,t+"",g,y,v):void 0,Pt(g,t,a=void 0===a?l:a))},Fi)}function pe(t,e){var n=t.length;if(n)return Nn(e+=e<0?n:0,n)?t[e]:void 0}function ge(t,r,d){r=r.length?Uo(r,function(e){return A(e)?function(t){return Ht(t,1===e.length?e[0]:e)}:e}):[lo];var i=-1,e=(r=Uo(r,Wo(s())),le(t,function(e,t,n){return{criteria:Uo(r,function(t){return t(e)}),index:++i,value:e}})),n=e.length;for(e.sort(function(t,e){for(var n=t,r=e,i=d,o=-1,a=n.criteria,s=r.criteria,c=a.length,l=i.length;++o<c;){var u=Ve(a[o],s[o]);if(u){if(o>=l)return u;var h=i[o];return u*("desc"==h?-1:1)}}return n.index-r.index});n--;)e[n]=e[n].value;return e}function ye(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Ht(t,a);n(s,a)&&Oe(o,Fe(a,t),s)}return o}function _e(t,e,n,r){var i=r?vs:ms,o=-1,a=e.length,s=t;for(t===e&&(e=He(e)),n&&(s=Uo(t,Wo(n)));++o<a;)for(var c=0,u=e[o],l=n?n(u):u;-1<(c=i(s,l,c,r));)s!==t&&R.call(s,c,1),R.call(t,c,1);return t}function me(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i,o=e[n];n!=r&&o===i||(Nn(i=o)?R.call(t,o,1):De(t,o))}return t}function ve(t,e){return t+K(tt()*(e-t+1))}function be(t,e){var n="";if(!t||e<1||9007199254740991<e)return n;for(;e%2&&(n+=t),(e=K(e/2))&&(t+=t),e;);return n}function a(t,e){return Zn(Vn(t,e,lo),t+"")}function Oe(t,e,n,r){if(!ui(t))return t;for(var i=-1,o=(e=Fe(e,t)).length,l=o-1,a=t;null!=a&&++i<o;){var s,c=rr(e[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;i!=l&&(s=a[c],void 0===(u=r?r(s,c,a):void 0)&&(u=ui(s)?s:Nn(e[i+1])?[]:{})),Ct(a,c,u),a=a[c]}return t}var xe=at?function(t,e){return at.set(t,e),t}:lo,M=U?function(t,e){return U(t,"toString",{configurable:!0,enumerable:!1,value:so(e),writable:!0})}:lo;function Ee(t,e,n){var r=-1,i=t.length;(n=i<n?i:n)<0&&(n+=i),i=n<(e=e<0?i<-e?0:i+e:e)?0:n-e>>>0,e>>>=0;for(var o=S(i);++r<i;)o[r]=t[r+e];return o}function we(t,r){var i;return Nt(t,function(t,e,n){return!(i=r(t,e,n))}),!!i}function Me(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!_i(a)&&(n?a<=e:a<e)?r=1+o:i=o}return i}return Pe(t,e,lo,n)}function Pe(t,e,l,n){var r=0,i=null==t?0:t.length;if(0===i)return 0;for(var h=(e=l(e))!=e,d=null===e,f=_i(e),p=void 0===e;r<i;){var o=K((r+i)/2),a=l(t[o]),s=void 0!==a,c=null===a,u=a==a,g=_i(a),u=h?n||u:p?u&&(n||s):d?u&&s&&(n||!c):f?u&&s&&!c&&(n||!g):!c&&!g&&(n?a<=e:a<e);u?r=o+1:i=o}return Z(i,4294967294)}function Ce(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a,s=t[n],c=e?e(s):s;n&&Zr(c,a)||(a=c,o[i++]=0===s?0:s)}return o}function Ae(t){return"number"==typeof t?t:_i(t)?NaN:+t}function Se(t){if("string"==typeof t)return t;if(A(t))return Uo(t,Se)+"";if(_i(t))return pt?pt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function je(t,e,n){var r=-1,i=ls,l=t.length,o=!0,a=[],s=a;if(n)o=!1,i=hs;else if(200<=l){var h=e?null:yn(t);if(h)return Ns(h);o=!1,i=As,s=new xt}else s=e?[]:a;t:for(;++r<l;){var c=t[r],u=e?e(c):c,c=n||0!==c?c:0;if(o&&u==u){for(var d=s.length;d--;)if(s[d]===u)continue t;e&&s.push(u),a.push(c)}else i(s,u,n)||(s!==a&&s.push(u),a.push(c))}return a}function De(t,e){return null==(t=Xn(t,e=Fe(e,t)))||delete t[rr(lr(e))]}function Te(t,e,n,r){return Oe(t,e,n(Ht(t,e)),r)}function Ie(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ee(t,r?0:o,r?o+1:i):Ee(t,r?o+1:0,r?i:o)}function ke(t,e){var n=t;return fs(e,function(t,e){return e.func.apply(e.thisArg,ds([t],e.args))},n=t instanceof g?t.value():n)}function Le(t,e,n){var r=t.length;if(r<2)return r?je(t[0]):[];for(var i=-1,o=S(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=Bt(o[i]||a,t[s],e,n));return je(Gt(o,1),e,n)}function Re(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function Be(t){return ri(t)?t:[]}function Ne(t){return"function"==typeof t?t:lo}function Fe(t,e){return A(t)?t:Un(t,e)?[t]:nr(h(t))}var Ue=a;function We(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&r<=n?t:Ee(t,e,n)}var ze=W||function(t){return Bo.clearTimeout(t)};function Ge(t,e){if(e)return t.slice();e=t.length,e=T?T(e):new t.constructor(e);return t.copy(e),e}function $e(t){var e=new t.constructor(t.byteLength);return new D(e).set(new D(t)),e}function Ke(t,e){e=e?$e(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Ve(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=_i(t),a=void 0!==e,s=null===e,c=e==e,u=_i(e);if(!s&&!u&&!o&&e<t||o&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}function Xe(t,e,n,l){for(var r=-1,i=t.length,o=n.length,a=-1,s=e.length,c=q(i-o,0),u=S(s+c),h=!l;++a<s;)u[a]=e[a];for(;++r<o;)(h||r<i)&&(u[n[r]]=t[r]);for(;c--;)u[a++]=t[r++];return u}function Ye(t,e,n,l){for(var r=-1,i=t.length,o=-1,a=n.length,s=-1,c=e.length,h=q(i-a,0),u=S(h+c),d=!l;++r<h;)u[r]=t[r];for(var f=r;++s<c;)u[f+s]=e[s];for(;++o<a;)(d||r<i)&&(u[f+n[o]]=t[r++]);return u}function He(t,e){var n=-1,r=t.length;for(e=e||S(r);++n<r;)e[n]=t[n];return e}function qe(t,e,n,r){var i=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var s=e[o],c=r?r(n[s],t[s],s,n,t):void 0;(i?Dt:Ct)(n,s,c=void 0===c?t[s]:c)}return n}function Ze(i,o){return function(t,e){var n=A(t)?ss:St,r=o?o():{};return n(t,i,s(e,2),r)}}function Qe(s){return a(function(t,e){var n=-1,r=e.length,i=1<r?e[r-1]:void 0,o=2<r?e[2]:void 0,i=3<s.length&&"function"==typeof i?(r--,i):void 0;for(o&&Fn(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=_(t);++n<r;){var a=e[n];a&&s(t,a,n,i)}return t})}function Je(o,a){return function(t,e){if(null==t)return t;if(!ni(t))return o(t,e);for(var n=t.length,r=a?n:-1,i=_(t);(a?r--:++r<n)&&!1!==e(i[r],r,i););return t}}function tn(c){return function(t,e,n){for(var r=-1,i=_(t),o=n(t),a=o.length;a--;){var s=o[c?a:++r];if(!1===e(i[s],s,i))break}return t}}function en(r){return function(t){var e=ks(t=h(t))?Us(t):void 0,n=e?e[0]:t.charAt(0),e=e?We(e,1).join(""):t.slice(1);return n[r]()+e}}function nn(e){return function(t){return fs(io(qi(t).replace(Va,"")),e,"")}}function rn(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=gt(r.prototype),n=r.apply(e,t);return ui(n)?n:e}}function on(o){return function(t,e,n){var r,i=_(t),e=(ni(t)||(r=s(e,3),t=Ni(t),e=function(t){return r(i[t],t,i)}),o(t,e,n));return-1<e?i[r?t[e]:e]:void 0}}function an(c){return En(function(i){var o=i.length,t=o,e=mt.prototype.thru;for(c&&i.reverse();t--;){var n=i[t];if("function"!=typeof n)throw new j(Io);e&&!s&&"wrapper"==Cn(n)&&(s=new mt([],!0))}for(t=s?t:o;++t<o;)var r=Cn(n=i[t]),a="wrapper"==r?Pn(n):void 0,s=a&&Wn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[Cn(a[0])].apply(s,a[3]):1==n.length&&Wn(n)?s[r]():s.thru(n);return function(){var t=arguments,e=t[0];if(s&&1==t.length&&A(e))return s.plant(e).value();for(var n=0,r=o?i[n].apply(this,t):e;++n<o;)r=i[n].call(this,r);return r}})}function sn(a,s,c,u,y,l,_,h,d,f){var m=128&s,v=1&s,p=2&s,g=24&s,b=512&s,O=p?void 0:rn(a);return function t(){for(var e=S(o=arguments.length),n=o;n--;)e[n]=arguments[n];if(g&&(i=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(e,r=An(t))),u&&(e=Xe(e,u,y,g)),l&&(e=Ye(e,l,_,g)),o-=i,g&&o<f)return i=Bs(e,r),pn(a,s,sn,t.placeholder,c,e,i,h,d,f-o);var r=v?c:this,i=p?r[a]:a,o=e.length;return h?e=function(t,e){for(var n=t.length,r=Z(e.length,n),i=He(t);r--;){var o=e[r];t[r]=Nn(o,n)?i[o]:void 0}return t}(e,h):b&&1<o&&e.reverse(),m&&d<o&&(e.length=d),(i=this&&this!==Bo&&this instanceof t?O||rn(i):i).apply(r,e)}}function cn(n,a){return function(t,e){return t=t,r=n,i=a(e),o={},Vt(t,function(t,e,n){r(o,i(t),e,n)}),o;var r,i,o}}function un(r,i){return function(t,e){var n;if(void 0===t&&void 0===e)return i;if(void 0!==t&&(n=t),void 0!==e){if(void 0===n)return e;e="string"==typeof t||"string"==typeof e?(t=Se(t),Se(e)):(t=Ae(t),Ae(e)),n=r(t,e)}return n}}function ln(r){return En(function(t){return t=Uo(t,Wo(s())),a(function(e){var n=this;return r(t,function(t){return No(t,n,e)})})})}function hn(t,e){var n=(e=void 0===e?" ":Se(e)).length;if(n<2)return n?be(e,t):e;n=be(e,$(t/Fs(e)));return ks(e)?We(Us(n),0,t).join(""):n.slice(0,t)}function dn(l){return function(t,e,n){n&&"number"!=typeof n&&Fn(t,e,n)&&(e=n=void 0),t=xi(t),void 0===e?(e=t,t=0):e=xi(e);for(var r=t,i=e,o=n=void 0===n?t<e?1:-1:xi(n),a=l,s=-1,c=q($((i-r)/(o||1)),0),u=S(c);c--;)u[a?c:++s]=r,r+=o;return u}}function fn(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=wi(t),e=wi(e)),n(t,e)}}function pn(t,e,n,r,i,o,a,s,c,l){var u=8&e,i=(4&(e=(e|(u?32:64))&~(u?64:32))||(e&=-4),[t,e,i,u?o:void 0,u?a:void 0,u?void 0:o,u?void 0:a,s,c,l]),o=n.apply(void 0,i);return Wn(t)&&Hn(o,i),o.placeholder=r,Qn(o,t,e)}function gn(t){var r=i[t];return function(t,e){var n;return t=wi(t),(e=null==e?0:Z(P(e),292))&&X(t)?(n=(h(t)+"e").split("e"),+((n=(h(r(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))):r(t)}}var yn=it&&1/Ns(new it([,-0]))[1]==1/0?function(t){return new it(t)}:yo;function _n(o){return function(t){var e,n,r,i=kn(t);return i==ko?Ls(t):i==ta?(i=t,n=-1,r=Array(i.size),i.forEach(function(t){r[++n]=[t,t]}),r):Uo(o(e=t),function(t){return[t,e[t]]})}}function mn(t,e,n,r,i,l,o,a){var s=2&e;if(!s&&"function"!=typeof t)throw new j(Io);var c,h,d,f,p,g,y,_,m,v,b,O,x,E,w=r?r.length:0,M=(w||(e&=-97,r=i=void 0),o=void 0===o?o:q(P(o),0),a=void 0===a?a:P(a),w-=i?i.length:0,64&e&&(u=r,c=i,r=i=void 0),s?void 0:Pn(t)),u=[t,e,n,r,i,u,c,l,o,a];return M&&function(t,e){var n=t[1],r=e[1],i=n|r,o=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!(i<131)&&!o)return;1&r&&(t[2]=e[2],i|=1&n?0:4);var a,o=e[3];o&&(a=t[3],t[3]=a?Xe(a,o,e[4]):o,t[4]=a?Bs(t[3],zo):e[4]),(o=e[5])&&(a=t[5],t[5]=a?Ye(a,o,e[6]):o,t[6]=a?Bs(t[5],zo):e[6]),(o=e[7])&&(t[7]=o),128&r&&(t[8]=null==t[8]?e[8]:Z(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(u,M),t=u[0],e=u[1],n=u[2],r=u[3],i=u[4],!(a=u[9]=void 0===u[9]?s?0:t.length:q(u[9]-w,0))&&24&e&&(e&=-25),c=e&&1!=e?8==e||16==e?(O=e,x=a,E=rn(b=t),function t(){for(var e=arguments.length,n=S(e),r=e,i=An(t);r--;)n[r]=arguments[r];i=e<3&&n[0]!==i&&n[e-1]!==i?[]:Bs(n,i);return(e-=i.length)<x?pn(b,O,sn,t.placeholder,void 0,n,i,void 0,void 0,x-e):No(this&&this!==Bo&&this instanceof t?E:b,this,n)}):32!=e&&33!=e||i.length?sn.apply(void 0,u):(y=n,_=r,m=1&e,v=rn(g=t),function t(){for(var e=-1,n=arguments.length,r=-1,i=_.length,o=S(i+n),a=this&&this!==Bo&&this instanceof t?v:g;++r<i;)o[r]=_[r];for(;n--;)o[r++]=arguments[++e];return No(a,m?y:this,o)}):(d=n,f=1&e,p=rn(h=t),function t(){return(this&&this!==Bo&&this instanceof t?p:h).apply(f?d:this,arguments)}),Qn((M?xe:Hn)(c,u),t,e)}function vn(t,e,n,r){return void 0===t||Zr(t,m[n])&&!C.call(r,n)?e:t}function bn(t,e,n,r,i,o){return ui(t)&&ui(e)&&(o.set(e,t),fe(t,e,void 0,bn,o),o.delete(e)),t}function On(t){return fi(t)?void 0:t}function xn(t,e,n,r,l,i){var h=1&n,d=t.length,o=e.length;if(d!=o&&!(h&&d<o))return!1;var o=i.get(t),f=i.get(e);if(o&&f)return o==e&&f==t;var a=-1,s=!0,p=2&n?new xt:void 0;for(i.set(t,e),i.set(e,t);++a<d;){var g,c=t[a],u=e[a];if(void 0!==(g=r?h?r(u,c,a,e,t,i):r(c,u,a,t,e,i):g)){if(g)continue;s=!1;break}if(p){if(!gs(e,function(t,e){return!As(p,e)&&(c===t||l(c,t,n,r,i))&&p.push(e)})){s=!1;break}}else if(c!==u&&!l(c,u,n,r,i)){s=!1;break}}return i.delete(t),i.delete(e),s}function En(t){return Zn(Vn(t,void 0,cr),t+"")}function wn(t){return qt(t,Ni,Tn)}function Mn(t){return qt(t,Fi,In)}var Pn=at?function(t){return at.get(t)}:yo;function Cn(t){for(var e=t.name+"",n=st[e],r=C.call(st,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function An(t){return(C.call(p,"placeholder")?p:t).placeholder}function s(){var t=(t=p.iteratee||ho)===ho?se:t;return arguments.length?t(arguments[0],arguments[1]):t}function Sn(t,e){var n,t=t.__data__;return("string"==(n=typeof e)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?t["string"==typeof e?"string":"hash"]:t.map}function jn(t){for(var e=Ni(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$n(i)]}return e}function Dn(t,e){t=null==t?void 0:t[e];return ae(t)?t:void 0}var Tn=V?function(e){return null==e?[]:(e=_(e),us(V(e),function(t){return L.call(e,t)}))}:Eo,In=V?function(t){for(var e=[];t;)ds(e,Tn(t)),t=I(t);return e}:Eo,kn=Zt;function Ln(t,e,n){for(var r=-1,i=(e=Fe(e,t)).length,o=!1;++r<i;){var a=rr(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ci(i)&&Nn(a,i)&&(A(t)||ti(t))}function Rn(t){return"function"!=typeof t.constructor||Gn(t)?{}:gt(I(t))}function Bn(t){return A(t)||ti(t)||!!(B&&t&&t[B])}function Nn(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&za.test(t))&&-1<t&&t%1==0&&t<e}function Fn(t,e,n){if(!ui(n))return!1;var r=typeof e;return!!("number"==r?ni(n)&&Nn(e,n.length):"string"==r&&e in n)&&Zr(n[e],t)}function Un(t,e){var n;if(!A(t))return n=typeof t,"number"==n||"symbol"==n||"boolean"==n||null==t||_i(t)||Ma.test(t)||!wa.test(t)||null!=e&&t in _(e)}function Wn(t){var e=Cn(t),n=p[e];if("function"==typeof n&&e in g.prototype){if(t===n)return 1;e=Pn(n);return e&&t===e[0]}}(n&&kn(new n(new ArrayBuffer(1)))!=oa||nt&&kn(new nt)!=ko||rt&&"[object Promise]"!=kn(rt.resolve())||it&&kn(new it)!=ta||t&&kn(new t)!=ra)&&(kn=function(t){var e=Zt(t),t=e==Qo?t.constructor:void 0,t=t?ir(t):"";if(t)switch(t){case ct:return oa;case ut:return ko;case lt:return"[object Promise]";case ht:return ta;case dt:return ra}return e});var zn=c?ai:wo;function Gn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||m)}function $n(t){return t==t&&!ui(t)}function Kn(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in _(t))}}function Vn(o,a,s){return a=q(void 0===a?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=q(t.length-a,0),r=S(n);++e<n;)r[e]=t[a+e];for(var e=-1,i=S(a+1);++e<a;)i[e]=t[e];return i[a]=s(r),No(o,this,i)}}function Xn(t,e){return e.length<2?t:Ht(t,Ee(e,0,-1))}function Yn(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Hn=Jn(xe),qn=G||function(t,e){return Bo.setTimeout(t,e)},Zn=Jn(M);function Qn(t,e,n){var r,i,e=e+"";return Zn(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(1<n?"& ":"")+e[r],e=e.join(2<n?", ":" "),t.replace(ja,"{\n/* [wrapped with "+e+"] */\n")}(e,(t=e.match(Da),r=t?t[1].split(Ta):[],i=n,Fo(Go,function(t){var e="_."+t[0];i&t[1]&&!ls(r,e)&&r.push(e)}),r.sort())))}function Jn(n){var r=0,i=0;return function(){var t=Q(),e=16-(t-i);if(i=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}function tr(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=ve(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}er=(W=Vr(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(Pa,function(t,e,n,r){i.push(n?r.replace(La,"$1"):e||t)}),i},function(t){return 500===er.size&&er.clear(),t})).cache;var er,nr=W;function rr(t){if("string"==typeof t||_i(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ir(t){if(null!=t){try{return u.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function or(t){if(t instanceof g)return t.clone();var e=new mt(t.__wrapped__,t.__chain__);return e.__actions__=He(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}n=a(function(t,e){return ri(t)?Bt(t,Gt(e,1,ri,!0)):[]}),rt=a(function(t,e){var n=lr(e);return ri(n)&&(n=void 0),ri(t)?Bt(t,Gt(e,1,ri,!0),s(n,2)):[]}),t=a(function(t,e){var n=lr(e);return ri(n)&&(n=void 0),ri(t)?Bt(t,Gt(e,1,ri,!0),void 0,n):[]});function ar(t,e,n){var r=null==t?0:t.length;if(!r)return-1;n=null==n?0:P(n);return n<0&&(n=q(r+n,0)),_s(t,s(e,3),n)}function sr(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=P(n),i=n<0?q(r+i,0):Z(i,r-1)),_s(t,s(e,3),i,!0)}function cr(t){return null!=t&&t.length?Gt(t,1):[]}function ur(t){return t&&t.length?t[0]:void 0}c=a(function(t){var e=Uo(t,Be);return e.length&&e[0]===t[0]?ee(e):[]}),G=a(function(t){var e=lr(t),n=Uo(t,Be);return e===lr(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?ee(n,s(e,2)):[]}),M=a(function(t){var e=lr(t),n=Uo(t,Be);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?ee(n,void 0,e):[]});function lr(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}W=a(hr);function hr(t,e){return t&&t.length&&e&&e.length?_e(t,e):t}var dr=En(function(t,e){var n=null==t?0:t.length,r=Tt(t,e);return me(t,Uo(e,function(t){return Nn(t,n)?+t:t}).sort(Ve)),r});function fr(t){return null==t?t:et.call(t)}var pr=a(function(t){return je(Gt(t,1,ri,!0))}),gr=a(function(t){var e=lr(t);return ri(e)&&(e=void 0),je(Gt(t,1,ri,!0),s(e,2))}),yr=a(function(t){var e="function"==typeof(e=lr(t))?e:void 0;return je(Gt(t,1,ri,!0),void 0,e)});function _r(e){if(!e||!e.length)return[];var n=0;return e=us(e,function(t){if(ri(t))return n=q(t.length,n),!0}),Ms(n,function(t){return Uo(e,xs(t))})}function mr(t,e){if(!t||!t.length)return[];t=_r(t);return null==e?t:Uo(t,function(t){return No(e,void 0,t)})}var vr=a(function(t,e){return ri(t)?Bt(t,e):[]}),br=a(function(t){return Le(us(t,ri))}),Or=a(function(t){var e=lr(t);return ri(e)&&(e=void 0),Le(us(t,ri),s(e,2))}),xr=a(function(t){var e="function"==typeof(e=lr(t))?e:void 0;return Le(us(t,ri),void 0,e)}),Er=a(_r),wr=a(function(t){var e=t.length,e="function"==typeof(e=1<e?t[e-1]:void 0)?(t.pop(),e):void 0;return mr(t,e)});function Mr(t){t=p(t);return t.__chain__=!0,t}function Pr(t,e){return e(t)}var Cr=En(function(e){function t(t){return Tt(t,e)}var n=e.length,r=n?e[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof g&&Nn(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:Pr,args:[t],thisArg:void 0}),new mt(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(void 0),t})):this.thru(t)}),Ar=Ze(function(t,e,n){C.call(t,n)?++t[n]:Dt(t,n,1)}),Sr=on(ar),jr=on(sr);function Dr(t,e){return(A(t)?Fo:Nt)(t,s(e,3))}function Tr(t,e){return(A(t)?function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}:Ft)(t,s(e,3))}var Ir=Ze(function(t,e,n){C.call(t,n)?t[n].push(e):Dt(t,n,[e])}),kr=a(function(t,e,n){var r=-1,i="function"==typeof e,o=ni(t)?S(t.length):[];return Nt(t,function(t){o[++r]=i?No(e,t,n):ne(t,e,n)}),o}),Lr=Ze(function(t,e,n){Dt(t,n,e)});function Rr(t,e){return(A(t)?Uo:le)(t,s(e,3))}var Br=Ze(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Nr=a(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Fn(t,e[0],e[1])?e=[]:2<n&&Fn(e[0],e[1],e[2])&&(e=[e[0]]),ge(t,Gt(e,1),[])}),Fr=z||function(){return Bo.Date.now()};function Ur(t,e,n){return e=n?void 0:e,mn(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function Wr(t,e){var n;if("function"!=typeof e)throw new j(Io);return t=P(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var zr=a(function(t,e,n){var r,i=1;return n.length&&(r=Bs(n,An(zr)),i|=32),mn(t,i,e,n,r)}),Gr=a(function(t,e,n){var r,i=3;return n.length&&(r=Bs(n,An(Gr)),i|=32),mn(e,i,t,n,r)});function $r(h,n,t){var r,i,o,a,s,c,u=0,d=!1,l=!1,e=!0;if("function"!=typeof h)throw new j(Io);function f(t){var e=r,n=i;return r=i=void 0,u=t,a=h.apply(n,e)}function p(t){var e=t-c;return void 0===c||n<=e||e<0||l&&o<=t-u}function g(){var t,e=Fr();if(p(e))return y(e);s=qn(g,(t=n-(e-c),l?Z(t,o-(e-u)):t))}function y(t){return s=void 0,e&&r?f(t):(r=i=void 0,a)}function _(){var t=Fr(),e=p(t);if(r=arguments,i=this,c=t,e){if(void 0===s)return u=t=c,s=qn(g,n),d?f(t):a;if(l)return ze(s),s=qn(g,n),f(c)}return void 0===s&&(s=qn(g,n)),a}return n=wi(n)||0,ui(t)&&(d=!!t.leading,o=(l="maxWait"in t)?q(wi(t.maxWait)||0,n):o,e="trailing"in t?!!t.trailing:e),_.cancel=function(){void 0!==s&&ze(s),r=c=i=s=void(u=0)},_.flush=function(){return void 0===s?a:y(Fr())},_}var z=a(function(t,e){return Rt(t,1,e)}),Kr=a(function(t,e,n){return Rt(t,wi(e)||0,n)});function Vr(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new j(Io);function o(){var t=arguments,e=i?i.apply(this,t):t[0],n=o.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),o.cache=n.set(e,t)||n,t)}return o.cache=new(Vr.Cache||Ot),o}function Xr(e){if("function"!=typeof e)throw new j(Io);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Vr.Cache=Ot;var Ue=Ue(function(r,i){var o=(i=1==i.length&&A(i[0])?Uo(i[0],Wo(s())):Uo(Gt(i,1),Wo(s()))).length;return a(function(t){for(var e=-1,n=Z(t.length,o);++e<n;)t[e]=i[e].call(this,t[e]);return No(r,this,t)})}),Yr=a(function(t,e){return mn(t,32,void 0,e,Bs(e,An(Yr)))}),Hr=a(function(t,e){return mn(t,64,void 0,e,Bs(e,An(Hr)))}),qr=En(function(t,e){return mn(t,256,void 0,void 0,void 0,e)});function Zr(t,e){return t===e||t!=t&&e!=e}var Qr=fn(Qt),Jr=fn(function(t,e){return e<=t}),ti=re(function(){return arguments}())?re:function(t){return li(t)&&C.call(t,"callee")&&!L.call(t,"callee")},A=S.isArray,ei=es?Wo(es):function(t){return li(t)&&Zt(t)==ia};function ni(t){return null!=t&&ci(t.length)&&!ai(t)}function ri(t){return li(t)&&ni(t)}var ii=r||wo,r=ns?Wo(ns):function(t){return li(t)&&Zt(t)==Xo};function oi(t){if(!li(t))return!1;var e=Zt(t);return e==Yo||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!fi(t)}function ai(t){if(!ui(t))return!1;t=Zt(t);return t==Ho||t==qo||"[object AsyncFunction]"==t||"[object Proxy]"==t}function si(t){return"number"==typeof t&&t==P(t)}function ci(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}function ui(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function li(t){return null!=t&&"object"==typeof t}var hi=rs?Wo(rs):function(t){return li(t)&&kn(t)==ko};function di(t){return"number"==typeof t||li(t)&&Zt(t)==Zo}function fi(t){if(!li(t)||Zt(t)!=Qo)return!1;t=I(t);if(null===t)return!0;t=C.call(t,"constructor")&&t.constructor;return"function"==typeof t&&t instanceof t&&u.call(t)==x}var pi=is?Wo(is):function(t){return li(t)&&Zt(t)==Jo},gi=os?Wo(os):function(t){return li(t)&&kn(t)==ta};function yi(t){return"string"==typeof t||!A(t)&&li(t)&&Zt(t)==ea}function _i(t){return"symbol"==typeof t||li(t)&&Zt(t)==na}var mi=as?Wo(as):function(t){return li(t)&&ci(t.length)&&!!Lo[Zt(t)]},vi=fn(ue),bi=fn(function(t,e){return t<=e});function Oi(t){if(!t)return[];if(ni(t))return(yi(t)?Us:He)(t);var e;{if(N&&t[N]){for(var n,r=t[N](),i=[];!(n=r.next()).done;)i.push(n.value);return i}return((e=kn(t))==ko?Ls:e==ta?Ns:Xi)(t)}}function xi(t){return t?(t=wi(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function P(t){var t=xi(t),e=t%1;return t==t?e?t-e:t:0}function Ei(t){return t?It(P(t),0,4294967295):0}function wi(t){if("number"==typeof t)return t;if(_i(t))return NaN;if("string"!=typeof(t=ui(t)?ui(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e:t))return 0===t?t:+t;t=Ps(t);var e=Fa.test(t);return e||Wa.test(t)?Ja(t.slice(2),e?2:8):Na.test(t)?NaN:+t}function Mi(t){return qe(t,Fi(t))}function h(t){return null==t?"":Se(t)}var Pi=Qe(function(t,e){if(Gn(e)||ni(e))qe(e,Ni(e),t);else for(var n in e)C.call(e,n)&&Ct(t,n,e[n])}),Ci=Qe(function(t,e){qe(e,Fi(e),t)}),Ai=Qe(function(t,e,n,r){qe(e,Fi(e),t,r)}),Si=Qe(function(t,e,n,r){qe(e,Ni(e),t,r)}),ji=En(Tt),Di=a(function(t,e){t=_(t);var n=-1,r=e.length,i=2<r?e[2]:void 0;for(i&&Fn(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Fi(o),s=-1,l=a.length;++s<l;){var c=a[s],u=t[c];(void 0===u||Zr(u,m[c])&&!C.call(t,c))&&(t[c]=o[c])}return t}),Ti=a(function(t){return t.push(void 0,bn),No(Wi,void 0,t)});function Ii(t,e,n){t=null==t?void 0:Ht(t,e);return void 0===t?n:t}function ki(t,e){return null!=t&&Ln(t,e,te)}var Li=cn(function(t,e,n){t[e=null!=e&&"function"!=typeof e.toString?O.call(e):e]=n},so(lo)),Ri=cn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=O.call(e)),C.call(t,e)?t[e].push(n):t[e]=[n]},s),Bi=a(ne);function Ni(t){return(ni(t)?wt:ce)(t)}function Fi(t){if(ni(t))return wt(t,!0);var e=t;if(ui(e)){var n,r=Gn(e),i=[];for(n in e)("constructor"!=n||!r&&C.call(e,n))&&i.push(n);return i}var o=[];if(null!=e)for(var a in _(e))o.push(a);return o}var Ui=Qe(function(t,e,n){fe(t,e,n)}),Wi=Qe(function(t,e,n,r){fe(t,e,n,r)}),zi=En(function(e,t){var n={};if(null==e)return n;var r=!1;t=Uo(t,function(t){return t=Fe(t,e),r=r||1<t.length,t}),qe(e,Mn(e),n),r&&(n=kt(n,7,On));for(var i=t.length;i--;)De(n,t[i]);return n}),Gi=En(function(t,e){return null==t?{}:ye(n=t,e,function(t,e){return ki(n,e)});var n});function $i(t,n){if(null==t)return{};var e=Uo(Mn(t),function(t){return[t]});return n=s(n),ye(t,e,function(t,e){return n(t,e[0])})}var Ki=_n(Ni),Vi=_n(Fi);function Xi(t){return null==t?[]:Cs(t,Ni(t))}var Yi=nn(function(t,e,n){return e=e.toLowerCase(),t+(n?Hi(e):e)});function Hi(t){return ro(h(t).toLowerCase())}function qi(t){return(t=h(t))&&t.replace(Ga,Ds).replace(Xa,"")}var Zi=nn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Qi=nn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Ji=en("toLowerCase"),to=nn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),eo=nn(function(t,e,n){return t+(n?" ":"")+ro(e)}),no=nn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),ro=en("toUpperCase");function io(t,e,n){return t=h(t),void 0===(e=n?void 0:e)?(n=t,Ha.test(n)?t.match(Ya)||[]:t.match(Ia)||[]):t.match(e)||[]}var oo=a(function(t,e){try{return No(t,void 0,e)}catch(t){return oi(t)?t:new d(t)}}),ao=En(function(e,t){return Fo(t,function(t){t=rr(t),Dt(e,t,zr(e[t],e))}),e});function so(t){return function(){return t}}var co=an(),uo=an(!0);function lo(t){return t}function ho(t){return se("function"==typeof t?t:kt(t,1))}var fo=a(function(e,n){return function(t){return ne(t,e,n)}}),po=a(function(e,n){return function(t){return ne(e,t,n)}});function go(r,e,t){var n=Ni(e),i=Yt(e,n),o=(null!=t||ui(e)&&(i.length||!n.length)||(t=e,e=r,r=this,i=Yt(e,Ni(e))),!(ui(t)&&"chain"in t&&!t.chain)),a=ai(r);return Fo(i,function(t){var n=e[t];r[t]=n,a&&(r.prototype[t]=function(){var t,e=this.__chain__;return o||e?(((t=r(this.__wrapped__)).__actions__=He(this.__actions__)).push({func:n,args:arguments,thisArg:r}),t.__chain__=e,t):n.apply(r,ds([this.value()],arguments))})}),r}function yo(){}var _o=ln(Uo),mo=ln(cs),vo=ln(gs);function bo(t){return Un(t)?xs(rr(t)):(e=t,function(t){return Ht(t,e)});var e}var Oo=dn(),xo=dn(!0);function Eo(){return[]}function wo(){return!1}var Mo,Po=un(function(t,e){return t+e},0),Co=gn("ceil"),Ao=un(function(t,e){return t/e},1),So=gn("floor"),jo=un(function(t,e){return t*e},1),Do=gn("round"),To=un(function(t,e){return t-e},0);return p.after=function(t,e){if("function"!=typeof e)throw new j(Io);return t=P(t),function(){if(--t<1)return e.apply(this,arguments)}},p.ary=Ur,p.assign=Pi,p.assignIn=Ci,p.assignInWith=Ai,p.assignWith=Si,p.at=ji,p.before=Wr,p.bind=zr,p.bindAll=ao,p.bindKey=Gr,p.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return A(t)?t:[t]},p.chain=Mr,p.chunk=function(t,e,n){e=(n?Fn(t,e,n):void 0===e)?1:q(P(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=S($(r/e));i<r;)a[o++]=Ee(t,i,i+=e);return a},p.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},p.concat=function(){var t=arguments.length;if(!t)return[];for(var e=S(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ds(A(n)?He(n):[n],Gt(e,1))},p.cond=function(r){var i=null==r?0:r.length,e=s();return r=i?Uo(r,function(t){if("function"!=typeof t[1])throw new j(Io);return[e(t[0]),t[1]]}):[],a(function(t){for(var e=-1;++e<i;){var n=r[e];if(No(n[0],this,t))return No(n[1],this,t)}})},p.conforms=function(t){return e=kt(t,1),n=Ni(e),function(t){return Lt(t,e,n)};var e,n},p.constant=so,p.countBy=Ar,p.create=function(t,e){t=gt(t);return null==e?t:jt(t,e)},p.curry=function t(e,n,r){e=mn(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return e.placeholder=t.placeholder,e},p.curryRight=function t(e,n,r){e=mn(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return e.placeholder=t.placeholder,e},p.debounce=$r,p.defaults=Di,p.defaultsDeep=Ti,p.defer=z,p.delay=Kr,p.difference=n,p.differenceBy=rt,p.differenceWith=t,p.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ee(t,(e=n||void 0===e?1:P(e))<0?0:e,r):[]},p.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ee(t,0,(e=r-(n||void 0===e?1:P(e)))<0?0:e):[]},p.dropRightWhile=function(t,e){return t&&t.length?Ie(t,s(e,3),!0,!0):[]},p.dropWhile=function(t,e){return t&&t.length?Ie(t,s(e,3),!0):[]},p.fill=function(t,e,n,r){var i=null==t?0:t.length;if(i){n&&"number"!=typeof n&&Fn(t,e,n)&&(n=0,r=i);var o=t,a=e,s=n,c=r,i=o.length;for((s=P(s))<0&&(s=i<-s?0:i+s),(c=void 0===c||i<c?i:P(c))<0&&(c+=i),c=c<s?0:Ei(c);s<c;)o[s++]=a;return o}return[]},p.filter=function(t,e){return(A(t)?us:zt)(t,s(e,3))},p.flatMap=function(t,e){return Gt(Rr(t,e),1)},p.flatMapDeep=function(t,e){return Gt(Rr(t,e),1/0)},p.flatMapDepth=function(t,e,n){return n=void 0===n?1:P(n),Gt(Rr(t,e),n)},p.flatten=cr,p.flattenDeep=function(t){return null!=t&&t.length?Gt(t,1/0):[]},p.flattenDepth=function(t,e){return null!=t&&t.length?Gt(t,e=void 0===e?1:P(e)):[]},p.flip=function(t){return mn(t,512)},p.flow=co,p.flowRight=uo,p.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},p.functions=function(t){return null==t?[]:Yt(t,Ni(t))},p.functionsIn=function(t){return null==t?[]:Yt(t,Fi(t))},p.groupBy=Ir,p.initial=function(t){return null!=t&&t.length?Ee(t,0,-1):[]},p.intersection=c,p.intersectionBy=G,p.intersectionWith=M,p.invert=Li,p.invertBy=Ri,p.invokeMap=kr,p.iteratee=ho,p.keyBy=Lr,p.keys=Ni,p.keysIn=Fi,p.map=Rr,p.mapKeys=function(t,r){var i={};return r=s(r,3),Vt(t,function(t,e,n){Dt(i,r(t,e,n),t)}),i},p.mapValues=function(t,r){var i={};return r=s(r,3),Vt(t,function(t,e,n){Dt(i,e,r(t,e,n))}),i},p.matches=function(t){return he(kt(t,1))},p.matchesProperty=function(t,e){return de(t,kt(e,1))},p.memoize=Vr,p.merge=Ui,p.mergeWith=Wi,p.method=fo,p.methodOf=po,p.mixin=go,p.negate=Xr,p.nthArg=function(e){return e=P(e),a(function(t){return pe(t,e)})},p.omit=zi,p.omitBy=function(t,e){return $i(t,Xr(s(e)))},p.once=function(t){return Wr(2,t)},p.orderBy=function(t,e,n,r){return null==t?[]:ge(t,e=A(e)?e:null==e?[]:[e],n=A(n=r?void 0:n)?n:null==n?[]:[n])},p.over=_o,p.overArgs=Ue,p.overEvery=mo,p.overSome=vo,p.partial=Yr,p.partialRight=Hr,p.partition=Br,p.pick=Gi,p.pickBy=$i,p.property=bo,p.propertyOf=function(e){return function(t){return null==e?void 0:Ht(e,t)}},p.pull=W,p.pullAll=hr,p.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?_e(t,e,s(n,2)):t},p.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?_e(t,e,void 0,n):t},p.pullAt=dr,p.range=Oo,p.rangeRight=xo,p.rearg=qr,p.reject=function(t,e){return(A(t)?us:zt)(t,Xr(s(e,3)))},p.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=s(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return me(t,i),n},p.rest=function(t,e){if("function"!=typeof t)throw new j(Io);return a(t,e=void 0===e?e:P(e))},p.reverse=fr,p.sampleSize=function(t,e,n){return e=(n?Fn(t,e,n):void 0===e)?1:P(e),(A(t)?function(t,e){return tr(He(t),It(e,0,t.length))}:function(t,e){return tr(t=Xi(t),It(e,0,t.length))})(t,e)},p.set=function(t,e,n){return null==t?t:Oe(t,e,n)},p.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Oe(t,e,n,r)},p.shuffle=function(t){return(A(t)?function(t){return tr(He(t))}:function(t){return tr(Xi(t))})(t)},p.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n=n&&"number"!=typeof n&&Fn(t,e,n)?(e=0,r):(e=null==e?0:P(e),void 0===n?r:P(n)),Ee(t,e,n)):[]},p.sortBy=Nr,p.sortedUniq=function(t){return t&&t.length?Ce(t):[]},p.sortedUniqBy=function(t,e){return t&&t.length?Ce(t,s(e,2)):[]},p.split=function(t,e,n){return n&&"number"!=typeof n&&Fn(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=h(t))&&("string"==typeof e||null!=e&&!pi(e))&&!(e=Se(e))&&ks(t)?We(Us(t),0,n):t.split(e,n):[]},p.spread=function(n,r){if("function"!=typeof n)throw new j(Io);return r=null==r?0:q(P(r),0),a(function(t){var e=t[r],t=We(t,0,r);return e&&ds(t,e),No(n,this,t)})},p.tail=function(t){var e=null==t?0:t.length;return e?Ee(t,1,e):[]},p.take=function(t,e,n){return t&&t.length?Ee(t,0,(e=n||void 0===e?1:P(e))<0?0:e):[]},p.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ee(t,(e=r-(n||void 0===e?1:P(e)))<0?0:e,r):[]},p.takeRightWhile=function(t,e){return t&&t.length?Ie(t,s(e,3),!1,!0):[]},p.takeWhile=function(t,e){return t&&t.length?Ie(t,s(e,3)):[]},p.tap=function(t,e){return e(t),t},p.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new j(Io);return ui(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),$r(t,e,{leading:r,maxWait:e,trailing:i})},p.thru=Pr,p.toArray=Oi,p.toPairs=Ki,p.toPairsIn=Vi,p.toPath=function(t){return A(t)?Uo(t,rr):_i(t)?[t]:He(nr(h(t)))},p.toPlainObject=Mi,p.transform=function(t,r,i){var e,n=A(t),o=n||ii(t)||mi(t);return r=s(r,4),null==i&&(e=t&&t.constructor,i=o?n?new e:[]:ui(t)&&ai(e)?gt(I(t)):{}),(o?Fo:Vt)(t,function(t,e,n){return r(i,t,e,n)}),i},p.unary=function(t){return Ur(t,1)},p.union=pr,p.unionBy=gr,p.unionWith=yr,p.uniq=function(t){return t&&t.length?je(t):[]},p.uniqBy=function(t,e){return t&&t.length?je(t,s(e,2)):[]},p.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?je(t,void 0,e):[]},p.unset=function(t,e){return null==t||De(t,e)},p.unzip=_r,p.unzipWith=mr,p.update=function(t,e,n){return null==t?t:Te(t,e,Ne(n))},p.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Te(t,e,Ne(n),r)},p.values=Xi,p.valuesIn=function(t){return null==t?[]:Cs(t,Fi(t))},p.without=vr,p.words=io,p.wrap=function(t,e){return Yr(Ne(e),t)},p.xor=br,p.xorBy=Or,p.xorWith=xr,p.zip=Er,p.zipObject=function(t,e){return Re(t||[],e||[],Ct)},p.zipObjectDeep=function(t,e){return Re(t||[],e||[],Oe)},p.zipWith=wr,p.entries=Ki,p.entriesIn=Vi,p.extend=Ci,p.extendWith=Ai,go(p,p),p.add=Po,p.attempt=oo,p.camelCase=Yi,p.capitalize=Hi,p.ceil=Co,p.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=wi(n))==n?n:0),void 0!==e&&(e=(e=wi(e))==e?e:0),It(wi(t),e,n)},p.clone=function(t){return kt(t,4)},p.cloneDeep=function(t){return kt(t,5)},p.cloneDeepWith=function(t,e){return kt(t,5,e="function"==typeof e?e:void 0)},p.cloneWith=function(t,e){return kt(t,4,e="function"==typeof e?e:void 0)},p.conformsTo=function(t,e){return null==e||Lt(t,e,Ni(e))},p.deburr=qi,p.defaultTo=function(t,e){return null==t||t!=t?e:t},p.divide=Ao,p.endsWith=function(t,e,n){t=h(t),e=Se(e);var r=t.length,r=n=void 0===n?r:It(P(n),0,r);return 0<=(n-=e.length)&&t.slice(n,r)==e},p.eq=Zr,p.escape=function(t){return(t=h(t))&&ba.test(t)?t.replace(ma,Ts):t},p.escapeRegExp=function(t){return(t=h(t))&&Aa.test(t)?t.replace(Ca,"\\$&"):t},p.every=function(t,e,n){return(A(t)?cs:Ut)(t,s(e=n&&Fn(t,e,n)?void 0:e,3))},p.find=Sr,p.findIndex=ar,p.findKey=function(t,e){return ys(t,s(e,3),Vt)},p.findLast=jr,p.findLastIndex=sr,p.findLastKey=function(t,e){return ys(t,s(e,3),Xt)},p.floor=So,p.forEach=Dr,p.forEachRight=Tr,p.forIn=function(t,e){return null==t?t:$t(t,s(e,3),Fi)},p.forInRight=function(t,e){return null==t?t:Kt(t,s(e,3),Fi)},p.forOwn=function(t,e){return t&&Vt(t,s(e,3))},p.forOwnRight=function(t,e){return t&&Xt(t,s(e,3))},p.get=Ii,p.gt=Qr,p.gte=Jr,p.has=function(t,e){return null!=t&&Ln(t,e,Jt)},p.hasIn=ki,p.head=ur,p.identity=lo,p.includes=function(t,e,n,r){t=ni(t)?t:Xi(t),n=n&&!r?P(n):0;r=t.length;return n<0&&(n=q(r+n,0)),yi(t)?n<=r&&-1<t.indexOf(e,n):!!r&&-1<ms(t,e,n)},p.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;n=null==n?0:P(n);return ms(t,e,n=n<0?q(r+n,0):n)},p.inRange=function(t,e,n){return e=xi(e),void 0===n?(n=e,e=0):n=xi(n),(t=t=wi(t))>=Z(e=e,n=n)&&t<q(e,n)},p.invoke=Bi,p.isArguments=ti,p.isArray=A,p.isArrayBuffer=ei,p.isArrayLike=ni,p.isArrayLikeObject=ri,p.isBoolean=function(t){return!0===t||!1===t||li(t)&&Zt(t)==Vo},p.isBuffer=ii,p.isDate=r,p.isElement=function(t){return li(t)&&1===t.nodeType&&!fi(t)},p.isEmpty=function(t){if(null==t)return!0;if(ni(t)&&(A(t)||"string"==typeof t||"function"==typeof t.splice||ii(t)||mi(t)||ti(t)))return!t.length;var e,n=kn(t);if(n==ko||n==ta)return!t.size;if(Gn(t))return!ce(t).length;for(e in t)if(C.call(t,e))return!1;return!0},p.isEqual=function(t,e){return ie(t,e)},p.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?ie(t,e,void 0,n):!!r},p.isError=oi,p.isFinite=function(t){return"number"==typeof t&&X(t)},p.isFunction=ai,p.isInteger=si,p.isLength=ci,p.isMap=hi,p.isMatch=function(t,e){return t===e||oe(t,e,jn(e))},p.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,oe(t,e,jn(e),n)},p.isNaN=function(t){return di(t)&&t!=+t},p.isNative=function(t){if(zn(t))throw new d("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ae(t)},p.isNil=function(t){return null==t},p.isNull=function(t){return null===t},p.isNumber=di,p.isObject=ui,p.isObjectLike=li,p.isPlainObject=fi,p.isRegExp=pi,p.isSafeInteger=function(t){return si(t)&&-9007199254740991<=t&&t<=9007199254740991},p.isSet=gi,p.isString=yi,p.isSymbol=_i,p.isTypedArray=mi,p.isUndefined=function(t){return void 0===t},p.isWeakMap=function(t){return li(t)&&kn(t)==ra},p.isWeakSet=function(t){return li(t)&&"[object WeakSet]"==Zt(t)},p.join=function(t,e){return null==t?"":Y.call(t,e)},p.kebabCase=Zi,p.last=lr,p.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;if(void 0!==n&&(i=(i=P(n))<0?q(r+i,0):Z(i,r-1)),e!=e)return _s(t,bs,i,!0);for(var o=t,a=e,s=i+1;s--;)if(o[s]===a)return s;return s},p.lowerCase=Qi,p.lowerFirst=Ji,p.lt=vi,p.lte=bi,p.max=function(t){return t&&t.length?Wt(t,lo,Qt):void 0},p.maxBy=function(t,e){return t&&t.length?Wt(t,s(e,2),Qt):void 0},p.mean=function(t){return Os(t,lo)},p.meanBy=function(t,e){return Os(t,s(e,2))},p.min=function(t){return t&&t.length?Wt(t,lo,ue):void 0},p.minBy=function(t,e){return t&&t.length?Wt(t,s(e,2),ue):void 0},p.stubArray=Eo,p.stubFalse=wo,p.stubObject=function(){return{}},p.stubString=function(){return""},p.stubTrue=function(){return!0},p.multiply=jo,p.nth=function(t,e){return t&&t.length?pe(t,P(e)):void 0},p.noConflict=function(){return Bo._===this&&(Bo._=E),this},p.noop=yo,p.now=Fr,p.pad=function(t,e,n){t=h(t);var r=(e=P(e))?Fs(t):0;if(!e||e<=r)return t;e=(e-r)/2;return hn(K(e),n)+t+hn($(e),n)},p.padEnd=function(t,e,n){t=h(t);var r=(e=P(e))?Fs(t):0;return e&&r<e?t+hn(e-r,n):t},p.padStart=function(t,e,n){t=h(t);var r=(e=P(e))?Fs(t):0;return e&&r<e?hn(e-r,n)+t:t},p.parseInt=function(t,e,n){return e=n||null==e?0:e&&+e,J(h(t).replace(Sa,""),e||0)},p.random=function(t,e,n){var r;return n&&"boolean"!=typeof n&&Fn(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=xi(t),void 0===e?(e=t,t=0):e=xi(e)),e<t&&(r=t,t=e,e=r),n||t%1||e%1?(r=tt(),Z(t+r*(e-t+Qa("1e-"+((r+"").length-1))),e)):ve(t,e)},p.reduce=function(t,e,n){var r=A(t)?fs:Es,i=arguments.length<3;return r(t,s(e,4),n,i,Nt)},p.reduceRight=function(t,e,n){var r=A(t)?ps:Es,i=arguments.length<3;return r(t,s(e,4),n,i,Ft)},p.repeat=function(t,e,n){return e=(n?Fn(t,e,n):void 0===e)?1:P(e),be(h(t),e)},p.replace=function(){var t=arguments,e=h(t[0]);return t.length<3?e:e.replace(t[1],t[2])},p.result=function(t,e,n){var r=-1,i=(e=Fe(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[rr(e[r])];void 0===o&&(r=i,o=n),t=ai(o)?o.call(t):o}return t},p.round=Do,p.runInContext=e,p.sample=function(t){return(A(t)?Mt:function(t){return Mt(Xi(t))})(t)},p.size=function(t){if(null==t)return 0;if(ni(t))return yi(t)?Fs(t):t.length;var e=kn(t);return e==ko||e==ta?t.size:ce(t).length},p.snakeCase=to,p.some=function(t,e,n){return(A(t)?gs:we)(t,s(e=n&&Fn(t,e,n)?void 0:e,3))},p.sortedIndex=function(t,e){return Me(t,e)},p.sortedIndexBy=function(t,e,n){return Pe(t,e,s(n,2))},p.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Me(t,e);if(r<n&&Zr(t[r],e))return r}return-1},p.sortedLastIndex=function(t,e){return Me(t,e,!0)},p.sortedLastIndexBy=function(t,e,n){return Pe(t,e,s(n,2),!0)},p.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Me(t,e,!0)-1;if(Zr(t[n],e))return n}return-1},p.startCase=eo,p.startsWith=function(t,e,n){return t=h(t),n=null==n?0:It(P(n),0,t.length),e=Se(e),t.slice(n,n+e.length)==e},p.subtract=To,p.sum=function(t){return t&&t.length?ws(t,lo):0},p.sumBy=function(t,e){return t&&t.length?ws(t,s(e,2)):0},p.template=function(a,t,e){var n=p.templateSettings;e&&Fn(a,t,e)&&(t=void 0),a=h(a),t=Ai({},t,n,vn);var s,c,e=Ai({},t.imports,n.imports,vn),r=Ni(e),i=Cs(e,r),u=0,n=t.interpolate||$a,l="__p += '",e=y((t.escape||$a).source+"|"+n.source+"|"+(n===Ea?Ra:$a).source+"|"+(t.evaluate||$a).source+"|$","g"),o="//# sourceURL="+(C.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Za+"]")+"\n",n=(a.replace(e,function(t,e,n,r,i,o){return n=n||r,l+=a.slice(u,o).replace(Ka,Is),e&&(s=!0,l+="' +\n__e("+e+") +\n'"),i&&(c=!0,l+="';\n"+i+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=o+t.length,t}),l+="';\n",C.call(t,"variable")&&t.variable);if(n){if(ka.test(n))throw new d("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(c?l.replace(pa,""):l).replace(ga,"$1").replace(ya,"$1;");l="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}",e=oo(function(){return f(r,o+"return "+l).apply(void 0,i)});if(e.source=l,oi(e))throw e;return e},p.times=function(t,e){if((t=P(t))<1||9007199254740991<t)return[];var n=4294967295,r=Z(t,4294967295);t-=4294967295;for(r=Ms(r,e=s(e));++n<t;)e(n);return r},p.toFinite=xi,p.toInteger=P,p.toLength=Ei,p.toLower=function(t){return h(t).toLowerCase()},p.toNumber=wi,p.toSafeInteger=function(t){return t?It(P(t),-9007199254740991,9007199254740991):0===t?t:0},p.toString=h,p.toUpper=function(t){return h(t).toUpperCase()},p.trim=function(t,e,n){if((t=h(t))&&(n||void 0===e))return Ps(t);if(!t||!(e=Se(e)))return t;n=Us(t),t=Us(e);return We(n,Ss(n,t),js(n,t)+1).join("")},p.trimEnd=function(t,e,n){if((t=h(t))&&(n||void 0===e))return t.slice(0,Ws(t)+1);if(!t||!(e=Se(e)))return t;n=Us(t);return We(n,0,js(n,Us(e))+1).join("")},p.trimStart=function(t,e,n){if((t=h(t))&&(n||void 0===e))return t.replace(Sa,"");if(!t||!(e=Se(e)))return t;n=Us(t);return We(n,Ss(n,Us(e))).join("")},p.truncate=function(t,e){var n,r=30,i="...",e=(ui(e)&&(n="separator"in e?e.separator:n,r="length"in e?P(e.length):r,i="omission"in e?Se(e.omission):i),(t=h(t)).length);if((e=ks(t)?(o=Us(t)).length:e)<=r)return t;e=r-Fs(i);if(e<1)return i;var o,r=o?We(o,0,e).join(""):t.slice(0,e);if(void 0===n)return r+i;if(o&&(e+=r.length-e),pi(n)){if(t.slice(e).search(n)){var a,s=r;for((n=n.global?n:y(n.source,h(Ba.exec(n))+"g")).lastIndex=0;a=n.exec(s);)var c=a.index;r=r.slice(0,void 0===c?e:c)}}else t.indexOf(Se(n),e)==e||-1<(o=r.lastIndexOf(n))&&(r=r.slice(0,o));return r+i},p.unescape=function(t){return(t=h(t))&&va.test(t)?t.replace(_a,zs):t},p.uniqueId=function(t){var e=++v;return h(t)+e},p.upperCase=no,p.upperFirst=ro,p.each=Dr,p.eachRight=Tr,p.first=ur,go(p,(Mo={},Vt(p,function(t,e){C.call(p.prototype,e)||(Mo[e]=t)}),Mo),{chain:!1}),p.VERSION="4.17.21",Fo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){p[t].placeholder=p}),Fo(["drop","take"],function(n,r){g.prototype[n]=function(t){t=void 0===t?1:q(P(t),0);var e=this.__filtered__&&!r?new g(this):this.clone();return e.__filtered__?e.__takeCount__=Z(t,e.__takeCount__):e.__views__.push({size:Z(t,4294967295),type:n+(e.__dir__<0?"Right":"")}),e},g.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Fo(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;g.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:s(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Fo(["head","last"],function(t,e){var n="take"+(e?"Right":"");g.prototype[t]=function(){return this[n](1).value()[0]}}),Fo(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");g.prototype[t]=function(){return this.__filtered__?new g(this):this[n](1)}}),g.prototype.compact=function(){return this.filter(lo)},g.prototype.find=function(t){return this.filter(t).head()},g.prototype.findLast=function(t){return this.reverse().find(t)},g.prototype.invokeMap=a(function(e,n){return"function"==typeof e?new g(this):this.map(function(t){return ne(t,e,n)})}),g.prototype.reject=function(t){return this.filter(Xr(s(t)))},g.prototype.slice=function(t,e){t=P(t);var n=this;return n.__filtered__&&(0<t||e<0)?new g(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),n=void 0!==e?(e=P(e))<0?n.dropRight(-e):n.take(e-t):n)},g.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},g.prototype.toArray=function(){return this.take(4294967295)},Vt(g.prototype,function(u,t){var l=/^(?:filter|find|map|reject)|While$/.test(t),h=/^(?:head|last)$/.test(t),d=p[h?"take"+("last"==t?"Right":""):t],f=h||/^find/.test(t);d&&(p.prototype[t]=function(){function t(t){return t=d.apply(p,ds([t],r)),h&&s?t[0]:t}var e,n=this.__wrapped__,r=h?[1]:arguments,i=n instanceof g,o=r[0],a=i||A(n),s=(a&&l&&"function"==typeof o&&1!=o.length&&(i=a=!1),this.__chain__),o=!!this.__actions__.length,c=f&&!s,i=i&&!o;return!f&&a?(n=i?n:new g(this),(e=u.apply(n,r)).__actions__.push({func:Pr,args:[t],thisArg:void 0}),new mt(e,s)):c&&i?u.apply(this,r):(e=this.thru(t),c?h?e.value()[0]:e.value():e)})}),Fo(["pop","push","shift","sort","splice","unshift"],function(t){var n=o[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);p.prototype[t]=function(){var t,e=arguments;return i&&!this.__chain__?(t=this.value(),n.apply(A(t)?t:[],e)):this[r](function(t){return n.apply(A(t)?t:[],e)})}}),Vt(g.prototype,function(t,e){var n,r=p[e];r&&(n=r.name+"",C.call(st,n)||(st[n]=[]),st[n].push({name:e,func:r}))}),st[sn(void 0,2).name]=[{name:"wrapper",func:void 0}],g.prototype.clone=function(){var t=new g(this.__wrapped__);return t.__actions__=He(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=He(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=He(this.__views__),t},g.prototype.reverse=function(){var t;return this.__filtered__?((t=new g(this)).__dir__=-1,t.__filtered__=!0):(t=this.clone()).__dir__*=-1,t},g.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=A(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Z(e,t+a);break;case"takeRight":t=q(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),l=o.start,o=o.end,a=o-l,h=r?o:l-1,d=this.__iteratees__,f=d.length,p=0,g=Z(a,this.__takeCount__);if(!n||!r&&i==a&&g==a)return ke(t,this.__actions__);var y=[];t:for(;a--&&p<g;){for(var _=-1,s=t[h+=e];++_<f;){var c=d[_],u=c.iteratee,c=c.type,u=u(s);if(2==c)s=u;else if(!u){if(1==c)continue t;break t}}y[p++]=s}return y},p.prototype.at=Cr,p.prototype.chain=function(){return Mr(this)},p.prototype.commit=function(){return new mt(this.value(),this.__chain__)},p.prototype.next=function(){void 0===this.__values__&&(this.__values__=Oi(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},p.prototype.plant=function(t){for(var e,n=this;n instanceof _t;)var r=or(n),i=(r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r,r),n=n.__wrapped__;return i.__wrapped__=t,e},p.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof g?(t=t,(t=(t=this.__actions__.length?new g(this):t).reverse()).__actions__.push({func:Pr,args:[fr],thisArg:void 0}),new mt(t,this.__chain__)):this.thru(fr)},p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=function(){return ke(this.__wrapped__,this.__actions__)},p.prototype.first=p.prototype.head,N&&(p.prototype[N]=function(){return this}),p}();Bo._=Gs,void 0===(x=function(){return Gs}.call(E,w,E,O))||(O.exports=x)}.call(this)}.call(this,w(226),w(407)(t))},function(l,t,e){"use strict";e.d(t,"d",function(){return n}),e.d(t,"i",function(){return r}),e.d(t,"g",function(){return i}),e.d(t,"b",function(){return o}),e.d(t,"l",function(){return a}),e.d(t,"h",function(){return s}),e.d(t,"c",function(){return c}),e.d(t,"f",function(){return u}),e.d(t,"e",function(){return h}),e.d(t,"n",function(){return d}),e.d(t,"a",function(){return f}),e.d(t,"j",function(){return p}),e.d(t,"k",function(){return g}),e.d(t,"m",function(){return y});var t=e(1),e=e.n(t),n=e.a.exact({radius:e.a.oneOfType([e.a.number,e.a.arrayOf(e.a.number)]),r:e.a.number,textAlign:e.a.string,textBaseline:e.a.string,fontStyle:e.a.string,lineHeight:e.a.number,fontSize:e.a.number,fontFamily:e.a.string,fontWeight:e.a.oneOfType([e.a.string,e.a.number]),fill:e.a.string,fillOpacity:e.a.number,stroke:e.a.string,lineWidth:e.a.number,lineDash:e.a.arrayOf(e.a.number),lineOpacity:e.a.number,opacity:e.a.number,shadowColor:e.a.string,shadowBlur:e.a.number,shadowOffsetX:e.a.number,shadowOffsetY:e.a.number,cursor:e.a.string}),r=e.a.exact({r:e.a.number,fill:e.a.string,opacity:e.a.number,fillOpacity:e.a.number,stroke:e.a.string,lineWidth:e.a.number,lineDash:e.a.arrayOf(e.a.number),strokeOpacity:e.a.number,cursor:e.a.string}),i=e.a.exact({stroke:e.a.string,opacity:e.a.number,lineWidth:e.a.number,lineDash:e.a.arrayOf(e.a.number),lineCap:e.a.string,lineOpacity:e.a.number,shadowColor:e.a.string,shadowBlur:e.a.number,shadowOffsetX:e.a.number,shadowOffsetY:e.a.number,cursor:e.a.string}),o=e.a.exact({fill:e.a.string,fillOpacity:e.a.number,opacity:e.a.number,shadowColor:e.a.string,shadowBlur:e.a.number,shadowOffsetX:e.a.number,shadowOffsetY:e.a.number,cursor:e.a.string}),a=e.a.exact({opacity:e.a.number,textAlign:e.a.string,textBaseline:e.a.string,fontStyle:e.a.string,lineHeight:e.a.number,fontSize:e.a.number,fontFamily:e.a.string,fontWeight:e.a.oneOfType([e.a.string,e.a.number]),fill:e.a.string,fillOpacity:e.a.number,stroke:e.a.string,lineWidth:e.a.number,lineDash:e.a.arrayOf(e.a.number),shadowColor:e.a.string,shadowOffsetX:e.a.number,shadowOffsetY:e.a.number,shadowBlur:e.a.number,cursor:e.a.string}),s=e.a.objectOf(e.a.exact({alias:e.a.string,formatter:e.a.oneOfType([e.a.exact({func:e.a.string}),e.a.any]),values:e.a.arrayOf(e.a.string),range:e.a.arrayOf(e.a.number),type:e.a.string})),c=e.a.oneOfType([e.a.oneOf([!1]),e.a.exact({top:e.a.bool,range:e.a.arrayOf(e.a.number),position:e.a.string,title:e.a.exact({text:e.a.string,style:a,position:e.a.string,offset:e.a.number,spacing:e.a.number,autoRotate:e.a.bool}),label:e.a.oneOfType([e.a.oneOf([!1]),e.a.exact({offset:e.a.number,offsetX:e.a.number,offsetY:e.a.number,style:a,autoRotate:e.a.bool,rotate:e.a.number,labelEmit:e.a.bool,position:e.a.string,formatter:e.a.oneOfType([e.a.exact({func:e.a.string}),e.a.any]),autoHide:e.a.bool})]),line:e.a.exact({style:i}),grid:e.a.exact({line:e.a.exact({style:i}),alternateColor:e.a.oneOfType([e.a.string,e.a.arrayOf(e.a.string)]),alignTick:e.a.bool}),tickLine:e.a.exact({style:i,alignTick:e.a.bool,length:e.a.number}),subTickLine:e.a.exact({style:i,count:e.a.number,length:e.a.number}),nice:e.a.bool,min:e.a.number,max:e.a.number,minLimit:e.a.number,maxLimit:e.a.number,tickCountL:e.a.number,tickInterval:e.a.number})]),u=e.a.oneOfType([e.a.oneOf([!1]),e.a.exact({position:e.a.string,layout:e.a.string,radio:e.a.bool,title:e.a.exact({text:e.a.string,spacing:e.a.number,style:a}),offsetX:e.a.number,offsetY:e.a.number,background:e.a.exact({padding:e.a.oneOfType([e.a.number,e.a.arrayOf(e.a.number)])}),flipPage:e.a.bool,maxWidth:e.a.number,maxHeight:e.a.number,reversed:e.a.bool,itemHeight:e.a.number,itemWidth:e.a.number,itemName:e.a.exact({spacing:e.a.number,style:a,formatter:e.a.oneOfType([e.a.exact({func:e.a.string}),e.a.any])}),itemValue:e.a.exact({alignRight:e.a.bool,style:a,formatter:e.a.oneOfType([e.a.exact({func:e.a.string}),e.a.any])}),itemSpacing:e.a.number,selected:e.a.object,min:e.a.number,max:e.a.number,value:e.a.number,slidable:e.a.bool,rail:e.a.exact({type:e.a.string,size:e.a.number,defaultLength:e.a.number,style:n}),track:e.a.exact({style:n}),handler:e.a.exact({size:e.a.number,style:n})})]),h=e.a.oneOfType([e.a.oneOf([!1]),e.a.exact({type:e.a.string,offset:e.a.oneOfType([e.a.number,e.a.string]),offsetX:e.a.number,offsetY:e.a.number,style:a,autoRotate:e.a.bool,rotate:e.a.number,labelEmit:e.a.bool,position:e.a.string,layout:e.a.arrayOf(e.a.exact({type:e.a.string})),content:e.a.string,formatter:e.a.oneOfType([e.a.exact({func:e.a.string}),e.a.any]),autoHide:e.a.bool})]),d=e.a.oneOfType([e.a.oneOf([!1]),e.a.exact({fields:e.a.arrayOf(e.a.string),formatter:e.a.oneOfType([e.a.exact({func:e.a.string}),e.a.any]),follow:e.a.bool,enterable:e.a.bool,showTitle:e.a.bool,title:e.a.string,position:e.a.string,showMarkers:e.a.bool,marker:r,domStyles:e.a.object,offset:e.a.number,reversed:e.a.bool,showNil:e.a.bool,customItems:e.a.oneOfType([e.a.exact({func:e.a.string}),e.a.any])})]),f=e.a.oneOfType([e.a.oneOf([!1]),e.a.arrayOf(e.a.exact({type:e.a.string.isRequired,position:e.a.oneOfType([e.a.object,e.a.array]),top:e.a.bool,offsetX:e.a.number,offsetY:e.a.number,start:e.a.array,end:e.a.array,style:n,src:e.a.string,content:e.a.string,rotate:e.a.number,maxLength:e.a.number,autoEllipsis:e.a.bool,ellipsisPosition:e.a.string,isVertical:e.a.bool,background:e.a.exact({style:n,padding:e.a.oneOfType([e.a.number,e.a.arrayOf(e.a.number)])}),color:e.a.string,apply:e.a.arrayOf(e.a.string),autoAdjust:e.a.bool,direction:e.a.string,lineLength:e.a.number,container:e.a.string,html:e.a.string,alignX:e.a.string,alignY:e.a.string}))]),p=e.a.oneOfType([e.a.oneOf([!1]),e.a.exact({type:e.a.string,width:e.a.number,height:e.a.number,padding:e.a.oneOfType([e.a.number,e.a.arrayOf(e.a.number)]),categorySize:e.a.number,style:e.a.exact({trackColor:e.a.string,thumbColor:e.a.string,thumbHighlightColor:e.a.string,lineCap:e.a.string})})]),g=e.a.oneOfType([e.a.oneOf([!1]),e.a.exact({start:e.a.number,end:e.a.number,height:e.a.number,trendCfg:e.a.exact({data:e.a.arrayOf(e.a.number),smooth:e.a.bool,isArea:e.a.bool,backgroundStyle:n,lineStyle:i,areaStyle:n}),backgroundStyle:n,foregroundStyle:n,handlerStyle:e.a.exact({width:e.a.number,height:e.a.number,fill:e.a.string,highLightFill:e.a.string,stroke:e.a.string,opacity:e.a.number,radius:e.a.number,cursor:e.a.string}),textStyle:a,minLimit:e.a.number,maxLimit:e.a.number,formatter:e.a.oneOfType([e.a.exact({func:e.a.string}),e.a.any])})]),y=e.a.exact({styleSheet:e.a.exact({backgroundColor:e.a.string,brandColor:e.a.string,paletteQualitative10:e.a.arrayOf(e.a.string),paletteQualitative20:e.a.arrayOf(e.a.string),fontFamily:e.a.string}),defaultColor:e.a.string,padding:e.a.oneOfType([e.a.number,e.a.arrayOf(e.a.number)]),fontFamily:e.a.string,colors10:e.a.arrayOf(e.a.string),colors20:e.a.arrayOf(e.a.string)})},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}Object.create,Object.create},function(a,t,e){"use strict";e.d(t,"b",function(){return s.a}),e.d(t,"c",function(){return s.d}),e.d(t,"d",function(){return s.e}),e.d(t,"a",function(){return n});var n={},s=(e.r(n),e.d(n,"leftTranslate",function(){return c}),e.d(n,"leftRotate",function(){return u}),e.d(n,"leftScale",function(){return l}),e.d(n,"transform",function(){return r}),e.d(n,"direction",function(){return i}),e.d(n,"angleTo",function(){return o}),e.d(n,"vertical",function(){return h}),e(4));function c(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return s.a.fromTranslation(r,n),s.a.multiply(t,r,e)}function u(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return s.a.fromRotation(r,n),s.a.multiply(t,r,e)}function l(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return s.a.fromScaling(r,n),s.a.multiply(t,r,e)}function r(t,e){for(var n,r=t?[].concat(t):[1,0,0,0,1,0,0,0,1],i=0,o=e.length;i<o;i++){var a=e[i];switch(a[0]){case"t":c(r,r,[a[1],a[2]]);break;case"s":l(r,r,[a[1],a[2]]);break;case"r":u(r,r,a[1]);break;case"m":n=a[1],s.a.multiply(r,n,r)}}return r}function i(t,e){return t[0]*e[1]-e[0]*t[1]}function o(t,e,n){var r=s.d.angle(t,e),t=0<=i(t,e);return n?t?2*Math.PI-r:r:t?r:2*Math.PI-r}function h(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},function(a,t,s){"use strict";s.d(t,"i",function(){return l}),s.d(t,"b",function(){return Us}),s.d(t,"c",function(){return Dn}),s.d(t,"d",function(){return mn}),s.d(t,"g",function(){return Ln}),s.d(t,"e",function(){return yr}),s.d(t,"a",function(){return Zt}),s.d(t,"f",function(){return Zt}),s.d(t,"m",function(){return yn}),s.d(t,"p",function(){return nr}),s.d(t,"n",function(){return qn}),s.d(t,"o",function(){return $e}),s.d(t,"l",function(){return n}),s.d(t,"j",function(){return re}),s.d(t,"k",function(){return on}),s.d(t,"h",function(){return Nr});var c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var x=function(){return(x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function O(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function g(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,Object.create;var d,p,u,j=s(0);(t=d=d||{}).FORE="fore",t.MID="mid",t.BG="bg",(t=p=p||{}).TOP="top",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.RADIUS="radius",t.CIRCLE="circle",t.NONE="none",(t=u=u||{}).AXIS="axis",t.GRID="grid",t.LEGEND="legend",t.TOOLTIP="tooltip",t.ANNOTATION="annotation",t.SLIDER="slider",t.SCROLLBAR="scrollbar",t.OTHER="other";(t=l=l||{}).BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy",t.BEFORE_CHANGE_SIZE="beforechangesize",t.AFTER_CHANGE_SIZE="afterchangesize",(t=f=f||{}).BEFORE_DRAW_ANIMATE="beforeanimate",t.AFTER_DRAW_ANIMATE="afteranimate",(t=h=h||{}).MOUSE_ENTER="plot:mouseenter",t.MOUSE_DOWN="plot:mousedown",t.MOUSE_MOVE="plot:mousemove",t.MOUSE_UP="plot:mouseup",t.MOUSE_LEAVE="plot:mouseleave",t.TOUCH_START="plot:touchstart",t.TOUCH_MOVE="plot:touchmove",t.TOUCH_END="plot:touchend",t.TOUCH_CANCEL="plot:touchcancel",t.CLICK="plot:click",t.DBLCLICK="plot:dblclick",t.CONTEXTMENU="plot:contextmenu",t.LEAVE="plot:leave",t.ENTER="plot:enter",(t=za=za||{}).ACTIVE="active",t.INACTIVE="inactive",t.SELECTED="selected",t.DEFAULT="default";var l,f,h,y=["color","shape","size"],m={};function _(t,e){m[t]=e}var v=s(18);function E(t){return"number"==typeof t&&!isNaN(t)}function w(t,e,n,r){return e&&(e=t,t=getComputedStyle(e),n=(e={width:(e.clientWidth||parseInt(t.width,10))-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10),height:(e.clientHeight||parseInt(t.height,10))-parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10)}).width||n,r=e.height||r),{width:Math.max(E(n)?n:1,1),height:Math.max(E(r)?r:1,1)}}function M(t,e){return Object(j.isString)(e)?e:t.invert(t.scale(e))}function P(t){return K[t.toLowerCase()]}function C(t,e){if(P(t))throw new Error("Attribute type '"+t+"' existed.");K[t.toLowerCase()]=e}e(Q,k=s(112).a),Q.prototype.show=function(){this.visible||this.changeVisible(!0)},Q.prototype.hide=function(){this.visible&&this.changeVisible(!1)},Q.prototype.destroy=function(){this.off(),this.destroyed=!0},Q.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)};var A,S,D,T,I,k,t=Q,L=s(36),R=s(131),B=(Z.prototype.mapping=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.map(function(t,e){return n._toOriginParam(t,n.scales[e])});return this.callback.apply(this,r)},Z.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),r=this.values[n];return r+((n===e?r:this.values[n+1])-r)*(e*t-n)},Z.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i+=1)r.push(e[i]);return r},Z.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},Z.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},Z.prototype.defaultCallback=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){e=n.scales[e];return"identity"===e.type?e.values[0]:n._getAttributeValue(e,t)})},Z.prototype._parseCfg=function(t){var r=this,e=t.type,n=t.names,n=void 0===n?[]:n,i=t.scales,i=void 0===i?[]:i,o=t.values,o=void 0===o?[]:o,a=t.callback;this.type=void 0===e?"base":e,this.scales=i,this.values=o,this.names=n,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(a){var n=a.apply(void 0,t);if(!Object(j.isNil)(n))return[n]}return r.defaultCallback.apply(r,t)}},Z.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear)return n=t.translate(e),this.values[n%this.values.length];var n=t.scale(e);return this.getLinearValue(n)},Z.prototype._toOriginParam=function(t,e){return e.isLinear?t:Object(j.isArray)(t)?t.map(function(t){return M(e,t)}):M(e,t)},Z),N=s(7),F=s(84),U=(I=B,Object(N.c)(q,I),q.prototype.getLinearValue=function(t){return this.gradient(t)},q),W=(T=B,Object(N.c)(H,T),H),z=(D=B,Object(N.c)(Y,D),Y.prototype.mapping=function(t,e){var n=this.scales,r=n[0],i=n[1];return Object(j.isNil)(t)||Object(j.isNil)(e)?[]:[Object(j.isArray)(t)?t.map(function(t){return r.scale(t)}):r.scale(t),Object(j.isArray)(e)?e.map(function(t){return i.scale(t)}):i.scale(e)]},Y),G=(S=B,Object(N.c)(X,S),X.prototype.getLinearValue=function(t){t=Math.round((this.values.length-1)*t);return this.values[t]},X),B=(A=B,Object(N.c)(V,A),V),$=s(69),K={};function V(t){t=A.call(this,t)||this;return t.type="size",t.names=["size"],t}function X(t){t=S.call(this,t)||this;return t.type="shape",t.names=["shape"],t}function Y(t){t=D.call(this,t)||this;return t.names=["x","y"],t.type="position",t}function H(t){t=T.call(this,t)||this;return t.type="opacity",t.names=["opacity"],t}function q(t){t=I.call(this,t)||this;return t.type="color",t.names=["color"],Object(j.isString)(t.values)&&(t.linear=!0),t.gradient=F.a.gradient(t.values),t}function Z(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}function Q(t){var e=k.call(this)||this,t=(e.destroyed=!1,t.visible);return e.visible=void 0===t||t,e}C("Color",U),C("Opacity",W),C("Position",z),C("Shape",G),C("Size",B);var J=function(t,e){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function tt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}J(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function et(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,Object.create;function nt(t,e){at[t.toLowerCase()]=e}var rt,it,ot,b=s(12),N=(lt.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},lt.prototype.update=function(t){Object(j.assign)(this,t),this.initial()},lt.prototype.convertDim=function(t,e){var n=this[e],r=n.start,n=n.end;return this.isReflect(e)&&(r=(e=[n,r])[0],n=e[1]),r+t*(n-r)},lt.prototype.invertDim=function(t,e){var n=this[e],r=n.start,n=n.end;return this.isReflect(e)&&(r=(e=[n,r])[0],n=e[1]),(t-r)/(n-r)},lt.prototype.applyMatrix=function(t,e,n){var r=this.matrix,t=[t,e,n=void 0===n?0:n];return b.d.transformMat3(t,t,r),t},lt.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var r=this.matrix,r=b.b.invert([0,0,0,0,0,0,0,0,0],r),t=[t,e,n];return r&&b.d.transformMat3(t,t,r),t},lt.prototype.convert=function(t){var t=this.convertPoint(t),e=t.x,t=t.y,e=this.applyMatrix(e,t,1);return{x:e[0],y:e[1]}},lt.prototype.invert=function(t){t=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:t[0],y:t[1]})},lt.prototype.rotate=function(t){var e=this.matrix,n=this.center;return b.a.leftTranslate(e,e,[-n.x,-n.y]),b.a.leftRotate(e,e,t),b.a.leftTranslate(e,e,[n.x,n.y]),this},lt.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},lt.prototype.scale=function(t,e){var n=this.matrix,r=this.center;return b.a.leftTranslate(n,n,[-r.x,-r.y]),b.a.leftScale(n,n,[t,e]),b.a.leftTranslate(n,n,[r.x,r.y]),this},lt.prototype.translate=function(t,e){var n=this.matrix;return b.a.leftTranslate(n,n,[t,e]),this},lt.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},lt.prototype.getCenter=function(){return this.center},lt.prototype.getWidth=function(){return this.width},lt.prototype.getHeight=function(){return this.height},lt.prototype.getRadius=function(){return this.radius},lt.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},lt.prototype.resetMatrix=function(t){this.matrix=t||et([],this.originalMatrix)},lt),U=(tt(ut,ot=N),ut.prototype.initial=function(){ot.prototype.initial.call(this);var t=this.start,e=this.end;this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},ut.prototype.convertPoint=function(t){var e,n=t.x,t=t.y;return this.isTransposed&&(n=(e=[t,n])[0],t=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(t,"y")}},ut.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),t=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[t,n])[0],t=e[1]),{x:n,y:t}},ut),W=(tt(ct,it=N),ct.prototype.initial=function(){it.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,e=Math.min(this.width,this.height)/2;this.radius&&0<=this.radius&&this.radius<=1&&(e*=this.radius),this.d=Math.floor(e*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*e,end:this.innerRadius*e+.99*this.d}},ct.prototype.convertPoint=function(t){var e=t.x,t=t.y,n=(this.isTransposed&&(e=(n=[t,e])[0],t=n[1]),this.convertDim(e,"x")),e=this.a*n,t=this.convertDim(t,"y");return{x:this.center.x+Math.cos(n)*(e+t),y:this.center.y+Math.sin(n)*(e+t)}},ct.prototype.invertPoint=function(t){var e=this.d+this.y.start,t=b.c.subtract([0,0],[t.x,t.y],[this.center.x,this.center.y]),n=b.a.angleTo(t,[1,0],!0),r=n*this.a,r=(b.c.length(t)<r&&(r=b.c.length(t)),n=2*Math.floor((b.c.length(t)-r)/e)*Math.PI+n,this.a*n),e=b.c.length(t)-r,e=Object(j.isNumberEqual)(e,0)?0:e,t=this.invertDim(n,"x"),r=this.invertDim(e,"y"),t=Object(j.isNumberEqual)(t,0)?0:t,r=Object(j.isNumberEqual)(r,0)?0:r;return this.isTransposed&&(t=(n=[r,t])[0],r=n[1]),{x:t,y:r}},ct),z=(tt(st,rt=N),st.prototype.initial=function(){for(rt.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var t,e=this.getOneBox(),n=e.maxX-e.minX,r=e.maxY-e.minY,i=Math.abs(e.minX)/n,e=Math.abs(e.minY)/r;this.height/r>this.width/n?(t=this.width/n,this.circleCenter={x:this.center.x-(.5-i)*this.width,y:this.center.y-(.5-e)*t*r}):(t=this.height/r,this.circleCenter={x:this.center.x-(.5-i)*t*n,y:this.center.y-(.5-e)*this.height}),this.polarRadius=this.radius,this.radius?0<this.radius&&this.radius<=1?this.polarRadius=t*this.radius:(this.radius<=0||this.radius>t)&&(this.polarRadius=t):this.polarRadius=t,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},st.prototype.getRadius=function(){return this.polarRadius},st.prototype.convertPoint=function(t){var e,n=this.getCenter(),r=t.x,t=t.y;return this.isTransposed&&(r=(e=[t,r])[0],t=e[1]),r=this.convertDim(r,"x"),t=this.convertDim(t,"y"),{x:n.x+Math.cos(r)*t,y:n.y+Math.sin(r)*t}},st.prototype.invertPoint=function(t){var e=this.getCenter(),t=[t.x-e.x,t.y-e.y],e=this.startAngle,n=this.endAngle,r=(this.isReflect("x")&&(e=(r=[n,e])[0],n=r[1]),[1,0,0,0,1,0,0,0,1]),i=(b.a.leftRotate(r,r,e),[1,0,0]),r=(b.d.transformMat3(i,i,r),[i[0],i[1]]),i=b.a.angleTo(r,t,n<e),r=(Object(j.isNumberEqual)(i,2*Math.PI)&&(i=0),b.c.length(t)),t=i/(n-e),t=0<n-e?t:-t,i=this.invertDim(r,"y"),n={x:0,y:0};return n.x=this.isTransposed?i:t,n.y=this.isTransposed?t:i,n},st.prototype.getCenter=function(){return this.circleCenter},st.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}},st),at={};function st(t){var e=rt.call(this,t)||this,n=(e.isPolar=!0,e.type="polar",t.startAngle),n=void 0===n?-Math.PI/2:n,r=t.endAngle,r=void 0===r?3*Math.PI/2:r,i=t.innerRadius,i=void 0===i?0:i,t=t.radius;return e.startAngle=n,e.endAngle=r,e.innerRadius=i,e.radius=t,e.initial(),e}function ct(t){var e=it.call(this,t)||this,n=(e.isHelix=!0,e.type="helix",t.startAngle),n=void 0===n?1.25*Math.PI:n,r=t.endAngle,r=void 0===r?7.25*Math.PI:r,i=t.innerRadius,i=void 0===i?0:i,t=t.radius;return e.startAngle=n,e.endAngle=r,e.innerRadius=i,e.radius=t,e.initial(),e}function ut(t){t=ot.call(this,t)||this;return t.isRect=!0,t.type="cartesian",t.initial(),t}function lt(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,r=t.matrix,r=void 0===r?[1,0,0,0,1,0,0,0,1]:r,t=t.isTransposed,t=void 0!==t&&t;this.start=e,this.end=n,this.matrix=r,this.originalMatrix=et([],r),this.isTransposed=t}nt("rect",U),nt("cartesian",U),nt("polar",z),nt("helix",W);var ht=s(50),dt=ht.Axis.Line,ft=ht.Axis.Circle,pt=ht.Grid.Line,gt=ht.Grid.Circle,yt=ht.Legend.Category,_t=ht.Legend.Continuous,mt=ht.Tooltip.Html;function vt(t){return 1===Array.from(new Set(t)).length}function bt(t){return(Object(j.min)(t)+Object(j.max)(t))/2}function Ot(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function xt(t,e,n,r,i,o){void 0===o&&(o=0);var a=Ot(t,e,n,r),s=Ot(t,e,n,i),c=Ot(t,e,o,r),l=Ot(t,e,o,i);if(i-r==2*Math.PI)return u=Ot(t,e,n,r+Math.PI),t=Ot(t,e,o,r+Math.PI),e=[["M",a.x,a.y],["A",n,n,0,1,1,u.x,u.y],["A",n,n,0,1,1,s.x,s.y],["M",c.x,c.y]],o&&(e.push(["A",o,o,0,1,0,t.x,t.y]),e.push(["A",o,o,0,1,0,l.x,l.y])),e.push(["M",a.x,a.y]),e.push(["Z"]),e;var u=i-r<=Math.PI?0:1,t=[["M",a.x,a.y],["A",n,n,0,u,1,s.x,s.y],["L",l.x,l.y]];return o&&t.push(["A",o,o,0,u,0,c.x,c.y]),t.push(["L",a.x,a.y]),t.push(["Z"]),t}function Et(t,e,n,r,i){var o=Ot(t,e,n,r),a=Ot(t,e,n,i);if(Object(j.isNumberEqual)(i-r,2*Math.PI))return t=Ot(t,e,n,r+Math.PI),[["M",o.x,o.y],["A",n,n,0,1,1,t.x,t.y],["A",n,n,0,1,1,o.x,o.y],["A",n,n,0,1,0,t.x,t.y],["A",n,n,0,1,0,o.x,o.y],["Z"]];e=i-r<=Math.PI?0:1;return[["M",o.x,o.y],["A",n,n,0,e,1,a.x,a.y]]}function wt(t,e){var n,t=function(t){if(Object(j.isEmpty)(t))return null;var e=t[0].x,n=t[0].x,r=t[0].y,i=t[0].y;return Object(j.each)(t,function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,r=r>t.y?t.y:r,i=i<t.y?t.y:i}),{minX:e,maxX:n,minY:r,maxY:i,centerX:(e+n)/2,centerY:(r+i)/2}}(t.points),r=e.startAngle,i=e.endAngle-r,e=e.isTransposed?(n=t.maxY*i,t.minY*i):(n=t.maxX*i,t.minX*i);return{startAngle:e+=r,endAngle:n+=r}}function Mt(t,e){var t=t.attr(),n=e.attr();return Object(j.each)(t,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n}function Pt(t,e,n){var r=Math.min(e,n),e=Math.max(e,n);return r<=t&&t<=e}function Ct(e,t){return"object"==typeof e&&t.forEach(function(t){delete e[t]}),e}function At(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=new Map);for(var r=0,i=t;r<i.length;r++){var o=i[r];n.has(o)||(e.push(o),n.set(o,!0))}return e}i.fromRange=function(t,e,n,r){return new i(t,e,n-t,r-e)},i.fromObject=function(t){return new i(t.minX,t.minY,t.width,t.height)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},i.prototype.contains=function(t){return t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(j.each)(t,function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y}),n},i.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(j.each)(t,function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y}),n},i.prototype.cut=function(t,e){var n=t.width,r=t.height;switch(e){case p.TOP:case p.TOP_LEFT:case p.TOP_RIGHT:return i.fromRange(this.minX,this.minY+r,this.maxX,this.maxY);case p.RIGHT:case p.RIGHT_TOP:case p.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case p.BOTTOM:case p.BOTTOM_LEFT:case p.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-r);case p.LEFT:case p.LEFT_TOP:case p.LEFT_BOTTOM:return i.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(t){var e=t[0],n=t[1],r=t[2],t=t[3];return new i(this.x+t,this.y+e,this.width-t-n,this.height-e-r)},i.prototype.expand=function(t){var e=t[0],n=t[1],r=t[2],t=t[3];return new i(this.x-t,this.y-e,this.width+t+n,this.height+e+r)},i.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},i.prototype.collide=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},i.prototype.size=function(){return this.width*this.height},i.prototype.isPointIn=function(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY};var St=i;function i(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t=void 0===t?0:t,this.y=e,this.height=r,this.width=n}function jt(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),t=t.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Dt(t,e){t=t.getCenter();return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Tt(t,e){var n,r,i=!1;return i=t?"theta"===t.type?(r=t.start,n=t.end,Pt(e.x,r.x,n.x)&&Pt(e.y,r.y,n.y)):Pt((r=t.invert(e)).x,0,1)&&Pt(r.y,0,1):i}function It(t,e){t=t.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function kt(t,e){void 0===e&&(e=0);var n,r,i,o,a,s=t.start,l=t.end,c=t.getWidth(),u=t.getHeight();return t.isPolar?(r=t.startAngle,i=t.endAngle,o=t.getCenter(),a=t.getRadius(),{type:"path",startState:{path:xt(o.x,o.y,a+e,r,r)},endState:function(t){return{path:xt(o.x,o.y,a+e,r,(i-r)*t+r)}},attrs:{path:xt(o.x,o.y,a+e,r,i)}}):(n=t.isTransposed?{height:u+2*e}:{width:c+2*e},{type:"rect",startState:{x:s.x-e,y:l.y-e,width:t.isTransposed?c+2*e:0,height:t.isTransposed?0:u+2*e},endState:n,attrs:{x:s.x-e,y:l.y-e,width:c+2*e,height:u+2*e}})}var Lt=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Rt(t,e,n,r){return(e=void 0===e?{}:e).type||("identity"!==t.type&&y.includes(n)&&["interval"].includes(r)||t.isCategory?"cat":t.type)}function Bt(t){return t.alias||t.field}function Nt(t,e,n){var r,t=t.values.length;return 1===t?[.5,1]:(r=0,function(){var t;if(e.isPolar)return t=e.startAngle,e.endAngle-t==2*Math.PI}()?e.isTransposed?[(r=1/t*Object(j.get)(n,"widthRatio.multiplePie",1/1.3))/2,1-r/2]:[0,1-1/t]:[r=1/t/2,1-r])}function Ft(t,n){var e={start:{x:0,y:0},end:{x:0,y:0}},r=(t.isRect?e=function(){var t,e;switch(n){case p.TOP:t={x:0,y:1},e={x:1,y:1};break;case p.RIGHT:t={x:1,y:0},e={x:1,y:1};break;case p.BOTTOM:t={x:0,y:0},e={x:1,y:0};break;case p.LEFT:t={x:0,y:0},e={x:0,y:1};break;default:t=e={x:0,y:0}}return{start:t,end:e}}():t.isPolar&&(i=t.isTransposed?(r={x:0,y:0},{x:1,y:0}):(r={x:0,y:0},{x:0,y:1}),e={start:r,end:i}),e.start),i=e.end;return{start:t.convert(r),end:t.convert(i)}}function Ut(t){var e=t.start,t=t.end;return e.x===t.x}function Wt(t,e){var n=t.start,r=t.end;return Ut(t)?0<(n.y-r.y)*(e.x-n.x)?1:-1:0<(r.x-n.x)*(n.y-e.y)?-1:1}function zt(t,e){t=Object(j.get)(t,["components","axis"],{});return Object(j.deepMix)({},Object(j.get)(t,["common"],{}),Object(j.deepMix)({},Object(j.get)(t,[e],{})))}function Gt(t,e,n){t=Object(j.get)(t,["components","axis"],{});return Object(j.deepMix)({},Object(j.get)(t,["common","title"],{}),Object(j.deepMix)({},Object(j.get)(t,[e,"title"],{})),n)}function $t(t){var e=t.x,n=t.y,r=t.circleCenter,n=n.start>n.end,t=t.isTransposed?t.convert({x:n?0:1,y:0}):t.convert({x:0,y:n?0:1}),n=[t.x-r.x,t.y-r.y],i=[1,0],n=t.y>r.y?b.c.angle(n,i):-1*b.c.angle(n,i),i=n+(e.end-e.start);return{center:r,radius:Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)),startAngle:n,endAngle:i}}function Kt(t,e){return Object(j.isBoolean)(t)?!1!==t&&{}:Object(j.get)(t,[e])}function Vt(t,e){return Object(j.get)(t,"position",e)}function Xt(t,e){return Object(j.get)(e,["title","text"],Bt(t))}function Yt(t,e){qt[Object(j.lowerCase)(t)]=e}ne.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},ne.prototype.render=function(){this.renderViews()},ne.prototype.update=function(){},ne.prototype.clear=function(){this.clearFacetViews()},ne.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},ne.prototype.facetToView=function(t){var e=t.region,n=t.data,r=t.padding,r=void 0===r?this.cfg.padding:r,e=this.view.createView({region:e,padding:r}),r=(e.data(n||[]),t.view=e,this.beforeEachView(e,t),this.cfg.eachView);return r&&r(e,t),this.afterEachView(e,t),e},ne.prototype.createContainer=function(){return this.view.getLayer(d.FORE).addGroup()},ne.prototype.renderViews=function(){this.createFacetViews()},ne.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},ne.prototype.clearFacetViews=function(){var e=this;Object(j.each)(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},ne.prototype.parseSpacing=function(){var t=this.view.viewBBox,n=t.width,r=t.height;return this.cfg.spacing.map(function(t,e){return Object(j.isNumber)(t)?t/(0===e?n:r):parseFloat(t)/100})},ne.prototype.getFieldValues=function(t,e){var n=[],r={};return Object(j.each)(t,function(t){t=t[e];Object(j.isNil)(t)||r[t]||(n.push(t),r[t]=!0)}),n},ne.prototype.getRegion=function(t,e,n,r){var i=this.parseSpacing(),o=i[0],i=i[1],e=(1+o)/(0===e?1:e)-o,t=(1+i)/(0===t?1:t)-i,o={x:(e+o)*n,y:(t+i)*r};return{start:o,end:{x:o.x+e,y:o.y+t}}},ne.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},ne.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},ne.prototype.processAxis=function(t,e){var n,r,i,o=t.getOptions(),a=o.coordinate,t=t.geometries;"rect"===Object(j.get)(a,"type","rect")&&t.length&&(Object(j.isNil)(o.axes)&&(o.axes={}),a=o.axes,n=(t=t[0].getXYFields())[0],t=t[1],r=Kt(a,n),i=Kt(a,t),!1!==r&&(o.axes[n]=this.getXAxisOption(n,a,r,e)),!1!==i&&(o.axes[t]=this.getYAxisOption(t,a,i,e)))},ne.prototype.getFacetDataFilter=function(t){return function(n){return Object(j.every)(t,function(t){var e=t.field,t=t.value;return!(!Object(j.isNil)(t)&&e)||n[e]===t})}};var Ht,G=ne,qt={},Zt=(ee.prototype.applyCfg=function(t){Object(j.assign)(this,t)},ee.prototype.init=function(){this.applyCfg(this.cfg)},ee.prototype.destroy=function(){this.context.removeAction(this),this.context=null},ee),Qt=(e(te,Ht=Zt),te.prototype.execute=function(){this.callback&&this.callback(this.context)},te.prototype.destroy=function(){Ht.prototype.destroy.call(this),this.callback=null},te),Jt={};function te(){return null!==Ht&&Ht.apply(this,arguments)||this}function ee(t,e){this.context=t,this.cfg=e,t.addAction(this)}function ne(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Object(j.deepMix)({},this.getDefaultCfg(),e)}function re(t){t=Jt[t];return Object(j.get)(t,"ActionClass")}function n(t,e,n){Jt[t]={ActionClass:e,cfg:n}}function ie(t,e){for(var n=[t[0]],r=1,i=t.length;r<i;r+=2){var o=e.convert({x:t[r],y:t[r+1]});n.push(o.x,o.y)}return n}function oe(t,e){var n=e.isTransposed,r=t[1],i=t[6],t=t[7],e=e.convert({x:i,y:t});return["A",r,r,0,0,n?0:1,e.x,e.y]}function ae(t,e,v){for(var e=!!e,n=[],r=0,u=t.length;r<u;r+=2)n.push([t[r],t[r+1]]);for(var i,o,a,s=function(t,e){var l,n=[],h=!!v;if(h){f=v[0],p=v[1];for(var r=0,d=t.length;r<d;r++)var i=t[r],f=b.c.min([0,0],f,i),p=b.c.max([0,0],p,i)}for(var r=0,g=t.length;r<g;r++){var o,y,_,m,a,s,c,u,i=t[r];0!==r||e?r!==g-1||e?(o=t[!e||r?r-1:g-1],y=t[e?(r+1)%g:r+1],s=b.c.sub(s=[0,0],y,o),s=b.c.scale(s,s,.4),0!==(a=(_=b.c.distance(i,o))+(m=b.c.distance(i,y)))&&(_/=a,m/=a),a=b.c.scale([0,0],s,-_),s=b.c.scale([0,0],s,m),c=b.c.add([0,0],i,a),u=b.c.add([0,0],i,s),u=b.c.min([0,0],u,b.c.max([0,0],y,i)),u=b.c.max([0,0],u,b.c.min([0,0],y,i)),a=b.c.sub([0,0],u,i),a=b.c.scale([0,0],a,-_/m),c=b.c.add([0,0],i,a),c=b.c.min([0,0],c,b.c.max([0,0],o,i)),c=b.c.max([0,0],c,b.c.min([0,0],o,i)),s=b.c.sub([0,0],i,c),s=b.c.scale([0,0],s,m/_),u=b.c.add([0,0],i,s),h&&(c=b.c.max([0,0],c,f),c=b.c.min([0,0],c,p),u=b.c.max([0,0],u,f),u=b.c.min([0,0],u,p)),n.push(l),n.push(c),l=u):(c=i,n.push(l),n.push(c)):l=i}return e&&n.push(n.shift()),n}(n,e),c=n.length,l=[],r=0;r<c-1;r++)i=s[2*r],o=s[2*r+1],a=n[r+1],l.push(["C",i[0],i[1],o[0],o[1],a[0],a[1]]);return e&&(i=s[c],o=s[c+1],a=n[0],l.push(["C",i[0],i[1],o[0],o[1],a[0],a[1]])),l}function se(t,e){var n=t,t=e,r=[];if(n.length){r.push(["M",n[0].x,n[0].y]);for(var i=1,o=n.length;i<o;i+=1){var a=n[i];r.push(["L",a.x,a.y])}t&&r.push(["Z"])}return r}function ce(t,e,n){var r=[],i=t[0],o=null;if(t.length<=2)return se(t,e);for(var a=0,s=t.length;a<s;a++){var c=t[a];o&&o.x===c.x&&o.y===c.y||(r.push(c.x),r.push(c.y),o=c)}e=ae(r,e,n||[[0,0],[1,1]]);return e.unshift(["M",i.x,i.y]),e}function ue(h,d){var f,p,n,g=[];return Object(j.each)(d,function(t,l){switch(t[0].toLowerCase()){case"m":case"c":case"q":g.push(ie(t,h));break;case"l":f=d[l-1],p=t,(h.isTransposed?f[f.length-2]===p[1]:f[f.length-1]===p[2])?g=g.concat((e=f,n=p,i=(r=h).isTransposed,o=r.startAngle,a=r.endAngle,e="a"===e[0].toLowerCase()?{x:e[6],y:e[7]}:{x:e[1],y:e[2]},n={x:n[1],y:n[2]},s=[],i=i?"y":"x",a=Math.abs(n[i]-e[i])*(a-o),o=e[i]<=n[i]?1:0,i=a>Math.PI?1:0,c=r.convert(n),.5<=(u=Dt(r,c))&&(a==2*Math.PI&&(a=r.convert({x:(n.x+e.x)/2,y:(n.y+e.y)/2}),s.push(["A",u,u,0,i,o,a.x,a.y])),s.push(["A",u,u,0,i,o,c.x,c.y])),s)):g.push(ie(t,h));break;case"a":g.push(oe(t,h));break;default:g.push(t)}var e,n,r,i,o,a,s,c,u}),n=g,Object(j.each)(n,function(t,e){"a"===t[0].toLowerCase()&&(t=n[e-1],(e=n[e+1])&&"a"===e[0].toLowerCase()?t&&"l"===t[0].toLowerCase()&&(t[0]="M"):t&&"a"===t[0].toLowerCase()&&e&&"l"===e[0].toLowerCase()&&(e[0]="M"))}),g}var le=s(59);function he(t,e){t=t.event.target.getCanvasBBox();return t.width>=e||t.height>=e?t:null}function de(t){var e,t=t.event.target;return e=t?t.get("element"):e}function fe(t){var e,t=t.event.target;return e=t?t.get("delegateObject"):e}function pe(t){t=t.event.gEvent;return!(t&&t.fromShape&&t.toShape&&t.fromShape.get("element")===t.toShape.get("element"))}function ge(t){return t&&t.component&&t.component.isList()}function ye(t){return t&&t.component&&t.component.isSlider()}function _e(t){t=t.event.target;return t&&"mask"===t.get("name")}function me(t,e){var n,r,i;if("path"===t.event.target.get("type"))return r=e,i=t.event.target,(o=(o=i.getCanvasBBox()).width>=r||o.height>=r?i.attr("path"):null)?(r=o,i=be(t.view),n=we(r),i.filter(function(t){var t=t.shape;return t="path"===t.get("type")?we(t.attr("path")):[[(t=t.getCanvasBBox()).minX,t.minY],[t.maxX,t.minY],[t.maxX,t.maxY],[t.minX,t.maxY]],Object(le.b)(n,t)})):void 0;var o=he(t,e);return o?Ee(t.view,o):null}function ve(t,e,n){n=he(t,n);if(!n)return null;var t=t.view,r=Se(t,e,{x:n.x,y:n.y}),t=Se(t,e,{x:n.maxX,y:n.maxY});return Ee(e,{minX:r.x,minY:r.y,maxX:t.x,maxY:t.y})}function be(t){var e=t.geometries,n=[];return Object(j.each)(e,function(t){t=t.elements;n=n.concat(t)}),t.views&&t.views.length&&Object(j.each)(t.views,function(t){n=n.concat(be(t))}),n}function Oe(t,e){var t=t.geometries,n=[];return Object(j.each)(t,function(t){t=t.getElementsBy(function(t){return t.hasState(e)});n=n.concat(t)}),n}function xe(t,e){t=t.getModel().data;return(Object(j.isArray)(t)?t[0]:t)[e]}function Ee(t,n){var t=be(t),r=[];return Object(j.each)(t,function(t){var e=t.shape.getCanvasBBox();e.minX>n.maxX||e.maxX<n.minX||e.minY>n.maxY||e.maxY<n.minY||r.push(t)}),r}function we(t){var r=[];return Object(j.each)(t,function(t){if("A"!==t[0])for(var e=1;e<t.length;e+=2)r.push([t[e],t[e+1]]);else{var n=t.length;r.push([t[n-2],t[n-1]])}}),r}function Me(t){return t.getComponents().map(function(t){return t.component})}function Pe(t,e){var n=e.x-t.x,e=e.y-t.y;return Math.sqrt(n*n+e*e)}function Ce(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function Ae(e){var t=e.parent,n=null;return n=t?t.views.filter(function(t){return t!==e}):n}function Se(t,e,n){n=n;t=t.getCoordinate().invert(n);return e.getCoordinate().convert(t)}function je(t,e,n,r){var i=!1;return Object(j.each)(t,function(t){if(t[n]===e[n]&&t[r]===e[r])return!(i=!0)}),i}function De(t,e){var n=t.getScaleByField(e);return!n&&t.views&&Object(j.each)(t.views,function(t){if(n=De(t,e))return!1}),n}ke.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},ke.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},ke.prototype.addAction=function(t){this.actions.push(t)},ke.prototype.removeAction=function(t){var e=this.actions,t=this.actions.indexOf(t);0<=t&&e.splice(t,1)},ke.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},ke.prototype.getCurrentShape=function(){return Object(j.get)(this.event,["gEvent","shape"])},ke.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},ke.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},ke.prototype.isInComponent=function(n){var t=Me(this.view),r=this.getCurrentPoint();return!!r&&!!t.find(function(t){var e=t.getBBox();return(!n||t.get("name")===n)&&Ce(e,r)})},ke.prototype.destroy=function(){Object(j.each)(this.actions.slice(),function(t){t.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null};var Te=ke;function Ie(t,e){this.view=t,this.cfg=e}function ke(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}function Le(t,e,n){var r,i,o,t=t.split(":"),a=t[0],e=e.getAction(a)||(i=Jt[r=a],o=null,i&&((o=new i.ActionClass(e,i.cfg)).name=r,o.init()),o);if(!e)throw new Error("There is no action named ".concat(a));return{action:e,methodName:t[1],arg:n}}function Re(t){var e=t.action,n=t.methodName,t=t.arg;if(!e[n])throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(n));e[n](t)}Ie.prototype.init=function(){this.initEvents()},Ie.prototype.initEvents=function(){},Ie.prototype.clearEvents=function(){},Ie.prototype.destroy=function(){this.clearEvents()};var Be,Ne="start",Fe="showEnable",Ue="processing",We=(e(Ge,Be=Ie),Ge.prototype.init=function(){this.initContext(),Be.prototype.init.call(this)},Ge.prototype.destroy=function(){Be.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},Ge.prototype.initEvents=function(){var r=this;Object(j.each)(this.steps,function(t,n){Object(j.each)(t,function(t){var e=r.getActionCallback(n,t);e&&r.bindEvent(t.trigger,e)})})},Ge.prototype.clearEvents=function(){var r=this;Object(j.each)(this.steps,function(t,n){Object(j.each)(t,function(t){var e=r.getActionCallback(n,t);e&&r.offEvent(t.trigger,e)})})},Ge.prototype.initContext=function(){var t=this.view,i=new Te(t),t=(this.context=i,this.steps);Object(j.each)(t,function(t){Object(j.each)(t,function(n){var r,t,e;Object(j.isFunction)(n.action)?n.actionObject={action:(t=n.action,(e=new Qt(e=i)).callback=t,e.name="callback",e),methodName:"execute"}:Object(j.isString)(n.action)?n.actionObject=Le(n.action,i,n.arg):Object(j.isArray)(n.action)&&(t=n.action,r=Object(j.isArray)(n.arg)?n.arg:[n.arg],n.actionObject=[],Object(j.each)(t,function(t,e){n.actionObject.push(Le(t,i,r[e]))}))})})},Ge.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===Fe)return!0;if(t===Ue)return e===Ne;if(t===Ne)return e!==Ue;if("end"===t)return e===Ue||e===Ne;if("rollback"===t){if(n.end)return"end"===e;if(e===Ne)return!0}return!1},Ge.prototype.isAllowExecute=function(t,e){return!!this.isAllowStep(t)&&(t=this.getKey(t,e),(!e.once||!this.emitCaches[t])&&(!e.isEnable||e.isEnable(this.context)))},Ge.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},Ge.prototype.afterExecute=function(t,e){t!==Fe&&this.currentStepName!==t&&this.enterStep(t);t=this.getKey(t,e);this.emitCaches[t]=!0},Ge.prototype.getKey=function(t,e){return t+e.trigger+e.action},Ge.prototype.getActionCallback=function(t,n){var e,r,i=this,o=this.context,a=this.callbackCaches,s=n.actionObject;return n.action&&s?(a[e=this.getKey(t,n)]||(r=function(e){o.event=e,i.isAllowExecute(t,n)?(Object(j.isArray)(s)?Object(j.each)(s,function(t){o.event=e,Re(t)}):(o.event=e,Re(s)),i.afterExecute(t,n),n.callback&&(o.event=e,n.callback(o))):o.event=null},n.debounce?a[e]=Object(j.debounce)(r,n.debounce.wait,n.debounce.immediate):n.throttle?a[e]=Object(j.throttle)(r,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):a[e]=r),a[e]):null},Ge.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},Ge.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},Ge),ze={};function Ge(t,e){t=Be.call(this,t,e)||this;return t.callbackCaches={},t.emitCaches={},t.steps=e,t}function $e(t,e){ze[Object(j.lowerCase)(t)]=e}function Ke(t){var n={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",spacing:t.axisTitleSpacing,style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:t.axisLabelOffset,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0},r={title:null,marker:{symbol:"circle",spacing:t.legendMarkerSpacing,style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:t.legendPageNavigatorMarkerSize,inactiveFill:t.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:t.legendPageNavigatorMarkerInactiveFillOpacity,fill:t.legendPageNavigatorMarkerFillColor,opacity:t.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:t.legendPageNavigatorTextFillColor,fontSize:t.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:t.legendItemSpacing,itemMarginBottom:t.legendItemMarginBottom,padding:t.legendPadding};return{background:t.backgroundColor,defaultColor:t.brandColor,subColor:t.subColor,semanticRed:t.paletteSemanticRed,semanticGreen:t.paletteSemanticGreen,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,sequenceColors:t.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;return e.isPolar&&e.isTransposed?(e=((t=wt(t.getModel(),e)).startAngle+t.endAngle)/2,t=7.5*Math.cos(e),e=7.5*Math.sin(e),{matrix:b.a.transform(null,[["t",t,e]])}):n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:x(x({},n.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:x(x({},n.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:x(x({},n.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:x(x({},n.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:x(x({},n.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:x(x({},n.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:x(x({},n.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:x(x({},n.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},violin:{violin:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hollow:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"hollow-smooth":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}}},components:{axis:{common:e,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Object(j.deepMix)({},e.grid,{line:{type:"line"}})},radius:{title:null,grid:Object(j.deepMix)({},e.grid,{line:{type:"circle"}})}},legend:{common:r,right:{layout:"vertical",padding:t.legendVerticalPadding},left:{layout:"vertical",padding:t.legendVerticalPadding},top:{layout:"horizontal",padding:t.legendHorizontalPadding},bottom:{layout:"horizontal",padding:t.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0,padding:r.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:((e={})["".concat(ht.TOOLTIP_CSS_CONST.CONTAINER_CLASS)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:"".concat(t.tooltipContainerBorderRadius,"px"),color:t.tooltipTextFillColor,fontSize:"".concat(t.tooltipTextFontSize,"px"),fontFamily:t.fontFamily,lineHeight:"".concat(t.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(ht.TOOLTIP_CSS_CONST.TITLE_CLASS)]={marginBottom:"12px",marginTop:"12px"},e["".concat(ht.TOOLTIP_CSS_CONST.LIST_CLASS)]={margin:0,listStyleType:"none",padding:0},e["".concat(ht.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(ht.TOOLTIP_CSS_CONST.MARKER_CLASS)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(ht.TOOLTIP_CSS_CONST.VALUE_CLASS)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:t.cSliderBackgroundFillColor,opacity:t.cSliderBackgroundFillOpacity},foregroundStyle:{fill:t.cSliderForegroundFillColor,opacity:t.cSliderForegroundFillOpacity},handlerStyle:{width:t.cSliderHandlerWidth,height:t.cSliderHandlerHeight,fill:t.cSliderHandlerFillColor,opacity:t.cSliderHandlerFillOpacity,stroke:t.cSliderHandlerBorderColor,lineWidth:t.cSliderHandlerBorder,radius:t.cSliderHandlerBorderRadius,highLightFill:t.cSliderHandlerHighlightFillColor},textStyle:{fill:t.cSliderTextFillColor,opacity:t.cSliderTextFillOpacity,fontSize:t.cSliderTextFontSize,lineHeight:t.cSliderTextLineHeight,fontWeight:t.cSliderTextFontWeight,stroke:t.cSliderTextBorderColor,lineWidth:t.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:t.scrollbarTrackFillColor,thumbColor:t.scrollbarThumbFillColor}},hover:{style:{thumbColor:t.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},fillColorDark:t.labelFillColorDark,fillColorLight:t.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:t.overflowLabelFillColor,fontSize:t.overflowLabelFontSize,fontFamily:t.fontFamily,stroke:t.overflowLabelBorderColor,lineWidth:t.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}function Ve(t){var e=(t=void 0===t?{}:t).backgroundColor,n=t.subColor,r=void 0===(r=t.paletteQualitative10)?Je:r,i=t.paletteQualitative20,o=t.paletteSemanticRed,a=t.paletteSemanticGreen,s=t.paletteSemanticYellow,c=t.paletteSequence,u=t.fontFamily,t=void 0===(t=t.brandColor)?r[0]:t;return{backgroundColor:void 0===e?"transparent":e,brandColor:t,subColor:void 0===n?"rgba(0,0,0,0.05)":n,paletteQualitative10:r,paletteQualitative20:void 0===i?tn:i,paletteSemanticRed:void 0===o?"#F4664A":o,paletteSemanticGreen:void 0===a?"#30BF78":a,paletteSemanticYellow:void 0===s?"#FAAD14":s,paletteSequence:void 0===c?en:c,fontFamily:void 0===u?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':u,axisLineBorderColor:qe,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ye,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:qe,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ze,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:He,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ze,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:He,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:t,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ye,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Xe,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Xe,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:He,legendPageNavigatorTextFontSize:12,sliderRailFillColor:Ze,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:He,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:qe,annotationArcBorderColor:Ze,annotationArcBorder:1,annotationLineBorderColor:qe,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ye,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Xe,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:qe,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ye,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ye,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Qe,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ye,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Qe,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:qe,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:t,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Qe,pointBorderOpacity:1,pointActiveBorderColor:Xe,pointSelectedBorder:2,pointSelectedBorderColor:Xe,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:t,hollowPointBorderOpacity:.95,hollowPointFillColor:Qe,hollowPointActiveBorder:1,hollowPointActiveBorderColor:Xe,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Xe,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:t,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:t,areaFillOpacity:.25,areaActiveFillColor:t,areaActiveFillOpacity:.5,areaSelectedFillColor:t,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:t,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Xe,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Xe,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:t,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Xe,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Xe,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:t,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Qe,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Xe,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Xe,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}}var Xe="#000",Ye="#595959",He="#8C8C8C",qe="#BFBFBF",Ze="#D9D9D9",Qe="#FFFFFF",Je=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],tn=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],en=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"];function nn(t){var e=t.styleSheet,e=void 0===e?{}:e,t=O(t,["styleSheet"]),e=Ve(e);return Object(j.deepMix)({},Ke(e),t)}Ve();var rn={default:nn({})};function on(t){return Object(j.get)(rn,Object(j.lowerCase)(t),rn.default)}function an(t,e,n){t=n.translate(t),n=n.translate(e);return Object(j.isNumberEqual)(t,n)}function sn(t,e,n){var r=n.coordinate,n=n.getYScale(),i=n.field,r=r.invert(e),o=n.invert(r.y);return Object(j.find)(t,function(t){t=t._origin;return t[i][0]<=o&&t[i][1]>=o})||t[t.length-1]}var cn=Object(j.memoize)(function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,r=t.translate(e[0]),i=r,o=0;o<n;o++){var a=e[o],a=t.translate(a);a<r&&(r=a),i<a&&(i=a)}return(i-r)/(n-1)});function un(t){for(var e,n=0,r=function(t){t=Object(j.values)(t.attributes);return Object(j.filter)(t,function(t){return Object(j.contains)(y,t.type)})}(t);n<r.length;n++){var i=r[n],o=i.getScale(i.type);if(o&&o.isLinear&&"cat"!==Rt(o,Object(j.get)(t.scaleDefs,o.field),i.type,t.type)){e=o;break}}var a=t.getXScale(),s=t.getYScale();return e||s||a}function ln(l,t,e){if(0===t.length)return null;var h=e.type,n=e.getXScale(),d=e.getYScale(),r=n.field,f=d.field,i=null;if("heatmap"===h||"point"===h){for(var h=e.coordinate.invert(l),p=n.invert(h.x),g=d.invert(h.y),y=1/0,o=0;o<t.length;o++){var _=t[o],a=_._origin,m=Math.pow(a[r]-p,2)+Math.pow(a[f]-g,2);m<y&&(y=m,i=_)}return i}var v,h=t[0],s=t[t.length-1],c=(v=l,b=(S=e).coordinate,S=S.getXScale(),u=S.range,O=u[u.length-1],u=u[0],v=b.invert(v).x,b.isPolar&&(1+O)/2<v&&(v=u),S.translate(S.invert(v))),b=h._origin[r],O=h._origin[f],u=s._origin[r],x=d.isLinear&&Object(j.isArray)(O);if(Object(j.isArray)(b)){for(o=0;o<t.length;o++)if(a=(E=t[o])._origin,n.translate(a[r][0])<=c&&n.translate(a[r][1])>=c){if(!x){i=E;break}(i=Object(j.isArray)(i)?i:[]).push(E)}Object(j.isArray)(i)&&(i=sn(i,l,e))}else{var E,w=void 0;if(n.isLinear||"timeCat"===n.type){if((c>n.translate(u)||c<n.translate(b))&&(c>n.max||c<n.min))return null;for(var M,P=0,C=t.length-1;P<=C;){var A=t[M=Math.floor((P+C)/2)]._origin[r];if(an(A,c,n))return t[M];n.translate(A)<=n.translate(c)?(s=t[M],w=t[P=M+1]):(0===C&&(s=t[0]),C=M-1)}}else{for(o=0;o<t.length;o++)if(an((a=(E=t[o])._origin)[r],c,n)){if(!x){i=E;break}(i=Object(j.isArray)(i)?i:[]).push(E)}else n.translate(a[r])<=c&&(s=E,w=t[o+1]);Object(j.isArray)(i)&&(i=sn(i,l,e))}s&&w&&Math.abs(n.translate(s._origin[r])-c)>Math.abs(n.translate(w._origin[r])-c)&&(s=w)}var S=cn(e.getXScale());return i=!i&&Math.abs(n.translate(s._origin[r])-c)<=S/2?s:i}function hn(n,t,e,r){void 0===r&&(r=!1);var i,o,l,a=n._origin,h=(c=a,e=e=void 0===e?"":e,s=(u=t).getAttribute("position").getFields(),u=u.scales,s=Object(j.isFunction)(e)||!e?s[0]:e,u=(u=u[s])?u.getText(c[s]):c[s]||s,Object(j.isFunction)(e)?e(u,c):u),s=t.tooltipOption,d=t.theme.defaultColor,f=[];function p(t,e){(r||!Object(j.isNil)(e)&&""!==e)&&(t={title:h,data:a,mappingData:n,name:t,value:e,color:n.color||d,marker:!0},f.push(t))}if(Object(j.isObject)(s)){var e=s.fields,c=s.callback;if(c){var u=e.map(function(t){return n._origin[t]}),s=c.apply(void 0,u),c=x({data:n._origin,mappingData:n,title:h,color:n.color||d,marker:!0},s);f.push(c)}else for(var g=t.scales,y=0,_=e;y<_.length;y++){var m,v=_[y];Object(j.isNil)(a[v])||p(Bt(m=g[v]),i=m.getText(a[v]))}}else{var u=un(t);s=a[(l=u).field],i=Object(j.isArray)(s)?s.map(function(t){return l.getText(t)}).join("-"):l.getText(s),p((c=a,u=(e=t).getGroupScales(),(o=u.length?u[0]:o)?(u=o.field,o.getText(c[u])):Bt(un(e))),i)}return f}function dn(t,e,n,r){var r=r.showNil,i=[],e=t.container.getShape(e.x,e.y);return e&&e.get("visible")&&e.get("origin")&&((e=hn(e.get("origin").mappingData,t,n,r)).length&&i.push(e)),i}function fn(t,e,n){for(var r=[],t=t.geometries,i=n.shared,l=n.title,h=n.reversed,o=0,a=t;o<a.length;o++){var s,c,u=a[o];u.visible&&!1!==u.tooltipOption&&(s=u.type,c=void 0,(c=(!["point","edge","polygon"].includes(s)&&(["area","line","path","heatmap"].includes(s)||!1!==i)?function(t,e,n,r){var i=r.showNil,o=[],r=t.dataArray;if(!Object(j.isEmpty)(r)){t.sort(r);for(var a=0,s=r;a<s.length;a++){var c,u=ln(e,s[a],t);u&&(c=t.getElementId(u),c=t.elementsMap[c],"heatmap"!==t.type&&!c.visible||(c=hn(u,t,n,i)).length&&o.push(c))}}return o}:dn)(u,e,l,n)).length&&(h&&c.reverse(),r.push(c)))}return r}function pn(t){void 0===t&&(t=0);var e=Object(j.isArray)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=g(g([],e,!0),e,!0);break;case 3:e=g(g([],e,!0),[e[1]],!1);break;default:e=e.slice(0,4)}return e}var gn={};function yn(t,e){gn[t]=e}bn.prototype.update=function(t){return this.option=this.wrapperOption(t),this},bn.prototype.hasAction=function(e){var t=this.option.actions;return Object(j.some)(t,function(t){return t[0]===e})},bn.prototype.create=function(t,e){var n=this.option,r=n.type,n=n.cfg,i="theta"===r,t=x({start:t,end:e},n),e=at[(i?"polar":r).toLowerCase()];return this.coordinate=new e(t),this.coordinate.type=r,i&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},bn.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},bn.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},bn.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},bn.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},bn.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},bn.prototype.getOption=function(){return this.option},bn.prototype.getCoordinate=function(){return this.coordinate},bn.prototype.wrapperOption=function(t){return x({type:"rect",actions:[],cfg:{}},t)},bn.prototype.execActions=function(r){var i=this,t=this.option.actions;Object(j.each)(t,function(t){var e,n=t[0],t=t.slice(1);(Object(j.isNil)(r)||r.includes(n))&&(e=i.coordinate)[n].apply(e,t)})};var _n=bn,mn=(vn.fromData=function(t,e,n){return new vn(t,new L.Event(e,{}),n)},Object.defineProperty(vn.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(vn.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(vn.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(vn.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(vn.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(vn.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),vn.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},vn.prototype.clone=function(){return new vn(this.view,this.gEvent,this.data)},vn);function vn(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}function bn(t){this.option=this.wrapperOption(t)}function On(t){var e=t.getController("axis"),n=t.getController("legend"),r=t.getController("annotation");[e,t.getController("slider"),t.getController("scrollbar"),n,r].forEach(function(t){t&&t.layout()})}Mn.prototype.createScale=function(t,e,n,r){var i,o=n,a=this.getScaleMeta(r),s=(0===e.length&&a&&(i={type:(s=a.scale).type},s.isCategory&&(i.values=s.values),o=Object(j.deepMix)(i,a.scaleDef,n)),function(t,e,n){if(e=e||[],Object(j.isNumber)(t)||Object(j.isNil)(Object(j.firstValue)(e,t))&&Object(j.isEmpty)(n))return new(Object($.c)("identity"))({field:t.toString(),values:[t]});var r,e=Object(j.valuesOfKey)(e,t),i=Object(j.get)(n,"type",(i=e[0],r="linear",Lt.test(i)?r="timeCat":Object(j.isString)(i)&&(r="cat"),r));return new(Object($.c)(i))(x({field:t,values:e},n))}(t,e,o));return this.cacheScale(s,n,r),s},Mn.prototype.sync=function(a,s){var c=this;this.syncScales.forEach(function(t,e){var r=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,o=[];Object(j.each)(t,function(t){t=c.getScale(t);i=Object(j.isNumber)(t.max)?Math.max(i,t.max):i,r=Object(j.isNumber)(t.min)?Math.min(r,t.min):r,Object(j.each)(t.values,function(t){o.includes(t)||o.push(t)})}),Object(j.each)(t,function(t){var e,n=c.getScale(t);n.isContinuous?n.change({min:r,max:i,values:o}):n.isCategory&&(e=n.range,t=c.getScaleMeta(t),o&&!Object(j.get)(t,["scaleDef","range"])&&(e=Nt(Object(j.deepMix)({},n,{values:o}),a,s)),n.change({values:o,range:e}))})})},Mn.prototype.cacheScale=function(t,e,n){var r=this.getScaleMeta(n);if(r&&r.scale.type===t.type){var i=r.scale,o=t;if("identity"!==i.type&&"identity"!==o.type){var a,s={};for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a]);i.change(s)}r.scaleDef=e}else this.scales.set(n,r={key:n,scale:t,scaleDef:e});i=this.getSyncKey(r);r.syncKey=i,this.removeFromSyncScales(n),i&&((t=this.syncScales.get(i))||this.syncScales.set(i,t=[]),t.push(n))},Mn.prototype.getScale=function(t){var e=this.getScaleMeta(t);return e||(t=Object(j.last)(t.split("-")),(t=this.syncScales.get(t))&&t.length&&(e=this.getScaleMeta(t[0]))),e&&e.scale},Mn.prototype.deleteScale=function(t){var e,n=this.getScaleMeta(t);n&&(n=n.syncKey,(n=this.syncScales.get(n))&&n.length&&(-1!==(e=n.indexOf(t))&&n.splice(e,1))),this.scales.delete(t)},Mn.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},Mn.prototype.removeFromSyncScales=function(r){var i=this;this.syncScales.forEach(function(t,e){var n=t.indexOf(r);if(-1!==n)return t.splice(n,1),0===t.length&&i.syncScales.delete(e),!1})},Mn.prototype.getSyncKey=function(t){var e=t.scale,t=t.scaleDef,e=e.field,t=Object(j.get)(t,["sync"]);return!0===t?e:!1===t?void 0:t},Mn.prototype.getScaleMeta=function(t){return this.scales.get(t)};var xn=Mn,En=(wn.instance=function(t,e,n,r){return new wn(t=void 0===t?0:t,e=void 0===e?0:e,n=void 0===n?0:n,r=void 0===r?0:r)},wn.prototype.max=function(t){var e=t[0],n=t[1],r=t[2],t=t[3];return this.top=Math.max(this.top,e),this.right=Math.max(this.right,n),this.bottom=Math.max(this.bottom,r),this.left=Math.max(this.left,t),this},wn.prototype.shrink=function(t){var e=t[0],n=t[1],r=t[2],t=t[3];return this.top+=e,this.right+=n,this.bottom+=r,this.left+=t,this},wn.prototype.inc=function(t,e){var n=t.width,r=t.height;switch(e){case p.TOP:case p.TOP_LEFT:case p.TOP_RIGHT:this.top+=r;break;case p.RIGHT:case p.RIGHT_TOP:case p.RIGHT_BOTTOM:this.right+=n;break;case p.BOTTOM:case p.BOTTOM_LEFT:case p.BOTTOM_RIGHT:this.bottom+=r;break;case p.LEFT:case p.LEFT_TOP:case p.LEFT_BOTTOM:this.left+=n}return this},wn.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},wn.prototype.clone=function(){return new(wn.bind.apply(wn,g([void 0],this.getPadding(),!1)))},wn);function wn(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=t=void 0===t?0:t,this.right=e,this.bottom=n,this.left=r}function Mn(){this.scales=new Map,this.syncScales=new Map}function Pn(t,e,n){var r=n.instance();e.forEach(function(t){t.autoPadding=r.max(t.autoPadding.getPadding())})}e(r,Cn=t),r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(l.BEFORE_RENDER,mn.fromData(this,l.BEFORE_RENDER,e)),this.paint(t),this.emit(l.AFTER_RENDER,mn.fromData(this,l.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var n=this;this.emit(l.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var t=this.geometries,e=0;e<t.length;e++)t[e].clear(),t[e].container.remove(!0),t[e].labelsContainer.remove(!0);this.geometries=[];for(var r=this.controllers,e=0;e<r.length;e++)"annotation"===r[e].name?r[e].clear(!0):r[e].clear();this.createdScaleKeys.forEach(function(t,e){n.getRootView().scalePool.deleteScale(e)}),this.createdScaleKeys.clear();var i=this.views;for(e=0;e<i.length;e++)i[e].clear();this.emit(l.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(l.BEFORE_DESTROY);var t=this.interactions;Object(j.each)(t,function(t){t&&t.destroy()}),this.clear();for(var e=this.controllers,n=0,r=e.length;n<r;n++)e[n].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),Cn.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){Cn.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,r=e.length;n<r;n++)e[n].changeVisible(t);for(var i=this.controllers,n=0,r=i.length;n<r;n++)i[n].changeVisible(t);return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return Object(j.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return Object(j.isFunction)(e)?Object(j.set)(this.options,["filters",t],e):!e&&Object(j.get)(this.options,["filters",t])&&delete this.options.filters[t],this},r.prototype.axis=function(t,e){return Object(j.isBoolean)(t)?Object(j.set)(this.options,["axes"],t):Object(j.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return!Object(j.isBoolean)(t)&&Object(j.isString)(t)?(Object(j.set)(this.options,["legends",t],e),Object(j.isPlainObject)(e)&&null!=e&&e.selected&&Object(j.set)(this.options,["filters",t],function(t){return null===(t=null==e?void 0:e.selected[t])||void 0===t||t})):Object(j.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return Object(j.isString)(t)?Object(j.set)(this.options,["scales",t],e):Object(j.isObject)(t)&&Object(j.each)(t,function(t,e){Object(j.set)(n.options,["scales",e],t)}),this},r.prototype.tooltip=function(t){return Object(j.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return Object(j.isString)(t)?Object(j.set)(this.options,"coordinate",{type:t,cfg:e}):Object(j.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();n=t;var n=qt[Object(j.lowerCase)(n)];if(!n)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new n(this,x(x({},e),{type:t})),this},r.prototype.animate=function(t){return Object(j.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),Object(j.mix)(this.options,t),this.views.forEach(function(t){return t.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return Object(j.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=Object(j.isObject)(t)?Object(j.deepMix)({},this.themeObject,nn(t)):on(t),this},r.prototype.interaction=function(t,e){var n,r=this.interactions[t],i=(r&&r.destroy(),r=this,e=e,n=n=t,(n=ze[Object(j.lowerCase)(n)])?Object(j.isPlainObject)(n)?(i=Object(j.mix)(Object(j.clone)(n),e),new We(r,i)):new n(r,e):null);return i&&(i.init(),this.interactions[t]=i),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(l.BEFORE_CHANGE_DATA,mn.fromData(this,l.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,n=0,r=e.length;n<r;n++)e[n].changeData(t);this.emit(l.AFTER_CHANGE_DATA,mn.fromData(this,l.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var e={data:this.options.data,scales:Object(j.clone)(this.options.scales),axes:Object(j.clone)(this.options.axes),coordinate:Object(j.clone)(this.coordinateController.getOption()),tooltip:Object(j.clone)(this.options.tooltip),legends:Object(j.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},e=new r(x(x({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:1}),middleGroup:this.middleGroup.addGroup({zIndex:2}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:3}),theme:this.themeObject,padding:this.padding},t),{options:x(x({},e),Object(j.get)(t,"options",{}))}));return this.views.push(e),e},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(e){var t=Object(j.remove)(this.views,function(t){return t===e})[0];return t&&t.destroy(),t},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var n={},r=[];return this.geometries.forEach(function(t){var t=t.getYScale(),e=t.field;n[e]||(n[e]=!0,r.push(t))}),r},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},r=0,i=e.length;r<i;r++){var o=e[r],o="x"===t?o.getXScale():o.getYScale();o&&!n[o.field]&&(n[o.field]=o)}return n},r.prototype.getScale=function(t,e){e=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(e)},r.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return Object(j.reduce)(this.geometries,function(t,e){return t.concat(e.getElements())},[])},r.prototype.getElementsBy=function(e){return this.getElements().filter(function(t){return e(t)})},r.prototype.getLayer=function(t){return t===d.BG?this.backgroundGroup:t===d.MID?this.middleGroup:(d.FORE,this.foregroundGroup)},r.prototype.isPointInPlot=function(t){return Tt(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return Object(j.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(t){return t.getGroupScales()});return At(Object(j.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},r.prototype.getXY=function(t){var n,r,e=this.getCoordinate(),i=this.getScalesByDim("x"),o=this.getScalesByDim("y");if(Object(j.each)(t,function(t,e){i[e]&&(n=i[e].scale(t)),o[e]&&(r=o[e].scale(t))}),!Object(j.isNil)(n)&&!Object(j.isNil)(r))return e.convert({x:n,y:r})},r.prototype.getController=function(e){return Object(j.find)(this.controllers,function(t){return t.name===e})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=o.dataArray;o.sort(a);for(var s,c=0,l=a.length;c<l;c++)(s=ln(t,a[c],o))&&n.push(s)}for(var u=this.views,r=0,i=u.length;r<i;r++)var h=u[r].getSnapRecords(t),n=n.concat(h);return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,r=e.length;n<r;n++)var i=e[n],t=t.concat(i.getComponents());return t},r.prototype.filterData=function(t){var r=this.options.filters;return 0===Object(j.size)(r)?t:Object(j.filter)(t,function(e,n){return Object.keys(r).every(function(t){return(0,r[t])(e[t],e,n)})})},r.prototype.filterFieldData=function(n,t){var e=this.options.filters,r=Object(j.get)(e,n);return Object(j.isUndefined)(r)?t:t.filter(function(t,e){return r(t[n],t,e)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,t=t.end,n=this.coordinateBBox.bl,r=this.coordinateBBox.tr;Object(j.isEqual)(e,n)&&Object(j.isEqual)(t,r)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(n,r))},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(l.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(l.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){var t,e,n,r,i;this.parent||((t=Object(j.get)(this.themeObject,"background"))?(this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack()),e=(i=this.viewBBox).x,n=i.y,r=i.width,i=i.height,this.backgroundStyleRectShape.attr({fill:t,x:e,y:n,width:r,height:i})):this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0))},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=function(t){var e,n=t.padding;if(e=n,Object(j.isNumber)(e)||Object(j.isArray)(e))return new(En.bind.apply(En,g([void 0],pn(n),!1)));var r=t.viewBBox,i=new En,o=[],a=[],s=[];return Object(j.each)(t.getComponents(),function(t){var e=t.type;e===u.AXIS?o.push(t):[u.LEGEND,u.SLIDER,u.SCROLLBAR].includes(e)?a.push(t):e!==u.GRID&&e!==u.TOOLTIP&&s.push(t)}),Object(j.each)(o,function(t){t=t.component.getLayoutBBox(),t=new St(t.x,t.y,t.width,t.height).exceed(r);i.max(t)}),Object(j.each)(a,function(t){var e=t.component,t=t.direction,n=e.getLayoutBBox(),e=e.get("padding"),n=new St(n.x,n.y,n.width,n.height).expand(e);i.inc(n,t)}),Object(j.each)(s,function(t){var e=t.component,t=t.direction,e=e.getLayoutBBox(),e=new St(e.x,e.y,e.width,e.height);i.inc(e,t)}),i}(this).shrink(pn(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var e=this.views,n=0,r=e.length;n<r;n++)e[n].renderPaddingRecursive(t)},r.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?Pn:Object(j.isFunction)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,En),this.views.forEach(function(t){t.coordinateBBox=t.viewBBox.shrink(t.autoPadding.getPadding()),t.adjustCoordinate()})),this.doLayout();for(var n=this.views,r=0,i=n.length;r<i;r++)n[r].renderLayoutRecursive(t)},r.prototype.renderPaintRecursive=function(t){var e,n,r=this.middleGroup;this.limitInPlot?(e=(n=kt(this.coordinateInstance)).type,n=n.attrs,r.setClip({type:e,attrs:n})):r.setClip(void 0),this.paintGeometries(t),this.renderComponents(t);for(var i=this.views,o=0,a=i.length;o<a;o++)i[o].renderPaintRecursive(t)},r.prototype.createScale=function(t,e,n,r){var i=Object(j.get)(this.options.scales,[t]),i=x(x({},i),n);return(this.parent||this.scalePool).createScale(t,e,i,r)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,r=e.length;n<r;n++)e[n].renderDataRecursive(t)},r.prototype.calculateViewBBox=function(){r=this.parent?(t=(r=this.parent.coordinateBBox).x,e=r.y,n=r.width,r.height):(e=t=0,n=this.canvas.get("width"),this.canvas.get("height"));var t,e,n,r,i=this.region,o=i.start,i=i.end,a=new St(t+n*o.x,e+r*o.y,n*(i.x-o.x),r*(i.y-o.y));this.viewBBox&&this.viewBBox.isEqual(a)||(this.viewBBox=new St(t+n*o.x,e+r*o.y,n*(i.x-o.x),r*(i.y-o.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var r=t[e],r=gn[r];r&&this.controllers.push(new r(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,e=e?e.get("origin"):null,t=new mn(this,t,e);return t.type=n,t},r.prototype.doPlotEvent=function(t){var e,n=t.type,r={x:t.x,y:t.y};["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(n)&&(r=this.isPointInPlot(r),t=t.clone(),r&&(e="plot:".concat(n),t.type=e,this.emit(e,t),"mouseleave"!==n&&"touchend"!==n||(this.isPreMouseInPlot=!1)),"mousemove"===n||"touchmove"===n?(this.isPreMouseInPlot&&!r?("mousemove"===n&&(t.type=h.MOUSE_LEAVE,this.emit(h.MOUSE_LEAVE,t)),t.type=h.LEAVE,this.emit(h.LEAVE,t)):!this.isPreMouseInPlot&&r&&("mousemove"===n&&(t.type=h.MOUSE_ENTER,this.emit(h.MOUSE_ENTER,t)),t.type=h.ENTER,this.emit(h.ENTER,t)),this.isPreMouseInPlot=r):"mouseleave"!==n&&"touchend"!==n||this.isPreMouseInPlot&&("mouseleave"===n&&(t.type=h.MOUSE_LEAVE,this.emit(h.MOUSE_LEAVE,t)),t.type=h.LEAVE,this.emit(h.LEAVE,t),this.isPreMouseInPlot=!1))},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=Object(j.get)(this.options,"scales",{}),r=this.geometries,i=0,o=r.length;i<o;i++){var a=r[i],s=(a.scales=this.getGeometryScales(),{coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged});t?a.update(s):a.init(s)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),r=n.data,n=n.scales,i=void 0===n?{}:n,o=this.filteredData,a=0,s=t.length;a<s;a++){var c=t[a],l=i[c],u=this.getScaleKey(c);this.createScale(c,e.includes(c)?r:o,l,u),this.createdScaleKeys.set(u,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var r=t[n];e[r]=this.getScaleByField(r)}return e},r.prototype.getScaleFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++)At(n[r].getScaleFields(),t,e);return t},r.prototype.getGroupedFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++)At(n[r].getGroupFields(),t,e);return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var o=this,t=g([this.getXScale()],this.getYScales(),!0).filter(function(t){return!!t}),a=this.getCoordinate(),s=this.options.scales;Object(j.each)(t,function(t){var e=t.field,n=t.values,r=t.isCategory,i=t.isIdentity;(r||i)&&n&&!Object(j.get)(s,[e,"range"])&&(t.range=Nt(t,a,o.theme))})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var r=e[n];t?r.update():(r.clear(),r.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),r={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},i=this.geometries,o=0;o<i.length;o++){var a=i[o];a.coordinate=n,a.canvasRegion=r,e||a.animate(!1),a.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++)this.getComponents()[e].component.render()},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var n=this,t=this.options,e=t.geometries,r=void 0===e?[]:e,e=t.interactions,i=void 0===e?[]:e,e=t.views,l=void 0===e?[]:e,e=t.annotations,h=void 0===e?[]:e,e=t.coordinate,d=t.events,t=t.facets;this.coordinateController?e&&this.coordinateController.update(e):this.coordinateController=new _n(e);for(var o=0;o<r.length;o++){var f=r[o];this.createGeometry(f)}for(var a=0;a<i.length;a++){var s=i[a],p=s.type,s=s.cfg;this.interaction(p,s)}for(var c=0;c<l.length;c++){var g=l[c];this.createView(g)}for(var y=this.getController("annotation"),u=0;u<h.length;u++){var _=h[u];y.annotation(_)}d&&Object(j.each)(d,function(t,e){n.on(e,t)}),t&&Object(j.each)(t,function(t){var e=t.type,t=O(t,["type"]);n.facet(e,t)})},r.prototype.createGeometry=function(t){var n,e=t.type,r=t.cfg;this[e]&&(n=this[e](void 0===r?{}:r),Object(j.each)(t,function(t,e){Object(j.isFunction)(n[e])&&n[e](t)}))},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)};var Cn,An=r;function r(t){var n=Cn.call(this,{visible:t.visible})||this,e=(n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Object.keys(gn),n.scalePool=new xn,n.layoutFunc=On,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e=t.name;e.includes(":")||(t=n.createViewEvent(t),n.doPlotEvent(t),n.emit(e,t))},n.onDelegateEvents=function(t){var e=t.name;e.includes(":")&&(t=n.createViewEvent(t),n.emit(e,t))},t.id),e=void 0===e?Object(j.uniqueId)("view"):e,r=t.parent,i=t.canvas,o=t.backgroundGroup,a=t.middleGroup,s=t.foregroundGroup,c=t.region,c=void 0===c?{start:{x:0,y:0},end:{x:1,y:1}}:c,l=t.padding,h=t.appendPadding,u=t.theme,d=t.options,f=t.limitInPlot,t=t.syncViewPadding;return n.parent=r,n.canvas=i,n.backgroundGroup=o,n.middleGroup=a,n.foregroundGroup=s,n.region=c,n.padding=l,n.appendPadding=h,n.options=x(x({},n.options),d),n.limitInPlot=f,n.id=e,n.syncViewPadding=t,n.themeObject=Object(j.isObject)(u)?Object(j.deepMix)({},on("default"),nn(u)):on(u),n.init(),n}function Sn(t,e){An.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});t=x({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),t=new e(t);return this.geometries.push(t),t}}e(In,jn=An),In.prototype.initDefaultInteractions=function(t){var e=this;Object(j.each)(t,function(t){e.interaction(t)})},In.prototype.aria=function(t){!1===t?this.ele.removeAttribute("aria-label"):this.ele.setAttribute("aria-label",t.label)},In.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(l.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(l.AFTER_CHANGE_SIZE)),this},In.prototype.clear=function(){jn.prototype.clear.call(this),this.aria(!1)},In.prototype.destroy=function(){var t,e;jn.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),(e=(t=this.wrapperElement).parentNode)&&e.removeChild(t),this.wrapperElement=null},In.prototype.changeVisible=function(t){return jn.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},In.prototype.forceFit=function(){var t,e;this.destroyed||(t=(e=w(this.ele,!0,this.width,this.height)).width,e=e.height,this.changeSize(t,e))},In.prototype.updateCanvasStyle=function(){Object(v.e)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},In.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},In.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)};var jn,Dn=In,B=(Tn.prototype.clear=function(t){Object(j.each)(this.components,function(t){t.component.destroy()}),this.components=[]},Tn.prototype.destroy=function(){this.clear()},Tn.prototype.getComponents=function(){return this.components},Tn.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},Tn);function Tn(t){this.visible=!0,this.components=[],this.view=t}function In(t){var e=this,n=t.container,r=t.width,i=t.height,o=t.autoFit,o=void 0!==o&&o,l=t.padding,h=t.appendPadding,a=t.renderer,s=void 0===a?"canvas":a,a=t.pixelRatio,c=t.localRefresh,c=void 0===c||c,u=t.visible,u=void 0===u||u,d=t.supportCSSTransform,d=void 0!==d&&d,f=t.defaultInteractions,f=void 0===f?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:f,p=t.options,g=t.limitInPlot,y=t.theme,t=t.syncViewPadding,n=Object(j.isString)(n)?document.getElementById(n):n,_=Object(v.b)('<div style="position:relative;"></div>'),r=(n.appendChild(_),w(n,o,r,i)),i=new(function(){var t=m[s];if(!t)throw new Error("G engine '".concat(s,"' is not exist, please register it at first."));return t}().Canvas)(x({container:_,pixelRatio:a,localRefresh:c,supportCSSTransform:d},r));return(e=jn.call(this,{parent:null,canvas:i,backgroundGroup:i.addGroup({zIndex:1}),middleGroup:i.addGroup({zIndex:2}),foregroundGroup:i.addGroup({zIndex:3}),padding:l,appendPadding:h,visible:u,options:p,limitInPlot:g,theme:y,syncViewPadding:t})||this).onResize=Object(j.debounce)(function(){e.forceFit()},300),e.ele=n,e.canvas=i,e.width=r.width,e.height=r.height,e.autoFit=o,e.localRefresh=c,e.renderer=s,e.wrapperElement=_,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(f),e}e(Bn,kn=B),Object.defineProperty(Bn.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),Bn.prototype.init=function(){},Bn.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},Bn.prototype.render=function(){},Bn.prototype.showTooltip=function(t){var e,n,r,i,o,a,s,l,c,h,d,u;this.point=t,this.isVisible()&&(e=this.view,(n=this.getTooltipItems(t)).length?(r=this.getTitle(n),i={x:n[0].x,y:n[0].y},e.emit("tooltip:show",mn.fromData(e,"tooltip:show",x({items:n,title:r},t))),a=(o=this.getTooltipCfg()).follow,s=o.showMarkers,l=o.showCrosshairs,c=o.showContent,h=o.marker,d=this.items,u=this.title,Object(j.isEqual)(u,r)&&Object(j.isEqual)(d,n)?(this.tooltip&&a&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",mn.fromData(e,"tooltip:change",x({items:n,title:r},t))),(Object(j.isFunction)(c)?c(n):c)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(j.mix)({},o,{items:this.getItemsAfterProcess(n),title:r},a?t:{})),this.tooltip.show()),s&&this.renderTooltipMarkers(n,h)),this.items=n,this.title=r,l&&(u=Object(j.get)(o,["crosshairs","follow"],!1),this.renderCrosshairs(u?t:i,o))):this.hideTooltip())},Bn.prototype.hideTooltip=function(){var t,e;this.getTooltipCfg().follow&&((e=this.tooltipMarkersGroup)&&e.hide(),e=this.xCrosshair,t=this.yCrosshair,e&&e.hide(),t&&t.hide(),(e=this.tooltip)&&e.hide(),this.view.emit("tooltip:hide",mn.fromData(this.view,"tooltip:hide",{}))),this.point=null},Bn.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},Bn.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},Bn.prototype.isTooltipLocked=function(){return this.isLocked},Bn.prototype.clear=function(){var t=this.tooltip,e=this.xCrosshair,n=this.yCrosshair,r=this.tooltipMarkersGroup;t&&(t.hide(),t.clear()),e&&e.clear(),n&&n.clear(),r&&r.clear(),null!=t&&t.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},Bn.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},Bn.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},Bn.prototype.changeVisible=function(t){var e,n,r,i;this.visible!==t&&(e=this.tooltip,n=this.tooltipMarkersGroup,r=this.xCrosshair,i=this.yCrosshair,t?(e&&e.show(),n&&n.show(),r&&r.show(),i&&i.show()):(e&&e.hide(),n&&n.hide(),r&&r.hide(),i&&i.hide()),this.visible=t)},Bn.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var n=0,l=e=Object(j.flatten)(e);n<l.length;n++)for(var r=0,h=l[n];r<h.length;r++){var i=h[r],o=i.mappingData,a=o.x,o=o.y;i.x=Object(j.isArray)(a)?a[a.length-1]:a,i.y=Object(j.isArray)(o)?o[o.length-1]:o}if(!1===this.getTooltipCfg().shared&&1<e.length){for(var s=e[0],d=Math.abs(t.y-s[0].y),c=0,f=e;c<f.length;c++){var p=f[c],g=Math.abs(t.y-p[0].y);g<=d&&(s=p,d=g)}e=[s]}for(var y=Object(j.flatten)(e),u=[],_=0;_<y.length;_++)!function(t){var e=y[t];Object(j.find)(u,function(t){return t.color===e.color&&t.name===e.name&&t.value===e.value&&t.title===e.title})||u.push(e)}(_);return u}return[]},Bn.prototype.layout=function(){},Bn.prototype.update=function(){var t;this.point&&this.showTooltip(this.point),this.tooltip&&(t=this.view.getCanvas(),this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}}))},Bn.prototype.isCursorEntered=function(t){if(this.tooltip){var e,n,r=this.tooltip.getContainer(),i=this.tooltip.get("capture");if(r&&i)return r=(i=r.getBoundingClientRect()).x,e=i.y,n=i.width,i=i.height,new St(r,e,n,i).isPointIn(t)}return!1},Bn.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,e=this.processCustomContent(e),t=t.getTheme(),t=Object(j.get)(t,["components","tooltip"],{}),n=Object(j.get)(e,"enterable",t.enterable);return Object(j.deepMix)({},t,e,{capture:!(!n&&!this.isLocked)})},Bn.prototype.processCustomContent=function(t){if(Object(j.isBoolean)(t)||!Object(j.get)(t,"customContent"))return t;var n=t.customContent;return x(x({},t),{customContent:function(t,e){t=n(t,e)||"";return Object(j.isString)(t)?'<div class="g2-tooltip">'+t+"</div>":t}})},Bn.prototype.getTitle=function(t){t=t[0].title||t[0].name;return this.title=t},Bn.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),t=new mt(x(x({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));t.init(),this.tooltip=t},Bn.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),r=this.view.getRootView(),i=r.limitInPlot,o=0,a=t;o<a.length;o++){var s,c=a[o],l=c.x,h=c.y,u=(i||null!=n&&n.getClip()?(u=(s=kt(r.getCoordinate())).type,s=s.attrs,null==n||n.setClip({type:u,attrs:s})):null==n||n.setClip(void 0),x(x({fill:c.color,symbol:"circle",shadowColor:c.color},e),{x:l,y:h}));n.addShape("marker",{attrs:u})}},Bn.prototype.renderCrosshairs=function(t,e){var n=Object(j.get)(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},Bn.prototype.renderXCrosshairs=function(t,e){var n,r,i,o,a=this.getViewWithGeometry(this.view).getCoordinate();Tt(a,t)&&(a.isRect?r=a.isTransposed?(i={x:a.start.x,y:t.y},{x:a.end.x,y:t.y}):(i={x:t.x,y:a.end.y},{x:t.x,y:a.start.y}):(o=It(a,t),n=a.getCenter(),a=a.getRadius(),r=Ot(n.x,n.y,a,o),i=n),delete(a=Object(j.deepMix)({start:i,end:r,container:this.getTooltipCrosshairsGroup()},Object(j.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e))).type,(o=this.xCrosshair)?o.update(a):(o=new ht.Crosshair.Line(a)).init(),o.render(),o.show(),this.xCrosshair=o)},Bn.prototype.renderYCrosshairs=function(t,e){var n,r,i=this.getViewWithGeometry(this.view).getCoordinate();Tt(i,t)&&(r=i.isRect?(r=n=void 0,r=i.isTransposed?(n={x:t.x,y:i.end.y},{x:t.x,y:i.start.y}):(n={x:i.start.x,y:t.y},{x:i.end.x,y:t.y}),n={start:n,end:r},"Line"):(n={center:i.getCenter(),radius:Dt(i,t),startAngle:i.startAngle,endAngle:i.endAngle},"Circle"),delete(n=Object(j.deepMix)({container:this.getTooltipCrosshairsGroup()},n,Object(j.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type,!(t=this.yCrosshair)||i.isRect&&"circle"===t.get("type")||!i.isRect&&"line"===t.get("type")?(t=new ht.Crosshair[r](n)).init():t.update(n),t.render(),t.show(),this.yCrosshair=t)},Bn.prototype.getCrosshairsText=function(t,e,n){var r,i,o,a,s,c=Object(j.get)(n,["crosshairs","text"]),n=Object(j.get)(n,["crosshairs","follow"]),u=this.items;if(c)return o=this.getViewWithGeometry(this.view),r=u[0],i=o.getXScale(),o=o.getYScales()[0],s=a=void 0,s=n?(n=this.view.getCoordinate().invert(e),a=i.invert(n.x),o.invert(n.y)):(a=r.data[i.field],r.data[o.field]),n="x"===t?a:s,Object(j.isFunction)(c)?c=c(t,n,u,e):c.content=n,{text:c}},Bn.prototype.getGuideGroup=function(){var t;return this.guideGroup||(t=this.view.foregroundGroup,this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},Bn.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},Bn.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},Bn.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var n=fn(t,e,this.getTooltipCfg()),r=0,i=t.views;r<i.length;r++)var o=i[r],n=n.concat(this.findItemsFromView(o,e));return n},Bn.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:Object(j.find)(t.views,function(t){return e.getViewWithGeometry(t)})},Bn.prototype.getItemsAfterProcess=function(t){return(this.getTooltipCfg().customItems||function(t){return t})(t)};var kn,Ln=Bn,Rn={};function Bn(){var t=null!==kn&&kn.apply(this,arguments)||this;return t.isLocked=!1,t}function Nn(t){return Rn[t.toLowerCase()]}function Fn(t,e){Rn[t.toLowerCase()]=e}var Un={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Wn={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},zn={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Gn(t,e,n){t=Wn[t];return t&&(Object(j.isFunction)(t)&&(t=t(e)),t=Object(j.deepMix)({},Un,t),n)?t[n]:t}function $n(t,e,n){var r=Object(j.get)(t.get("origin"),"data","_origin"),i=e.animation,r=(e=e,r=r,{delay:Object(j.isFunction)(e.delay)?e.delay(r):e.delay,easing:Object(j.isFunction)(e.easing)?e.easing(r):e.easing,duration:Object(j.isFunction)(e.duration)?e.duration(r):e.duration,callback:e.callback,repeat:e.repeat});i?(e=Nn(i))&&e(t,r,n):t.animate(n.toAttrs,r)}e(Hn,Kn=t),Hn.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},Hn.prototype.update=function(t){var e,n=this.shapeFactory,r=this.shape;r&&(this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(r,t),e=this.getOffscreenGroup(),(n=n.drawShape(this.shapeType,t,e)).cfg.data=this.data,n.cfg.origin=t,(n.cfg.element=this).syncShapeStyle(r,n,this.getStates(),this.getAnimateCfg("update")))},Hn.prototype.destroy=function(){var t,e=this.shapeFactory,n=this.shape;n&&((t=this.getAnimateCfg("leave"))?$n(n,t,{coordinate:e.coordinate,toAttrs:x({},n.attr())}):n.remove(!0)),this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,Kn.prototype.destroy.call(this)},Hn.prototype.changeVisible=function(t){Kn.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(t){t.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(t){t.hide()}))},Hn.prototype.setState=function(t,e){var n=this.states,r=this.shapeFactory,i=this.model,o=this.shape,a=this.shapeType,s=n.indexOf(t);if(e){if(-1<s)return;n.push(t),"active"!==t&&"selected"!==t||null==o||o.toFront()}else{if(-1===s)return;n.splice(s,1),"active"!==t&&"selected"!==t||(c=(s=this.geometry).sortZIndex,s=s.zIndexReversed?this.geometry.elements.length-this.elementIndex:this.elementIndex,c?o.setZIndex(s):o.set("zIndex",s))}var c=r.drawShape(a,i,this.getOffscreenGroup()),s=(n.length?this.syncShapeStyle(o,c,n,null):this.syncShapeStyle(o,c,["reset"],null),c.remove(!0),{state:t,stateStatus:e,element:this,target:this.container});this.container.emit("statechange",s),Object(ht.propagationDelegate)(this.shape,"statechange",s)},Hn.prototype.clearStates=function(){var e=this,t=this.states;Object(j.each)(t,function(t){e.setState(t,!1)}),this.states=[]},Hn.prototype.hasState=function(t){return this.states.includes(t)},Hn.prototype.getStates=function(){return this.states},Hn.prototype.getData=function(){return this.data},Hn.prototype.getModel=function(){return this.model},Hn.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach(function(t){t=t.getCanvasBBox();n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.minX=Math.min(t.minX,n.minX),n.minY=Math.min(t.minY,n.minY),n.maxX=Math.max(t.maxX,n.maxX),n.maxY=Math.max(t.maxY,n.maxY)}),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},Hn.prototype.getStatesStyle=function(){var t,e,n,r;return this.statesStyle||(r=this.shapeType,e=this.geometry,t=this.shapeFactory,e=e.stateOption,n=t.defaultShapeType,r=t.theme[r]||t.theme[n],this.statesStyle=Object(j.deepMix)({},r,e)),this.statesStyle},Hn.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),n=Object(j.get)(n,[t,"style"],{}),t=n[e]||n;return Object(j.isFunction)(t)?t(this):t},Hn.prototype.getAnimateCfg=function(t){var e,n=this,r=this.animate;return r?(e=r[t])&&x(x({},e),{callback:function(){var t;Object(j.isFunction)(e.callback)&&e.callback(),null===(t=n.geometry)||void 0===t||t.emit(f.AFTER_DRAW_ANIMATE)}}):null},Hn.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var n=this.shapeFactory,r=this.container,i=this.shapeType;this.shape=n.drawShape(i,t,r),this.shape&&(this.setShapeInfo(this.shape,t),(i=this.shape.cfg.name)?Object(j.isString)(i)&&(this.shape.cfg.name=["element",i]):this.shape.cfg.name=["element",this.shapeFactory.geometryType],(r=this.getAnimateCfg(e?"enter":"appear"))&&(null===(t=this.geometry)||void 0===t||t.emit(f.BEFORE_DRAW_ANIMATE),$n(this.shape,r,{coordinate:n.coordinate,toAttrs:x({},this.shape.attr())})))},Hn.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},Hn.prototype.setShapeInfo=function(t,e){var n=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(t){n.setShapeInfo(t,e)})},Hn.prototype.syncShapeStyle=function(t,e,n,r,i){var l=this;if(void 0===n&&(n=[]),void 0===i&&(i=0),t&&e){var o=t.get("clipShape"),a=e.get("clipShape");if(this.syncShapeStyle(o,a,n,r),t.isGroup())for(var s=t.get("children"),h=e.get("children"),c=0;c<s.length;c++)this.syncShapeStyle(s[c],h[c],n,r,i+c);else{Object(j.isEmpty)(n)||Object(j.isEqual)(n,["reset"])||(u=t.get("name"),Object(j.isArray)(u)&&(u=u[1]),Object(j.each)(n,function(t){"element-background"!==e.get("name")&&(t=l.getStateStyle(t,u||i),e.attr(t))}));var u,o=Mt(t,e);this.animate?r?(null===(a=this.geometry)||void 0===a||a.emit(f.BEFORE_DRAW_ANIMATE),$n(t,r,{coordinate:this.shapeFactory.coordinate,toAttrs:o,shapeModel:this.model})):Object(j.isEmpty)(n)?t.attr(o):(t.stopAnimate(),t.animate(o,{duration:300})):t.attr(o)}}},Hn.prototype.getShapeType=function(t){t=Object(j.get)(t,"shape");return Object(j.isArray)(t)?t[0]:t};var Kn,Vn=Hn,Xn={},Yn={};function Hn(t){var e=Kn.call(this,t)||this,n=(e.states=[],t.shapeFactory),r=t.container,i=t.offscreenGroup,o=t.elementIndex,t=t.visible,t=void 0===t||t;return e.shapeFactory=n,e.container=r,e.offscreenGroup=i,e.visible=t,e.elementIndex=o,e}function qn(t,e){Xn[t.toLowerCase()]=e}function Zn(t,e){Yn[t.toLowerCase()]=e}var Qn={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){t=this.getShape(t);return t.getPoints?t.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){t=this[t]||this[this.defaultShapeType];return t.coordinate=this.coordinate,t},getDefaultPoints:function(){return[]},getDefaultStyle:function(t){return Object(j.get)(t,[this.defaultShapeType,"default","style"],{})},getMarker:function(t,e){var n=this.getShape(t),r=(n.getMarker||(r=this.defaultShapeType,n=this.getShape(r)),this.theme),r=Object(j.get)(r,[t,"default"],{}),t=n.getMarker(e);return Object(j.deepMix)({},r,t)},drawShape:function(t,e,n){return this.getShape(t).draw(e,n)}},Jn={coordinate:null,parsePath:function(t){var e,n,r=this.coordinate,t=Object(le.c)(t);return r.isPolar?ue(r,t):(e=r,r=t,n=[],Object(j.each)(r,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":n.push(ie(t,e));break;case"a":n.push(oe(t,e));break;default:n.push(t)}}),n)},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map(function(t){return e.convert(t)})},draw:function(t,e){}},tr={};function er(t,e){var n=Object(j.upperFirst)(t),e=x(x(x({},Qn),e),{geometryType:t});return tr[n]=e}function nr(t,e,n){t=Object(j.upperFirst)(t),t=tr[t],n=x(x({},Jn),n);return t[e]=n}function rr(t){t=Object(j.upperFirst)(t);return tr[t]}function ir(e,n){return Object(j.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!Object(j.isEqual)(e[t],n[t])})}function or(t){return Object(j.isArray)(t)?t:t.split("*")}function ar(t,e){for(var n=[],r=[],i=[],o=new Map,a=0;a<e.length;a++){var s=e[a];(t[s]?r:n).push(s),o.set(s,!0)}return Object.keys(t).forEach(function(t){o.has(t)||i.push(t)}),{added:n,updated:r,removed:i}}e(o,sr=t),o.prototype.position=function(t){var e=t,t=(Object(j.isPlainObject)(t)||(e={fields:or(t)}),Object(j.get)(e,"fields"));return 1===t.length&&(t.unshift("1"),Object(j.set)(e,"fields",t)),Object(j.set)(this.attributeOption,"position",e),this},o.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},o.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},o.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},o.prototype.adjust=function(t){var n=t;return(Object(j.isString)(t)||Object(j.isPlainObject)(t))&&(n=[t]),Object(j.each)(n,function(t,e){Object(j.isObject)(t)||(n[e]={type:t})}),this.adjustOption=n,this},o.prototype.style=function(t,e){var n,r;return Object(j.isString)(t)?(n=or(t),this.styleOption={fields:n,callback:e}):(n=t.fields,e=t.callback,r=t.cfg,this.styleOption=n||e||r?t:{cfg:t}),this},o.prototype.tooltip=function(t,e){var n;return Object(j.isString)(t)?(n=or(t),this.tooltipOption={fields:n,callback:e}):this.tooltipOption=t,this},o.prototype.animate=function(t){return this.animateOption=t,this},o.prototype.label=function(t,e,n){var r,i;return Object(j.isString)(t)?(r={},i=or(t),r.fields=i,Object(j.isFunction)(e)?r.callback=e:Object(j.isPlainObject)(e)&&(r.cfg=e),n&&(r.cfg=n),this.labelOption=r):this.labelOption=t,this},o.prototype.state=function(t){return this.stateOption=t,this},o.prototype.customInfo=function(t){return this.customOption=t,this},o.prototype.init=function(t){this.setCfg(t=void 0===t?{}:t),this.initAttributes(),this.processData(this.data),this.adjustScale()},o.prototype.update=function(t){var e=(t=void 0===t?{}:t).data,n=t.isDataChanged,r=t.isCoordinateChanged,i=this.attributeOption,o=this.lastAttributeOption;Object(j.isEqual)(i,o)?!e||!n&&Object(j.isEqual)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=r},o.prototype.paint=function(t){void 0===t&&(t=!1),this.animateOption&&(this.animateOption=Object(j.deepMix)({},Gn(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var e=this.beforeMappingData,n=this.beforeMapping(e);this.dataArray=new Array(n.length);for(var r,i,o,a,s,c=0;c<n.length;c++){var u=n[c];this.dataArray[c]=this.mapping(u)}this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)&&(e=this.container,s=this.type,i=this.coordinate,r=Object(j.get)(this.animateOption,"appear"),o=this.getYScale(),o=i.convert({x:0,y:o.scale(this.getYMinValue())}),e=e,r=r,i=i,o=o,zn[s]&&(s=zn[s](i),(a=Nn(Object(j.get)(s,"animation","")))&&(s=x(x(x({},Un.appear),s),r),e.stopAnimate(),a(e,s,{coordinate:i,minYPoint:o,toAttrs:null})))),this.labelOption&&this.renderLabels(Object(j.flatten)(this.dataArray),t),this.lastAttributeOption=x({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},o.prototype.clear=function(){var t=this.container,e=this.geometryLabel,n=this.offscreenGroup;t&&t.clear(),e&&e.clear(),n&&n.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},o.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,sr.prototype.destroy.call(this)},o.prototype.getGroupScales=function(){return this.groupScales},o.prototype.getAttribute=function(t){return this.attributes[t]},o.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},o.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},o.prototype.getGroupAttributes=function(){var e=[];return Object(j.each)(this.attributes,function(t){y.includes(t.type)&&e.push(t)}),e},o.prototype.getDefaultValue=function(t){var e,t=this.getAttribute(t);return e=t&&Object(j.isEmpty)(t.scales)?t.values[0]:e},o.prototype.getAttributeValues=function(t,e){for(var n=[],r=t.scales,i=0,o=r.length;i<o;i++){var a=r[i],s=a.field;a.isIdentity?n.push(a.values):n.push(e[s])}return t.mapping.apply(t,n)},o.prototype.getAdjust=function(t){return this.adjusts[t]},o.prototype.getCoordinate=function(){return this.coordinate},o.prototype.getData=function(){return this.data},o.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},o.prototype.getElementsBy=function(e){return this.elements.filter(function(t){return e(t)})},o.prototype.getElements=function(){return this.elements},o.prototype.getElementId=function(t){var e=(t=Object(j.isArray)(t)?t[0]:t)._origin;if(this.idFields.length){for(var n=e[this.idFields[0]],r=1;r<this.idFields.length;r++)n+="-"+e[this.idFields[r]];return n}var i=this.type,o=this.getXScale(),a=this.getYScale(),s=o.field||"x",a=e[a.field||"y"],o="identity"===o.type?o.values[0]:e[s];u="interval"===i||"schema"===i?"".concat(o):"line"===i||"area"===i||"path"===i?i:"".concat(o,"-").concat(a);for(var c=this.groupScales,l=(r=0,c.length);r<l;r++)var h=c[r].field,u="".concat(u,"-").concat(e[h]);s=this.getAdjust("dodge");return!s||(i=s.dodgeBy)&&(u="".concat(u,"-").concat(e[i])),u=this.getAdjust("jitter")?"".concat(u,"-").concat(t.x,"-").concat(t.y):u},o.prototype.getScaleFields=function(){var t,e,n=[],r=new Map,i=this.attributeOption,o=this.labelOption,a=this.tooltipOption;for(t in i)i.hasOwnProperty(t)&&((e=i[t]).fields?At(e.fields,n,r):e.values&&At(e.values,n,r));return o&&o.fields&&At(o.fields,n,r),Object(j.isObject)(a)&&a.fields&&At(a.fields,n,r),n},o.prototype.changeVisible=function(t){sr.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,r=e.length;n<r;n++)e[n].changeVisible(t);t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},o.prototype.getFields=function(){var e=new Map,n=[];return Object.values(this.attributeOption).forEach(function(t){((null==t?void 0:t.fields)||[]).forEach(function(t){e.has(t)||n.push(t),e.set(t,!0)})},[]),n},o.prototype.getGroupFields=function(){for(var t=[],e=new Map,n=0,r=y.length;n<r;n++){var i=y[n],i=this.attributeOption[i];i&&i.fields&&At(i.fields,t,e)}return t},o.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},o.prototype.getXField=function(){return Object(j.get)(this.getXYFields(),[0])},o.prototype.getYField=function(){return Object(j.get)(this.getXYFields(),[1])},o.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},o.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},o.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),r=n.field,e=0;e<t.length;e++)t[e].sort(function(t,e){return n.translate(t._origin[r])-n.translate(e._origin[r])});this.hasSorted=!0},o.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},o.prototype.getShapeFactory=function(){var t=this.shapeType;if(rr(t))return this.shapeFactory||(this.shapeFactory=Object(j.clone)(rr(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},o.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:n?this.normalizeValues(t[n.field],n):t.y||.1,y0:n?n.scale(this.getYMinValue()):void 0}},o.prototype.createElement=function(t,e,n){void 0===n&&(n=!1);var r=this.container,t=this.getDrawCfg(t),i=this.getShapeFactory(),i=new Vn({shapeFactory:i,container:r,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return i.animate=this.animateOption,i.geometry=this,i.draw(t,n),i},o.prototype.getDrawCfg=function(t){var e=t._origin,n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},r=t.shape,i=(!r&&this.getShapeFactory()&&(r=this.getShapeFactory().defaultShapeType),n.shape=r,this.theme.geometries[this.shapeType]),r=(n.defaultStyle=Object(j.get)(i,[r,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(i)),this.styleOption);return r&&(n.style=this.getStyleCfg(r,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},o.prototype.updateElements=function(l,t){void 0===t&&(t=!1);for(var e=new Map,h=[],n=new Map,r=0,i=0;i<l.length;i++)for(var d=l[i],o=0;o<d.length;o++){var a=d[o],s=this.getElementId(a),f=e.has(s)?"".concat(s,"-").concat(i,"-").concat(o):s;h.push(f),e.set(f,a),n.set(f,r),r++}this.elements=new Array(r);for(var c=ar(this.lastElementsMap,h),p=c.added,g=c.updated,c=c.removed,y=0,_=p;y<_.length;y++){var s=_[y],a=e.get(s),i=n.get(s),u=this.createElement(a,i,t);this.elements[i]=u,(this.elementsMap[s]=u).shape&&u.shape.set("zIndex",this.zIndexReversed?this.elements.length-i:i)}for(var m=0,v=g;m<v.length;m++){s=v[m],u=this.lastElementsMap[s],a=e.get(s);var b=this.getDrawCfg(a),O=u.getModel();i=n.get(s),(this.isCoordinateChanged||ir(b,O))&&(u.animate=this.animateOption,u.update(b)),this.elements[i]=u,(this.elementsMap[s]=u).shape&&u.shape.set("zIndex",this.zIndexReversed?this.elements.length-i:i)}this.container&&this.container.sort();for(var x=0,E=c;x<E.length;x++)s=E[x],(u=this.lastElementsMap[s]).animate=this.animateOption,u.destroy()},o.prototype.getLabelType=function(){var t=this.labelOption,e=this.coordinate,n=this.type,r=e.type,e=e.isTransposed;return Object(j.get)(t,["cfg","type"])||("polar"===r?e?"pie":"polar":"theta"===r?"pie":"interval"===n||"polygon"===n?"interval":"base")},o.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,t=t.max;return 0<=e?e:t<=0?t:0},o.prototype.createAttrOption=function(t,e,n){var r;Object(j.isNil)(e)||Object(j.isObject)(e)?Object(j.isObject)(e)&&Object(j.isEqual)(Object.keys(e),["values"])?Object(j.set)(this.attributeOption,t,{fields:e.values}):Object(j.set)(this.attributeOption,t,e):(r={},Object(j.isNumber)(e)?r.values=[e]:r.fields=or(e),n&&(Object(j.isFunction)(n)?r.callback=n:r.values=n),Object(j.set)(this.attributeOption,t,r))},o.prototype.initAttributes=function(){var t,o=this,a=this.attributes,s=this.attributeOption,c=this.theme,u=this.shapeType,l=(this.groupScales=[],{});for(t in s){var e=function(n){if(s.hasOwnProperty(n)){var t=s[n];if(!t)return{value:void 0};var t=x({},t),e=t.callback,r=t.values,i=t.fields,i=(void 0===i?[]:i).map(function(t){var e=o.scales[t];return!l[t]&&y.includes(n)&&"cat"===Rt(e,Object(j.get)(o.scaleDefs,t),n,o.type)&&(o.groupScales.push(e),l[t]=!0),e}),e=(t.scales=i,"position"!==n&&1===i.length&&"identity"===i[0].type?t.values=i[0].values:e||r||("size"===n?t.values=c.sizes:"shape"===n?t.values=c.shapes[u]||[]:"color"===n&&(i.length?t.values=i[0].values.length<=10?c.colors10:c.colors20:t.values=c.colors10)),P(n));a[n]=new e(t)}}(t);if("object"==typeof e)return e.value}},o.prototype.processData=function(t){this.hasSorted=!1;for(var l=this.getAttribute("position").scales.filter(function(t){return t.isCategory}),e=this.groupData(t),n=[],r=0,h=e.length;r<h;r++){for(var i=e[r],d=[],o=0,f=i.length;o<f;o++){var a,s=i[o],c={};for(a in s)c[a]=s[a];c._origin=s;for(var u=0,p=l;u<p.length;u++){var g=p[u],y=g.field;c[y]=g.translate(c[y])}d.push(c)}n.push(d)}t=this.adjustData(n);return this.beforeMappingData=t},o.prototype.adjustData=function(l){var t=this.adjustOption,h=this.intervalPadding,d=this.dodgePadding,e=this.theme,f=this.maxColumnWidth||e.maxColumnWidth,p=this.minColumnWidth||e.minColumnWidth,n=this.columnWidthRatio||e.columnWidthRatio,g=l;if(t){var r=this.getXScale(),i=this.getYScale(),y=r.field,_=i?i.field:null,m=jt(this.coordinate),v=r.values.length,e=this.getAttribute("size"),b=void 0;e&&(b=e.values[0]);for(var o=0,O=t.length;o<O;o++){var a=t[o],s=x({xField:y,yField:_,intervalPadding:h,dodgePadding:d,xDimensionLength:m,groupNum:v,defaultSize:b,maxColumnWidth:f,minColumnWidth:p,columnWidthRatio:n},a),a=a.type;if("dodge"===a){var c=[];if(r.isCategory||"identity"===r.type)c.push("x");else{if(i)throw new Error("dodge is not support linear attribute, please use category attribute!");c.push("y")}s.adjustNames=c,s.dodgeRatio=n}else"stack"===a&&(c=this.coordinate,i||(s.height=c.getHeight(),u=this.getDefaultValue("size")||3,s.size=u),!c.isTransposed&&Object(j.isNil)(s.reverseOrder)&&(s.reverseOrder=!0));var u=Object(R.getAdjust)(a),s=(s.dimValuesMap={},r&&r.values&&(s.dimValuesMap[r.field]=r.values.map(function(t){return r.translate(t)})),new u(s)),g=s.process(g);this.adjusts[a]=s}}return g},o.prototype.groupData=function(t){for(var l=this.getGroupScales(),h=this.scaleDefs,d={},f=[],e=0;e<l.length;e++){var n=l[e].field;f.push(n),Object(j.get)(h,[n,"values"])&&(d[n]=h[n].values)}var r=f,i=d;if(void 0===i&&(i={}),!r)return[t];var o=Object(j.groupToMap)(t,r),a=[];if(1===r.length&&i[r[0]])for(var s=0,p=i[r[0]];s<p.length;s++){var c=p[s],c=o["_".concat(c)];c&&a.push(c)}else for(var u in o)o.hasOwnProperty(u)&&(u=o[u],a.push(u));return a},o.prototype.updateStackRange=function(t,e){for(var n=Object(j.flatten)(e),r=t.field,i=t.min,o=t.max,a=0;a<n.length;a++){var s=n[a],c=Math.min.apply(null,s[r]),s=Math.max.apply(null,s[r]);c<i&&(i=c),o<s&&(o=s)}var e=this.scaleDefs,u={};i<t.min&&!Object(j.get)(e,[r,"min"])&&(u.min=i),o>t.max&&!Object(j.get)(e,[r,"max"])&&(u.max=o),t.change(u)},o.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,r=e.length;n<r;n++){var i=e[n],o=(this.generateShapePoints(i),e[n+1]);o&&(this.generateShapePoints(o),i[0].nextPoints=o[0].points)}return e},o.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),r=0;r<t.length;r++){var i=t[r],o=this.createShapePointsCfg(i),a=n?this.getAttributeValues(n,i):null,a=e.getShapePoints(a,o);i.points=a}},o.prototype.normalizeValues=function(t,e){var n=[];if(Object(j.isArray)(t))for(var r=0;r<t.length;r++){var i=t[r];n.push(e.scale(i))}else n=e.scale(t);return n},o.prototype.mapping=function(t){for(var e=this.attributes,l=[],n=0;n<t.length;n++){var r,i=t[n],o={_origin:i._origin,points:i.points,nextPoints:i.nextPoints};for(r in e)if(e.hasOwnProperty(r)){var h=e[r],a=h.names,s=this.getAttributeValues(h,i);if(1<a.length)for(var c=0;c<s.length;c+=1){var u=s[c];o[a[c]]=Object(j.isArray)(u)&&1===u.length?u[0]:u}else o[a[0]]=1===s.length?s[0]:s}this.convertPoint(o),l.push(o)}return l},o.prototype.convertPoint=function(t){var e=t.x,n=t.y,r=this.coordinate;if(Object(j.isArray)(e)&&Object(j.isArray)(n))for(var i=[],o=[],a=0,s=0,l=e.length,h=n.length;a<l&&s<h;a+=1,s+=1)u=r.convert({x:e[a],y:n[s]}),i.push(u.x),o.push(u.y);else if(Object(j.isArray)(n)){o=[];for(var c=0;c<n.length;c++){var d=n[c],u=r.convert({x:e,y:d});i&&i!==u.x?(i=Object(j.isArray)(i)?i:[i]).push(u.x):i=u.x,o.push(u.y)}}else if(Object(j.isArray)(e))for(i=[],c=0;c<e.length;c++){var f=e[c];u=r.convert({x:f,y:n}),o&&o!==u.y?(o=Object(j.isArray)(o)?o:[o]).push(u.y):o=u.y,i.push(u.x)}else{var p=r.convert({x:e,y:n});i=p.x,o=p.y}t.x=i,t.y=o},o.prototype.getStyleCfg=function(t,e){var n=t.fields,n=void 0===n?[]:n,r=t.callback,t=t.cfg;if(t)return t;t=n.map(function(t){return e[t]});return r.apply(void 0,t)},o.prototype.setCfg=function(t){var n=this,e=t.coordinate,r=t.data,i=t.theme,t=t.scaleDefs;e&&(this.coordinate=e),r&&(this.data=r),t&&(this.scaleDefs=t,this.idFields=[],Object(j.each)(t,function(t,e){t&&t.key&&n.idFields.push(e)})),i&&(this.theme=this.userTheme?Object(j.deepMix)({},i,this.userTheme):i)},o.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var n,r=this.geometryLabel,u=(r||(n=this.getLabelType(),r=new Xn[n.toLowerCase()](this),this.geometryLabel=r),r.render(t,e),r.labelsRenderer.shapesMap);Object(j.each)(this.elementsMap,function(t,e){n=e,e=u,r=[],Object(j.each)(e,function(t,e){e.split(" ")[0]===n&&r.push(t)});var n,r,i=r;if(i.length){t.labelShape=i;for(var o=0;o<i.length;o++)for(var a=i[o].getChildren(),s=0;s<a.length;s++){var c=a[s];c.cfg.name=["element","label"],c.cfg.element=t}}})},o.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===Object(j.get)(this.animateOption,"appear")||Object(j.get)(this.animateOption,"appear")&&void 0===Object(j.get)(this.animateOption,["appear","animation"]))};var sr,N=o,cr=b.a.transform;function o(t){var e=sr.call(this,t)||this,n=(e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1,t.container),r=t.labelsContainer,i=t.coordinate,o=t.data,a=t.sortable,a=void 0!==a&&a,s=t.visible,s=void 0===s||s,l=t.theme,c=t.scales,c=void 0===c?{}:c,u=t.scaleDefs,u=void 0===u?{}:u,h=t.intervalPadding,d=t.dodgePadding,f=t.maxColumnWidth,p=t.minColumnWidth,g=t.columnWidthRatio,y=t.roseWidthRatio,_=t.multiplePieWidthRatio,m=t.zIndexReversed,t=t.sortZIndex;return e.container=n,e.labelsContainer=r,e.coordinate=i,e.data=o,e.sortable=a,e.visible=s,e.userTheme=l,e.scales=c,e.scaleDefs=u,e.intervalPadding=h,e.dodgePadding=d,e.maxColumnWidth=f,e.minColumnWidth=p,e.columnWidthRatio=g,e.roseWidthRatio=y,e.multiplePieWidthRatio=_,e.zIndexReversed=m,e.sortZIndex=t,e}function ur(t,e,n){e=cr(t.getMatrix(),[["t",e,n]]);t.setMatrix(e)}function lr(t,e){e=e,n=(i=t).attr(),r=n.x,n=n.y;var n,r,i=cr(i.getMatrix(),[["t",-r,-n],["r",e],["t",r,n]]);t.setMatrix(i)}function hr(t){return t.find(function(t){return"text"===t.get("type")})}function dr(t,e,n){void 0===n&&(n=[0,0,0,0]);var r,i,o,a,t=t.getChildren()[0];if(t)return t=t.clone(),null!=e&&e.rotate&&lr(t,-e.rotate),r=(a=t.getCanvasBBox()).x,i=a.y,o=a.width,a=a.height,t.destroy(),t=n,Object(j.isNil)(t)?t=[2,2,2,2]:Object(j.isNumber)(t)&&(t=new Array(4).fill(t)),{x:r-t[3],y:i-t[0],width:o+t[1]+t[3],height:a+t[0]+t[2],rotation:(null==e?void 0:e.rotate)||0}}pr.prototype.render=function(t,e,s){var c=this,h=(void 0===s&&(s=!1),this.shapesMap={},this.container),n=this.createOffscreenGroup();if(t.length){for(var r=0,i=t;r<i.length;r++){var o=i[r];o&&this.renderLabel(o,n)}this.doLayout(t,e),this.renderLabelLine(t),this.renderLabelBackground(t),this.adjustLabel(t)}var u=this.lastShapesMap,l=this.shapesMap;Object(j.each)(l,function(t,e){var n,r,i,o,a;t.destroyed?delete l[e]:(u[e]?(a=t.get("data"),n=t.get("origin"),r=t.get("coordinate"),i=t.get("animateCfg"),function r(i,o,a){var s=a.data,c=a.origin,u=a.animateCfg,l=a.coordinate,h=Object(j.get)(u,"update");i.set("data",s),i.set("origin",c),i.set("animateCfg",u),i.set("coordinate",l),i.set("visible",o.get("visible")),i.getChildren().forEach(function(t,e){var n,e=o.getChildByIndex(e);e?(t.set("data",s),t.set("origin",c),t.set("animateCfg",u),t.set("coordinate",l),n=Mt(t,e),h?$n(t,h,{toAttrs:n,coordinate:l}):t.attr(n),e.isGroup()&&r(t,e,a)):(i.removeChild(t),t.remove(!0))}),Object(j.each)(o.getChildren(),function(t,e){e>=i.getCount()&&(t.destroyed||i.add(t))})}(o=u[e],l[e],{data:a,origin:n,animateCfg:i,coordinate:r}),c.shapesMap[e]=o):(h.add(t),(a=Object(j.get)(t.get("animateCfg"),s?"enter":"appear"))&&$n(t,a,{toAttrs:x({},t.attr()),coordinate:t.get("coordinate")})),delete u[e])}),Object(j.each)(u,function(t){var e=Object(j.get)(t.get("animateCfg"),"leave");e?$n(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)}),this.lastShapesMap=l,n.destroy()},pr.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},pr.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},pr.prototype.renderLabel=function(t,e){var n,r=t.id,i=t.elementId,o=t.data,a=t.mappingData,s=t.coordinate,c=t.animate,u=t.content,i={id:r,elementId:i,data:o,origin:x(x({},a),{data:a._origin}),coordinate:s},o=e.addGroup(x({name:"label",animateCfg:!1!==this.animate&&null!==c&&!1!==c&&Object(j.deepMix)({},this.animate,c)},i));u.isGroup&&u.isGroup()||u.isShape&&u.isShape()?(s=(a=u.getCanvasBBox()).width,e=a.height,c=Object(j.get)(t,"textAlign","left"),a=t.x,"center"===c?a-=s/2:"right"!==c&&"end"!==c||(a-=s),ur(u,a,t.y-e/2),o.add(n=u)):(c=Object(j.get)(t,["style","fill"]),n=o.addShape("text",x({attrs:x(x({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:Object(j.get)(t,"textBaseline","middle"),text:t.content},t.style),{fill:Object(j.isNull)(c)?t.color:c})},i))),t.rotate&&lr(n,t.rotate),this.shapesMap[r]=o},pr.prototype.doLayout=function(i,o){var t,a=this;this.layout&&(t=Object(j.isArray)(this.layout)?this.layout:[this.layout],Object(j.each)(t,function(t){e=Object(j.get)(t,"type","");var n,r,e=Yn[e.toLowerCase()];e&&(n=[],r=[],Object(j.each)(a.shapesMap,function(t,e){n.push(t),r.push(o[t.get("elementId")])}),e(i,n,r,a.region,t.cfg))}))},pr.prototype.renderLabelLine=function(t){var a=this;Object(j.each)(t,function(t){var e,n,r,i,o=Object(j.get)(t,"coordinate");t&&o&&(r=o.getCenter(),o=o.getRadius(),t.labelLine&&(e=Object(j.get)(t,"labelLine",{}),n=t.id,(i=e.path)||(i=[["M",(r=Ot(r.x,r.y,o,t.angle)).x,r.y],["L",t.x,t.y]]),(o=a.shapesMap[n]).destroyed||o.addShape("path",{capture:!1,attrs:x({path:i,stroke:t.color||Object(j.get)(t,["style","fill"],"#000"),fill:null},e.style),id:n,origin:t.mappingData,data:t.data,coordinate:t.coordinate})))})},pr.prototype.renderLabelBackground=function(t){var s=this;Object(j.each)(t,function(t){var e,n,r,i,o=Object(j.get)(t,"coordinate"),a=Object(j.get)(t,"background");a&&o&&(o=t.id,(r=s.shapesMap[o]).destroyed||(e=r.getChildren()[0])&&(n=(i=dr(r,t,a.padding)).rotation,i=O(i,["rotation"]),(r=r.addShape("rect",{attrs:x(x({},i),a.style||{}),id:o,origin:t.mappingData,data:t.data,coordinate:t.coordinate})).setZIndex(-1),n&&(i=e.getMatrix(),r.setMatrix(i))))})},pr.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},pr.prototype.adjustLabel=function(t){var n=this;Object(j.each)(t,function(e){var t;e&&(t=e.id,(t=n.shapesMap[t]).destroyed||(t=t.findAll(function(t){return"path"!==t.get("type")}),Object(j.each)(t,function(t){t&&(e.offsetX&&t.attr("x",t.attr("x")+e.offsetX),e.offsetY&&t.attr("y",t.attr("y")+e.offsetY))})))})};var fr=pr;function pr(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,t=t.container;this.layout=e,this.container=t}function gr(t){var e=0;return Object(j.each)(t,function(t){e+=t}),e/t.length}_r.prototype.getLabelItems=function(t){var o=this,a=[],e=this.getLabelCfgs(t);return Object(j.each)(t,function(n,t){var r,i=e[t];!i||Object(j.isNil)(n.x)||Object(j.isNil)(n.y)?a.push(null):(t=Object(j.isArray)(i.content)?i.content:[i.content],r=(i.content=t).length,Object(j.each)(t,function(t,e){Object(j.isNil)(t)||""===t?a.push(null):((t=x(x({},i),o.getLabelPoint(i,n,e))).textAlign||(t.textAlign=o.getLabelAlign(t,e,r)),t.offset<=0&&(t.labelLine=null),a.push(t))}))}),a},_r.prototype.render=function(t,e){void 0===e&&(e=!1);var t=this.getLabelItems(t),n=this.getLabelsRenderer(),r=this.getGeometryShapes();n.render(t,r,e)},_r.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},_r.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},_r.prototype.getCoordinate=function(){return this.geometry.coordinate},_r.prototype.getDefaultLabelCfg=function(t,e){var n=this.geometry,r=n.type,n=n.theme;return"polygon"===r||"interval"===r&&"middle"===e||t<0&&!["line","point","path"].includes(r)?Object(j.get)(n,"innerLabels",{}):Object(j.get)(n,"labels",{})},_r.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.type,e=e.theme;return"polygon"===r||t.offset<0&&!["line","point","path"].includes(r)?Object(j.deepMix)({},n,e.innerLabels,t):Object(j.deepMix)({},n,e.labels,t)},_r.prototype.setLabelPosition=function(t,e,n,r){},_r.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),t=this.getOffsetVector(t);return e.isTransposed?t[0]:t[1]},_r.prototype.getLabelOffsetPoint=function(t,e,n){var t=t.offset,r=this.getCoordinate().isTransposed,i=r?1:-1,o={x:0,y:0};return o[r?"x":"y"]=0<e||1===n?t*i:t*i*-1,o},_r.prototype.getLabelPoint=function(i,t,e){var n=this.getCoordinate(),l=i.content.length;function r(t,e,n){void 0===n&&(n=!1);var r=t;return r=Object(j.isArray)(r)?1===i.content.length?!n&&r.length<=2?r[t.length-1]:gr(r):r[e]:r}var o,a,s={content:i.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"},h=Object(j.isArray)(t.shape)?t.shape[0]:t.shape,c="funnel"===h||"pyramid"===h,u=("polygon"===this.geometry.type?(u=function(t,e){if(Object(j.isNumber)(t)&&Object(j.isNumber)(e))return[t,e];if(vt(t)||vt(e))return[bt(t),bt(e)];for(var n,r,i=-1,o=0,a=0,s=t.length-1,c=0;++i<t.length;)n=s,s=i,c+=r=t[n]*e[s]-t[s]*e[n],o+=(t[n]+t[s])*r,a+=(e[n]+e[s])*r;return[o/(c*=3),a/c]}(t.x,t.y),s.x=u[0],s.y=u[1]):("interval"!==this.geometry.type||c?s.x=r(t.x,e):s.x=r(t.x,e,!0),s.y=r(t.y,e)),c&&(u=Object(j.get)(t,"nextPoints"),c=Object(j.get)(t,"points"),u?(o=n.convert(c[1]),a=n.convert(u[1]),s.x=(o.x+a.x)/2,s.y=(o.y+a.y)/2):"pyramid"===h&&(o=n.convert(c[1]),a=n.convert(c[2]),s.x=(o.x+a.x)/2,s.y=(o.y+a.y)/2)),i.position&&this.setLabelPosition(s,t,e,i.position),this.getLabelOffsetPoint(i,e,l));return s.start={x:s.x,y:s.y},s.x+=u.x,s.y+=u.y,s.color=t.color,s},_r.prototype.getLabelAlign=function(t,e,n){var r="center";return this.getCoordinate().isTransposed&&(r=(t=t.offset)<0?"right":0===t?"center":"left",1<n&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))),r},_r.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,r=e.getXScale(),i=e.getYScale(),o=t._origin,e=e.getElementId(t);return"line"===n||"area"===n?e+=" ".concat(o[r.field]):"path"===n&&(e+=" ".concat(o[r.field],"-").concat(o[i.field])),e},_r.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,r=t.canvasRegion,t=t.animateOption,i=this.geometry.coordinate,o=this.labelsRenderer;return o||(o=new fr({container:e,layout:Object(j.get)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=o),o.region=r,o.animate=!!t&&Gn("label",i),o},_r.prototype.getLabelCfgs=function(t){var a=this,e=this.geometry,n=e.labelOption,r=e.scales,s=e.coordinate,c=n.fields,u=n.callback,l=n.cfg,d=c.map(function(t){return r[t]}),h=[];return Object(j.each)(t,function(t,e){var n=t._origin,r=a.getLabelText(n,d);if(u){var i=c.map(function(t){return n[t]}),i=u.apply(void 0,i);if(Object(j.isNil)(i))return void h.push(null)}var i=x(x({id:a.getLabelId(t),elementId:a.geometry.getElementId(t),data:n,mappingData:t,coordinate:s},l),i),o=(Object(j.isFunction)(i.position)&&(i.position=i.position(n,t,e)),a.getLabelOffset(i.offset||0)),o=a.getDefaultLabelCfg(o,i.position),o=((i=Object(j.deepMix)({},o,i)).offset=a.getLabelOffset(i.offset||0),i.content);Object(j.isFunction)(o)?i.content=o(n,t,e):Object(j.isUndefined)(o)&&(i.content=r[0]),h.push(i)}),h},_r.prototype.getLabelText=function(n,t){var r=[];return Object(j.each)(t,function(e){var t=n[e.field],t=Object(j.isArray)(t)?t.map(function(t){return e.getText(t)}):e.getText(t);Object(j.isNil)(t)||""===t?r.push(null):r.push(t)}),r},_r.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate(),n=0;return Object(j.isNumber)(t)&&(n=t),e.isTransposed?e.applyMatrix(n,0):e.applyMatrix(0,n)},_r.prototype.getGeometryShapes=function(){var n=this.geometry,r={};return Object(j.each)(n.elementsMap,function(t,e){r[e]=t.shape}),Object(j.each)(n.getOffscreenGroup().getChildren(),function(t){var e=n.getElementId(t.get("origin").mappingData);r[e]=t}),r};var yr=_r;function _r(t){this.geometry=t}function mr(t,e,n){return t&&(t.callback&&1<t.callback.length?(r=Array(t.callback.length-1).fill(""),t.mapping.apply(t,g([e],r,!1)).join("")):t.mapping(e).join(""))||n;var r}var vr={hexagon:function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}},br=["line","cross","tick","plus","hyphen"];function Or(t){var e=t.symbol;Object(j.isString)(e)&&vr[e]&&(t.symbol=vr[e])}function xr(t){return t.startsWith(p.LEFT)||t.startsWith(p.RIGHT)?"vertical":"horizontal"}function Er(u,l,t,h,m){var d,f,p,g,y,_=t.getScale(t.type);return _.isCategory?(d=_.field,f=l.getAttribute("color"),p=l.getAttribute("shape"),g=u.getTheme().defaultColor,y=l.coordinate.isPolar,_.getTicks().map(function(t,e){var n=t.text,t=t.value,r=_.invert(t),i=0===u.filterFieldData(d,[((t={})[d]=r,t)]).length;Object(j.each)(u.views,function(t){t.filterFieldData(d,[((t={})[d]=r,t)]).length||(i=!0)});var o,a,t=mr(f,r,g),s=mr(p,r,"point"),s=l.getShapeMarker(s,{color:t,isInPolar:y}),c=m;return Object(j.isFunction)(c)&&(c=c(n,e,x({name:n,value:r},Object(j.deepMix)({},h,s)))),e=s=Object(j.deepMix)({},h,s,Ct(x({},c),["style"])),t=t,a=e.symbol,Object(j.isString)(a)&&-1!==br.indexOf(a)&&(a=Object(j.get)(e,"style",{}),o=Object(j.get)(a,"lineWidth",1),a=a.stroke||a.fill||t,e.style=Object(j.deepMix)({},e.style,{lineWidth:o,stroke:a,fill:null})),c&&c.style&&(s.style=(t=s.style,e=c.style,Object(j.isFunction)(e)?e(t):Object(j.deepMix)({},t,e))),Or(s),{id:r,name:n,value:r,marker:s,unchecked:i}})):[]}function wr(t,e){t=Object(j.get)(t,["components","legend"],{});return Object(j.deepMix)({},Object(j.get)(t,["common"],{}),Object(j.deepMix)({},Object(j.get)(t,[e],{})))}function Mr(t){return!t&&(null==t||isNaN(t))}function Pr(t){if(Object(j.isArray)(t))return Mr(t[1].y);t=t.y;return Object(j.isArray)(t)?Mr(t[0]):Mr(t)}function Cr(t,e,n){if(void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e=void 0===e?!1:e){for(var r=[],i=0,o=t.length;i<o;i++)Pr(a=t[i])||r.push(a);return[r]}for(var a,s=[],c=[],i=0,o=t.length;i<o;i++)Pr(a=t[i])?c.length&&(1===c.length&&!n||s.push(c),c=[]):c.push(a);return c.length&&s.push(c),s}function Ar(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r&&e.push([0===n?"M":"L",r.x,r.y])}var i=t[0];return i&&(e.push(["L",i.x,i.y]),e.push(["z"])),e}function Sr(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)(i<e?n:r).push(t[i]);var o=ce(n,!1),a=ce(r,!1),o=(r.length&&o.push(["L",r[0].x,r[0].y]),a.shift(),o.concat(a));return n.length&&o.push(["L",n[0].x,n[0].y]),o.push(["z"]),o}function jr(t,e,n,r){void 0===r&&(r="");var i=t.style,i=void 0===i?{}:i,o=t.defaultStyle,a=t.color,t=t.size,o=x(x({},o),i);return a&&(e&&(i.stroke||(o.stroke=a)),n&&(i.fill||(o.fill=a))),r&&Object(j.isNil)(i[r])&&!Object(j.isNil)(t)&&(o[r]=t),o}function Dr(t){return Object(j.deepMix)({},{fill:"#CCD6EC",fillOpacity:.3},Object(j.get)(t,["background","style"]))}function Tr(t){var n=t.x;return(Object(j.isArray)(t.y)?t.y:[t.y]).map(function(t,e){return{x:Object(j.isArray)(n)?n[e]:n,y:t}})}var Ir={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function kr(t,e){t=t.color;return{symbol:Ir[e],style:{lineWidth:2,r:6,stroke:t}}}function Lr(t,e,n,r,i){return 1===t.length?[["M",t[0].x,t[0].y-i.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+i.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),o=ce(t,!1,r)):(o=se(t,!1),e&&o.push(["Z"])),o);var o}function Rr(t,e,n,l,h,d){var r,i,o,a,s,c,u;return t.length?(r=t[0],Object(j.isArray)(r.y)?(r=t,i=e,n=n,o=l,a=h,s=d,c=[],u=[],Object(j.each)(r,function(t){t=Tr(t);c.push(t[1]),u.push(t[0])}),r=Lr(c,i,o,a,s),i=Lr(u,i,o,a,s),n?r:r.concat(i)):Lr(t,e,l,h,d)):[]}er("line",{defaultShapeType:"line"}),Object(j.each)(["line","dot","dash","smooth"],function(o){nr("line",o,{draw:function(t,e){var n,r="smooth"===o,i=(r&&(i=(n=this.coordinate).start,n=n.end,n=[[i.x,n.y],[n.x,i.y]]),function(t,e,n){for(var r=t.isStack,i=t.connectNulls,o=t.isInCircle,l=t.showSinglePoint,a=jr(t,!0,!1,"lineWidth"),s=Cr(t.points,i,l),c=[],u=0,h=s.length;u<h;u++)var d=s[u],c=c.concat(Rr(d,o,r,e,n,a));return a.path=c,a}(t,r,n));return e.addShape({type:"path",attrs:i,name:"line",capture:!r})},getMarker:function(t){return kr(t,o)}})});var Br,Nr={getLegendItems:Er,translate:ur,rotate:lr,zoom:function(t,e){var n=t.getBBox(),r=(n.minX+n.maxX)/2,n=(n.minY+n.maxY)/2,e=(t.applyToMatrix([r,n,1]),cr(t.getMatrix(),[["t",-r,-n],["s",e,e],["t",r,n]]));t.setMatrix(e)},transform:cr,getAngle:wt,getSectorPath:xt,polarToCartesian:Ot,getDelegationObject:fe,getTooltipItems:hn,getMappingValue:mr,getPath:Rr,getPathPoints:Cr},U="#000",z="#FFFFFF",W="#A6A6A6",t="#737373",Fr="#404040",Ur="#262626",Wr=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],zr=(zr=($r=void 0===$r?{}:$r).backgroundColor,Kr=$r.subColor,qr=void 0===(qr=$r.paletteQualitative10)?Wr:qr,ti=$r.paletteQualitative20,ei=$r.paletteSemanticRed,di=$r.paletteSemanticGreen,fi=$r.paletteSemanticYellow,pi=$r.paletteSequence,vi=$r.fontFamily,$r=$r.brandColor,{backgroundColor:void 0===zr?"#141414":zr,brandColor:void 0===$r?qr[0]:$r,subColor:void 0===Kr?"rgba(255,255,255,0.05)":Kr,paletteQualitative10:qr,paletteQualitative20:void 0===ti?["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"]:ti,paletteSemanticRed:void 0===ei?"#F4664A":ei,paletteSemanticGreen:void 0===di?"#30BF78":di,paletteSemanticYellow:void 0===fi?"#FAAD14":fi,paletteSequence:void 0===pi?["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"]:pi,fontFamily:void 0===vi?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':vi,axisLineBorderColor:Fr,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:W,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Fr,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ur,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:t,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ur,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:t,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Wr[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:W,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:t,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:t,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:W,legendPageNavigatorTextFontSize:12,sliderRailFillColor:Ur,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:t,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:Ur,annotationArcBorder:1,annotationLineBorderColor:Fr,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:W,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:z,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Fr,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:W,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:W,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:U,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:W,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:U,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Fr,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Wr[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:U,pointBorderOpacity:1,pointActiveBorderColor:z,pointSelectedBorder:2,pointSelectedBorderColor:z,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Wr[0],hollowPointBorderOpacity:.95,hollowPointFillColor:U,hollowPointActiveBorder:1,hollowPointActiveBorderColor:z,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:z,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Wr[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Wr[0],areaFillOpacity:.25,areaActiveFillColor:Wr[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Wr[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Wr[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:z,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:z,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Wr[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:z,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:z,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Wr[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:U,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:z,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:z,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),Gr=s(70),$r=s(100),Kr=(e(Vr,Br=N),Vr.prototype.updateElements=function(l,t){void 0===t&&(t=!1);for(var e=new Map,n=new Map,h=[],r=0,i=0;i<l.length;i++){var o=l[i],a=this.getElementId(o);h.push(a),e.set(a,o),n.set(a,r),r++}this.elements=new Array(r);for(var s=ar(this.lastElementsMap,h),d=s.added,f=s.updated,s=s.removed,p=0,g=d;p<g.length;p++){var a=g[p],o=e.get(a),y=this.getShapeFactory(),c=this.getShapeInfo(o),i=n.get(a);(u=new Vn({shapeFactory:y,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:i})).geometry=this,u.animate=this.animateOption,u.draw(c,t),this.elementsMap[a]=u,this.elements[i]=u}for(var _=0,m=f;_<m.length;_++){a=m[_],o=e.get(a);var u=this.lastElementsMap[a],v=(i=n.get(a),c=this.getShapeInfo(o),u.getModel());(this.isCoordinateChanged||ir(v,c))&&(u.animate=this.animateOption,u.update(c)),this.elementsMap[a]=u,this.elements[i]=u}for(var b=0,O=s;b<O.length;b++)a=O[b],(u=this.lastElementsMap[a]).animate=this.animateOption,u.destroy()},Vr.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r];e.push({x:o.x,y:o.y}),n.push(o._origin)}return{points:e,data:n}},Vr.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),r=n.points,n=n.data;return e.mappingData=t,e.data=n,e.isStack=!!this.getAdjust("stack"),e.points=r,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},Vr);function Vr(t){var e=Br.call(this,t)||this,n=(e.type="path",e.shapeType="line",t.connectNulls),t=t.showSinglePoint,t=void 0===t||t;return e.connectNulls=void 0!==n&&n,e.showSinglePoint=t,e}function Xr(t,e,n,r,i){for(var e=jr(t,e,!e,"lineWidth"),o=t.connectNulls,a=t.isInCircle,s=Cr(t.points,o,t.showSinglePoint),c=[],u=0,l=s.length;u<l;u++)var h=s[u],c=c.concat(function(t,i,o,a,s){var c=[];if(t.length){for(var u=[],l=[],e=0,r=t.length;e<r;e++){var n=t[e];u.push(n[1]),l.push(n[0])}l=l.reverse(),Object(j.each)([u,l],function(t,e){var n=[],t=a.parsePoints(t),r=t[0];1===u.length&&1===l.length?n=0===e?[["M",r.x-.5,r.y],["L",r.x+.5,r.y]]:[["L",r.x+.5,r.y],["L",r.x-.5,r.y]]:(i&&t.push({x:r.x,y:r.y}),n=o?ce(t,!1,s):se(t,!1),0<e&&(n[0][0]="L")),c=c.concat(n)}),c.push(["Z"])}return c}(h,a,n,r,i));return e.path=c,e}function Yr(t){var e=t.start,t=t.end;return[[e.x,t.y],[t.x,e.y]]}er("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0;return(Object(j.isArray)(t.y)?t.y:[n,t.y]).map(function(t){return{x:e,y:t}})}}),nr("area","area",{draw:function(t,e){t=Xr(t,!1,!1,this);return e.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-(n=void 0===n?5.5:n),e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}});e(Zr,Hr=Kr),Zr.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r];e.push(o.points),n.push(o._origin)}return{points:e,data:n}},Zr.prototype.getYMinValue=function(){return this.startOnZero?Hr.prototype.getYMinValue.call(this):this.getYScale().min};var Hr,qr=Zr;function Zr(t){var e=Hr.call(this,t)||this,n=(e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0,t.startOnZero),r=t.sortable,r=void 0!==r&&r,t=t.showSinglePoint,t=void 0!==t&&t;return e.startOnZero=void 0===n||n,e.sortable=r,e.showSinglePoint=t,e}er("edge",{defaultShapeType:"line",getDefaultPoints:Tr}),nr("edge","line",{draw:function(t,e){var n=jr(t,!0,!1,"lineWidth"),t=se(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:x(x({},n),{path:t})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});e(ri,Jr=N);var Qr,Jr,ti=ri,ei=(e(ni,Qr=N),ni.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=0;n<t.length;n++){var r=t[n],i=this.prepareRange(r),o=this.prepareSize(),a=Object(j.get)(this.styleOption,["cfg","shadowBlur"]);Object(j.isNumber)(a)||(a=o/2),this.prepareGreyScaleBlurredCircle(o,a),this.drawWithRange(r,i,o,a)}},ni.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!=typeof e?e:""),this},ni.prototype.clear=function(){Qr.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},ni.prototype.prepareRange=function(t){var e=this.getAttribute("color").getFields()[0],n=1/0,r=-1/0;return t.forEach(function(t){t=t._origin[e];r<t&&(r=t),t<n&&(n=t)}),[n=n===r?r-1:n,r]},ni.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return t=Object(j.isNumber)(t)?t:this.getDefaultSize()},ni.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),r=t+e,i=n.getContext("2d");n.width=n.height=2*r,i.clearRect(0,0,n.width,n.height),i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill()},ni.prototype.drawWithRange=function(t,e,l,h){var n=this.coordinate,r=n.start,d=n.end,n=this.coordinate.getWidth(),f=this.coordinate.getHeight(),i=this.getAttribute("color").getFields()[0],o=(this.clearShadowCanvasCtx(),this.getShadowCanvasCtx());e&&(t=t.filter(function(t){return t._origin[i]<=e[1]&&t._origin[i]>=e[0]}));for(var p=this.scales[i],a=0,g=t;a<g.length;a++){var s=g[a],c=this.getDrawCfg(s),y=c.x,c=c.y,s=p.scale(s._origin[i]);this.drawGrayScaleBlurredCircle(y-r.x,c-d.y,l+h,s,o)}var u=o.getImageData(0,0,n,f),u=(this.clearShadowCanvasCtx(),this.colorize(u),o.putImageData(u,0,0),this.getImageShape());u.attr("x",r.x),u.attr("y",d.y),u.attr("width",n),u.attr("height",f),u.attr("img",o.canvas),u.set("origin",this.getShapeInfo(t))},ni.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},ni.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},ni.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},ni.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},ni.prototype.drawGrayScaleBlurredCircle=function(t,e,n,r,i){var o=this.getGrayScaleBlurredCanvas();i.globalAlpha=r,i.drawImage(o,t-n,e-n)},ni.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,r=this.paletteCache,i=3;i<n.length;i+=4){var o,a=n[i];Object(j.isNumber)(a)&&(o=r[a]||F.a.rgb2arr(e.gradient(a/256)),n[i-3]=o[0],n[i-2]=o[1],n[i-1]=o[2],n[i]=a)}},ni.prototype.getImageShape=function(){var t;return this.imageShape||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t)},ni.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=t.map(function(t){return t._origin});return x(x({},e),{mappingData:t,data:n})},ni);function ni(){var t=null!==Qr&&Qr.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}function ri(){var t=null!==Jr&&Jr.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}function ii(t){var e,n,r=t.x,i=t.y,o=t.y0,t=t.size,o=Object(j.isArray)(i)?(e=i[0],i[1]):(e=o,i),i=Object(j.isArray)(r)?(n=r[0],r[1]):(n=r-t/2,r+t/2),r=[{x:n,y:e},{x:n,y:o}];return r.push({x:i,y:o},{x:i,y:e}),r}function oi(t,e){void 0===e&&(e=!0);var n=[],r=t[0];n.push(["M",r.x,r.y]);for(var i=1,o=t.length;i<o;i++)n.push(["L",t[i].x,t[i].y]);return e&&(n.push(["L",r.x,r.y]),n.push(["z"])),n}function ai(t,e){var n=0,r=0,i=0,o=0;return Object(j.isArray)(t)?1===t.length?n=r=i=o=t[0]:2===t.length?(n=i=t[0],r=o=t[1]):3===t.length?(n=t[0],r=o=t[1],i=t[2]):(n=t[0],r=t[1],i=t[2],o=t[3]):n=r=i=o=t,e<n+r&&(r=e-(n=n?e/(1+r/n):0)),e<i+o&&(o=e-(i=i?e/(1+o/i):0)),[n||0,r||0,i||0,o||0]}function si(t,e,n){var r,i,o,a,s,c,u=[];return n.isRect&&(a=n.isTransposed?{x:n.start.x,y:e[0].y}:{x:e[0].x,y:n.start.y},o=n.isTransposed?{x:n.end.x,y:e[2].y}:{x:e[3].x,y:n.end.y},(i=Object(j.get)(t,["background","style","radius"]))?(s=n.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,c=n.isTransposed?n.getWidth():n.getHeight(),s=(i=ai(i,Math.min(s,c)))[0],c=i[1],r=i[2],i=i[3],u.push(["M",a.x,o.y+s]),0!==s&&u.push(["A",s,s,0,0,1,a.x+s,o.y]),u.push(["L",o.x-c,o.y]),0!==c&&u.push(["A",c,c,0,0,1,o.x,o.y+c]),u.push(["L",o.x,a.y-r]),0!==r&&u.push(["A",r,r,0,0,1,o.x-r,a.y]),u.push(["L",a.x+i,a.y]),0!==i&&u.push(["A",i,i,0,0,1,a.x,a.y-i])):(u.push(["M",a.x,a.y]),u.push(["L",o.x,a.y]),u.push(["L",o.x,o.y]),u.push(["L",a.x,o.y]),u.push(["L",a.x,a.y])),u.push(["z"])),n.isPolar&&(r=n.getCenter(),o=(i=wt(t,n)).startAngle,a=i.endAngle,u="theta"===n.type||n.isTransposed?(t=function(t){return Math.pow(t,2)},s=Math.sqrt(t(r.x-e[0].x)+t(r.y-e[0].y)),c=Math.sqrt(t(r.x-e[2].x)+t(r.y-e[2].y)),xt(r.x,r.y,s,n.startAngle,n.endAngle,c)):xt(r.x,r.y,n.getRadius(),o,a)),u}function ci(t,e,n){var r=[];return Object(j.isNil)(e)?n?r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",(t[2].x+t[3].x)/2,(t[2].y+t[3].y)/2],["Z"]):r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),r}function ui(t){var e=t.theme,n=t.coordinate,r=t.getXScale(),i=r.values,l=t.beforeMappingData,o=i.length,a=jt(t.coordinate),s=t.intervalPadding,c=t.dodgePadding,h=t.maxColumnWidth||e.maxColumnWidth,d=t.minColumnWidth||e.minColumnWidth,f=t.columnWidthRatio||e.columnWidthRatio,p=t.multiplePieWidthRatio||e.multiplePieWidthRatio,e=t.roseWidthRatio||e.roseWidthRatio,u=(r.isLinear&&1<i.length&&(i.sort(),u=function(t,e){for(var n=t.length,r=t,i=(r=Object(j.isString)(r[0])?t.map(function(t){return e.translate(t)}):r)[1]-r[0],o=2;o<n;o++){var a=r[o]-r[o-1];a<i&&(i=a)}return i}(i,r),o=(r.max-r.min)/u,i.length>o&&(o=i.length)),r.range),i=1/o,g=1,g=n.isPolar?n.isTransposed&&1<o?p:e:(r.isLinear&&(i*=u[1]-u[0]),f);return!Object(j.isNil)(s)&&0<=s?i=(1-s/a*(o-1))/o:i*=g,t.getAdjust("dodge")&&(n=l,r=(p=t.getAdjust("dodge").dodgeBy)?(e=Object(j.flatten)(n),Object(j.valuesOfKey)(e,p).length):n.length,!Object(j.isNil)(c)&&0<=c?i=(i-c/a*(r-1))/r:(!Object(j.isNil)(s)&&0<=s&&(i*=g),i/=r),i=0<=i?i:0),!Object(j.isNil)(h)&&0<=h&&((u=h/a)<i&&(i=u)),!Object(j.isNil)(d)&&0<=d&&(i<(f=d/a)&&(i=f)),i}er("interval",{defaultShapeType:"rect",getDefaultPoints:ii}),nr("interval","rect",{draw:function(l,t){var e,n,r,i,o,a,s,c,h=jr(l,!1,!0),d=t,f=null==l?void 0:l.background;function p(t){return Math.abs(t)}f&&(d=t.addGroup(),t=Dr(l),e=si(l,this.parsePoints(l.points),this.coordinate),d.addShape("path",{attrs:x(x({},t),{path:e}),zIndex:-1,name:"element-background"}));var u=h.radius&&this.coordinate.isRect?(t=this.parsePoints(l.points),e=this.coordinate,n=h.radius,t=g([],t,!0),r=t[0],i=t[1],o=t[2],t=t[3],n="number"==typeof n?Array(4).fill(n):n,a=n[0],s=n[1],c=n[2],n=n[3],e.isTransposed&&(i=(u=[t,i])[0],t=u[1],a=(u=[n,a,s,c])[0],s=u[1],c=u[2],n=u[3]),e.isReflect("y")&&(r=(u=[i,r])[0],i=u[1],o=(u=[t,o])[0],t=u[1]),e.isReflect("x")&&(r=(u=[t,r])[0],t=u[1],i=(e=[o,i])[0],o=e[1]),u=[],a=(e=ai([a,s,c,n],Math.min(p(t.x-r.x),p(i.y-r.y))).map(p))[0],s=e[1],c=e[2],n=e[3],r.y<i.y?(u.push(["M",t.x,t.y+c]),0!==c&&u.push(["A",c,c,0,0,0,t.x-c,t.y]),u.push(["L",r.x+n,r.y]),0!==n&&u.push(["A",n,n,0,0,0,r.x,r.y+n]),u.push(["L",i.x,i.y-a]),0!==a&&u.push(["A",a,a,0,0,0,i.x+a,i.y]),u.push(["L",o.x-s,o.y]),0!==s&&u.push(["A",s,s,0,0,0,o.x,o.y-s]),u.push(["L",t.x,t.y+c])):t.x<r.x?(u.push(["M",o.x+s,o.y]),0!==s&&u.push(["A",s,s,0,0,0,o.x,o.y+s]),u.push(["L",t.x,t.y-c]),0!==c&&u.push(["A",c,c,0,0,0,t.x+c,t.y]),u.push(["L",r.x-n,r.y]),0!==n&&u.push(["A",n,n,0,0,0,r.x,r.y-n]),u.push(["L",i.x,i.y+a]),0!==a&&u.push(["A",a,a,0,0,0,i.x-a,i.y]),u.push(["L",o.x+s,o.y])):(u.push(["M",i.x,i.y+a]),0!==a&&u.push(["A",a,a,0,0,1,i.x+a,i.y]),u.push(["L",o.x-s,o.y]),0!==s&&u.push(["A",s,s,0,0,1,o.x,o.y+s]),u.push(["L",t.x,t.y-c]),0!==c&&u.push(["A",c,c,0,0,1,t.x-c,t.y]),u.push(["L",r.x+n,r.y]),0!==n&&u.push(["A",n,n,0,0,1,r.x,r.y-n]),u.push(["L",i.x,i.y+a])),u.push(["z"]),u):this.parsePath((o=l.points,s=h.lineCap,c=this.coordinate,t=c.getWidth(),r=c.getHeight(),n="rect"===c.type,i=[],a=(o[2].x-o[1].x)/2,c=c.isTransposed?a*r/t:a*t/r,"round"===s?(n?(i.push(["M",o[0].x,o[0].y+c]),i.push(["L",o[1].x,o[1].y-c]),i.push(["A",a,a,0,0,1,o[2].x,o[2].y-c]),i.push(["L",o[3].x,o[3].y+c]),i.push(["A",a,a,0,0,1,o[0].x,o[0].y+c])):(i.push(["M",o[0].x,o[0].y]),i.push(["L",o[1].x,o[1].y]),i.push(["A",a,a,0,0,1,o[2].x,o[2].y]),i.push(["L",o[3].x,o[3].y]),i.push(["A",a,a,0,0,1,o[0].x,o[0].y])),i.push(["z"])):i=oi(o),i)),l=d.addShape("path",{attrs:x(x({},h),{path:u}),name:"interval"});return f?d:l},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});e(yi,hi=N),yi.prototype.createShapePointsCfg=function(t){var e,n=hi.prototype.createShapePointsCfg.call(this,t),r=this.getAttribute("size");return r?(e=this.getAttributeValues(r,t)[0],e/=jt(this.coordinate)):(this.defaultSize||(this.defaultSize=ui(this)),e=this.defaultSize),n.size=e,n},yi.prototype.adjustScale=function(){hi.prototype.adjustScale.call(this);var t,e,n,r,i=this.getYScale();"theta"===this.coordinate.type?i.change({nice:!1,min:0,max:(t=(e=i).values.filter(function(t){return!Object(j.isNil)(t)&&!isNaN(t)}),Math.max.apply(Math,g(g([],t,!1),[Object(j.isNil)(e.max)?-1/0:e.max],!1)))}):(t=this.scaleDefs,e=i.field,n=i.min,r=i.max,"time"!==i.type&&(0<n&&!Object(j.get)(t,[e,"min"])&&i.change({min:0}),r<=0&&!Object(j.get)(t,[e,"max"])&&i.change({max:0})))},yi.prototype.getDrawCfg=function(t){t=hi.prototype.getDrawCfg.call(this,t);return t.background=this.background,t};var li,hi,di=yi,fi=(e(gi,li=Kr),gi),pi=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function gi(t){var e=li.call(this,t)||this,t=(e.type="line",t.sortable);return e.sortable=void 0!==t&&t,e}function yi(t){var e=hi.call(this,t)||this,t=(e.type="interval",e.shapeType="interval",e.generatePoints=!0,t.background);return e.background=t,e}function _i(t,e,n,r,i){var o=jr(e,i,!i,"r"),i=t.parsePoints(e.points),t=i[0];if(e.isStack)t=i[1];else if(1<i.length){for(var a=n.addGroup(),s=0,c=i;s<c.length;s++){var u=c[s];a.addShape({type:"marker",attrs:x(x(x({},o),{symbol:vr[r]||r}),u)})}return a}return n.addShape({type:"marker",attrs:x(x(x({},o),{symbol:vr[r]||r}),t)})}er("point",{defaultShapeType:"hollow-circle",getDefaultPoints:Tr}),Object(j.each)(pi,function(n){nr("point","hollow-".concat(n),{draw:function(t,e){return _i(this,t,e,n,!0)},getMarker:function(t){t=t.color;return{symbol:vr[n]||n,style:{r:4.5,stroke:t,fill:null}}}})});e(bi,mi=N),bi.prototype.getDrawCfg=function(t){t=mi.prototype.getDrawCfg.call(this,t);return x(x({},t),{isStack:!!this.getAdjust("stack")})};var mi,vi=bi;function bi(){var t=null!==mi&&mi.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}er("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(n){var r=[];return Object(j.each)(n.x,function(t,e){e=n.y[e];r.push({x:t,y:e})}),r}}),nr("polygon","polygon",{draw:function(t,e){var n;if(!Object(j.isEmpty)(t.points))return n=jr(t,!0,!0),t=this.parsePath(function(t){for(var e=t[0],n=1,r=[["M",e.x,e.y]];n<t.length;){var i=t[n];i.x===t[n-1].x&&i.y===t[n-1].y||(r.push(["L",i.x,i.y]),i.x===e.x&&i.y===e.y&&n<t.length-1&&(e=t[n+1],r.push(["Z"]),r.push(["M",e.x,e.y]),n++)),n++}return Object(j.isEqual)(Object(j.last)(r),e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}(t.points)),e.addShape("path",{attrs:x(x({},n),{path:t}),name:"polygon"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});e(wi,xi=N),wi.prototype.createShapePointsCfg=function(t){var e,n,r,i,o,t=xi.prototype.createShapePointsCfg.call(this,t),a=t.x,s=t.y;return Object(j.isArray)(a)&&Object(j.isArray)(s)||(n=this.getXScale(),r=this.getYScale(),i=.5/n.values.length,o=.5/r.values.length,n.isCategory&&r.isCategory?(a=[a-i,a-i,a+i,a+i],s=[s-o,s+o,s+o,s-o]):Object(j.isArray)(a)?(a=[(e=a)[0],e[0],e[1],e[1]],s=[s-o/2,s+o/2,s+o/2,s-o/2]):Object(j.isArray)(s)&&(s=[(e=s)[0],e[1],e[1],e[0]],a=[a-i/2,a-i/2,a+i/2,a+i/2]),t.x=a,t.y=s),t};var Oi,xi,t=wi,Ur=(er("schema",{defaultShapeType:""}),e(Ei,Oi=N),Ei.prototype.createShapePointsCfg=function(t){var e,n=Oi.prototype.createShapePointsCfg.call(this,t),r=this.getAttribute("size");return r?(e=this.getAttributeValues(r,t)[0],e/=jt(this.coordinate)):(this.defaultSize||(this.defaultSize=ui(this)),e=this.defaultSize),n.size=e,n},Ei);function Ei(){var t=null!==Oi&&Oi.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}function wi(){var t=null!==xi&&xi.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}er("violin",{defaultShapeType:"violin",getDefaultPoints:function(i){var o=i.size/2,a=[],s=function(t){if(!Object(j.isArray)(t))return[];var e=Object(j.max)(t);return Object(j.map)(t,function(t){return t/e})}(i._size);return Object(j.each)(i.y,function(t,e){var n=s[e]*o,r=0===e,e=e===i.y.length-1;a.push({isMin:r,isMax:e,x:i.x-n,y:t}),a.unshift({isMin:r,isMax:e,x:i.x+n,y:t})}),a}}),nr("violin","violin",{draw:function(t,e){var n=jr(t,!0,!0),t=this.parsePath(Ar(t.points));return e.addShape("path",{attrs:x(x({},n),{path:t}),name:"violin"})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:t.color}}}});e(Pi,Mi=N),Pi.prototype.createShapePointsCfg=function(t){var e,n=Mi.prototype.createShapePointsCfg.call(this,t),r=this.getAttribute("size");return r?(e=this.getAttributeValues(r,t)[0],e/=jt(this.coordinate)):(this.defaultSize||(this.defaultSize=ui(this)),e=this.defaultSize),n.size=e,n._size=Object(j.get)(t._origin,[this._sizeField]),n},Pi.prototype.initAttributes=function(){var t=this.attributeOption,e=t.size?t.size.fields[0]:this._sizeField||"size";this._sizeField=e,delete t.size,Mi.prototype.initAttributes.call(this)};var Mi,W=Pi;function Pi(){var t=null!==Mi&&Mi.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}function Ci(t,e){return["C",+t.x/2+ +e.x/2,t.y,+t.x/2+ +e.x/2,e.y,e.x,e.y]}function Ai(t,e){var n=[],r=(n.push({x:e.x,y:e.y}),n.push(t),["Q"]);return Object(j.each)(n,function(t){r.push(t.x,t.y)}),r}function Si(t,r){var e=Cr(t.points,t.connectNulls,t.showSinglePoint),i=[];return Object(j.each)(e,function(t){e=t,c=r,n=[],Object(j.each)(e,function(a,t){var s=e[t+1];n.push(a),s&&(t=function(){var t=a.x,e=a.y,n=s.x,r=s.y;switch(c){case"hv":o=[{x:n,y:e}];break;case"vh":o=[{x:t,y:r}];break;case"hvh":var i=(n+t)/2,o=[{x:i,y:e},{x:i,y:r}];break;case"vhv":i=(e+r)/2;o=[{x:t,y:i},{x:n,y:i}]}return o}(),n=n.concat(t))});var e,c,n,t=n;i=i.concat(t.map(function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}),x(x({},jr(t,!0,!1,"lineWidth")),{path:i})}function ji(t){var t=Object(j.isArray)(t)?t:[t],e=t[0],n=t[t.length-1],r=1<t.length?t[1]:e;return{min:e,max:n,min1:r,max1:3<t.length?t[3]:n,median:2<t.length?t[2]:r}}function Di(t,e,n){var r,i,o,a,s,c,u,n=n/2;return(Object(j.isArray)(e)?(r=(s=ji(e)).min,i=s.max,o=s.median,a=s.min1,[[c=t-n,i],[u=t+n,i],[t,i],[t,s=s.max1],[c,a],[c,s],[u,s],[u,a],[t,a],[t,r],[c,r],[u,r],[c,o],[u,o]]):(e=Object(j.isNil)(e)?.5:e,r=(c=ji(t)).min,i=c.max,o=c.median,[[r,u=e-n],[r,t=e+n],[r,e],[a=c.min1,e],[a,u],[a,t],[s=c.max1,t],[s,u],[s,e],[i,e],[i,u],[i,t],[o,u],[o,t]])).map(function(t){return{x:t[0],y:t[1]}})}function Ti(t,e,n){e=function(t){var e=t=(Object(j.isArray)(t)?t:[t]).sort(function(t,e){return e-t}),n=t[t.length-1];if(Object(j.isString)(e))return e.padEnd(4,n);if(Object(j.isArray)(e)){t=e.length;if(t<4)for(var r=4-t,i=0;i<r;i++)e.push(n)}return e}(e);return[{x:t,y:e[0]},{x:t,y:e[1]},{x:t-n/2,y:e[2]},{x:t-n/2,y:e[1]},{x:t+n/2,y:e[1]},{x:t+n/2,y:e[2]},{x:t,y:e[2]},{x:t,y:e[3]}]}nr("area","line",{draw:function(t,e){t=Xr(t,!0,!1,this);return e.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-(n=void 0===n?5.5:n),e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),nr("area","smooth",{draw:function(t,e){t=Xr(t,!1,!0,this,Yr(this.coordinate));return e.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-(n=void 0===n?5.5:n),e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}}),nr("area","smooth-line",{draw:function(t,e){t=Xr(t,!0,!0,this,Yr(this.coordinate));return e.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-(n=void 0===n?5.5:n),e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),nr("edge","arc",{draw:function(t,e){var n,r,i,o=jr(t,!0,!1,"lineWidth"),a=t.points,s=2<a.length?"weight":"normal";if(t.isInCircle)return t={x:0,y:1},n="normal"==s?(r=a[0],i=Ai(a[1],t),(r=[["M",r.x,r.y]]).push(i),r):(o.fill=o.stroke,i=t,t=Ai((r=a)[1],i),i=Ai(r[3],i),(n=[["M",r[0].x,r[0].y]]).push(i),n.push(["L",r[3].x,r[3].y]),n.push(["L",r[2].x,r[2].y]),n.push(t),n.push(["L",r[1].x,r[1].y]),n.push(["L",r[0].x,r[0].y]),n.push(["Z"]),n),n=this.parsePath(n),e.addShape("path",{attrs:x(x({},o),{path:n})});if("normal"==s)return n=Et(((a=this.parsePoints(a))[1].x+a[0].x)/2,a[0].y,Math.abs(a[1].x-a[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:x(x({},o),{path:n})});t=Ci(a[1],a[3]),s=Ci(a[2],a[0]);return n=[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],t,["L",a[3].x,a[3].y],["L",a[2].x,a[2].y],s,["Z"]],n=this.parsePath(n),o.fill=o.stroke,e.addShape("path",{attrs:x(x({},o),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),nr("edge","smooth",{draw:function(t,e){var n,r=jr(t,!0,!1,"lineWidth"),t=t.points,t=this.parsePath((n=t[0],t=Ci(n,t[1]),(n=[["M",n.x,n.y]]).push(t),n));return e.addShape("path",{attrs:x(x({},r),{path:t})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),nr("edge","vhv",{draw:function(t,e){var n,r,i,o=jr(t,!0,!1,"lineWidth"),t=t.points,t=this.parsePath((n=t[0],t=t[1],(r=[]).push({x:n.x,y:n.y*(1-1/3)+t.y*(1/3)}),r.push({x:t.x,y:n.y*(1-1/3)+t.y*(1/3)}),r.push(t),i=[["M",n.x,n.y]],Object(j.each)(r,function(t){i.push(["L",t.x,t.y])}),i));return e.addShape("path",{attrs:x(x({},o),{path:t})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),nr("interval","funnel",{getPoints:function(t){return t.size=2*t.size,ii(t)},draw:function(t,e){var n=jr(t,!1,!0),t=this.parsePath(ci(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:x(x({},n),{path:t}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),nr("interval","hollow-rect",{draw:function(t,e){var n=jr(t,!0,!1),r=e,i=null==t?void 0:t.background,e=(i&&(r=e.addGroup(),e=Dr(t),o=si(t,this.parsePoints(t.points),this.coordinate),r.addShape("path",{attrs:x(x({},e),{path:o}),zIndex:-1,name:"element-background"})),this.parsePath(oi(t.points))),o=r.addShape("path",{attrs:x(x({},n),{path:e}),name:"interval"});return i?r:o},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),nr("interval","line",{getPoints:function(t){return n=t.x,e=t.y,t=t.y0,Object(j.isArray)(e)?e.map(function(t,e){return{x:Object(j.isArray)(n)?n[e]:n,y:t}}):[{x:n,y:t},{x:n,y:e}];var n,e},draw:function(t,e){var n=jr(t,!0,!1,"lineWidth"),n=Ct(x({},n),["fill"]),t=this.parsePath(oi(t.points,!1));return e.addShape("path",{attrs:x(x({},n),{path:t}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:t.color}}}}),nr("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,ii(t)},draw:function(t,e){var n=jr(t,!1,!0),t=this.parsePath(ci(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:x(x({},n),{path:t}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),nr("interval","tick",{getPoints:function(t){return n=t.x,r=t.y,i=t.y0,t=t.size,i=Object(j.isArray)(r)?(e=r[0],r[1]):(e=i,r),r=n+t/2,[{x:n,y:e},{x:n,y:i},{x:t=n-t/2,y:e},{x:r,y:e},{x:t,y:i},{x:r,y:i}];var e,n,r,i},draw:function(t,e){var n=jr(t,!0,!1),t=this.parsePath([["M",(t=t.points)[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]]);return e.addShape("path",{attrs:x(x({},n),{path:t}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:t.color}}}}),Object(j.each)(["hv","vh","hvh","vhv"],function(n){nr("line",n,{draw:function(t,e){t=Si(t,n);return e.addShape({type:"path",attrs:t,name:"line"})},getMarker:function(t){return kr(t,n)}})}),Object(j.each)(["cross","tick","plus","hyphen","line"],function(n){nr("point",n,{draw:function(t,e){return _i(this,t,e,n,!0)},getMarker:function(t){t=t.color;return{symbol:vr[n],style:{r:4.5,stroke:t,fill:null}}}})}),nr("point","image",{draw:function(t,e){var n=jr(t,!1,!1,"r").r,r=this.parsePoints(t.points),i=r[0];if(t.isStack)i=r[1];else if(1<r.length){for(var o=e.addGroup(),a=0,s=r;a<s.length;a++){var c=s[a];o.addShape("image",{attrs:{x:c.x-n/2,y:c.y-n,width:n,height:n,img:t.shape[1]}})}return o}return e.addShape("image",{attrs:{x:i.x-n/2,y:i.y-n,width:n,height:n,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Object(j.each)(pi,function(n){nr("point",n,{draw:function(t,e){return _i(this,t,e,n,!1)},getMarker:function(t){t=t.color;return{symbol:vr[n]||n,style:{r:4.5,fill:t}}}})}),nr("schema","box",{getPoints:function(t){return Di(t.x,t.y,t.size)},draw:function(t,e){var n=jr(t,!0,!1),t=this.parsePath([["M",(t=t.points)[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]]);return e.addShape("path",{attrs:x(x({},n),{path:t,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,n){t=Di(t,[e-6,e-3,e,e+3,e+6],n);return[["M",t[0].x+1,t[0].y],["L",t[1].x-1,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x+1,t[10].y],["L",t[11].x-1,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),nr("schema","candle",{getPoints:function(t){return Ti(t.x,t.y,t.size)},draw:function(t,e){var n=jr(t,!0,!0),t=this.parsePath([["M",(t=t.points)[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]]);return e.addShape("path",{attrs:x(x({},n),{path:t,name:"schema"})})},getMarker:function(t){t=t.color;return{symbol:function(t,e,n){t=Ti(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]]},style:{lineWidth:1,stroke:t,fill:t,r:6}}}}),nr("polygon","square",{draw:function(t,e){var n,r,i;if(!Object(j.isEmpty)(t.points))return n=jr(t,!0,!0),r=this.parsePoints(t.points),e.addShape("rect",{attrs:x(x({},n),(e=r,n=t.size,r=Math.abs(e[0].x-e[2].x),t=Math.abs(e[0].y-e[2].y),i=Math.min(r,t),n&&(i=Object(j.clamp)(n,0,Math.min(r,t))),{x:(e[0].x+e[2].x)/2-(i/=2),y:(e[0].y+e[2].y)/2-i,width:2*i,height:2*i})),name:"polygon"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),nr("violin","smooth",{draw:function(t,e){var n=jr(t,!0,!0),t=this.parsePath(Sr(t.points));return e.addShape("path",{attrs:x(x({},n),{path:t})})},getMarker:function(t){return{symbol:"circle",style:{stroke:null,r:4,fill:t.color}}}}),nr("violin","hollow",{draw:function(t,e){var n=jr(t,!0,!1),t=this.parsePath(Ar(t.points));return e.addShape("path",{attrs:x(x({},n),{path:t})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}}),nr("violin","hollow-smooth",{draw:function(t,e){var n=jr(t,!0,!1),t=this.parsePath(Sr(t.points));return e.addShape("path",{attrs:x(x({},n),{path:t})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}});e(Fi,Li=yr),Fi.prototype.getLabelValueDir=function(t){t=t.points;return t[0].y<=t[2].y?1:-1},Fi.prototype.getLabelOffsetPoint=function(t,e,n,r){var i,e=Li.prototype.getLabelOffsetPoint.call(this,t,e,n),n=this.getCoordinate(),o=n.isTransposed?"x":"y",t=this.getLabelValueDir(t.mappingData),e=x(x({},e),((i={})[o]=e[o]*t,i));return n.isReflect("x")&&(e=x(x({},e),{x:-1*e.x})),e=n.isReflect("y")?x(x({},e),{y:-1*e.y}):e},Fi.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),e=e.theme;return Object(j.deepMix)({},n,e.labels,"middle"===t.position?{offset:0}:{},t)},Fi.prototype.setLabelPosition=function(t,e,l,h){var n,r,i,o,a,d,s=this.getCoordinate(),f=s.isTransposed,c=e.points,u=s.convert(c[0]),c=s.convert(c[2]),p=this.getLabelValueDir(e),g=Object(j.isArray)(e.shape)?e.shape[0]:e.shape;switch(d="funnel"===g||"pyramid"===g?(g=Object(j.get)(e,"nextPoints"),e=Object(j.get)(e,"points"),g?(o=s.convert(e[0]),e=s.convert(e[1]),a=s.convert(g[0]),s=s.convert(g[1]),f?(n=Math.min(a.y,o.y),i=Math.max(a.y,o.y),r=(e.x+s.x)/2,(o.x+a.x)/2):(n=Math.min((e.y+s.y)/2,(o.y+a.y)/2),i=Math.max((e.y+s.y)/2,(o.y+a.y)/2),r=s.x,o.x)):(n=Math.min(c.y,u.y),i=Math.max(c.y,u.y),r=c.x,u.x)):(n=Math.min(c.y,u.y),i=Math.max(c.y,u.y),r=c.x,u.x),h){case"right":t.x=r,t.y=(n+i)/2,t.textAlign=Object(j.get)(t,"textAlign",0<p?"left":"right");break;case"left":t.x=d,t.y=(n+i)/2,t.textAlign=Object(j.get)(t,"textAlign",0<p?"left":"right");break;case"bottom":f&&(t.x=(r+d)/2),t.y=i,t.textAlign=Object(j.get)(t,"textAlign","center"),t.textBaseline=Object(j.get)(t,"textBaseline",0<p?"bottom":"top");break;case"middle":f&&(t.x=(r+d)/2),t.y=(n+i)/2,t.textAlign=Object(j.get)(t,"textAlign","center"),t.textBaseline=Object(j.get)(t,"textBaseline","middle");break;case"top":f&&(t.x=(r+d)/2),t.y=n,t.textAlign=Object(j.get)(t,"textAlign","center"),t.textBaseline=Object(j.get)(t,"textBaseline",0<p?"bottom":"top")}};var Ii,ki,Li,Fr=Fi,Ri=Math.PI/2,Wr=(e(Ni,ki=yr),Ni.prototype.getLabelOffset=function(t){var e,n=this.getCoordinate(),r=0;return Object(j.isNumber)(t)?r=t:Object(j.isString)(t)&&-1!==t.indexOf("%")&&(e=n.getRadius(),0<n.innerRadius&&(e*=1-n.innerRadius),r=.01*parseFloat(t)*e),r},Ni.prototype.getLabelItems=function(t){var t=ki.prototype.getLabelItems.call(this,t),n=this.geometry.getYScale();return Object(j.map)(t,function(t){var e;return t&&n?(e=n.scale(Object(j.get)(t.data,n.field)),x(x({},t),{percent:e})):t})},Ni.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();return t.labelEmit?t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right":n.isTransposed?(n=n.getCenter(),e=t.offset,Math.abs(t.x-n.x)<1?"center":t.angle>Math.PI||t.angle<=0?0<e?"left":"right":0<e?"right":"left"):"center"},Ni.prototype.getLabelPoint=function(t,e,n){var r=1,i=t.content[n],n=this.isToMiddle(e)?this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(r=-1),this.getArcPoint(e,n)),r=t.offset*r,o=this.getPointAngle(n),a=t.labelEmit,s=this.getCirclePoint(o,r,n,a);return 0===s.r?s.content="":(s.content=i,s.angle=o,s.color=e.color),s.rotate=t.autoRotate?this.getLabelRotate(o,r,a):t.rotate,s.start={x:n.x,y:n.y},s},Ni.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),Object(j.isArray)(t.x)||Object(j.isArray)(t.y)?{x:Object(j.isArray)(t.x)?t.x[e]:t.x,y:Object(j.isArray)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},Ni.prototype.getPointAngle=function(t){return It(this.getCoordinate(),t)},Ni.prototype.getCirclePoint=function(t,e,n,r){var i=this.getCoordinate(),o=i.getCenter(),n=Dt(i,n);if(0===n)return x(x({},o),{r:n});var a=t;return i.isTransposed&&e<n&&!r?a=t+2*Math.asin(e/(2*n)):n+=e,{x:o.x+n*Math.cos(a),y:o.y+n*Math.sin(a),r:n}},Ni.prototype.getLabelRotate=function(t,e,n){t+=Ri;return n&&(t-=Ri),t&&(Ri<t?t-=Math.PI:t<-Ri&&(t+=Math.PI)),t},Ni.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,r={x:0,y:0};return Object(j.each)(t,function(t){r.x+=t.x,r.y+=t.y}),r.x/=n,r.y/=n,r=e.convert(r)},Ni.prototype.isToMiddle=function(t){return 2<t.x.length},Ni),U=(e(Bi,Ii=Wr),Bi.prototype.getDefaultLabelCfg=function(t,e){t=Ii.prototype.getDefaultLabelCfg.call(this,t,e);return Object(j.deepMix)({},t,Object(j.get)(this.geometry.theme,"pieLabels",{}))},Bi.prototype.getLabelOffset=function(t){return Ii.prototype.getLabelOffset.call(this,t)||0},Bi.prototype.getLabelRotate=function(t,e,n){var r;return e<0&&((r=t)>Math.PI/2&&(r-=Math.PI),r<-Math.PI/2&&(r+=Math.PI)),r},Bi.prototype.getLabelAlign=function(t){var e=this.getCoordinate().getCenter(),e=t.angle<=Math.PI/2&&t.x>=e.x?"left":"right";return e=t.offset<=0?"right"===e?"left":"right":e},Bi.prototype.getArcPoint=function(t){return t},Bi.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:Object(j.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},r={x:Object(j.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},n=It(e,n),e=t.points&&t.points[0].y===t.points[1].y?n:((t=It(e,r))<=n&&(t+=2*Math.PI),n+(t-n)/2);return e},Bi.prototype.getCirclePoint=function(t,e){var n=this.getCoordinate(),r=n.getCenter(),n=n.getRadius()+e;return x(x({},Ot(r.x,r.y,n,t)),{angle:t,r:n})},Bi);function Bi(){var t=null!==Ii&&Ii.apply(this,arguments)||this;return t.defaultLayout="distribute",t}function Ni(){return null!==ki&&ki.apply(this,arguments)||this}function Fi(){return null!==Li&&Li.apply(this,arguments)||this}function Ui(l,n,h){var r=l.filter(function(t){return!t.invisible});r.sort(function(t,e){return t.y-e.y});var i,t,e,d=!0,o=h.minY,l=h.maxY,a=Math.abs(o-l),s=0,c=Number.MIN_VALUE,u=r.map(function(t){return t.y>s&&(s=t.y),t.y<c&&(c=t.y),{content:t.content,size:n,targets:[t.y-o],pos:null}});for(c-=o,a<s-o&&(a=s-o);d;)for(u.forEach(function(t){var e=(Math.min.apply(c,t.targets)+Math.max.apply(c,t.targets))/2;t.pos=Math.min(Math.max(c,e-t.size/2),a-t.size),t.pos=Math.max(0,t.pos)}),d=!1,i=u.length;i--;)0<i&&(t=u[i-1],e=u[i],t.pos+t.size>e.pos&&(t.size+=e.size,t.targets=t.targets.concat(e.targets),t.pos+t.size>a&&(t.pos=a-t.size),u.splice(i,1),d=!0));i=0,u.forEach(function(t){var e=o+n/2;t.targets.forEach(function(){r[i].y=t.pos+e,e+=n,i++})})}zi.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.round(t.minX),i=Math.round(t.maxX),o=Math.round(t.minY),a=Math.round(t.maxY),s=r;s<=i;s+=1)if(n[s]){if(s===r||s===i){for(var c=o;c<=a;c++)if(n[s][c]){e=!1;break}}else if(n[s][o]||n[s][a]){e=!1;break}}else n[s]={};return e},zi.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),i=Math.round(t.minY),o=Math.round(t.maxY),a=n;a<=r;a+=1)e[a]||(e[a]={});for(a=n;a<=r;a+=this.xGap){for(var s=i;s<=o;s+=this.yGap)e[a][s]=!0;e[a][o]=!0}if(1!==this.yGap)for(a=i;a<=o;a+=1)e[n][a]=!0,e[r][a]=!0;if(1!==this.xGap)for(a=n;a<=r;a+=1)e[a][i]=!0,e[a][o]=!0},zi.prototype.destroy=function(){this.bitmap={}};var Wi=zi;function zi(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,t=t.yGap,t=void 0===t?8:t;this.xGap=void 0===e?1:e,this.yGap=t}var Gi=b.c.dot;function $i(t){if(4<t.length)return[];function e(t,e){return[e.x-t.x,e.y-t.y]}return[e(t[0],t[1]),e(t[1],t[2])]}function Ki(t,e,n){void 0===e&&(e=0);var r=t.x,t=t.y;return{x:(r-(n=void 0===n?{x:0,y:0}:n).x)*Math.cos(-e)+(t-n.y)*Math.sin(-e)+n.x,y:(n.x-r)*Math.sin(-e)+(t-n.y)*Math.cos(-e)+n.y}}function Vi(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],t=t.rotation;return t?[Ki(e[0],t,e[0]),Ki(e[1],t,e[0]),Ki(e[2],t,e[0]),Ki(e[3],t,e[0])]:e}function Xi(t,e){if(4<t.length)return{min:0,max:0};var n=[];return t.forEach(function(t){n.push(Gi([t.x,t.y],e))}),{min:Math.min.apply(Math,n),max:Math.max.apply(Math,n)}}function Yi(t){return Object(j.isNumber)(t)&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0}function Hi(t){return Object.values(t).every(Yi)}var qi,Zi={"#5B8FF9":!0};function Qi(r,t,i){return r.getAdjust("stack")||t.every(function(t,e){var n,e=i[e];return e=e,n=r.coordinate,t=hr(t),t=St.fromObject(t.getCanvasBBox()),e=St.fromObject(e.getBBox()),n.isTransposed?e.height>=t.height:e.width>=t.width})}function Ji(t,e,n){return t.some(function(t){return n(t,e)})}function to(t,e){return Ji(t,e,function(t,e){var t=hr(t),e=hr(e),t=t.getCanvasBBox(),e=e.getCanvasBBox(),n=2;return 0<Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))})}function eo(t,e,n){return t.some(function(t){return n(t,e)})}function no(t,e){return eo(t,e,function(t,e){var t=hr(t),e=hr(e),t=t.getCanvasBBox(),e=e.getCanvasBBox(),n=2;return 0<Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))})}var ro=Object(j.memoize)(function(t,e){var n=(e=void 0===e?{}:e).fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,e=e.fontVariant,a=qi=qi||document.createElement("canvas").getContext("2d");return a.font=[o,e,i,"".concat(n,"px"),r].join(" "),a.measureText(Object(j.isString)(t)?t:"").width},function(t,e){return void 0===e&&(e={}),g([t],Object(j.values)(e),!0).join("")});function io(t,l,e,n,r){var i,o,a,s=e.start,h=e.end,c=e.getWidth(),u=e.getHeight(),s=("y"===r?(i=s.x+c/2,o=(n.y<s.y?n:s).y):"x"===r?(i=(n.x>s.x?n:s).x,o=s.y+u/2):"xy"===r&&(o=e.isPolar?(i=e.getCenter().x,e.getCenter().y):(i=(s.x+h.x)/2,(s.y+h.y)/2)),c=r,u=(n=[i,o])[0],n=n[1],(e=t).applyToMatrix([u,n,1]),"x"===c?(e.setMatrix(b.a.transform(e.getMatrix(),[["t",-u,-n],["s",.01,1],["t",u,n]])),a=b.a.transform(e.getMatrix(),[["t",-u,-n],["s",100,1],["t",u,n]])):"y"===c?(e.setMatrix(b.a.transform(e.getMatrix(),[["t",-u,-n],["s",1,.01],["t",u,n]])),a=b.a.transform(e.getMatrix(),[["t",-u,-n],["s",1,100],["t",u,n]])):"xy"===c&&(e.setMatrix(b.a.transform(e.getMatrix(),[["t",-u,-n],["s",.01,.01],["t",u,n]])),a=b.a.transform(e.getMatrix(),[["t",-u,-n],["s",100,100],["t",u,n]])),a);t.animate({matrix:s},l)}function oo(t,e){var t=Object(Gr.getArcParams)(t,e),n=t.startAngle,t=t.endAngle;return!Object(j.isNumberEqual)(n,.5*-Math.PI)&&n<.5*-Math.PI&&(n+=2*Math.PI),!Object(j.isNumberEqual)(t,.5*-Math.PI)&&t<.5*-Math.PI&&(t+=2*Math.PI),0===e[5]&&(n=(e=[t,n])[0],t=e[1]),{startAngle:n=Object(j.isNumberEqual)(n,1.5*Math.PI)?-.5*Math.PI:n,endAngle:t=Object(j.isNumberEqual)(t,-.5*Math.PI)?1.5*Math.PI:t}}function ao(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]&&"C"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function so(t){var e,n=t.filter(function(t){return"A"===t[0]||"a"===t[0]});if(0===n.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var r=n[0],i=1<n.length?n[1]:n[0],o=t.indexOf(r),a=t.indexOf(i),o=ao(t[o-1]),t=ao(t[a-1]),a=oo(o,r),o=a.startAngle,a=a.endAngle,t=oo(t,i),i=t.startAngle,t=t.endAngle,o=Object(j.isNumberEqual)(o,i)&&Object(j.isNumberEqual)(a,t)?(e=o,a):(e=Math.min(o,i),Math.max(a,t)),i=r[1],a=n[n.length-1][1];return i<a?(i=(t=[a,i])[0],a=t[1]):i===a&&(a=0),{startAngle:e,endAngle:o,radius:i,innerRadius:a}}function co(t,e,n){var r,i,o;t.isGroup()?Object(j.each)(t.getChildren(),function(t){co(t,e,n)}):(r=((i=t.getBBox()).minX+i.maxX)/2,i=(i.minY+i.maxY)/2,t.applyToMatrix([r,i,1]),"zoomIn"===n?(o=b.a.transform(t.getMatrix(),[["t",-r,-i],["s",.01,.01],["t",r,i]]),t.setMatrix(o),t.animate({matrix:b.a.transform(t.getMatrix(),[["t",-r,-i],["s",100,100],["t",r,i]])},e)):t.animate({matrix:b.a.transform(t.getMatrix(),[["t",-r,-i],["s",.01,.01],["t",r,i]])},x(x({},e),{callback:function(){t.remove(!0)}})))}function uo(t){return[p.TOP,p.BOTTOM].includes(t)?{offsetX:0,offsetY:t===p.TOP?-8:8,style:{textAlign:"center",textBaseline:t===p.TOP?"bottom":"top"}}:[p.LEFT,p.RIGHT].includes(t)?{offsetX:t===p.LEFT?-8:8,offsetY:0,style:{textAlign:t===p.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function lo(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}e(wo,_o=G),wo.prototype.getDefaultCfg=function(){return Object(j.deepMix)({},_o.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:_o.prototype.getDefaultTitleCfg.call(this)})},wo.prototype.render=function(){_o.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},wo.prototype.getRegion=function(t,e){var t=2*Math.PI/t,e=-1*Math.PI/2+t*e,t=.5/(1+1/Math.sin(t/2)),e=lo({x:.5,y:.5},.5-t,e),n=5*Math.PI/4,r=+Math.PI/4;return{start:lo(e,t,n),end:lo(e,t,r)}},wo.prototype.afterEachView=function(t,e){this.processAxis(t,e)},wo.prototype.beforeEachView=function(t,e){},wo.prototype.generateFacets=function(r){var i=this,t=this.cfg,e=t.fields,o=t.type,a=e[0];if(!a)throw new Error("No `fields` specified!");var s=this.getFieldValues(r,a),c=s.length,u=[];return s.forEach(function(t,e){var n=[{field:a,value:t,values:s}],n=Object(j.filter)(r,i.getFacetDataFilter(n)),n={type:o,data:n,region:i.getRegion(c,e),columnValue:t,columnField:a,columnIndex:e,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};u.push(n)}),u},wo.prototype.getXAxisOption=function(t,e,n,r){return n},wo.prototype.getYAxisOption=function(t,e,n,r){return n},wo.prototype.renderTitle=function(){var r=this;Object(j.each)(this.facets,function(t){var e=t.columnValue,t=t.view,n=Object(j.get)(r.cfg.title,"formatter"),n=Object(j.deepMix)({position:["50%","0%"],content:n?n(e):e},uo(p.TOP),r.cfg.title);t.annotation().text(n)})};var ho,fo,po,go,yo,_o,z=wo,s=(e(Eo,yo=G),Eo.prototype.getDefaultCfg=function(){return Object(j.deepMix)({},yo.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:yo.prototype.getDefaultTitleCfg.call(this)})},Eo.prototype.render=function(){yo.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},Eo.prototype.afterEachView=function(t,e){this.processAxis(t,e)},Eo.prototype.beforeEachView=function(t,e){},Eo.prototype.generateFacets=function(i){var o=this,t=this.cfg.fields,a=this.cfg.cols,s=t[0];if(!s)throw new Error("No `fields` specified!");var c=this.getFieldValues(i,s),u=c.length,l=this.getPageCount(u,a=a||u),h=[];return c.forEach(function(t,e){var e=o.getRowCol(e,a),n=e.row,e=e.col,r=[{field:s,value:t,values:c}],r=Object(j.filter)(i,o.getFacetDataFilter(r)),r={type:o.cfg.type,data:r,region:o.getRegion(l,a,e,n),columnValue:t,rowValue:t,columnField:s,rowField:null,columnIndex:e,rowIndex:n,columnValuesLength:a,rowValuesLength:l,total:u};h.push(r)}),h},Eo.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1&&r.columnValuesLength*r.rowIndex+r.columnIndex+1+r.columnValuesLength<=r.total?x(x({},n),{label:null,title:null}):n},Eo.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?x(x({},n),{title:null,label:null}):n},Eo.prototype.renderTitle=function(){var r=this;Object(j.each)(this.facets,function(t){var e=t.columnValue,t=t.view,n=Object(j.get)(r.cfg.title,"formatter"),n=Object(j.deepMix)({position:["50%","0%"],content:n?n(e):e},uo(p.TOP),r.cfg.title);t.annotation().text(n)})},Eo.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},Eo.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},Eo),N=(e(xo,go=G),xo.prototype.getDefaultCfg=function(){return Object(j.deepMix)({},go.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:x({},go.prototype.getDefaultTitleCfg.call(this)),rowTitle:x({},go.prototype.getDefaultTitleCfg.call(this))})},xo.prototype.render=function(){go.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},xo.prototype.afterEachView=function(t,e){this.processAxis(t,e)},xo.prototype.beforeEachView=function(t,e){},xo.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,l=e.type,r=n.length,i=r,o=[],a=0;a<i;a++)for(var s=n[a],c=0;c<r;c++){var u=n[c],u={type:l,data:t,region:this.getRegion(r,i,a,c),columnValue:s,rowValue:u,columnField:s,rowField:u,columnIndex:a,rowIndex:c,columnValuesLength:i,rowValuesLength:r};o.push(u)}return o},xo.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?x(x({},n),{label:null,title:null}):n},xo.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?x(x({},n),{title:null,label:null}):n},xo.prototype.renderTitle=function(){var u=this;Object(j.each)(this.facets,function(t,e){var n,r,i=t.columnIndex,o=t.rowIndex,a=t.columnValuesLength,s=(t.rowValuesLength,t.columnValue),c=t.rowValue,t=t.view;0===o&&(n=Object(j.get)(u.cfg.columnTitle,"formatter"),r=Object(j.deepMix)({position:["50%","0%"],content:n?n(s):s},uo(p.TOP),u.cfg.columnTitle),t.annotation().text(r)),i===a-1&&(n=Object(j.get)(u.cfg.rowTitle,"formatter"),r=Object(j.deepMix)({position:["100%","50%"],content:n?n(c):c},uo(p.RIGHT),u.cfg.rowTitle),t.annotation().text(r))})},xo),pi=(e(Oo,po=G),Oo.prototype.getDefaultCfg=function(){return Object(j.deepMix)({},po.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:po.prototype.getDefaultTitleCfg.call(this),transpose:!1})},Oo.prototype.render=function(){po.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},Oo.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},Oo.prototype.afterEachView=function(t,e){this.processAxis(t,e)},Oo.prototype.generateFacets=function(o){var a,s,c=this,t=this.cfg.fields[0],u=[],l=1,h=1,d=[""],f=[""];return this.cfg.transpose?(a=t,d=this.getFieldValues(o,a).slice(0,2),l=d.length):(s=t,f=this.getFieldValues(o,s).slice(0,2),h=f.length),d.forEach(function(r,i){f.forEach(function(t,e){var n=[{field:a,value:r,values:d},{field:s,value:t,values:f}],n=Object(j.filter)(o,c.getFacetDataFilter(n)),n={type:c.cfg.type,data:n,region:c.getRegion(h,l,i,e),columnValue:r,rowValue:t,columnField:a,rowField:s,columnIndex:i,rowIndex:e,columnValuesLength:l,rowValuesLength:h};u.push(n)})}),u},Oo.prototype.getXAxisOption=function(t,e,n,r){return 1===r.columnIndex||1===r.rowIndex?x(x({},n),{label:null,title:null}):n},Oo.prototype.getYAxisOption=function(t,e,n,r){return n},Oo.prototype.renderTitle=function(){var o=this;Object(j.each)(this.facets,function(t,e){var n=t.columnValue,r=t.rowValue,t=t.view,i=Object(j.get)(o.cfg.title,"formatter"),n=o.cfg.transpose?Object(j.deepMix)({position:["50%","0%"],content:i?i(n):n},uo(p.TOP),o.cfg.title):Object(j.deepMix)({position:["100%","50%"],content:i?i(r):r},uo(p.RIGHT),o.cfg.title);t.annotation().text(n)})},Oo),mo=(e(bo,fo=G),bo.prototype.afterEachView=function(t,e){this.processAxis(t,e)},bo.prototype.beforeEachView=function(t,e){},bo.prototype.getDefaultCfg=function(){return Object(j.deepMix)({},fo.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:x({},fo.prototype.getDefaultTitleCfg.call(this)),rowTitle:x({},fo.prototype.getDefaultTitleCfg.call(this))})},bo.prototype.render=function(){fo.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},bo.prototype.generateFacets=function(o){var a=this,t=this.cfg.fields,s=t[0],c=t[1],u=[],l=1,h=1,d=[""],f=[""];return s&&(d=this.getFieldValues(o,s),l=d.length),c&&(f=this.getFieldValues(o,c),h=f.length),d.forEach(function(r,i){f.forEach(function(t,e){var n=[{field:s,value:r,values:d},{field:c,value:t,values:f}],n=Object(j.filter)(o,a.getFacetDataFilter(n)),n={type:a.cfg.type,data:n,region:a.getRegion(h,l,i,e),columnValue:r,rowValue:t,columnField:s,rowField:c,columnIndex:i,rowIndex:e,columnValuesLength:l,rowValuesLength:h};u.push(n)})}),u},bo.prototype.renderTitle=function(){var u=this;Object(j.each)(this.facets,function(t,e){var n,r,i=t.columnIndex,o=t.rowIndex,a=t.columnValuesLength,s=t.columnValue,c=t.rowValue,t=t.view;0===o&&(n=Object(j.get)(u.cfg.columnTitle,"formatter"),r=Object(j.deepMix)({position:["50%","0%"],content:n?n(s):s},uo(p.TOP),u.cfg.columnTitle),t.annotation().text(r)),i===a-1&&(n=Object(j.get)(u.cfg.rowTitle,"formatter"),r=Object(j.deepMix)({position:["100%","50%"],content:n?n(c):c},uo(p.RIGHT),u.cfg.rowTitle),t.annotation().text(r))})},bo.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?x(x({},n),{title:null,label:null}):r.columnIndex!==Math.floor((r.columnValuesLength-1)/2)?x(x({},n),{title:null}):n},bo.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?x(x({},n),{title:null,label:null}):r.rowIndex!==Math.floor((r.rowValuesLength-1)/2)?x(x({},n),{title:null}):n},bo),G=(e(vo,ho=G),vo.prototype.afterEachView=function(t,e){this.processAxis(t,e)},vo.prototype.beforeEachView=function(t,e){},vo.prototype.init=function(){ho.prototype.init.call(this),this.view.on(l.AFTER_RENDER,this.afterChartRender)},vo.prototype.getDefaultCfg=function(){return Object(j.deepMix)({},ho.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:ho.prototype.getDefaultTitleCfg.call(this)})},vo.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],n={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},vo.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)})},vo.prototype.getRegion=function(t,e,n,r){e=1/e,t=1/t,n={x:e*n,y:t*r};return{start:n,end:{x:n.x+e,y:n.y+2*t/3}}},vo.prototype.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach(function(t){e.isLeaf(t)&&(n.push(t),t.columnIndex=r,r++)}),n.forEach(function(t){t.columnValuesLength=n.length});for(var i=this.cfg.fields.length-1;0<=i;i--)for(var o=0,a=this.getFacetsByLevel(t,i);o<a.length;o++){var s=a[o];this.isLeaf(s)||(s.originColIndex=s.columnIndex,s.columnIndex=this.getRegionIndex(s.children),s.columnValuesLength=n.length)}},vo.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(t){t.rowIndex===e&&n.push(t)}),n},vo.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},vo.prototype.isLeaf=function(t){return!t.children||!t.children.length},vo.prototype.getRows=function(){return this.cfg.fields.length+1},vo.prototype.getChildFacets=function(r,i,o){var a,s,c,u=this,t=this.cfg.fields;if(!(t.length<i))return a=[],s=t[i-1],(c=this.getFieldValues(r,s)).forEach(function(t,e){var n=r.filter(u.getFacetDataFilter([{field:s,value:t,values:c}]));n.length&&(t={type:u.cfg.type,data:n,region:null,columnValue:t,rowValue:"",columnField:s,rowField:"",columnIndex:e,rowValuesLength:u.getRows(),columnValuesLength:1,rowIndex:i,children:u.getChildFacets(n,i+1,o)},a.push(t),o.push(t))}),a},vo.prototype.render=function(){ho.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},vo.prototype.renderTitle=function(){var r=this;Object(j.each)(this.facets,function(t){var e=t.columnValue,t=t.view,n=Object(j.get)(r.cfg.title,"formatter"),n=Object(j.deepMix)({position:["50%","0%"],content:n?n(e):e},uo(p.TOP),r.cfg.title);t.annotation().text(n)})},vo.prototype.drawLines=function(t){var n=this;t.forEach(function(t){var e;n.isLeaf(t)||(e=t.children,n.addFacetLines(t,e))})},vo.prototype.addFacetLines=function(t,e){var n=this,t=t.view.coordinateBBox,r={x:t.x+t.width/2,y:t.y+t.height};e.forEach(function(t){var t=t.view.coordinateBBox,t={x:t.bl.x+(t.tr.x-t.bl.x)/2,y:t.tr.y},e={x:r.x,y:r.y+(t.y-r.y)/2};n.drawLine([r,e,{x:t.x,y:e.y},t])})},vo.prototype.getPath=function(t){var n=[];return this.cfg.line.smooth?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),n},vo.prototype.drawLine=function(t){var t=this.getPath(t),e=this.cfg.line.style;this.container.addShape("path",{attrs:Object(j.assign)({path:t},e)})},vo.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?x(x({},n),{title:null,label:null}):n},vo.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.originColIndex&&0!==r.columnIndex?x(x({},n),{title:null,label:null}):n},vo);function vo(){var t=null!==ho&&ho.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}function bo(){return null!==fo&&fo.apply(this,arguments)||this}function Oo(){return null!==po&&po.apply(this,arguments)||this}function xo(){return null!==go&&go.apply(this,arguments)||this}function Eo(){return null!==yo&&yo.apply(this,arguments)||this}function wo(){return null!==_o&&_o.apply(this,arguments)||this}function Mo(t){var t=g([],t,!0),e=(t.sort(function(t,e){return t-e}),t.length);return 0===e?0:e%2==1?t[(e-1)/2]:(t[e/2]+t[e/2-1])/2}function Po(t,e){if(!e)return null;var n,r,i;switch(t){case"start":return 0;case"center":return.5;case"end":return 1;case"median":n=e.isCategory?Mo(e.values.map(function(t,e){return e})):Mo(e.values);break;case"mean":n=e.isCategory?(e.values.length-1)/2:(r=e.values,i=Object(j.reduce)(r,function(t,e){return t+(isNaN(e)||!Object(j.isNumber)(e)?0:e)},0),0===r.length?0:i/r.length);break;case"min":n=e.isCategory?0:e[t];break;case"max":n=e.isCategory?e.values.length-1:e[t];break;default:n=t}return e.scale(n)}var Co,Ao=["regionFilter","shape"],So=(e(jo,Co=B),Object.defineProperty(jo.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),jo.prototype.init=function(){},jo.prototype.layout=function(){this.update()},jo.prototype.render=function(){},jo.prototype.update=function(){var r=this,n=(this.onAfterRender(function(){var n=new Map;Object(j.each)(r.option,function(t){var e;!Object(j.includes)(Ao,t.type)||(e=r.updateOrCreate(t))&&n.set(r.getCacheKey(t),e)}),r.cache=r.syncCache(n)}),new Map);Object(j.each)(this.option,function(t){var e;Object(j.includes)(Ao,t.type)||(e=r.updateOrCreate(t))&&n.set(r.getCacheKey(t),e)}),this.cache=this.syncCache(n)},jo.prototype.clear=function(t){void 0===t&&(t=!1),Co.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},jo.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},jo.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},jo.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},jo.prototype.onAfterRender=function(e){this.view.getOptions().animate?this.view.geometries.forEach(function(t){t.animateOption&&t.once(f.AFTER_DRAW_ANIMATE,function(){e()})}):this.view.getRootView().once(l.AFTER_RENDER,function(){e()})},jo.prototype.createAnnotation=function(t){var e,n=t.type,r=ht.Annotation[Object(j.upperFirst)(n)];if(r)return e=this.getAnnotationTheme(n),(n=this.getAnnotationCfg(n,t,e))?{component:new r(n),layer:this.isTop(n)?d.FORE:d.BG,direction:p.NONE,type:u.ANNOTATION,extra:t}:null},jo.prototype.annotation=function(t){this.option.push(t)},jo.prototype.arc=function(t){return this.annotation(x({type:"arc"},t)),this},jo.prototype.image=function(t){return this.annotation(x({type:"image"},t)),this},jo.prototype.line=function(t){return this.annotation(x({type:"line"},t)),this},jo.prototype.region=function(t){return this.annotation(x({type:"region"},t)),this},jo.prototype.text=function(t){return this.annotation(x({type:"text"},t)),this},jo.prototype.dataMarker=function(t){return this.annotation(x({type:"dataMarker"},t)),this},jo.prototype.dataRegion=function(t){this.annotation(x({type:"dataRegion"},t))},jo.prototype.regionFilter=function(t){this.annotation(x({type:"regionFilter"},t))},jo.prototype.shape=function(t){this.annotation(x({type:"shape"},t))},jo.prototype.html=function(t){this.annotation(x({type:"html"},t))},jo.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),r=Object(j.isFunction)(t)?t.call(null,e,n):t,i=0,o=0;if(Object(j.isArray)(r)){var t=r[0],l=r[1];if(Object(j.isString)(t)&&-1!==t.indexOf("%")&&!isNaN(t.slice(0,-1)))return this.parsePercentPosition(r);i=Po(t,e),o=Po(l,Object.values(n)[0])}else if(!Object(j.isNil)(r))for(var a=0,s=Object(j.keys)(r);a<s.length;a++){var c=s[a],u=r[c];c===e.field&&(i=Po(u,e)),n[c]&&(o=Po(u,n[c]))}return isNaN(i)||isNaN(o)?null:this.view.getCoordinate().convert({x:i,y:o})},jo.prototype.getRegionPoints=function(t,e){var r,i=this,n=this.view.getXScale(),o=this.view.getScalesByDim("y"),a=Object.values(o)[0],s=n.field,o=this.view.getData(),c=Object(j.isArray)(t)?t[0]:t[s],l=Object(j.isArray)(e)?e[0]:e[s],u=[];return Object(j.each)(o,function(t,e){var n;if((r=t[s]===c?e:r)<=e&&(n=i.parsePosition([t[s],t[a.field]]))&&u.push(n),t[s]===l)return!1}),u},jo.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,t=parseFloat(t[1])/100,n=this.view.getCoordinate(),r=n.start,i=n.end,o=Math.min(r.x,i.x),r=Math.min(r.y,i.y);return{x:n.getWidth()*e+o,y:n.getHeight()*t+r}},jo.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,r=t.getWidth(),t=t.getHeight(),i=Math.min(e.x,n.x),e=Math.min(e.y,n.y);return{x:i,y:e,minX:i,minY:e,maxX:i+r,maxY:e+t,width:r,height:t}},jo.prototype.getAnnotationCfg=function(t,e,l){var h=this,n=this.view.getCoordinate(),d=this.view.getCanvas(),r={};if(Object(j.isNil)(e))return null;var f,i,p,g,o,y,_,m,v,b,a=e.start,s=e.end,c=e.position,a=this.parsePosition(a),s=this.parsePosition(s),c=this.parsePosition(c);if(!(!["arc","image","line","region","regionFilter"].includes(t)||a&&s))return null;if(["text","dataMarker","html"].includes(t)&&!c)return null;"arc"===t?(e.start,e.end,i=O(e,["start","end"]),o=It(n,a),(u=It(n,s))<o&&(u=2*Math.PI+u),r=x(x({},i),{center:n.getCenter(),radius:Dt(n,a),startAngle:o,endAngle:u})):"image"===t?(e.start,e.end,i=O(e,["start","end"]),r=x(x({},i),{start:a,end:s,src:e.src})):"line"===t?(e.start,e.end,i=O(e,["start","end"]),r=x(x({},i),{start:a,end:s,text:Object(j.get)(e,"text",null)})):"region"===t?(e.start,e.end,i=O(e,["start","end"]),r=x(x({},i),{start:a,end:s})):"text"===t?(n=this.view.getData(),e.position,o=e.content,i=O(e,["position","content"]),u=o,Object(j.isFunction)(o)&&(u=o(n)),r=x(x(x({},c),i),{content:u})):"dataMarker"===t?(e.position,o=e.point,n=e.line,f=e.text,u=e.autoAdjust,p=e.direction,i=O(e,["position","point","line","text","autoAdjust","direction"]),r=x(x(x({},i),c),{coordinateBBox:this.getCoordinateBBox(),point:o,line:n,text:f,autoAdjust:u,direction:p})):"dataRegion"===t?(o=e.start,n=e.end,u=e.region,f=e.text,p=e.lineLength,i=O(e,["start","end","region","text","lineLength"]),r=x(x({},i),{points:this.getRegionPoints(o,n),region:u,text:f,lineLength:p})):"regionFilter"===t?(e.start,e.end,g=e.apply,o=e.color,i=O(e,["start","end","apply","color"]),n=this.view.geometries,y=[],_=function(t){t&&(t.isGroup()?t.getChildren().forEach(function(t){return _(t)}):y.push(t))},Object(j.each)(n,function(t){g?Object(j.contains)(g,t.type)&&Object(j.each)(t.elements,function(t){_(t.shape)}):Object(j.each)(t.elements,function(t){_(t.shape)})}),r=x(x({},i),{color:o,shapes:y,start:a,end:s})):"shape"===t?(m=e.render,v=O(e,["render"]),r=x(x({},v),{render:function(t){if(Object(j.isFunction)(e.render))return m(t,h.view,{parsePosition:h.parsePosition.bind(h)})}})):"html"===t&&(b=e.html,e.position,v=O(e,["html","position"]),r=x(x(x({},v),c),{parent:d.get("el").parentNode,html:function(t){return Object(j.isFunction)(b)?b(t,h.view):b}}));var u=Object(j.deepMix)({},l,x(x({},r),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(u.container=this.getComponentContainer(u)),u.animate=this.view.getOptions().animate&&u.animate&&Object(j.get)(e,"animate",u.animate),u.animateOption=Object(j.deepMix)({},Un,u.animateOption,e.animateOption),u},jo.prototype.isTop=function(t){return Object(j.get)(t,"top",!0)},jo.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},jo.prototype.getAnnotationTheme=function(t){return Object(j.get)(this.view.getTheme(),["components","annotation",t],{})},jo.prototype.updateOrCreate=function(t){var e,n,r=this.cache.get(this.getCacheKey(t));return r?(n=t.type,e=this.getAnnotationTheme(n),(n=this.getAnnotationCfg(n,t,e))&&Ct(n,["container"]),r.component.update(x(x({},n||{}),{visible:!!n})),Object(j.includes)(Ao,t.type)&&r.component.render()):(r=this.createAnnotation(t))&&(r.component.init(),Object(j.includes)(Ao,t.type)&&r.component.render()),r},jo.prototype.syncCache=function(t){var n=this,r=new Map(this.cache);return t.forEach(function(t,e){r.set(e,t)}),r.forEach(function(t,e){Object(j.find)(n.option,function(t){return e===n.getCacheKey(t)})||(t.component.destroy(),r.delete(e))}),r},jo.prototype.getCacheKey=function(t){return t},jo);function jo(t){t=Co.call(this,t)||this;return t.cache=new Map,t.foregroundContainer=t.view.getLayer(d.FORE).addGroup(),t.backgroundContainer=t.view.getLayer(d.BG).addGroup(),t.option=[],t}function Do(t,e){t=Object(j.deepMix)({},Object(j.get)(t,["components","axis","common"]),Object(j.get)(t,["components","axis",e]));return Object(j.get)(t,["grid"],{})}function To(i,t,o,a){var s=[],t=t.getTicks();return i.isPolar&&t.push({value:1,text:"",tickValue:""}),t.reduce(function(t,e,n){var r=e.value;return a?s.push({points:[i.convert("y"===o?{x:0,y:r}:{x:r,y:0}),i.convert("y"===o?{x:1,y:r}:{x:r,y:1})]}):n&&(n=(t.value+r)/2,s.push({points:[i.convert("y"===o?{x:0,y:n}:{x:n,y:0}),i.convert("y"===o?{x:1,y:n}:{x:n,y:1})]})),e},t[0]),s}function Io(i,t,e,o,a){var s=t.values.length,c=[],t=e.getTicks();return t.reduce(function(t,e){var t=(t||e).value,n=e.value,r=(t+n)/2;return"x"===a?c.push({points:[i.convert({x:o?n:r,y:0}),i.convert({x:o?n:r,y:1})]}):c.push({points:Object(j.map)(Array(s+1),function(t,e){return i.convert({x:e/s,y:o?n:r})})}),e},t[0]),c}function ko(t,e){e=Object(j.get)(e,"grid");if(null!==e)return t=Object(j.get)(t,"grid"),void 0!==e||null!==t}var Lo,Ro=["container"],Bo=x(x({},Un),{appear:null}),No=(e(Fo,Lo=B),Object.defineProperty(Fo.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),Fo.prototype.init=function(){},Fo.prototype.render=function(){this.update()},Fo.prototype.layout=function(){var s=this,c=this.view.getCoordinate();Object(j.each)(this.getComponents(),function(t){var e,n=t.component,r=t.direction,i=t.type,t=t.extra,o=t.dim,a=t.scale,t=t.alignTick;i===u.AXIS?c.isPolar?"x"===o?e=c.isTransposed?Ft(c,r):$t(c):"y"===o&&(e=c.isTransposed?$t(c):Ft(c,r)):e=Ft(c,r):i===u.GRID&&(e=c.isPolar?{items:c.isTransposed?"x"===o?Io(c,s.view.getYScales()[0],a,t,o):To(c,a,o,t):"x"===o?To(c,a,o,t):Io(c,s.view.getXScale(),a,t,o),center:s.view.getCoordinate().getCenter()}:{items:To(c,a,o,t)}),n.update(e)})},Fo.prototype.update=function(){this.option=this.view.getOptions().axes;var n=new Map,r=(this.updateXAxes(n),this.updateYAxes(n),new Map);this.cache.forEach(function(t,e){n.has(e)?r.set(e,t):t.component.destroy()}),this.cache=r},Fo.prototype.clear=function(){Lo.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},Fo.prototype.destroy=function(){Lo.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},Fo.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},Fo.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=Kt(this.option,e.field);if(!1!==n){var r,i,o,a=Vt(n,p.BOTTOM),s=d.BG,l=this.view.getCoordinate(),c=this.getId("axis",e.field),u=this.getId("grid",e.field);if(l.isRect)(r=this.cache.get(c))?(Ct(o=this.getLineAxisCfg(e,n,a),Ro),r.component.update(o)):(r=this.createLineAxis(e,n,s,a,"x"),this.cache.set(c,r)),t.set(c,r),(i=this.cache.get(u))?(Ct(o=this.getLineGridCfg(e,n,a,"x"),Ro),i.component.update(o),t.set(u,i)):(i=this.createLineGrid(e,n,s,a,"x"))&&(this.cache.set(u,i),t.set(u,i));else if(l.isPolar){if(r=this.cache.get(c))Ct(o=l.isTransposed?this.getLineAxisCfg(e,n,p.RADIUS):this.getCircleAxisCfg(e,n,a),Ro),r.component.update(o),t.set(c,r);else{if(l.isTransposed){if(Object(j.isUndefined)(n))return;r=this.createLineAxis(e,n,s,p.RADIUS,"x")}else r=this.createCircleAxis(e,n,s,a,"x");this.cache.set(c,r),t.set(c,r)}if(i=this.cache.get(u))Ct(o=l.isTransposed?this.getCircleGridCfg(e,n,p.RADIUS,"x"):this.getLineGridCfg(e,n,p.CIRCLE,"x"),Ro),i.component.update(o),t.set(u,i);else{if(l.isTransposed){if(Object(j.isUndefined)(n))return;i=this.createCircleGrid(e,n,s,p.RADIUS,"x")}else i=this.createLineGrid(e,n,s,p.CIRCLE,"x");i&&(this.cache.set(u,i),t.set(u,i))}}}}},Fo.prototype.updateYAxes=function(l){var h=this,t=this.view.getYScales();Object(j.each)(t,function(t,e){if(t&&!t.isIdentity){var n=t.field,r=Kt(h.option,n);if(!1!==r){var i,o,a,s=d.BG,c=h.getId("axis",n),n=h.getId("grid",n),u=h.view.getCoordinate();if(u.isRect){e=Vt(r,0===e?p.LEFT:p.RIGHT);(i=h.cache.get(c))?(Ct(a=h.getLineAxisCfg(t,r,e),Ro),i.component.update(a)):(i=h.createLineAxis(t,r,s,e,"y"),h.cache.set(c,i)),l.set(c,i),(o=h.cache.get(n))?(Ct(a=h.getLineGridCfg(t,r,e,"y"),Ro),o.component.update(a),l.set(n,o)):(o=h.createLineGrid(t,r,s,e,"y"))&&(h.cache.set(n,o),l.set(n,o))}else if(u.isPolar){if(i=h.cache.get(c))Ct(a=u.isTransposed?h.getCircleAxisCfg(t,r,p.CIRCLE):h.getLineAxisCfg(t,r,p.RADIUS),Ro),i.component.update(a),l.set(c,i);else{if(u.isTransposed){if(Object(j.isUndefined)(r))return;i=h.createCircleAxis(t,r,s,p.CIRCLE,"y")}else i=h.createLineAxis(t,r,s,p.RADIUS,"y");h.cache.set(c,i),l.set(c,i)}if(o=h.cache.get(n))Ct(a=u.isTransposed?h.getLineGridCfg(t,r,p.CIRCLE,"y"):h.getCircleGridCfg(t,r,p.RADIUS,"y"),Ro),o.component.update(a),l.set(n,o);else{if(u.isTransposed){if(Object(j.isUndefined)(r))return;o=h.createLineGrid(t,r,s,p.CIRCLE,"y")}else o=h.createCircleGrid(t,r,s,p.RADIUS,"y");o&&(h.cache.set(n,o),l.set(n,o))}}}}})},Fo.prototype.createLineAxis=function(t,e,n,r,i){e={component:new dt(this.getLineAxisCfg(t,e,r)),layer:n,direction:r===p.RADIUS?p.NONE:r,type:u.AXIS,extra:{dim:i,scale:t}};return e.component.set("field",t.field),e.component.init(),e},Fo.prototype.createLineGrid=function(t,e,n,r,i){e=this.getLineGridCfg(t,e,r,i);if(e)return(r={component:new pt(e),layer:n,direction:p.NONE,type:u.GRID,extra:{dim:i,scale:t,alignTick:Object(j.get)(e,"alignTick",!0)}}).component.init(),r},Fo.prototype.createCircleAxis=function(t,e,n,r,i){e={component:new ft(this.getCircleAxisCfg(t,e,r)),layer:n,direction:r,type:u.AXIS,extra:{dim:i,scale:t}};return e.component.set("field",t.field),e.component.init(),e},Fo.prototype.createCircleGrid=function(t,e,n,r,i){e=this.getCircleGridCfg(t,e,r,i);if(e)return(r={component:new gt(e),layer:n,direction:p.NONE,type:u.GRID,extra:{dim:i,scale:t,alignTick:Object(j.get)(e,"alignTick",!0)}}).component.init(),r},Fo.prototype.getLineAxisCfg=function(t,e,n){var r=Object(j.get)(e,["top"])?this.axisForeContainer:this.axisContainer,i=this.view.getCoordinate(),o=Ft(i,n),a=Xt(t,e),s=zt(this.view.getTheme(),n),a=Object(j.get)(e,["title"])?Object(j.deepMix)({title:{style:{text:a}}},{title:Gt(this.view.getTheme(),n,e.title)},e):e,n=Object(j.deepMix)(x(x({container:r},o),{ticks:t.getTicks().map(function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}}),verticalFactor:i.isPolar?-1*Wt(o,i.getCenter()):Wt(o,i.getCenter()),theme:s}),s,a),e=this.getAnimateCfg(n),r=e.animate,t=e.animateOption,i=(n.animateOption=t,n.animate=r,Ut(o)),s=Object(j.get)(n,"verticalLimitLength",i?1/3:.5);return s<=1&&(a=this.view.getCanvas().get("width"),e=this.view.getCanvas().get("height"),n.verticalLimitLength=s*(i?a:e)),n},Fo.prototype.getLineGridCfg=function(t,e,n,r){if(ko(zt(this.view.getTheme(),n),e))return n=Do(this.view.getTheme(),n),(n=Object(j.deepMix)({container:Object(j.get)(e,["top"])?this.gridForeContainer:this.gridContainer},n,Object(j.get)(e,"grid"),this.getAnimateCfg(e))).items=To(this.view.getCoordinate(),t,r,Object(j.get)(n,"alignTick",!0)),n},Fo.prototype.getCircleAxisCfg=function(t,e,n){var r=Object(j.get)(e,["top"])?this.axisForeContainer:this.axisContainer,i=this.view.getCoordinate(),o=t.getTicks().map(function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}}),i=(t.isCategory||Math.abs(i.endAngle-i.startAngle)!==2*Math.PI||o.pop(),Xt(t,e)),t=zt(this.view.getTheme(),p.CIRCLE),i=Object(j.get)(e,["title"])?Object(j.deepMix)({title:{style:{text:i}}},{title:Gt(this.view.getTheme(),n,e.title)},e):e,n=Object(j.deepMix)(x(x({container:r},$t(this.view.getCoordinate())),{ticks:o,verticalFactor:1,theme:t}),t,i),e=this.getAnimateCfg(n),r=e.animate,o=e.animateOption;return n.animate=r,n.animateOption=o,n},Fo.prototype.getCircleGridCfg=function(t,e,n,r){var i;if(ko(zt(this.view.getTheme(),n),e))return n=Do(this.view.getTheme(),p.RADIUS),n=Object(j.deepMix)({container:Object(j.get)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},n,Object(j.get)(e,"grid"),this.getAnimateCfg(e)),e=Object(j.get)(n,"alignTick",!0),i="x"===r?this.view.getYScales()[0]:this.view.getXScale(),n.items=Io(this.view.getCoordinate(),i,t,e,r),n},Fo.prototype.getId=function(t,e){var n=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(n.type)},Fo.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&Object(j.get)(t,"animate"),animateOption:t&&t.animateOption?Object(j.deepMix)({},Bo,t.animateOption):Bo}},Fo);function Fo(t){t=Lo.call(this,t)||this;return t.cache=new Map,t.gridContainer=t.view.getLayer(d.BG).addGroup(),t.gridForeContainer=t.view.getLayer(d.FORE).addGroup(),t.axisContainer=t.view.getLayer(d.BG).addGroup(),t.axisForeContainer=t.view.getLayer(d.FORE).addGroup(),t}function Uo(t,e,n){return n===p.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===p.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===p.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===p.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===p.TOP_LEFT||n===p.LEFT_TOP?[t.tl.x,t.tl.y]:n===p.TOP_RIGHT||n===p.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===p.BOTTOM_LEFT||n===p.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===p.BOTTOM_RIGHT||n===p.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function Wo(t,e){return Object(j.isBoolean)(t)?!1!==t&&{}:Object(j.get)(t,[e],t)}function zo(t){return Object(j.get)(t,"position",p.BOTTOM)}e(Zo,Ko=B),Object.defineProperty(Zo.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),Zo.prototype.init=function(){},Zo.prototype.render=function(){this.update()},Zo.prototype.layout=function(){var l=this;this.layoutBBox=this.view.viewBBox,Object(j.each)(this.components,function(t){var e=t.component,t=t.direction,n=xr(t),r=e.get("maxWidthRatio"),i=e.get("maxHeightRatio"),n=l.getCategoryLegendSizeCfg(n,r,i),r=e.get("maxWidth"),i=e.get("maxHeight"),r=(e.update({maxWidth:Math.min(n.maxWidth,r||0),maxHeight:Math.min(n.maxHeight,i||0)}),e.get("padding")),n=e.getLayoutBBox(),i=new St(n.x,n.y,n.width,n.height).expand(r),n=Uo(l.view.viewBBox,i,t),o=n[0],n=n[1],a=Uo(l.layoutBBox,i,t),s=a[0],a=a[1],c=0,u=0,u=t.startsWith("top")||t.startsWith("bottom")?(c=o,a):(c=s,n);e.setLocation({x:c+r[3],y:u+r[0]}),l.layoutBBox=l.layoutBBox.cut(i,t)})},Zo.prototype.update=function(){var t,e,n,r,s=this,c=(this.option=this.view.getOptions().legends,{}),i=(Object(j.get)(this.option,"custom")?(e=this.getComponentById(t="global-custom"))?(Ct(n=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0),["container"]),e.component.update(n),c[t]=!0):(e=this.createCustomLegend(void 0,void 0,void 0,this.option))&&(e.init(),n=d.FORE,r=zo(this.option),this.components.push({id:t,component:e,layer:n,direction:r,type:u.LEGEND,extra:void 0}),c[t]=!0):this.loopLegends(function(t,e,n){var r,i,o=s.getId(n.field),a=s.getComponentById(o);a?(r=void 0,!1!==(i=Wo(s.option,n.field))&&(Object(j.get)(i,"custom")?r=s.getCategoryCfg(t,e,n,i,!0):n.isLinear?r=s.getContinuousCfg(t,e,n,i):n.isCategory&&(r=s.getCategoryCfg(t,e,n,i))),r&&(Ct(r,["container"]),a.direction=zo(i),a.component.update(r),c[o]=!0)):(i=s.createFieldLegend(t,e,n))&&(i.component.init(),s.components.push(i),c[o]=!0)}),[]);Object(j.each)(this.getComponents(),function(t){c[t.id]?i.push(t):t.component.destroy()}),this.components=i},Zo.prototype.clear=function(){Ko.prototype.clear.call(this),this.container.clear()},Zo.prototype.destroy=function(){Ko.prototype.destroy.call(this),this.container.remove(!0)},Zo.prototype.getGeometries=function(t){var e=this,n=t.geometries;return Object(j.each)(t.views,function(t){n=n.concat(e.getGeometries(t))}),n},Zo.prototype.loopLegends=function(r){var t,i;this.view.getRootView()===this.view&&(t=this.getGeometries(this.view),i={},Object(j.each)(t,function(n){var t=n.getGroupAttributes();Object(j.each)(t,function(t){var e=t.getScale(t.type);e&&"identity"!==e.type&&!i[e.field]&&(r(n,t,e),i[e.field]=!0)})}))},Zo.prototype.createFieldLegend=function(t,e,n){var r,i=Wo(this.option,n.field),o=d.FORE,a=zo(i);if(!1!==i&&(Object(j.get)(i,"custom")?r=this.createCustomLegend(t,e,n,i):n.isLinear?r=this.createContinuousLegend(t,e,n,i):n.isCategory&&(r=this.createCategoryLegend(t,e,n,i))),r)return r.set("field",n.field),{id:this.getId(n.field),component:r,layer:o,direction:a,type:u.LEGEND,extra:{scale:n}}},Zo.prototype.createCustomLegend=function(t,e,n,r){t=this.getCategoryCfg(t,e,n,r,!0);return new yt(t)},Zo.prototype.createContinuousLegend=function(t,e,n,r){t=this.getContinuousCfg(t,e,n,Ct(r,["value"]));return new _t(t)},Zo.prototype.createCategoryLegend=function(t,e,n,r){t=this.getCategoryCfg(t,e,n,r);return new yt(t)},Zo.prototype.getContinuousCfg=function(t,r,i,e){var n=i.getTicks(),o=Object(j.find)(n,function(t){return 0===t.value}),a=Object(j.find)(n,function(t){return 1===t.value}),n=n.map(function(t){var e=t.value,t=t.tickValue,n=r.mapping(i.invert(e)).join("");return{value:t,attrValue:n,color:n,scaleValue:e}}),o=(o||n.push({value:i.min,attrValue:r.mapping(i.invert(0)).join(""),color:r.mapping(i.invert(0)).join(""),scaleValue:0}),a||n.push({value:i.max,attrValue:r.mapping(i.invert(1)).join(""),color:r.mapping(i.invert(1)).join(""),scaleValue:1}),n.sort(function(t,e){return t.value-e.value}),{min:Object(j.head)(n).value,max:Object(j.last)(n).value,colors:[],rail:{type:r.type},track:{}}),a=("size"===r.type&&(o.track={style:{fill:"size"===r.type?this.view.getTheme().defaultColor:void 0}}),"color"===r.type&&(o.colors=n.map(function(t){return t.attrValue})),this.container),n=xr(zo(e)),s=(s=Object(j.get)(e,"title"))&&Object(j.deepMix)({text:Bt(i)},s);return o.container=a,o.layout=n,o.title=s,o.animateOption=Un,this.mergeLegendCfg(o,e,"continuous")},Zo.prototype.getCategoryCfg=function(t,e,n,r,i){var o,l,h=this.container,a=Object(j.get)(r,"position",p.BOTTOM),s=wr(this.view.getTheme(),a),c=Object(j.get)(s,["marker"]),u=Object(j.get)(r,"marker"),d=xr(a),s=Object(j.get)(s,["pageNavigator"]),f=Object(j.get)(r,"pageNavigator"),i=i?(o=c,l=u,r.items.map(function(t,e){var n=l,e=(Object(j.isFunction)(n)&&(n=n(t.name,e,Object(j.deepMix)({},o,t))),Object(j.isFunction)(t.marker)?t.marker(t.name,e,Object(j.deepMix)({},o,t)):t.marker),n=Object(j.deepMix)({},o,n,e);return Or(n),t.marker=n,t})):Er(this.view,t,e,c,u),t=(t=Object(j.get)(r,"title"))&&Object(j.deepMix)({text:n?Bt(n):""},t),e=Object(j.get)(r,"maxWidthRatio"),c=Object(j.get)(r,"maxHeightRatio"),u=this.getCategoryLegendSizeCfg(d,e,c),n=(u.container=h,u.layout=d,u.items=i,u.title=t,u.animateOption=Un,u.pageNavigator=Object(j.deepMix)({},s,f),this.mergeLegendCfg(u,r,a)),e=(n.reversed&&n.items.reverse(),Object(j.get)(n,"maxItemWidth"));return e&&e<=1&&(n.maxItemWidth=this.view.viewBBox.width*e),n},Zo.prototype.mergeLegendCfg=function(t,e,n){n=n.split("-")[0],n=wr(this.view.getTheme(),n);return Object(j.deepMix)({},n,t,e)},Zo.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},Zo.prototype.getComponentById=function(e){return Object(j.find)(this.components,function(t){return t.id===e})},Zo.prototype.getCategoryLegendSizeCfg=function(t,e,n){void 0===e&&(e=.25),void 0===n&&(n=.25);var r=this.view.viewBBox,i=r.width,r=r.height;return"vertical"===t?{maxWidth:i*e,maxHeight:r}:{maxWidth:i,maxHeight:r*n}};var Go,$o,Ko,Vo=Zo,Xo=(e(qo,$o=B),Object.defineProperty(qo.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),qo.prototype.destroy=function(){$o.prototype.destroy.call(this),this.view.off(l.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(l.BEFORE_CHANGE_SIZE,this.resetMeasure)},qo.prototype.init=function(){},qo.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,t=t.end,e=(Object(j.isNil)(this.start)&&(this.start=e,this.end=t),this.view.getOptions().data);this.option&&!Object(j.isEmpty)(e)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},qo.prototype.layout=function(){var t,e,n,r,i,o,a,s,c=this;this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){c.view.destroyed||c.changeViewData(c.start,c.end)},0)),this.slider&&(n=this.view.coordinateBBox.width,t=(r=this.slider.component.get("padding"))[0],r[1],r[2],e=r[3],i=this.slider.component.getLayoutBBox(),n=new St(i.x,i.y,Math.min(i.width,n),i.height).expand(r),r=(i=this.getMinMaxText(this.start,this.end)).minText,i=i.maxText,(o=Uo(this.view.viewBBox,n,p.BOTTOM))[0],o=o[1],s=(a=Uo(this.view.coordinateBBox,n,p.BOTTOM))[0],a[1],this.slider.component.update(x(x({},this.getSliderCfg()),{x:s+e,y:o+t,width:this.width,start:this.start,end:this.end,minText:r,maxText:i})),this.view.viewBBox=this.view.viewBBox.cut(n,p.BOTTOM))},qo.prototype.update=function(){this.render()},qo.prototype.createSlider=function(){var t=this.getSliderCfg(),t=new ht.Slider(x({container:this.container},t));return t.init(),{component:t,layer:d.FORE,direction:p.BOTTOM,type:u.SLIDER}},qo.prototype.updateSlider=function(){var t,e,n=this.getSliderCfg();return this.width&&(t=(e=this.getMinMaxText(this.start,this.end)).minText,e=e.maxText,n=x(x({},n),{width:this.width,start:this.start,end:this.end,minText:t,maxText:e})),this.slider.component.update(n),this.slider},qo.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},qo.prototype.getSliderCfg=function(){var t,e={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};return Object(j.isObject)(this.option)&&(t=x({data:this.getData()},Object(j.get)(this.option,"trendCfg",{})),e=Object(j.deepMix)({},e,this.getThemeOptions(),this.option),e=x(x({},e),{trendCfg:t})),e.start=Object(j.clamp)(Math.min(Object(j.isNil)(e.start)?0:e.start,Object(j.isNil)(e.end)?1:e.end),0,1),e.end=Object(j.clamp)(Math.max(Object(j.isNil)(e.start)?0:e.start,Object(j.isNil)(e.end)?1:e.end),0,1),e},qo.prototype.getData=function(){var n,r,t=this.view.getOptions().data,i=this.view.getYScales()[0],e=this.view.getGroupScales();return e.length?(e=e[0],n=e.field,r=e.ticks,t.reduce(function(t,e){return e[n]===r[0]&&t.push(e[i.field]),t},[])):t.map(function(t){return t[i.field]||0})},qo.prototype.getThemeOptions=function(){var t=this.view.getTheme();return Object(j.get)(t,["components","slider","common"],{})},qo.prototype.getMinMaxText=function(t,e){var n=this.view.getOptions().data,r=this.view.getXScale(),i=Object(j.valuesOfKey)(n,r.field),i=i=r.isLinear?i.sort():i,o=Object(j.size)(n);if(!r||!o)return{};r=Object(j.size)(i),o=Math.floor(t*(r-1)),t=Math.floor(e*(r-1)),e=Object(j.get)(i,[o]),r=Object(j.get)(i,[t]),i=this.getSliderCfg().formatter;return i&&(e=i(e,n[o],o),r=i(r,n[t],t)),{minText:e,maxText:r}},qo.prototype.changeViewData=function(t,e){var n,r,i,o=this.view.getOptions().data,a=this.view.getXScale(),s=Object(j.size)(o);a&&s&&(s=Object(j.valuesOfKey)(o,a.field),n=this.view.getXScale().isLinear?s.sort(function(t,e){return Number(t)-Number(e)}):s,o=Object(j.size)(n),r=Math.floor(t*(o-1)),i=Math.floor(e*(o-1)),this.view.filter(a.field,function(t,e){t=n.indexOf(t);return!(-1<t)||Pt(t,r,i)}),this.view.render(!0))},qo.prototype.getComponents=function(){return this.slider?[this.slider]:[]},qo.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},qo),B=(e(Ho,Go=B),Object.defineProperty(Ho.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),Ho.prototype.destroy=function(){Go.prototype.destroy.call(this),this.view.off(l.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(l.BEFORE_CHANGE_SIZE,this.resetMeasure)},Ho.prototype.init=function(){},Ho.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},Ho.prototype.layout=function(){var t,e,n,r,i,o,a,s,c=this;this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){c.view.destroyed||c.changeViewData(c.getScrollRange(),!0)})),this.scrollbar&&(e=this.view.coordinateBBox.width,t=this.scrollbar.component.get("padding"),r=this.scrollbar.component.getLayoutBBox(),e=new St(r.x,r.y,Math.min(r.width,e),r.height).expand(t),s=r=void 0,r=((n=this.getScrollbarComponentCfg()).isHorizontal?((i=Uo(this.view.viewBBox,e,p.BOTTOM))[0],i=i[1],a=(o=Uo(this.view.coordinateBBox,e,p.BOTTOM))[0],o[1]):((o=Uo(this.view.viewBBox,e,p.RIGHT))[0],i=o[1],a=(o=Uo(this.view.viewBBox,e,p.RIGHT))[0],o[1]),a),s=i,r+=t[3],s+=t[0],this.trackLen?this.scrollbar.component.update(x(x({},n),{x:r,y:s,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(x(x({},n),{x:r,y:s})),this.view.viewBBox=this.view.viewBBox.cut(e,n.isHorizontal?p.BOTTOM:p.RIGHT))},Ho.prototype.update=function(){this.render()},Ho.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},Ho.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},Ho.prototype.setValue=function(t){this.onValueChange({ratio:t})},Ho.prototype.getValue=function(){return this.ratio},Ho.prototype.getThemeOptions=function(){var t=this.view.getTheme();return Object(j.get)(t,["components","scrollbar","common"],{})},Ho.prototype.getScrollbarTheme=function(t){var e=Object(j.get)(this.view.getTheme(),["components","scrollbar"]),t=t||{},n=t.thumbHighlightColor,t=O(t,["thumbHighlightColor"]);return{default:Object(j.deepMix)({},Object(j.get)(e,["default","style"],{}),t),hover:Object(j.deepMix)({},Object(j.get)(e,["hover","style"],{}),{thumbColor:n})}},Ho.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice(),n=(this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt(),this.getScrollbarComponentCfg()),r=n.trackLen,n=n.thumbLen;this.trackLen=r,this.thumbLen=n,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},Ho.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Object(j.clamp)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},Ho.prototype.changeViewData=function(t,e){var n=this,r=t[0],i=t[1],t="vertical"!==this.getValidScrollbarCfg().type,o=Object(j.valuesOfKey)(this.data,this.xScaleCfg.field),o=this.view.getXScale().isLinear?o.sort(function(t,e){return Number(t)-Number(e)}):o,a=t?o:o.reverse();this.yScalesCfg.forEach(function(t){n.view.scale(t.field,{formatter:t.formatter,type:t.type,min:t.min,max:t.max,tickMethod:t.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(t){t=a.indexOf(t);return!(-1<t)||Pt(t,r,i)}),this.view.render(!0)},Ho.prototype.createScrollbar=function(){var t="vertical"!==this.getValidScrollbarCfg().type,e=new ht.Scrollbar(x(x({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return e.init(),{component:e,layer:d.FORE,direction:t?p.BOTTOM:p.RIGHT,type:u.SCROLLBAR}},Ho.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),t=this.trackLen?x(x({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):x({},t);return this.scrollbar.component.update(t),this.scrollbar},Ho.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg(),n=e.type,e=e.categorySize;return Math.floor(("vertical"!==n?t.width:t.height)/e)},Ho.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData(),e=Object(j.valuesOfKey)(e,t.field);return Object(j.size)(e)},Ho.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,t=t.viewBBox,n=this.getValidScrollbarCfg(),r=n.type,i=n.padding,o=n.width,a=n.height,n=n.style,r="vertical"!==r,s=i[0],c=i[1],u=i[2],i=i[3],t=r?{x:e.minX+i,y:t.maxY-a-u}:{x:t.maxX-o-c,y:e.minY+s},l=this.getStep(),h=this.getCnt(),i=r?e.width-i-c:e.height-s-u,c=Math.max(i*Object(j.clamp)(l/h,0,1),20);return x(x({},this.getThemeOptions()),{x:t.x,y:t.y,size:r?a:o,isHorizontal:r,trackLen:i,thumbLen:c,thumbOffset:0,theme:this.getScrollbarTheme(n)})},Ho.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return Object(j.isObject)(this.option)&&(t=x(x({},t),this.option)),Object(j.isObject)(this.option)&&this.option.padding||(t.padding=(t.type,[0,0,0,0])),t},Ho.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return n=t.isReflect("y")&&"vertical"===e.type?g([],n,!0).reverse():n},Ho),Yo={fill:"#CCD6EC",opacity:.3};function Ho(t){var n=Go.call(this,t)||this;return n.onChangeFn=j.noop,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var t=t.ratio,e=n.getValidScrollbarCfg().animate,t=(n.ratio=Object(j.clamp)(t,0,1),n.view.getOptions().animate);e||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(t)},n.container=n.view.getLayer(d.FORE).addGroup(),n.onChangeFn=Object(j.throttle)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(l.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(l.BEFORE_CHANGE_SIZE,n.resetMeasure),n}function qo(t){var n=$o.call(this,t)||this;return n.onChangeFn=j.noop,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=t[0],t=t[1];n.start=e,n.end=t,n.changeViewData(e,t)},n.container=n.view.getLayer(d.FORE).addGroup(),n.onChangeFn=Object(j.throttle)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(l.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(l.BEFORE_CHANGE_SIZE,n.resetMeasure),n}function Zo(t){t=Ko.call(this,t)||this;return t.container=t.view.getLayer(d.FORE).addGroup(),t}e(da,na=Zt),da.prototype.show=function(l){var h,d,e,n,r,i,o,f,t,a,p,s,c=this.context.view,g=this.context.event,u=c.getController("tooltip").getTooltipCfg(),g=function(t,e,n){if((t=function(t,e,n){for(var r=fn(t,e,n),i=0,o=t.views;i<o.length;i++)var a=o[i],r=r.concat(fn(a,e,n));return r}(t,e,n)).length){for(var r=0,l=t=Object(j.flatten)(t);r<l.length;r++)for(var i=0,h=l[r];i<h.length;i++){var o=h[i],a=o.mappingData,s=a.x,a=a.y;o.x=Object(j.isArray)(s)?s[s.length-1]:s,o.y=Object(j.isArray)(a)?a[a.length-1]:a}if(!1===n.shared&&1<t.length){for(var c=t[0],d=Math.abs(e.y-c[0].y),u=0,f=t;u<f.length;u++){var p=f[u],g=Math.abs(e.y-p[0].y);g<=d&&(c=p,d=g)}t=[c]}return Object(j.uniq)(Object(j.flatten)(t))}return[]}(c,{x:g.x,y:g.y},u);!Object(j.isEqual)(g,this.items)&&(this.items=g).length&&(h=c.getXScale().field,d=g[0].data[h],e=[],u=c.geometries,Object(j.each)(u,function(t){"interval"!==t.type&&"schema"!==t.type||(t=t.getElementsBy(function(t){return t.getData()[h]===d}),e=e.concat(t))}),e.length&&(n=c.getCoordinate(),r=e[0].shape.getCanvasBBox(),i=e[0].shape.getCanvasBBox(),o=r,Object(j.each)(e,function(t){t=t.shape.getCanvasBBox();n.isTransposed?(t.minY<r.minY&&(r=t),t.maxY>i.maxY&&(i=t)):(t.minX<r.minX&&(r=t),t.maxX>i.maxX&&(i=t)),o.x=Math.min(t.minX,o.minX),o.y=Math.min(t.minY,o.minY),o.width=Math.max(t.maxX,o.maxX)-o.x,o.height=Math.max(t.maxY,o.maxY)-o.y}),g=c.backgroundGroup,u=c.coordinateBBox,f=void 0,f=n.isRect?(c=c.getXScale(),a=(s=l||{}).appendRatio,s=s.appendWidth,c=void(Object(j.isNil)(s)&&(a=Object(j.isNil)(a)?c.isLinear?0:.25:a,s=n.isTransposed?a*i.height:a*r.width)),p=t=a=void 0,p=n.isTransposed?(c=u.minX,a=Math.min(i.minY,r.minY)-s,t=u.width,o.height+2*s):(c=Math.min(r.minX,i.minX)-s,a=u.minY,t=o.width+2*s,u.height),[["M",c,a],["L",c+t,a],["L",c+t,a+p],["L",c,a+p],["Z"]]):(s=Object(j.head)(e),u=Object(j.last)(e),t=wt(s.getModel(),n).startAngle,c=wt(u.getModel(),n).endAngle,a=n.getCenter(),p=n.getRadius(),s=n.innerRadius*p,xt(a.x,a.y,p,t,c,s)),this.regionPath?(this.regionPath.attr("path",f),this.regionPath.show()):(u=Object(j.get)(l,"style",Yo),this.regionPath=g.addShape({type:"path",name:"active-region",capture:!1,attrs:x(x({},u),{path:f})}))))},da.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},da.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),na.prototype.destroy.call(this)};var Qo,Jo,ta,ea,na,ra=da,ia=(e(ha,ea=Zt),ha.prototype.show=function(){var t,e,n=this.context,r=n.event,i=n.view;i.isTooltipLocked()||(e=this.timeStamp,(t=+new Date)-e>Object(j.get)(n.view.getOptions(),"tooltip.showDelay",16)&&(e=this.location,n={x:r.x,y:r.y},e&&Object(j.isEqual)(e,n)||this.showTooltip(i,n),this.timeStamp=t,this.location=n))},ha.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),n=this.context.event,r=n.clientX,n=n.clientY;e.isCursorEntered({x:r,y:n})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},ha.prototype.showTooltip=function(t,e){t.showTooltip(e)},ha.prototype.hideTooltip=function(t){t.hideTooltip()},ha),oa=(e(la,ta=ia),la.prototype.showTooltip=function(n,r){var t=Ae(n);Object(j.each)(t,function(t){var e=Se(n,t,r);t.showTooltip(e)})},la.prototype.hideTooltip=function(t){t=Ae(t);Object(j.each)(t,function(t){t.hideTooltip()})},la),aa=(e(ua,Jo=Zt),ua.prototype.destroy=function(){Jo.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},ua.prototype.show=function(){var t=this.context.event,e=this.timeStamp,n=+new Date;16<n-e&&(e=this.location,t={x:t.x,y:t.y},e&&Object(j.isEqual)(e,t)||this.showTooltip(t),this.timeStamp=n,this.location=t)},ua.prototype.hide=function(){this.hideTooltip(),this.location=null},ua.prototype.showTooltip=function(t){var e=this.context.event.target;e&&e.get("tip")&&(this.tooltip||this.renderTooltip(),e=e.get("tip"),this.tooltip.update(x({title:e},t)),this.tooltip.show())},ua.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},ua.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},t=t.getTheme(),t=Object(j.get)(t,["components","tooltip","domStyles"],{}),n=new mt({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:x({},Object(j.deepMix)({},t,((e={})[ht.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},e[ht.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},e)))});n.init(),n.setCapture(!1),this.tooltip=n},ua),sa=(e(ca,Qo=Zt),ca.prototype.hasState=function(t){return t.hasState(this.stateName)},ca.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},ca.prototype.setState=function(){this.setStateEnable(!0)},ca.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},ca.prototype.clearViewState=function(t){var e=this,t=Oe(t,this.stateName);Object(j.each)(t,function(t){e.setElementState(t,!1)})},ca);function ca(){var t=null!==Qo&&Qo.apply(this,arguments)||this;return t.stateName="",t}function ua(){var t=null!==Jo&&Jo.apply(this,arguments)||this;return t.timeStamp=0,t}function la(){return null!==ta&&ta.apply(this,arguments)||this}function ha(){var t=null!==ea&&ea.apply(this,arguments)||this;return t.timeStamp=0,t}function da(){return null!==na&&na.apply(this,arguments)||this}function fa(t){return Object(j.get)(t.get("delegateObject"),"item")}e(Ia,ba=sa),Ia.prototype.isItemIgnore=function(e,n){return!!this.ignoreListItemStates.filter(function(t){return n.hasState(e,t)}).length},Ia.prototype.setStateByComponent=function(t,e,n){var r=this.context.view,t=t.get("field"),r=be(r);this.setElementsStateByItem(r,t,e,n)},Ia.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},Ia.prototype.isMathItem=function(t,e,n){var r=De(this.context.view,e),t=xe(t,e);return!Object(j.isNil)(t)&&n.name===r.getText(t)},Ia.prototype.setElementsStateByItem=function(t,e,n,r){var i=this;Object(j.each)(t,function(t){i.isMathItem(t,e,n)&&t.setState(i.stateName,r)})},Ia.prototype.setStateEnable=function(t){var e,n,r=de(this.context);r?pe(this.context)&&this.setStateByElement(r,t):ge(r=fe(this.context))&&(e=r.item,r=r.component,e&&r&&!this.isItemIgnore(e,r)&&((n=this.context.event.gEvent)&&n.fromShape&&n.toShape&&fa(n.fromShape)===fa(n.toShape)||this.setStateByComponent(r,e,t)))},Ia.prototype.toggle=function(){var t,e=de(this.context);e&&(t=e.hasState(this.stateName),this.setElementState(e,!t))},Ia.prototype.reset=function(){this.setStateEnable(!1)};var pa,ga,ya,_a,ma,va,ba,Oa=Ia,xa=(e(Ta,va=Oa),Ta.prototype.active=function(){this.setState()},Ta),Ea=(e(Da,ma=Zt),Da.prototype.getColorScale=function(t,e){e=e.geometry.getAttribute("color");return e?t.getScaleByField(e.getFields()[0]):null},Da.prototype.getLinkPath=function(t,e){var n=this.context.view.getCoordinate().isTransposed,t=t.shape.getCanvasBBox(),e=e.shape.getCanvasBBox();return n?[["M",t.minX,t.minY],["L",e.minX,e.maxY],["L",e.maxX,e.maxY],["L",t.maxX,t.minY],["Z"]]:[["M",t.maxX,t.minY],["L",e.minX,e.minY],["L",e.minX,e.maxY],["L",t.maxX,t.maxY],["Z"]]},Da.prototype.addLinkShape=function(t,e,n,r){var i={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:x(x({},Object(j.deepMix)({},i,Object(j.isFunction)(r)?r(i,e):r)),{path:this.getLinkPath(e,n)})})},Da.prototype.linkByElement=function(t,n){var r,i,o,e,a,s=this,c=this.context.view,u=this.getColorScale(c,t);u&&(t=xe(t,u.field),this.cache[t]||(e=u.field,a=t,r=be(c).filter(function(t){return xe(t,e)===a}),i=this.linkGroup.addGroup(),this.cache[t]=i,o=r.length,Object(j.each)(r,function(t,e){e<o-1&&(e=r[e+1],s.addLinkShape(i,t,e,n))})))},Da.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);e&&(t=xe(t,e.field),this.cache[t]&&(this.cache[t].remove(),this.cache[t]=null))},Da.prototype.link=function(t){var e=this.context,e=(this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1})),de(e));e&&this.linkByElement(e,null==t?void 0:t.style)},Da.prototype.unlink=function(){var t=de(this.context);t&&this.removeLink(t)},Da.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},Da.prototype.destroy=function(){ma.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},Da),wa=(e(ja,_a=sa),ja.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},ja.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},ja.prototype.getIntersectElements=function(){var t=null;if(_e(this.context))t=me(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;e={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},t=Ee(this.context.view,e)}return t},ja.prototype.setStateEnable=function(t){var e,n;this.effectSiblings&&!this.effectByRecord?this.setSiblingsState(t):(e=be(this.context.view),(n=this.getIntersectElements())&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear())},ja.prototype.setSiblingsStateByRecord=function(t,n){var r=this,e=this.context.view,i=Ae(e),o=t.map(function(t){return t.getModel().data}),a=e.getXScale().field,s=e.getYScales()[0].field;Object(j.each)(i,function(t){var t=be(t),e=t.filter(function(t){t=t.getModel().data;return je(o,t,a,s)});r.setElementsState(e,n,t)})},ja.prototype.setSiblingsState=function(r){var i=this,t=Ae(this.context.view);_e(this.context)&&Object(j.each)(t,function(t){var e=be(t),n=ve(i.context,t,10);n&&n.length?i.setElementsState(n,r,e):i.clearViewState(t)})},ja.prototype.setElementsState=function(e,n,t){var r=this;Object(j.each)(t,function(t){e.includes(t)?r.setElementState(t,n):r.setElementState(t,!1)})},ja.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},ja.prototype.clear=function(){var t,e=this,n=this.context.view;this.effectSiblings?(t=Ae(n),Object(j.each)(t,function(t){e.clearViewState(t)})):this.clearViewState(n)},ja),Ma=(e(Sa,ya=wa),Sa.prototype.active=function(){this.setState()},Sa),sa=(e(Aa,ga=sa),Aa.prototype.setStateEnable=function(t){var e=de(this.context);e&&pe(this.context)&&(t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1))},Aa.prototype.toggle=function(){var t,e=de(this.context);e&&((t=this.hasState(e))||this.clear(),this.setElementState(e,!t))},Aa.prototype.reset=function(){this.setStateEnable(!1)},Aa),Pa=(e(Ca,pa=sa),Ca.prototype.active=function(){this.setState()},Ca);function Ca(){var t=null!==pa&&pa.apply(this,arguments)||this;return t.stateName="active",t}function Aa(){return null!==ga&&ga.apply(this,arguments)||this}function Sa(){var t=null!==ya&&ya.apply(this,arguments)||this;return t.stateName="active",t}function ja(){var t=null!==_a&&_a.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}function Da(){var t=null!==ma&&ma.apply(this,arguments)||this;return t.cache={},t}function Ta(){var t=null!==va&&va.apply(this,arguments)||this;return t.stateName="active",t}function Ia(){var t=null!==ba&&ba.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}function ka(t){t=be(t);Object(j.each)(t,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}function La(t,e,n){Object(j.each)(t,function(t){e(t)?(t.hasState("inactive")&&t.setState("inactive",!1),t.setState("active",n)):(t.hasState("active")&&t.setState("active",!1),t.setState("inactive",n))})}var Ra,Ba,Na,Fa,Ua=za.INACTIVE,Wa=za.ACTIVE,za=(e(Xa,Fa=Oa),Xa.prototype.setElementsStateByItem=function(t,e,n,r){var i=this;this.setHighlightBy(t,function(t){return i.isMathItem(t,e,n)},r)},Xa.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Ua)&&t.setState(Ua,!1),t.setState(Wa,!0)):t.hasState(Wa)||t.setState(Ua,!0)},Xa.prototype.setHighlightBy=function(t,e,n){var r,i=this;n?Object(j.each)(t,function(t){i.setElementHighlight(t,e)}):(n=Oe(this.context.view,Wa),r=!0,Object(j.each)(n,function(t){if(!e(t))return r=!1}),r?this.clear():Object(j.each)(t,function(t){e(t)&&(t.hasState(Wa)&&t.setState(Wa,!1),t.setState(Ua,!0))}))},Xa.prototype.setElementState=function(e,t){var n=be(this.context.view);this.setHighlightBy(n,function(t){return e===t},t)},Xa.prototype.highlight=function(){this.setState()},Xa.prototype.clear=function(){ka(this.context.view)},Xa),Ga=(e(Va,Na=za),Va.prototype.setStateByElement=function(t,e){var n,r,i,o=this.context.view,a=t.geometry.getAttribute("color");a&&(n=o.getScaleByField(a.getFields()[0]),r=xe(t,n.field),a=be(o),i=a.filter(function(t){return xe(t,n.field)===r}),this.setHighlightBy(a,function(t){return i.includes(t)},e))},Va),$a=(e(Ka,Ba=za),Ka.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Ua)&&t.setState(Ua,!1),t.setState(Wa,!0)):(t.setState(Ua,!0),t.hasState(Wa)&&t.setState(Wa,!1))},Ka.prototype.setStateByElement=function(t,e){var n=this.context.view,r=n.getXScale(),i=xe(t,r.field),t=be(n),o=t.filter(function(t){return xe(t,r.field)===i});this.setHighlightBy(t,function(t){return o.includes(t)},e)},Ka.prototype.toggle=function(){var t,e=de(this.context);e&&(t=e.hasState(this.stateName),this.setStateByElement(e,!t))},Ka);function Ka(){return null!==Ba&&Ba.apply(this,arguments)||this}function Va(){return null!==Na&&Na.apply(this,arguments)||this}function Xa(){var t=null!==Fa&&Fa.apply(this,arguments)||this;return t.stateName=Wa,t}(es=Ra=Ra||{}).BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",es.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",es.BEFORE_CLEAR="element-range-highlight:beforeclear",es.AFTER_CLEAR="element-range-highlight:afterclear";e(hs,ts=wa),hs.prototype.clearViewState=function(t){ka(t)},hs.prototype.highlight=function(){var t=this.context,e=t.view,t={view:e,event:t.event,highlightElements:this.getIntersectElements()};e.emit(Ra.BEFORE_HIGHLIGHT,mn.fromData(e,Ra.BEFORE_HIGHLIGHT,t)),this.setState(),e.emit(Ra.AFTER_HIGHLIGHT,mn.fromData(e,Ra.AFTER_HIGHLIGHT,t))},hs.prototype.clear=function(){var t=this.context.view;t.emit(Ra.BEFORE_CLEAR,mn.fromData(t,Ra.BEFORE_CLEAR,{})),ts.prototype.clear.call(this),t.emit(Ra.AFTER_CLEAR,mn.fromData(t,Ra.AFTER_CLEAR,{}))},hs.prototype.setElementsState=function(e,t,n){La(n,function(t){return 0<=e.indexOf(t)},t)};var Ya,Ha,qa,Za,Qa,Ja,ts,es=hs,ns=(e(ls,Ja=sa),ls.prototype.highlight=function(){this.setState()},ls.prototype.setElementState=function(e,t){La(be(this.context.view),function(t){return e===t},t)},ls.prototype.clear=function(){ka(this.context.view)},ls),wa=(e(us,Qa=wa),us.prototype.selected=function(){this.setState()},us),Oa=(e(cs,Za=Oa),cs.prototype.selected=function(){this.setState()},cs),sa=(e(ss,qa=sa),ss.prototype.selected=function(){this.setState()},ss),rs=(e(as,Ha=Zt),as.prototype.getTriggerListInfo=function(){var t=fe(this.context),e=null;return e=ge(t)?{item:t.item,list:t.component}:e},as.prototype.getAllowComponents=function(){var e=this,t=Me(this.context.view),n=[];return Object(j.each)(t,function(t){t.isList()&&e.allowSetStateByElement(t)&&n.push(t)}),n},as.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},as.prototype.clearAllComponentsState=function(){var e=this,t=this.getAllowComponents();Object(j.each)(t,function(t){t.clearItemsState(e.stateName)})},as.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){t=t.get("name");if(-1===this.cfg.componentNames.indexOf(t))return!1}t=De(this.context.view,e);return t&&t.isCategory},as.prototype.allowSetStateByItem=function(e,n){var t=this.ignoreItemStates;return!t.length||0===t.filter(function(t){return n.hasState(e,t)}).length},as.prototype.setStateByElement=function(t,e,n){var r=t.get("field"),i=De(this.context.view,r),e=xe(e,r),r=i.getText(e);this.setItemsState(t,r,n)},as.prototype.setStateEnable=function(e){var t,n,r=this,i=de(this.context);i?(n=this.getAllowComponents(),Object(j.each)(n,function(t){r.setStateByElement(t,i,e)})):ge(n=fe(this.context))&&(t=n.item,n=n.component,this.allowSetStateByElement(n)&&this.allowSetStateByItem(t,n)&&this.setItemState(n,t,e))},as.prototype.setItemsState=function(e,n,r){var i=this,t=e.getItems();Object(j.each)(t,function(t){t.name===n&&i.setItemState(e,t,r)})},as.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},as.prototype.setState=function(){this.setStateEnable(!0)},as.prototype.reset=function(){this.setStateEnable(!1)},as.prototype.toggle=function(){var t,e,n=this.getTriggerListInfo();n&&n.item&&(t=n.list,n=n.item,e=this.hasState(t,n),this.setItemState(t,n,!e))},as.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},as),is=(e(os,Ya=rs),os.prototype.active=function(){this.setState()},os);function os(){var t=null!==Ya&&Ya.apply(this,arguments)||this;return t.stateName="active",t}function as(){var t=null!==Ha&&Ha.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}function ss(){var t=null!==qa&&qa.apply(this,arguments)||this;return t.stateName="selected",t}function cs(){var t=null!==Za&&Za.apply(this,arguments)||this;return t.stateName="selected",t}function us(){var t=null!==Qa&&Qa.apply(this,arguments)||this;return t.stateName="selected",t}function ls(){var t=null!==Ja&&Ja.apply(this,arguments)||this;return t.stateName="active",t}function hs(){var t=null!==ts&&ts.apply(this,arguments)||this;return t.stateName="active",t}e(Ns,bs=rs),Ns.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(t){return t.name===e},n)},Ns.prototype.setItemState=function(t,e,n){t.getItems(),this.setHighlightBy(t,function(t){return t===e},n)},Ns.prototype.setHighlightBy=function(e,n,t){var r,i=e.getItems();t?Object(j.each)(i,function(t){n(t)?(e.hasState(t,"inactive")&&e.setItemState(t,"inactive",!1),e.setItemState(t,"active",!0)):e.hasState(t,"active")||e.setItemState(t,"inactive",!0)}):(t=e.getItemsByState("active"),r=!0,Object(j.each)(t,function(t){if(!n(t))return r=!1}),r?this.clear():Object(j.each)(i,function(t){n(t)&&(e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.setItemState(t,"inactive",!0))}))},Ns.prototype.highlight=function(){this.setState()},Ns.prototype.clear=function(){var e,t=this.getTriggerListInfo();t?(t=(e=t.list).getItems(),Object(j.each)(t,function(t){e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.hasState(t,"inactive")&&e.setItemState(t,"inactive",!1)})):(t=this.getAllowComponents(),Object(j.each)(t,function(t){t.clearItemsState("active"),t.clearItemsState("inactive")}))};var ds,fs,ps,gs,ys,_s,ms,vs,bs,Os=Ns,xs=(e(Bs,vs=rs),Bs.prototype.selected=function(){this.setState()},Bs),Es=(e(Rs,ms=rs),Rs.prototype.unchecked=function(){this.setState()},Rs),ws=(e(Ls,_s=rs),Ls.prototype.setItemState=function(t,e,n){this.setCheckedBy(t,function(t){return t===e},n)},Ls.prototype.setCheckedBy=function(e,n,t){var r=e.getItems();t&&Object(j.each)(r,function(t){n(t)?(e.hasState(t,"unchecked")&&e.setItemState(t,"unchecked",!1),e.setItemState(t,"checked",!0)):e.hasState(t,"checked")||e.setItemState(t,"unchecked",!0)})},Ls.prototype.toggle=function(){var e,t=this.getTriggerListInfo();t&&t.item&&(e=t.list,t=t.item,!Object(j.some)(e.getItems(),function(t){return e.hasState(t,"unchecked")})||e.hasState(t,"unchecked")?this.setItemState(e,t,!0):this.reset())},Ls.prototype.checked=function(){this.setState()},Ls.prototype.reset=function(){var t=this.getAllowComponents();Object(j.each)(t,function(t){t.clearItemsState("checked"),t.clearItemsState("unchecked")})},Ls),Ms=(e(ks,ys=rs),ks.prototype.toggle=function(){var t=this.getTriggerListInfo();if(null!=t&&t.item){var e=t.list,n=t.item,t=e.getItems(),r=t.filter(function(t){return!e.hasState(t,"unchecked")}),l=t.filter(function(t){return e.hasState(t,"unchecked")}),h=r[0];if(t.length===r.length)for(var i=0,o=t;i<o.length;i++){var a=o[i];e.setItemState(a,"unchecked",a.id!==n.id)}else if(t.length-l.length==1)if(h.id===n.id)for(var s=0,d=t;s<d.length;s++)a=d[s],e.setItemState(a,"unchecked",!1);else for(var c=0,f=t;c<f.length;c++)a=f[c],e.setItemState(a,"unchecked",a.id!==n.id);else for(var u=0,p=t;u<p.length;u++)a=p[u],e.setItemState(a,"unchecked",a.id!==n.id)}},ks),Ps="legend-radio-tip",rs=(e(Is,gs=rs),Is.prototype.show=function(){var t,e=this.getTriggerListInfo();null!=e&&e.item&&(t=e.list,e=e.item,t.setItemState(e,"showRadio",!0))},Is.prototype.hide=function(){var t,e=this.getTriggerListInfo();null!=e&&e.item&&(t=e.list,e=e.item,t.setItemState(e,"showRadio",!1))},Is.prototype.destroy=function(){gs.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},Is.prototype.showTip=function(){var t=this.context.event,e=this.timeStamp,n=+new Date,r=this.context.event.target;16<n-e&&"legend-item-radio"===r.get("name")&&(e=this.location,r={x:t.x,y:t.y},this.timeStamp=n,this.location=r,e&&Object(j.isEqual)(e,r)||this.showTooltip(r))},Is.prototype.hideTip=function(){this.hideTooltip(),this.location=null},Is.prototype.showTooltip=function(t){var e,n=this.context,r=n.event.target;r&&r.get("tip")&&(this.tooltip||this.renderTooltip(),e=(n=n.view.getCanvas().get("el").getBoundingClientRect()).x,n=n.y,this.tooltip.update(x(x({title:r.get("tip")},t),{x:t.x+e,y:t.y+n})),this.tooltip.show())},Is.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},Is.prototype.renderTooltip=function(){(t={})[ht.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[ht.TOOLTIP_CSS_CONST.TITLE_CLASS]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"};document.getElementById(Ps)&&document.body.removeChild(document.getElementById(Ps));var t=new mt({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:t,containerId:Ps});t.init(),t.setCapture(!1),this.tooltip=t},Is),Cs=(e(Ts,ps=Zt),Ts.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},Ts.prototype.emitEvent=function(t){var t="mask:".concat(t),e=this.context.view,n=this.context.event;e.emit(t,{target:this.maskShape,shape:this.maskShape,points:this.points,x:n.x,y:n.y})},Ts.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:x({fill:"#C5D4EB",opacity:.3},e)})},Ts.prototype.getMaskPath=function(){return[]},Ts.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},Ts.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null==t?void 0:t.maskStyle),this.emitEvent("start")},Ts.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},Ts.prototype.move=function(){var t,e,n,r;this.moving&&this.maskShape&&(t=this.getCurrentPoint(),r=this.preMovePoint,e=t.x-r.x,n=t.y-r.y,r=this.points,Object(j.each)(r,function(t){t.x+=e,t.y+=n}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)},Ts.prototype.updateMask=function(t){t=Object(j.deepMix)({},this.getMaskAttrs(),t);this.maskShape.attr(t)},Ts.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},Ts.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},Ts.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},Ts.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},Ts.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,ps.prototype.destroy.call(this)},Ts),As=(e(Ds,fs=Cs),Ds.prototype.getMaskAttrs=function(){var t=this.points,e=Object(j.last)(this.points),n=0,r=0,i=0;return t.length&&(n=Pe(t=t[0],e)/2,r=(e.x+t.x)/2,i=(e.y+t.y)/2),{x:r,y:i,r:n}},Ds),Ss=(e(js,ds=Cs),js.prototype.getRegion=function(){var t=this.points;return{start:Object(j.head)(t),end:Object(j.last)(t)}},js.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,t=t.end;return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}},js);function js(){var t=null!==ds&&ds.apply(this,arguments)||this;return t.shapeType="rect",t}function Ds(){var t=null!==fs&&fs.apply(this,arguments)||this;return t.shapeType="circle",t}function Ts(){var t=null!==ps&&ps.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}function Is(){var t=null!==gs&&gs.apply(this,arguments)||this;return t.timeStamp=0,t}function ks(){return null!==ys&&ys.apply(this,arguments)||this}function Ls(){var t=null!==_s&&_s.apply(this,arguments)||this;return t.stateName="checked",t}function Rs(){var t=null!==ms&&ms.apply(this,arguments)||this;return t.stateName="unchecked",t}function Bs(){var t=null!==vs&&vs.apply(this,arguments)||this;return t.stateName="selected",t}function Ns(){var t=null!==bs&&bs.apply(this,arguments)||this;return t.stateName="active",t.ignoreItemStates=["unchecked"],t}function Fs(t){t.x=Object(j.clamp)(t.x,0,1),t.y=Object(j.clamp)(t.y,0,1)}e(tc,Ks=Ss),tc.prototype.getRegion=function(){var t=null,e=null,n=this.points,r=this.dim,i=this.context.view.getCoordinate(),o=i.invert(Object(j.head)(n)),n=i.invert(Object(j.last)(n));return this.inPlot&&(Fs(o),Fs(n)),e="x"===r?(t=i.convert({x:o.x,y:0}),i.convert({x:n.x,y:1})):(t=i.convert({x:0,y:o.y}),i.convert({x:1,y:n.y})),{start:t,end:e}};var Us,Ws,zs,Gs,$s,Ks,Vs=tc,Cs=(e(Js,$s=Cs),Js.prototype.getMaskPath=function(){var t=this.points,n=[];return t.length&&(Object(j.each)(t,function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),n.push(["L",t[0].x,t[0].y])),n},Js.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},Js.prototype.addPoint=function(){this.resize()},Js),Xs=(e(Qs,Gs=Cs),Qs.prototype.getMaskPath=function(){var t=this.points;if(t.length<=2)return se(t,!1);var e=t[0],n=[];return Object(j.each)(t,function(t){n.push(t.x),n.push(t.y)}),(t=ae(n,!0,null)).unshift(["M",e.x,e.y]),t},Qs),Ys=(e(Zs,zs=Zt),Zs.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},Zs.prototype.default=function(){this.setCursor("default")},Zs.prototype.pointer=function(){this.setCursor("pointer")},Zs.prototype.move=function(){this.setCursor("move")},Zs.prototype.crosshair=function(){this.setCursor("crosshair")},Zs.prototype.wait=function(){this.setCursor("wait")},Zs.prototype.help=function(){this.setCursor("help")},Zs.prototype.text=function(){this.setCursor("text")},Zs.prototype.eResize=function(){this.setCursor("e-resize")},Zs.prototype.wResize=function(){this.setCursor("w-resize")},Zs.prototype.nResize=function(){this.setCursor("n-resize")},Zs.prototype.sResize=function(){this.setCursor("s-resize")},Zs.prototype.neResize=function(){this.setCursor("ne-resize")},Zs.prototype.nwResize=function(){this.setCursor("nw-resize")},Zs.prototype.seResize=function(){this.setCursor("se-resize")},Zs.prototype.swResize=function(){this.setCursor("sw-resize")},Zs.prototype.nsResize=function(){this.setCursor("ns-resize")},Zs.prototype.ewResize=function(){this.setCursor("ew-resize")},Zs),Hs=(e(qs,Ws=Zt),qs.prototype.filterView=function(t,e,n){var r=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&Object(j.each)(t.views,function(t){r.filterView(t,e,n)})},qs.prototype.filter=function(){var t,e,n,r,i,o,a,s,c=fe(this.context);c&&(t=this.context.view,n=(e=c.component).get("field"),ge(c)?n&&(o=e.getItemsByState("unchecked"),r=De(t,n),(i=o.map(function(t){return t.name})).length?this.filterView(t,n,function(t){t=r.getText(t);return!i.includes(t)}):this.filterView(t,n,null),t.render(!0)):ye(c)&&(o=e.getValue(),a=o[0],s=o[1],this.filterView(t,n,function(t){return a<=t&&t<=s}),t.render(!0)))},qs);function qs(){return null!==Ws&&Ws.apply(this,arguments)||this}function Zs(){return null!==zs&&zs.apply(this,arguments)||this}function Qs(){return null!==Gs&&Gs.apply(this,arguments)||this}function Js(){return null!==$s&&$s.apply(this,arguments)||this}function tc(){var t=null!==Ks&&Ks.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}function ec(t,e,n,r){var i=Math.min(n[e],r[e]),n=Math.max(n[e],r[e]),r=t.range,e=r[0],r=r[1];if(r<n&&(n=r),(i=i<e?e:i)===r&&n===r)return null;var o,a=t.invert(i),s=t.invert(n);return t.isCategory?(e=t.values.indexOf(a),r=t.values.indexOf(s),o=t.values.slice(e,r+1),function(t){return o.includes(t)}):function(t){return a<=t&&t<=s}}(dc=Us=Us||{}).FILTER="brush-filter-processing",dc.RESET="brush-filter-reset",dc.BEFORE_FILTER="brush-filter:beforefilter",dc.AFTER_FILTER="brush-filter:afterfilter",dc.BEFORE_RESET="brush-filter:beforereset",dc.AFTER_RESET="brush-filter:afterreset";e(jc,hc=Zt),jc.prototype.hasDim=function(t){return this.dims.includes(t)},jc.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},jc.prototype.filter=function(){var t,e,n,r;if(_e(this.context))var i=this.context.event.target.getCanvasBBox(),o={x:i.x,y:i.y},i={x:i.maxX,y:i.maxY};else{if(!this.isStarted)return;o=this.startPoint,i=this.context.getCurrentPoint()}Math.abs(o.x-i.x)<5||Math.abs(o.x-i.y)<5||(e={view:t=(e=this.context).view,event:e.event,dims:this.dims},t.emit(Us.BEFORE_FILTER,mn.fromData(t,Us.BEFORE_FILTER,e)),i=(n=t.getCoordinate()).invert(i),n=n.invert(o),this.hasDim("x")&&(r=ec(o=t.getXScale(),"x",i,n),this.filterView(t,o.field,r)),this.hasDim("y")&&(r=ec(o=t.getYScales()[0],"y",i,n),this.filterView(t,o.field,r)),this.reRender(t,{source:Us.FILTER}),t.emit(Us.AFTER_FILTER,mn.fromData(t,Us.AFTER_FILTER,e)))},jc.prototype.end=function(){this.isStarted=!1},jc.prototype.reset=function(){var t,e=this.context.view;e.emit(Us.BEFORE_RESET,mn.fromData(e,Us.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")&&(t=e.getXScale(),this.filterView(e,t.field,null)),this.hasDim("y")&&(t=e.getYScales()[0],this.filterView(e,t.field,null)),this.reRender(e,{source:Us.RESET}),e.emit(Us.AFTER_RESET,mn.fromData(e,Us.AFTER_RESET,{}))},jc.prototype.filterView=function(t,e,n){t.filter(e,n)},jc.prototype.reRender=function(t,e){t.render(!0,e)};var nc,rc,ic,oc,ac,sc,cc,uc,lc,hc,dc=jc,fc=(e(Sc,lc=dc),Sc.prototype.filterView=function(t,e,n){t=Ae(t);Object(j.each)(t,function(t){t.filter(e,n)})},Sc.prototype.reRender=function(t){t=Ae(t);Object(j.each)(t,function(t){t.render(!0)})},Sc),pc=(e(Ac,uc=Zt),Ac.prototype.filter=function(){var e,t,n,r,i,o,a,l,s=fe(this.context),c=this.context.view,u=be(c);_e(this.context)?(e=me(this.context,10))&&Object(j.each)(u,function(t){e.includes(t)?t.show():t.hide()}):s&&(t=s.component,n=t.get("field"),ge(s)?n&&(r=t.getItemsByState("unchecked"),i=De(c,n),o=r.map(function(t){return t.name}),Object(j.each)(u,function(t){var e=xe(t,n),e=i.getText(e);0<=o.indexOf(e)?t.hide():t.show()})):ye(s)&&(c=t.getValue(),a=c[0],l=c[1],Object(j.each)(u,function(t){var e=xe(t,n);a<=e&&e<=l?t.show():t.hide()})))},Ac.prototype.clear=function(){var t=be(this.context.view);Object(j.each)(t,function(t){t.show()})},Ac.prototype.reset=function(){this.clear()},Ac),gc=(e(Cc,cc=Zt),Cc.prototype.filter=function(){_e(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},Cc.prototype.filterByRecord=function(){var n,r,i,t=this.context.view,e=me(this.context,10);e&&(n=t.getXScale().field,r=t.getYScales()[0].field,i=e.map(function(t){return t.getModel().data}),e=Ae(t),Object(j.each)(e,function(t){t=be(t);Object(j.each)(t,function(t){var e=t.getModel().data;je(i,e,n,r)?t.show():t.hide()})}))},Cc.prototype.filterByBBox=function(){var n=this,t=Ae(this.context.view);Object(j.each)(t,function(t){var e=ve(n.context,t,10),t=be(t);e&&Object(j.each)(t,function(t){e.includes(t)?t.show():t.hide()})})},Cc.prototype.reset=function(){var t=Ae(this.context.view);Object(j.each)(t,function(t){t=be(t);Object(j.each)(t,function(t){t.show()})})},Cc),yc=(e(Pc,sc=Zt),Pc.prototype.getButtonCfg=function(){return Object(j.deepMix)(this.buttonCfg,this.cfg)},Pc.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:x({text:t.text},t.textStyle)}).getBBox(),r=pn(t.padding),i=e.addShape({type:"rect",name:"button-rect",attrs:x({x:n.x-r[3],y:n.y-r[0],width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},t.style)});i.toBack(),e.on("mouseenter",function(){i.attr(t.activeStyle)}),e.on("mouseleave",function(){i.attr(t.style)}),this.buttonGroup=e},Pc.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),t=b.a.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(t)},Pc.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},Pc.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},Pc.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),sc.prototype.destroy.call(this)},Pc),_c=(e(Mc,ac=Zt),Mc.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},Mc.prototype.drag=function(){var t,e,n;this.startPoint&&(t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event,this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):4<Pe(t,this.startPoint)&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0))},Mc.prototype.end=function(){var t,e;this.dragStart&&(t=this.context.view,e=this.context.event,t.emit("dragend",{target:e.target,x:e.x,y:e.y})),this.starting=!1,this.dragStart=!1},Mc),mc=(e(wc,oc=Zt),wc.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},wc.prototype.move=function(){var t,e,n;this.starting&&(5<Pe(t=this.startPoint,n=this.context.getCurrentPoint())&&!this.isMoving&&(this.isMoving=!0),this.isMoving&&(e=this.context.view,n=b.a.transform(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]),e.backgroundGroup.setMatrix(n),e.foregroundGroup.setMatrix(n),e.middleGroup.setMatrix(n)))},wc.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},wc.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},wc),vc=(e(Ec,ic=Zt),Ec.prototype.hasDim=function(t){return this.dims.includes(t)},Ec.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},Ec.prototype.resetDim=function(t){var e,n=this.context.view;this.hasDim(t)&&this.cacheScaleDefs[t]&&(e=this.getScale(t),n.scale(e.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null)},Ec.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},Ec),bc=(e(xc,rc=vc),xc.prototype.start=function(){var i=this,t=(this.startPoint=this.context.getCurrentPoint(),this.starting=!0,this.dims);Object(j.each)(t,function(t){var e=i.getScale(t),n=e.min,r=e.max,e=e.values;i.startCache[t]={min:n,max:r,values:e}})},xc.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},xc.prototype.translate=function(){var t,e,n,r,i,o=this;this.starting&&(t=this.startPoint,i=this.context.view.getCoordinate(),r=this.context.getCurrentPoint(),t=i.invert(t),i=i.invert(r),e=i.x-t.x,n=i.y-t.y,r=this.context.view,i=this.dims,Object(j.each)(i,function(t){o.translateDim(t,{x:-1*e,y:-1*n})}),r.render(!0))},xc.prototype.translateDim=function(t,e){var n;!this.hasDim(t)||(n=this.getScale(t)).isLinear&&this.translateLinear(t,n,e)},xc.prototype.translateLinear=function(t,e,n){var r=this.context.view,i=this.startCache[t],o=i.min,i=i.max,n=n[t]*(i-o);this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:o,max:i}),r.scale(e.field,{nice:!1,min:o+n,max:i+n})},xc.prototype.reset=function(){rc.prototype.reset.call(this),this.startPoint=null,this.starting=!1},xc),vc=(e(Oc,nc=vc),Oc.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},Oc.prototype.zoom=function(e){var n=this,t=this.dims;Object(j.each)(t,function(t){n.zoomDim(t,e)}),this.context.view.render(!0)},Oc.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},Oc.prototype.zoomDim=function(t,e){var n;!this.hasDim(t)||(n=this.getScale(t)).isLinear&&this.zoomLinear(t,n,e)},Oc.prototype.zoomLinear=function(t,e,n){var r=this.context.view,t=(this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max}),this.cacheScaleDefs[t]),t=t.max-t.min,i=e.min,o=e.max,n=n*t,a=i-n,s=o+n,t=(s-a)/t;a<s&&t<100&&.01<t&&r.scale(e.field,{nice:!1,min:i-n,max:o+n})},Oc);function Oc(){var t=null!==nc&&nc.apply(this,arguments)||this;return t.zoomRatio=.05,t}function xc(){var t=null!==rc&&rc.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}function Ec(){var t=null!==ic&&ic.apply(this,arguments)||this;return t.dims=["x","y"],t.cfgFields=["dims"],t.cacheScaleDefs={},t}function wc(){var t=null!==oc&&oc.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}function Mc(){var t=null!==ac&&ac.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}function Pc(){var t=null!==sc&&sc.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}function Cc(){var t=null!==cc&&cc.apply(this,arguments)||this;return t.byRecord=!1,t}function Ac(){return null!==uc&&uc.apply(this,arguments)||this}function Sc(){return null!==lc&&lc.apply(this,arguments)||this}function jc(){var t=null!==hc&&hc.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}e(Ic,Dc=Zt),Ic.prototype.scroll=function(t){var e,n,r,i=this.context,o=i.view,i=i.event;o.getOptions().scrollbar&&(t=(null==t?void 0:t.wheelDelta)||1,e=o.getController("scrollbar"),n=o.getXScale(),o=o.getOptions().data,o=Object(j.size)(Object(j.valuesOfKey)(o,n.field)),n=Object(j.size)(n.values),r=e.getValue(),r=Math.floor((o-n)*r)+(0<i.gEvent.originalEvent.deltaY?t:-t),i=t/(o-n)/1e4,t=Object(j.clamp)(r/(o-n)+i,0,1),e.setValue(t))};var Dc,Tc=Ic;function Ic(){return null!==Dc&&Dc.apply(this,arguments)||this}function kc(t){return t.isInPlot()}function Lc(t){return t.gEvent.preventDefault(),0<t.gEvent.originalEvent.deltaY}zr=Ke(zr),rn[Object(j.lowerCase)("dark")]=nn(zr),_("canvas",Gr),_("svg",$r),Sn("Polygon",t),Sn("Interval",di),Sn("Schema",Ur),Sn("Path",Kr),Sn("Point",vi),Sn("Line",fi),Sn("Area",qr),Sn("Edge",ti),Sn("Heatmap",ei),Sn("Violin",W),qn("base",yr),qn("interval",Fr),qn("pie",U),qn("polar",Wr),Zn("overlap",function(t,e,n,r){var c=new Wi;Object(j.each)(e,function(t){for(var e=t.find(function(t){return"text"===t.get("type")}),n=e.attr(),r=n.x,i=n.y,o=!1,a=0;a<=8;a++){var s=function(t,e,n,r){var i=t.getCanvasBBox(),o=i.width,a=i.height,s={x:e,y:n,textAlign:"center"};switch(r){case 0:s.y-=a+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=a+1,--s.x,s.textAlign="right";break;case 2:s.y+=a+1,--s.x,s.textAlign="right";break;case 3:s.y+=a+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*a+2;break;case 6:s.y+=2*a+2;break;case 7:s.x+=o+1,s.textAlign="left";break;case 8:s.x-=o+1,s.textAlign="right"}return t.attr(s),t.getCanvasBBox()}(e,r,i,a);if(c.hasGap(s)){c.fillGap(s),o=!0;break}}o||t.remove(!0)}),c.destroy()}),Zn("distribute",function(t,v,i,o){var e,n,a,b,O,x,r;t.length&&v.length&&(e=t[0]?t[0].offset:0,n=v[0].get("coordinate"),a=n.getRadius(),b=n.getCenter(),0<e&&(O=2*(a+e)+28,x={start:n.start,end:n.end},r=[[],[]],t.forEach(function(t){t&&("right"===t.textAlign?r[0]:r[1]).push(t)}),r.forEach(function(t,l){var n,e,r,i=O/14,i=(t.length>i&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(i,t.length-i)),t.sort(function(t,e){return t.y-e.y}),v),h=t,o=b,d=l,f=!0,t=x.start,l=x.end,a=Math.min(t.y,l.y),s=Math.abs(t.y-l.y),p=0,c=Number.MIN_VALUE,u=h.map(function(t){return t.y>p&&(p=t.y),t.y<c&&(c=t.y),{size:14,targets:[t.y-a]}});for(c-=a,s<p-a&&(s=p-a);f;)for(u.forEach(function(t){var e=(Math.min.apply(c,t.targets)+Math.max.apply(c,t.targets))/2;t.pos=Math.min(Math.max(c,e-t.size/2),s-t.size)}),f=!1,n=u.length;n--;)0<n&&(e=u[n-1],r=u[n],e.pos+e.size>r.pos&&(e.size+=r.size,e.targets=e.targets.concat(r.targets),e.pos+e.size>s&&(e.pos=s-e.size),u.splice(n,1),f=!0));n=0,u.forEach(function(t){var e=a+7;t.targets.forEach(function(){h[n].y=t.pos+e,e+=14,n++})});for(var g={},y=0,_=i;y<_.length;y++){var m=_[y];g[m.get("id")]=m}h.forEach(function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-o.y),2),n=(e<n?t.x=o.x:(e=Math.sqrt(e-n),t.x=d?o.x+e:o.x-e),g[t.id]),e=(n.attr("x",t.x),n.attr("y",t.y),Object(j.find)(n.getChildren(),function(t){return"text"===t.get("type")}));e&&(e.attr("y",t.y),e.attr("x",t.x))})})),Object(j.each)(t,function(t){var e,n,r,i,o;t&&t.labelLine&&(r=t.offset,e=t.angle,n=Ot(b.x,b.y,a,e),r=Ot(b.x,b.y,a+r/2,e),o=t.x+Object(j.get)(t,"offsetX",0),i=t.y+Object(j.get)(t,"offsetY",0),o={x:o-4*Math.cos(e),y:i-4*Math.sin(e)},Object(j.isObject)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M ".concat(n.x),"".concat(n.y," Q").concat(r.x),"".concat(r.y," ").concat(o.x),o.y].join(","))}))}),Zn("fixed-overlap",function(t,e,n,r){var i=new Wi;Object(j.each)(e,function(t){!function(t,e,n){void 0===n&&(n=100);var r=t.attr(),l=r.x,h=r.y,r=t.getCanvasBBox(),d=Math.sqrt(r.width*r.width+r.height*r.height),f=1,i=0,o=0;if(e.hasGap(r))return e.fillGap(r),1;for(var a,s=!1,c=0,u={};Math.min(Math.abs(i),Math.abs(o))<d&&c<n;)if(o=~~(a=[(a=.1*(f+=-1))*Math.cos(a),a*Math.sin(a)])[1],((i=~~a[0])||o)&&!u["".concat(i,"-").concat(o)]&&(t.attr({x:l+i,y:h+o}),i+o<0&&t.attr("textAlign","right"),c++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),s=!0,u["".concat(i,"-").concat(o)]=!0;break}return s}(t.find(function(t){return"text"===t.get("type")}),i)&&t.remove(!0)}),i.destroy()}),Zn("hide-overlap",function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];if(e[i].get("visible"))for(var a=i+1;a<e.length;a++){var s=e[a];o&&s&&o!==s&&s.get("visible")&&(!function(t,e){if(Hi(t)&&Hi(e)){if(!t.rotation&&!e.rotation)return!(e.x>t.x+t.width+(n=void 0===n?0:n)||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n);for(var n,r,i=Vi(t),o=Vi(e),a=g(g([],$i(i),!0),$i(o),!0),s=0;s<a.length;s++){var c=a[s];if(r=Xi(i,c),c=Xi(o,c),!(r.max>c.min&&r.min<c.max))return}return 1}}(dr(o,t[i],Object(j.get)(t[i],"background.padding")),dr(s,t[a],Object(j.get)(t[a],"background.padding")))||e[a].set("visible",!1))}}}),Zn("limit-in-shape",function(t,e,r,n){Object(j.each)(e,function(t,e){var n=t.getCanvasBBox(),e=r[e].getBBox();(n.minX<e.minX||n.minY<e.minY||n.maxX>e.maxX||n.maxY>e.maxY)&&t.remove(!0)})}),Zn("limit-in-canvas",function(t,e,n,g){Object(j.each)(e,function(l){var t=g.minX,e=g.minY,n=g.maxX,r=g.maxY,i=l.getCanvasBBox(),h=i.minX,d=i.minY,o=i.maxX,a=i.maxY,s=i.x,f=i.y,p=i.width,i=i.height,c=s,u=f;(h<t||o<t)&&(c=t),(d<e||a<e)&&(u=e),n<h?c=n-p:n<o&&(c-=o-n),r<d?u=r-i:r<a&&(u-=a-r),c===s&&u===f||ur(l,c-s,u-f)})}),Zn("limit-in-plot",function(o,t,a,s,e){var d,_,f,p,g,y,n,r,i,c,u;t.length<=0||(d=(null==e?void 0:e.direction)||["top","right","bottom","left"],_=(null==e?void 0:e.action)||"translate",e=(null==e?void 0:e.margin)||0,(n=t[0].get("coordinate"))&&(void 0===(e=e)&&(e=0),r=(n=n).start,i=n.end,c=n.getWidth(),n=n.getHeight(),u=Math.min(r.x,i.x),r=Math.min(r.y,i.y),i=St.fromRange(u-e,r-e,u+c+e,r+n+e),f=i.minX,p=i.minY,g=i.maxX,y=i.maxY,Object(j.each)(t,function(t){var r,e=t.getCanvasBBox(),n=e.minX,l=e.minY,i=e.maxX,o=e.maxY,a=e.x,s=e.y,h=e.width,e=e.height,c=a,u=s;0<=d.indexOf("left")&&(n<f||i<f)&&(c=f),0<=d.indexOf("top")&&(l<p||o<p)&&(u=p),0<=d.indexOf("right")&&(g<n?c=g-h:g<i&&(c-=i-g)),0<=d.indexOf("bottom")&&(y<l?u=y-e:y<o&&(u-=o-y)),c===a&&u===s||(r=c-a,"translate"===_?ur(t,r,u-s):"ellipsis"===_?t.findAll(function(t){return"text"===t.get("type")}).forEach(function(t){var e=Object(j.pick)(t.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),n=t.getCanvasBBox(),n=function(t,e,n){var r,i,o=ro("...",n),a=Object(j.isString)(t)?t:Object(j.toString)(t),s=e,c=[];if(ro(t,n)<=e)return t;for(;r=a.substr(0,16),!((i=ro(r,n))+o>s&&s<i);)if(c.push(r),s-=i,!(a=a.substr(16)))return c.join("");for(;r=a.substr(0,1),!((i=ro(r,n))+o>s);)if(c.push(r),s-=i,!(a=a.substr(1)))return c.join("");return"".concat(c.join(""),"...")}(t.attr("text"),n.width-Math.abs(r),e);t.attr("text",n)}):t.hide())})))}),Zn("pie-outer",function(t,e,o,a){var t=Object(j.filter)(t,function(t){return!Object(j.isNil)(t)}),f=e[0]&&e[0].get("coordinate");if(f){for(var p=f.getCenter(),g=f.getRadius(),y={},n=0,s=e;n<s.length;n++){var c=s[n];y[c.get("id")]=c}var u,r,l,i=Object(j.get)(t[0],"labelHeight",14),_=Object(j.get)(t[0],"offset",0);_<=0||(e=Object(j.groupBy)(t,function(t){return t.x<p.x?"left":"right"}),t=f.start,u=f.end,r=Math.min(2*(g+_+i),f.getHeight()),l={minX:t.x,maxX:u.x,minY:p.y-(t=r/2),maxY:p.y+t},Object(j.each)(e,function(t,e){var n=Math.floor(r/i);t.length>n&&(t.sort(function(t,e){return e.percent-t.percent}),Object(j.each)(t,function(t,e){n<e+1&&(y[t.id].set("visible",!1),t.invisible=!0)})),Ui(t,i,l)}),Object(j.each)(e,function(t,d){Object(j.each)(t,function(t){var e,n,r,i,l,h,o,a,s,c="right"===d,u=y[t.id].getChildByIndex(0);u&&(e=g+_,n=t.y-p.y,s=Math.pow(e,2),n=Math.pow(n,2),s=Math.sqrt(0<s-n?s-n:0),n=Math.abs(Math.cos(t.angle)*e),t.x=c?p.x+Math.max(s,n):p.x-Math.max(s,n)),u&&(u.attr("y",t.y),u.attr("x",t.x)),e=t,s=(c=f).getCenter(),c=c.getRadius(),e&&e.labelLine&&(n=e.angle,u=e.offset,t=Ot(s.x,s.y,c,n),r=e.x+Object(j.get)(e,"offsetX",0)*(0<Math.cos(n)?1:-1),a=e.y+Object(j.get)(e,"offsetY",0)*(0<Math.sin(n)?1:-1),r={x:r-4*Math.cos(n),y:a-4*Math.sin(n)},a=e.labelLine.smooth,i=[],o=r.x-s.x,h=r.y-s.y,h=Math.atan(h/o),o<0&&(h+=Math.PI),!1===a?(Object(j.isObject)(e.labelLine)||(e.labelLine={}),(n<(o=0)&&n>-Math.PI/2||n>1.5*Math.PI)&&r.y>t.y&&(o=1),0<=n&&n<Math.PI/2&&r.y>t.y&&(o=1),n>=Math.PI/2&&n<Math.PI&&t.y>r.y&&(o=1),(n<-Math.PI/2||n>=Math.PI&&n<1.5*Math.PI)&&t.y>r.y&&(o=1),a=4<u/2?4:Math.max(u/2-1,0),l=Ot(s.x,s.y,c+a,n),a=Ot(s.x,s.y,c+u/2,h),i.push("M ".concat(t.x," ").concat(t.y)),i.push("L ".concat(l.x," ").concat(l.y)),i.push("A ".concat(s.x," ").concat(s.y," 0 ").concat(0," ").concat(o," ").concat(a.x," ").concat(a.y)),i.push("L ".concat(r.x," ").concat(r.y))):(l=Ot(s.x,s.y,c+(4<u/2?4:Math.max(u/2-1,0)),n),h=t.x<s.x?1:-1,i.push("M ".concat(r.x," ").concat(r.y)),o=(t.y-s.y)/(t.x-s.x),a=(r.y-s.y)/(r.x-s.x),Math.abs(o-a)>Math.pow(Math.E,-16)&&i.push.apply(i,["C",r.x+4*h,r.y,2*l.x-t.x,2*l.y-t.y,t.x,t.y]),i.push("L ".concat(t.x," ").concat(t.y))),e.labelLine.path=i.join(" "))})}))}}),Zn("adjust-color",function(t,i,e){var o,n,a,s;0!==e.length&&(n=(o=e[0].get("element").geometry.theme).labels||{},a=n.fillColorLight,s=n.fillColorDark,e.forEach(function(t,e){var e=i[e].find(function(t){return"text"===t.get("type")}),n=St.fromObject(t.getBBox()),r=St.fromObject(e.getCanvasBBox()),n=!n.contains(r),r=function(t){t=F.a.toRGB(t).toUpperCase();if(Zi[t])return Zi[t];t=F.a.rgb2arr(t);return(299*t[0]+587*t[1]+114*t[2])/1e3<128}(t.attr("fill"));n?e.attr(o.overflowLabels.style):r?a&&e.attr("fill",a):s&&e.attr("fill",s)}))}),Zn("interval-adjust-position",function(t,r,e){var n,i;0!==e.length&&(n=null===(n=e[0])||void 0===n?void 0:n.get("element"),(i=null==n?void 0:n.geometry)&&"interval"===i.type&&Qi(i,r,e)&&e.forEach(function(t,e){var n,e=r[e];e=e,t=t,n=i.coordinate,t=St.fromObject(t.getBBox()),e=hr(e),n.isTransposed?e.attr({x:t.minX+t.width/2,textAlign:"center"}):e.attr({y:t.minY+t.height/2,textBaseline:"middle"})}))}),Zn("interval-hide-overlap",function(l,t,e){var n,r;if(0!==e.length){e=null===(e=e[0])||void 0===e?void 0:e.get("element"),e=null==e?void 0:e.geometry;if(e&&"interval"===e.type){t=t,n=[],r=Math.max(Math.floor(t.length/500),1),Object(j.each)(t,function(t,e){e%r==0?n.push(t):t.set("visible",!1)});var i,t=n,o=e.getXYFields()[0],h=[],a=[],s=Object(j.groupBy)(t,function(t){return t.get("data")[o]}),e=Object(j.uniq)(Object(j.map)(t,function(t){return t.get("data")[o]})),c=(t.forEach(function(t){t.set("visible",!0)}),function(t){t&&(t.length&&a.push(t.pop()),a.push.apply(a,t))});for(0<Object(j.size)(e)&&(i=e.shift(),c(s[i])),0<Object(j.size)(e)&&(i=e.pop(),c(s[i])),Object(j.each)(e.reverse(),function(t){c(s[t])});0<a.length;){var u=a.shift();u.get("visible")&&(function(t,e){var r=t.getBBox();return Object(j.some)(e,function(t){var t=t.getBBox(),e=r,n=2;return 0<Math.max(0,Math.min(e.x+e.width+n,t.x+t.width+n)-Math.max(e.x-n,t.x-n))*Math.max(0,Math.min(e.y+e.height+n,t.y+t.height+n)-Math.max(e.y-n,t.y-n))})}(u,h)?u.set("visible",!1):h.push(u))}}}}),Zn("point-adjust-position",function(t,e,n,i,r){var s,c,u,l,h,d;0!==n.length&&(n=null===(n=n[0])||void 0===n?void 0:n.get("element"),(s=null==n?void 0:n.geometry)&&"point"===s.type&&(n=s.getXYFields(),c=n[0],u=n[1],l=Object(j.groupBy)(e,function(t){return t.get("data")[c]}),h=[],d=r&&r.offset||(null===(n=t[0])||void 0===n?void 0:n.offset)||12,Object(j.map)(Object(j.keys)(l).reverse(),function(t){e=s,t=l[t],n=e.getXYFields()[1],e=[],0<(t=t.sort(function(t,e){return t.get("data")[n]-t.get("data")[n]})).length&&e.push(t.shift()),0<t.length&&e.push(t.pop()),e.push.apply(e,t);for(var e,n,r=e;r.length;){var i,o=r.shift(),a=hr(o);Ji(h,o,function(t,e){return t.get("data")[c]===e.get("data")[c]&&t.get("data")[u]===e.get("data")[u]})?a.set("visible",!1):(i=!1,to(h,o)&&(a.attr("y",a.attr("y")+2*d),i=to(h,o)),i?a.set("visible",!1):h.push(o))}})))}),Zn("pie-spider",function(t,e,c,h){var u=e[0]&&e[0].get("coordinate");if(u){for(var i=u.getCenter(),o=u.getRadius(),l={},n=0,d=e;n<d.length;n++){var f=d[n];l[f.get("id")]=f}var r=Object(j.get)(t[0],"labelHeight",14),p=Math.max(Object(j.get)(t[0],"offset",0),4),g=(Object(j.each)(t,function(t){var e,n,r;Object(j.get)(l,[t.id])&&(e=t.x>i.x||t.x===i.x&&t.y>i.y,n=Object(j.isNil)(t.offsetX)?4:t.offsetX,r=Ot(i.x,i.y,o+4,t.angle),t.x=i.x+(e?1:-1)*(o+(p+n)),t.y=r.y)}),u.start),y=u.end,e=Object(j.groupBy)(t,function(t){return t.x<i.x?"left":"right"}),a=2*(o+p)+r,s=(Object(j.each)(e,function(t){t=t.length*r;a<t&&(a=Math.min(t,Math.abs(g.y-y.y)))}),{minX:g.x,maxX:y.x,minY:i.y-a/2,maxY:i.y+a/2}),_=(Object(j.each)(e,function(t,e){var n=a/r;t.length>n&&(t.sort(function(t,e){return e.percent-t.percent}),Object(j.each)(t,function(t,e){n<e&&(l[t.id].set("visible",!1),t.invisible=!0)})),Ui(t,r,s)}),s.minY),m=s.maxY;Object(j.each)(e,function(t,e){var c="right"===e;Object(j.each)(t,function(t){var e,n,r,i,o,a,s=Object(j.get)(l,t&&[t.id]);s&&(t.y<_||t.y>m?s.set("visible",!1):(e=(s=s.getChildByIndex(0)).getCanvasBBox(),n=c?e.x:e.maxX,e=e.y+e.height/2,ur(s,t.x-n,t.y-e),t.labelLine&&(s=t,n=c,t=(e=u).getCenter(),e=e.getRadius(),r={x:s.x-(n?4:-4),y:s.y},i=Ot(t.x,t.y,e+4,s.angle),o={x:r.x,y:r.y},a={x:i.x,y:i.y},t=Ot(t.x,t.y,e,s.angle),r.y!==i.y&&(e=n?4:-4,o.y=r.y,s.angle<0&&s.angle>=-Math.PI/2&&(o.x=Math.max(i.x,r.x-e),r.y<i.y?a.y=o.y:(a.y=i.y,a.x=Math.max(a.x,o.x-e))),0<s.angle&&s.angle<Math.PI/2&&(o.x=Math.max(i.x,r.x-e),r.y>i.y?a.y=o.y:(a.y=i.y,a.x=Math.max(a.x,o.x-e))),s.angle>Math.PI/2&&(o.x=Math.min(i.x,r.x-e),r.y>i.y?a.y=o.y:(a.y=i.y,a.x=Math.min(a.x,o.x-e))),s.angle<-Math.PI/2&&(o.x=Math.min(i.x,r.x-e),r.y<i.y?a.y=o.y:(a.y=i.y,a.x=Math.min(a.x,o.x-e)))),n=["M ".concat(r.x,",").concat(r.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(a.x,",").concat(a.y),"L ".concat(i.x,",").concat(i.y),"L ".concat(t.x,",").concat(t.y)].join(" "),s.labelLine=Object(j.deepMix)({},s.labelLine,{path:n}))))})})}}),Zn("path-adjust-position",function(t,e,n,i,r){var s,c,u,l,h,d;0!==n.length&&(n=null===(n=n[0])||void 0===n?void 0:n.get("element"),!(s=null==n?void 0:n.geometry)||["path","line","area"].indexOf(s.type)<0||(n=s.getXYFields(),c=n[0],u=n[1],l=Object(j.groupBy)(e,function(t){return t.get("data")[c]}),h=[],d=r&&r.offset||(null===(n=t[0])||void 0===n?void 0:n.offset)||12,Object(j.map)(Object(j.keys)(l).reverse(),function(t){e=s,t=l[t],n=e.getXYFields()[1],e=[],0<(t=t.sort(function(t,e){return t.get("data")[n]-t.get("data")[n]})).length&&e.push(t.shift()),0<t.length&&e.push(t.pop()),e.push.apply(e,t);for(var e,n,r=e;r.length;){var i,o=r.shift(),a=hr(o);eo(h,o,function(t,e){return t.get("data")[c]===e.get("data")[c]&&t.get("data")[u]===e.get("data")[u]})?a.set("visible",!1):(i=!1,no(h,o)&&(a.attr("y",a.attr("y")+2*d),i=no(h,o)),i?a.set("visible",!1):h.push(o))}})))}),Fn("fade-in",function(t,e,n){var r={fillOpacity:Object(j.isNil)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Object(j.isNil)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Object(j.isNil)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(r,e)}),Fn("fade-out",function(t,e,n){var r=e.easing,i=e.duration,e=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},i,r,function(){t.remove(!0)},e)}),Fn("grow-in-x",function(t,e,n){io(t,e,n.coordinate,n.minYPoint,"x")}),Fn("grow-in-xy",function(t,e,n){io(t,e,n.coordinate,n.minYPoint,"xy")}),Fn("grow-in-y",function(t,e,n){io(t,e,n.coordinate,n.minYPoint,"y")}),Fn("scale-in-x",function(t,e,n){var r=t.getBBox(),i=t.get("origin").mappingData.points,i=0<i[0].y-i[1].y?r.maxX:r.minX,r=(r.minY+r.maxY)/2,o=(t.applyToMatrix([i,r,1]),b.a.transform(t.getMatrix(),[["t",-i,-r],["s",.01,1],["t",i,r]]));t.setMatrix(o),t.animate({matrix:b.a.transform(t.getMatrix(),[["t",-i,-r],["s",100,1],["t",i,r]])},e)}),Fn("scale-in-y",function(t,e,n){var r=t.getBBox(),i=t.get("origin").mappingData,o=(r.minX+r.maxX)/2,i=i.points,i=i[0].y-i[1].y<=0?r.maxY:r.minY,r=(t.applyToMatrix([o,i,1]),b.a.transform(t.getMatrix(),[["t",-o,-i],["s",1,.01],["t",o,i]]));t.setMatrix(r),t.animate({matrix:b.a.transform(t.getMatrix(),[["t",-o,-i],["s",1,100],["t",o,i]])},e)}),Fn("wave-in",function(t,e,n){var n=kt(n.coordinate,20),r=n.type,i=n.startState,n=n.endState,o=t.setClip({type:r,attrs:i});o.animate(n,x(x({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),o.remove(!0)}}))}),Fn("zoom-in",function(t,e,n){co(t,e,"zoomIn")}),Fn("zoom-out",function(t,e,n){co(t,e,"zoomOut")}),Fn("position-update",function(t,e,n){var n=n.toAttrs,r=n.x,i=n.y;delete n.x,delete n.y,t.attr(n),t.animate({x:r,y:i},e)}),Fn("sector-path-update",function(t,l,e){var n,h,r,d,i,o,a,s,f,c,p=e.toAttrs,e=e.coordinate,u=p.path||[],g=u.map(function(t){return t[0]});u.length<1||(n=(i=so(u)).startAngle,h=i.endAngle,r=i.radius,d=i.innerRadius,i=so(t.attr("path")),o=i.startAngle,a=i.endAngle,s=e.getCenter(),c=h-a,0!=(f=n-o)||0!=c?t.animate(function(t){var e=o+t*f,t=a+t*c;return x(x({},p),{path:Object(j.isEqual)(g,["M","A","A","Z"])?Et(s.x,s.y,r,e,t):xt(s.x,s.y,r,e,t,d)})},x(x({},l),{callback:function(){t.attr("path",u)}})):t.attr("path",u))}),Fn("path-in",function(t,e,n){var r=t.getTotalLength();t.attr("lineDash",[r]),t.animate(function(t){return{lineDashOffset:(1-t)*r}},e)}),Yt("rect",mo),Yt("mirror",pi),Yt("list",s),Yt("matrix",N),Yt("circle",z),Yt("tree",G),yn("axis",No),yn("legend",Vo),yn("tooltip",Ln),yn("annotation",So),yn("slider",Xo),yn("scrollbar",B),n("tooltip",ia),n("sibling-tooltip",oa),n("ellipsis-text",aa),n("element-active",xa),n("element-single-active",Pa),n("element-range-active",Ma),n("element-highlight",za),n("element-highlight-by-x",$a),n("element-highlight-by-color",Ga),n("element-single-highlight",ns),n("element-range-highlight",es),n("element-sibling-highlight",es,{effectSiblings:!0,effectByRecord:!0}),n("element-selected",Oa),n("element-single-selected",sa),n("element-range-selected",wa),n("element-link-by-color",Ea),n("active-region",ra),n("list-active",is),n("list-selected",xs),n("list-highlight",Os),n("list-unchecked",Es),n("list-checked",ws),n("list-focus",Ms),n("list-radio",rs),n("legend-item-highlight",Os,{componentNames:["legend"]}),n("axis-label-highlight",Os,{componentNames:["axis"]}),n("rect-mask",Ss),n("x-rect-mask",Vs,{dim:"x"}),n("y-rect-mask",Vs,{dim:"y"}),n("circle-mask",As),n("path-mask",Cs),n("smooth-path-mask",Xs),n("cursor",Ys),n("data-filter",Hs),n("brush",dc),n("brush-x",dc,{dims:["x"]}),n("brush-y",dc,{dims:["y"]}),n("sibling-filter",fc),n("sibling-x-filter",fc),n("sibling-y-filter",fc),n("element-filter",pc),n("element-sibling-filter",gc),n("element-sibling-filter-record",gc,{byRecord:!0}),n("view-drag",_c),n("view-move",mc),n("scale-translate",bc),n("scale-zoom",vc),n("reset-button",yc,{name:"reset-button",text:"reset"}),n("mousewheel-scroll",Tc),$e("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),$e("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),$e("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),$e("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),$e("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),$e("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),$e("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),$e("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),$e("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),$e("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),$e("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),$e("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),$e("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:kc,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:kc,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:kc,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),$e("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),$e("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:kc,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:kc,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:kc,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),$e("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:kc,action:"path-mask:start"},{trigger:"mousedown",isEnable:kc,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),$e("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),$e("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(t){return!t.isInShape("legend-item-radio")},action:["list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),$e("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),$e("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),$e("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),$e("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),$e("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return Lc(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!Lc(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),$e("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),$e("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]})},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(l,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var n=e(65),r=(t.METADATA_KEY=n,e(491)),i=(Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return r.Container}}),e(105)),o=(Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return i.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return i.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return i.TargetTypeEnum}}),e(507)),a=(Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return o.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return o.ContainerModule}}),e(508)),s=(Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return a.injectable}}),e(509)),h=(Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return s.tagged}}),e(510)),c=(Object.defineProperty(t,"named",{enumerable:!0,get:function(){return h.named}}),e(318)),d=(Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return c.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return c.LazyServiceIdentifer}}),e(511)),f=(Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return d.optional}}),e(512)),p=(Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return f.unmanaged}}),e(513)),g=(Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return p.multiInject}}),e(514)),y=(Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return g.targetName}}),e(515)),_=(Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return y.postConstruct}}),e(316)),m=(Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return _.MetadataReader}}),e(122)),v=(Object.defineProperty(t,"id",{enumerable:!0,get:function(){return m.id}}),e(108)),u=(Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return v.decorate}}),e(321)),b=(Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return u.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return u.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return u.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return u.typeConstraint}}),e(147)),O=(Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return b.getServiceIdentifierAsString}}),e(516));Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return O.multiBindToService}})},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(l,t,e){"use strict";function n(t,e,n){if(t)return"function"==typeof t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):"function"==typeof t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0}var r,i,o;function a(t){r||(r=document.createElement("table"),o=document.createElement("tr"),i=/^\s*<(\w+|!)[^>]*>/,o={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:o,th:o,"*":document.createElement("div")});var e=i.test(t)&&RegExp.$1,e=(e&&e in o||(e="*"),o[e]),t=(t="string"==typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,e.innerHTML=""+t,e.childNodes[0]);return t&&e.contains(t)&&e.removeChild(t),t}function s(t,e,n){var r;try{r=(window.getComputedStyle?window.getComputedStyle(t,null):t.style)[e]}catch(t){}finally{r=void 0===r?n:r}return r}function c(t,e){"auto"===(e=s(n=t,"height",e))&&(e=n.offsetHeight);var n=parseFloat(e),e=parseFloat(s(t,"borderTopWidth"))||0,r=parseFloat(s(t,"paddingTop"))||0,i=parseFloat(s(t,"paddingBottom"))||0;return n+e+(parseFloat(s(t,"borderBottomWidth"))||0)+r+i+(parseFloat(s(t,"marginTop"))||0)+(parseFloat(s(t,"marginBottom"))||0)}function u(t,e){"auto"===(e=s(n=t,"width",e))&&(e=n.offsetWidth);var n=parseFloat(e),e=parseFloat(s(t,"borderLeftWidth"))||0,r=parseFloat(s(t,"paddingLeft"))||0,i=parseFloat(s(t,"paddingRight"))||0,o=parseFloat(s(t,"borderRightWidth"))||0,a=parseFloat(s(t,"marginRight"))||0;return n+e+o+r+i+(parseFloat(s(t,"marginLeft"))||0)+a}function h(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}e.d(t,"a",function(){return n}),e.d(t,"b",function(){return a}),e.d(t,"c",function(){return c}),e.d(t,"d",function(){return u}),e.d(t,"e",function(){return h})},function(l,t,e){"use strict";e.d(t,"a",function(){return u}),e.d(t,"b",function(){return h});var r,a=e(3),i=e(13),o=e(0),t=e(112),s=e(395),c=e(2),u=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],h=(r=t.a,Object(a.b)(n,r),n.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},n.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height,t=t.defaultInteractions;this.chart=new i.c(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),Object(c.t)(this.options,u)),{defaultInteractions:t})),this.container.setAttribute("data-chart-source-type","G2Plot")},n.prototype.getChartSize=function(t,e){var n=Object(c.k)(this.container);return{width:t||n.width||400,height:e||n.height||400}},n.prototype.bindEvents=function(){var e=this;this.chart&&this.chart.on("*",function(t){null!=t&&t.type&&e.emit(t.type,t)})},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},n.prototype.update=function(t){this.updateOption(t),this.render()},n.prototype.updateOption=function(t){this.options=Object(c.c)({},this.options,t)},n.prototype.setState=function(e,n,r){void 0===r&&(r=!0);var t=Object(c.i)(this.chart);Object(o.each)(t,function(t){n(t.getData())&&t.setState(e,r)})},n.prototype.getStates=function(){var t=Object(c.i)(this.chart),r=[];return Object(o.each)(t,function(e){var n=e.getData(),t=e.getStates();Object(o.each)(t,function(t){r.push({data:n,state:t,geometry:e.geometry,element:e})})}),r},n.prototype.changeData=function(t){this.update({data:t})},n.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},n.prototype.addAnnotations=function(t,e){e=e||this.chart;var n=Object(a.d)(t),r=e.getController("annotation"),i=r.getComponents().map(function(t){return t.extra});r.clear(!0);for(var o=0;o<i.length;o++)!function(t){var e=i[t],t=n.findIndex(function(t){return t.id&&t.id===e.id});-1!==t&&(e=Object(c.c)({},e,n[t]),n.splice(t,1)),r.annotation(e)}(o);n.forEach(function(t){return r.annotation(t)}),e.render(!0)},n.prototype.removeAnnotations=function(n){var r=this.chart.getController("annotation"),i=r.getComponents().map(function(t){return t.extra});r.clear(!0);for(var t=0;t<i.length;t++)!function(t){var e=i[t];n.find(function(t){return t.id&&t.id===e.id})||r.annotation(e)}(t);this.chart.render(!0)},n.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute("data-chart-source-type")},n.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,e=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=e,t({chart:this.chart,options:this.options})},n.prototype.triggerResize=function(){this.chart.forceFit()},n.prototype.bindSizeSensor=function(){var t,n=this;this.unbind||(void 0!==(t=this.options.autoFit)&&!t||(this.unbind=Object(s.bind)(this.container,function(){var t=Object(c.k)(n.container),e=t.width,t=t.height;e===n.chart.width&&t===n.chart.height||n.triggerResize()})))},n.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},n);function n(t,e){var n=r.call(this)||this;return n.container="string"==typeof t?document.getElementById(t):t,n.options=Object(c.c)({},n.getDefaultOptions(),e),n.createG2(),n.bindEvents(),n}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),(e.ExtensionName||(e.ExtensionName={})).TextureCompressionBC="texture-compression-bc",(r=e.AddressMode||(e.AddressMode={})).ClampToEdge="clamp-to-edge",r.Repeat="repeat",r.MirrorRepeat="mirror-repeat",(r=e.BindingType||(e.BindingType={})).UniformBuffer="uniform-buffer",r.StorageBuffer="storage-buffer",r.ReadonlyStorageBuffer="readonly-storage-buffer",r.Sampler="sampler",r.ComparisonSampler="comparison-sampler",r.SampledTexture="sampled-texture",r.ReadonlyStorageTexture="readonly-storage-texture",r.WriteonlyStorageTexture="writeonly-storage-texture",(r=e.BlendFactor||(e.BlendFactor={})).Zero="zero",r.One="one",r.SrcColor="src-color",r.OneMinusSrcColor="one-minus-src-color",r.SrcAlpha="src-alpha",r.OneMinusSrcAlpha="one-minus-src-alpha",r.DstColor="dst-color",r.OneMinusDstColor="one-minus-dst-color",r.DstAlpha="dst-alpha",r.OneMinusDstAlpha="one-minus-dst-alpha",r.SrcAlphaSaturated="src-alpha-saturated",r.BlendColor="blend-color",r.OneMinusBlendColor="one-minus-blend-color",(r=e.BlendOperation||(e.BlendOperation={})).Add="add",r.Subtract="subtract",r.ReverseSubtract="reverse-subtract",r.Min="min",r.Max="max",(r=e.CompareFunction||(e.CompareFunction={})).Never="never",r.Less="less",r.Equal="equal",r.LessEqual="less-equal",r.Greater="greater",r.NotEqual="not-equal",r.GreaterEqual="greater-equal",r.Always="always",(r=e.CullMode||(e.CullMode={})).None="none",r.Front="front",r.Back="back",(r=e.FilterMode||(e.FilterMode={})).Nearest="nearest",r.Linear="linear",(r=e.FrontFace||(e.FrontFace={})).CCW="ccw",r.CW="cw",(r=e.IndexFormat||(e.IndexFormat={})).Uint16="uint16",r.Uint32="uint32",(r=e.InputStepMode||(e.InputStepMode={})).Vertex="vertex",r.Instance="instance",(e.LoadOp||(e.LoadOp={})).Load="load",(r=e.PrimitiveTopology||(e.PrimitiveTopology={})).PointList="point-list",r.LineList="line-list",r.LineStrip="line-strip",r.TriangleList="triangle-list",r.TriangleStrip="triangle-strip",(r=e.StencilOperation||(e.StencilOperation={})).Keep="keep",r.Zero="zero",r.Replace="replace",r.Invert="invert",r.IncrementClamp="increment-clamp",r.DecrementClamp="decrement-clamp",r.IncrementWrap="increment-wrap",r.DecrementWrap="decrement-wrap",(r=e.StoreOp||(e.StoreOp={})).Store="store",r.Clear="clear",(r=e.TextureDimension||(e.TextureDimension={})).E1d="1d",r.E2d="2d",r.E3d="3d",(r=e.TextureFormat||(e.TextureFormat={})).R8Unorm="r8unorm",r.R8Snorm="r8snorm",r.R8Uint="r8uint",r.R8Sint="r8sint",r.R16Uint="r16uint",r.R16Sint="r16sint",r.R16Float="r16float",r.RG8Unorm="rg8unorm",r.RG8Snorm="rg8snorm",r.RG8Uint="rg8uint",r.RG8Sint="rg8sint",r.R32Uint="r32uint",r.R32Sint="r32sint",r.R32Float="r32float",r.RG16Uint="rg16uint",r.RG16Sint="rg16sint",r.RG16Float="rg16float",r.RGBA8Unorm="rgba8unorm",r.RGBA8UnormSRGB="rgba8unorm-srgb",r.RGBA8Snorm="rgba8snorm",r.RGBA8Uint="rgba8uint",r.RGBA8Sint="rgba8sint",r.BGRA8Unorm="bgra8unorm",r.BGRA8UnormSRGB="bgra8unorm-srgb",r.RGB10A2Unorm="rgb10a2unorm",r.RG11B10Float="rg11b10float",r.RG32Uint="rg32uint",r.RG32Sint="rg32sint",r.RG32Float="rg32float",r.RGBA16Uint="rgba16uint",r.RGBA16Sint="rgba16sint",r.RGBA16Float="rgba16float",r.RGBA32Uint="rgba32uint",r.RGBA32Sint="rgba32sint",r.RGBA32Float="rgba32float",r.Depth32Float="depth32float",r.Depth24Plus="depth24plus",r.Depth24PlusStencil8="depth24plus-stencil8",(r=e.TextureComponentType||(e.TextureComponentType={})).Float="float",r.Sint="sint",r.Uint="uint",(r=e.TextureViewDimension||(e.TextureViewDimension={})).E1d="1d",r.E2d="2d",r.E2dArray="2d-array",r.Cube="cube",r.CubeArray="cube-array",r.E3d="3d",(r=e.VertexFormat||(e.VertexFormat={})).Uchar2="uchar2",r.Uchar4="uchar4",r.Char2="char2",r.Char4="char4",r.Uchar2Norm="uchar2norm",r.Uchar4Norm="uchar4norm",r.Char2Norm="char2norm",r.Char4Norm="char4norm",r.Ushort2="ushort2",r.Ushort4="ushort4",r.Short2="short2",r.Short4="short4",r.Ushort2Norm="ushort2norm",r.Ushort4Norm="ushort4norm",r.Short2Norm="short2norm",r.Short4Norm="short4norm",r.Half2="half2",r.Half4="half4",r.Float="float",r.Float2="float2",r.Float3="float3",r.Float4="float4",r.Uint="uint",r.Uint2="uint2",r.Uint3="uint3",r.Uint4="uint4",r.Int="int",r.Int2="int2",r.Int3="int3",r.Int4="int4",(r=e.TextureAspect||(e.TextureAspect={})).All="all",r.StencilOnly="stencil-only",r.DepthOnly="depth-only",(r=e.CompilationMessageType||(e.CompilationMessageType={})).Error="error",r.Warning="warning",r.Info="info",(e.QueryType||(e.QueryType={})).Occlusion="occlusion",(r=e.BufferUsage||(e.BufferUsage={}))[r.MapRead=1]="MapRead",r[r.MapWrite=2]="MapWrite",r[r.CopySrc=4]="CopySrc",r[r.CopyDst=8]="CopyDst",r[r.Index=16]="Index",r[r.Vertex=32]="Vertex",r[r.Uniform=64]="Uniform",r[r.Storage=128]="Storage",r[r.Indirect=256]="Indirect",r[r.QueryResolve=512]="QueryResolve",(r=e.ColorWrite||(e.ColorWrite={}))[r.Red=1]="Red",r[r.Green=2]="Green",r[r.Blue=4]="Blue",r[r.Alpha=8]="Alpha",r[r.All=15]="All",(r=e.ShaderStage||(e.ShaderStage={}))[r.Vertex=1]="Vertex",r[r.Fragment=2]="Fragment",r[r.Compute=4]="Compute",(r=e.TextureUsage||(e.TextureUsage={}))[r.CopySrc=1]="CopySrc",r[r.CopyDst=2]="CopyDst",r[r.Sampled=4]="Sampled",r[r.Storage=8]="Storage",r[r.OutputAttachment=16]="OutputAttachment",(r=e.MapMode||(e.MapMode={}))[r.Read=1]="Read",r[r.Write=2]="Write"},function(t,e,n){t.exports=n(487)},function(t,e){t.exports=function(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(n,r,t,e,i){var o={};return Object.keys(e).forEach(function(t){o[t]=e[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce(function(t,e){return e(n,r,t)||t},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,r,o),o=null),o},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o});var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(o,t,e){"use strict";e.d(t,"a",function(){return n}),e.d(t,"d",function(){return r}),e.d(t,"e",function(){return i.a}),e.d(t,"c",function(){return a}),e.d(t,"f",function(){return s.a}),e.d(t,"b",function(){return c}),e.d(t,"g",function(){return u}),e.d(t,"h",function(){return l});var h=e(3),d=e(57),f=e(2),p=e(49);function n(t){var e=t.options,n=e.area,r=e.xField,i=e.yField,o=e.seriesField,a=e.smooth,e=e.tooltip,e=Object(d.a)(e,[r,i,o]),r=e.fields,i=e.formatter;return n?Object(p.a)(Object(f.c)({},t,{options:{type:"area",colorField:o,tooltipFields:r,mapping:Object(h.a)({shape:a?"smooth":"area",tooltip:i},n)}})):t}var g=e(0);function r(t){var e=t.options,n=e.line,r=e.stepType,i=e.xField,o=e.yField,a=e.seriesField,s=e.smooth,c=e.connectNulls,e=e.tooltip,e=Object(d.a)(e,[i,o,a]),i=e.fields,o=e.formatter;return n?Object(p.a)(Object(f.c)({},t,{options:{type:"line",colorField:a,tooltipFields:i,mapping:Object(g.deepMix)({shape:r||(s?"smooth":"line"),tooltip:o},n),args:{connectNulls:c}}})):t}var i=e(174),y=e(13);function a(t){var e=t.options,n=e.xField,r=e.yField,i=e.interval,o=e.seriesField,a=e.tooltip,l=e.minColumnWidth,s=e.maxColumnWidth,c=e.columnBackground,u=e.dodgePadding,e=e.intervalPadding,a=Object(d.a)(a,[n,r,o]),n=a.fields,r=a.formatter,a=(i?Object(p.a)(Object(f.c)({},t,{options:{type:"interval",colorField:o,tooltipFields:n,mapping:Object(h.a)({tooltip:r},i),args:{dodgePadding:u,intervalPadding:e,minColumnWidth:l,maxColumnWidth:s,background:c}}})):t).ext;return o=Object(h.a)(Object(h.a)({},t),{ext:a}),n=o.chart,r=o.options,i=o.ext,u=r.seriesField,e=r.isGroup,l=r.isStack,s=r.marginRatio,c=r.widthRatio,t=r.groupField,r=r.theme,a=[],u&&(e&&a.push({type:"dodge",dodgeBy:t||u,marginRatio:s}),l&&a.push({type:"stack",marginRatio:s})),a.length&&null!=i&&i.geometry&&(null==i?void 0:i.geometry).adjust(a),Object(g.isNil)(c)||n.theme(Object(f.c)({},Object(g.isObject)(r)?r:Object(y.k)(r),{columnWidthRatio:c})),o}var s=e(175);function c(t){var e=t.options,n=e.edge,r=e.xField,i=e.yField,o=e.seriesField,e=e.tooltip,e=Object(d.a)(e,[r,i,o]),r=e.fields,i=e.formatter;return n?Object(p.a)(Object(f.c)({},t,{options:{type:"edge",colorField:o,tooltipFields:r,mapping:Object(h.a)({tooltip:i},n)}})):t}function u(t){var e=t.options,n=e.schema,r=e.xField,i=e.yField,o=e.seriesField,e=e.tooltip,e=Object(d.a)(e,[r,i,o]),r=e.fields,i=e.formatter;return n?Object(p.a)(Object(f.c)({},t,{options:{type:"schema",colorField:o,tooltipFields:r,mapping:Object(h.a)({tooltip:i},n)}})):t}function l(t){var e=t.options,n=e.violin,r=e.xField,i=e.yField,o=e.seriesField,a=e.sizeField,e=e.tooltip,e=Object(d.a)(e,[r,i,o,a]),r=e.fields,i=e.formatter;return n?Object(p.a)(Object(f.c)({},t,{options:{type:"violin",colorField:o,tooltipFields:r,mapping:Object(h.a)({tooltip:i},n)}})):t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")}},function(c,t,e){"use strict";e.d(t,"c",function(){return n}),e.d(t,"a",function(){return r}),e.d(t,"h",function(){return i}),e.d(t,"k",function(){return a}),e.d(t,"j",function(){return u}),e.d(t,"b",function(){return h}),e.d(t,"g",function(){return s}),e.d(t,"e",function(){return l}),e.d(t,"i",function(){return f}),e.d(t,"d",function(){return d}),e.d(t,"m",function(){return p}),e.d(t,"l",function(){return g}),e.d(t,"f",function(){return y});var o=e(0);function n(t){var e=0,n=0,r=0,i=0;return Object(o.isNumber)(t)?e=n=r=i=t:Object(o.isArray)(t)&&(e=t[0],r=Object(o.isNil)(t[1])?t[0]:t[1],i=Object(o.isNil)(t[2])?t[0]:t[2],n=Object(o.isNil)(t[3])?r:t[3]),[e,r,i,n]}function r(t){for(var e=t.childNodes,n=e.length-1;0<=n;n--)t.removeChild(e[n])}function i(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function a(t){var e=t.start,t=t.end,n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),i=Math.max(e.x,t.x),e=Math.max(e.y,t.y);return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:e,width:i-n,height:e-r}}function u(t){var e=t.map(function(t){return t.x}),t=t.map(function(t){return t.y}),n=Math.min.apply(Math,e),r=Math.min.apply(Math,t),e=Math.max.apply(Math,e),t=Math.max.apply(Math,t);return{x:n,y:r,minX:n,minY:r,maxX:e,maxY:t,width:e-n,height:t-r}}function h(t,e,n,r){var i=t+n,o=e+r;return{x:t,y:e,width:n,height:r,minX:t,minY:e,maxX:isNaN(i)?0:i,maxY:isNaN(o)?0:o}}function s(t,e,n){return(1-n)*t+e*n}function l(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}var f=function(t,e,n){return void 0===n&&(n=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<n};function d(t){var e,n,s,c,u,l,r=t.getClip(),r=r&&r.getBBox(),i=t.isGroup()?(u=s=1/0,l=c=-1/0,0<(i=t.getChildren()).length?Object(o.each)(i,function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=d(t),n=t.applyToMatrix([e.minX,e.minY,1]),r=t.applyToMatrix([e.minX,e.maxY,1]),i=t.applyToMatrix([e.maxX,e.minY,1]),t=t.applyToMatrix([e.maxX,e.maxY,1]),e=Math.min(n[0],r[0],i[0],t[0]),o=Math.max(n[0],r[0],i[0],t[0]),a=Math.min(n[1],r[1],i[1],t[1]),n=Math.max(n[1],r[1],i[1],t[1]);e<s&&(s=e),c<o&&(c=o),a<u&&(u=a),l<n&&(l=n)}}):l=u=c=s=0,h(s,u,c-s,l-u)):t.getBBox();return r?(t=i,r=r,h(e=Math.max(t.minX,r.minX),n=Math.max(t.minY,r.minY),Math.min(t.maxX,r.maxX)-e,Math.min(t.maxY,r.maxY)-n)):i}function p(t,e){(t.getClip()||e.getClip())&&((e=e.getClip())?(e={type:e.get("type"),attrs:e.attr()},t.setClip(e)):t.setClip(null))}function g(t){return t+"px"}function y(t,e,n,r){var r=r/(r=e.x-t.x,i=e.y-t.y,Math.sqrt(r*r+i*i)),i=0;return"start"===n?i=0-r:"end"===n&&(i=1+r),{x:s(t.x,e.x,i),y:s(t.y,e.y,i)}}},function(t,e){function c(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return n(t),0}s.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){c(r,e,n,i,o,"next",t)}function o(t){c(r,e,n,i,o,"throw",t)}i(void 0)})}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";e.a={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},function(u,t,e){"use strict";e.d(t,"d",function(){return r}),e.d(t,"b",function(){return i}),e.d(t,"e",function(){return o}),e.d(t,"f",function(){return a}),e.d(t,"l",function(){return s}),e.d(t,"j",function(){return c});var n=e(0);function r(){return window?window.devicePixelRatio:1}function i(t,e,n,r){t-=n,n=e-r;return Math.sqrt(t*t+n*n)}function o(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r}function a(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function s(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function c(t,e){return t[0]===e[0]&&t[1]===e[1]}e.d(t,"i",function(){return n.isNil}),e.d(t,"k",function(){return n.isString}),e.d(t,"h",function(){return n.isFunction}),e.d(t,"g",function(){return n.isArray}),e.d(t,"c",function(){return n.each}),e.d(t,"o",function(){return n.toRadian}),e.d(t,"m",function(){return n.mod}),e.d(t,"n",function(){return n.requestAnimationFrame}),e.d(t,"a",function(){return n.clearAnimationFrame})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},i={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}Object.create,Object.create},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create,Object.create},function(u,t,e){"use strict";e.d(t,"d",function(){return n}),e.d(t,"c",function(){return r}),e.d(t,"b",function(){return i}),e.d(t,"e",function(){return o}),e.d(t,"f",function(){return a}),e.d(t,"g",function(){return s}),e.d(t,"a",function(){return c});var n="$$percentage$$",r="$$mappingValue$$",i="$$conversion$$",o="$$totalPercentage$$",a="$$x$$",s="$$y$$",c={appendPadding:[0,80],minSize:0,maxSize:1,meta:((e={})[r]={min:0,max:1,nice:!1},e),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}}},function(l,e,n){"use strict";n.r(e),n.d(e,"version",function(){return _});var t=n(103),r=(n.d(e,"PathUtil",function(){return t}),n(243));for(i in r)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(i)<0&&function(t){n.d(e,t,function(){return r[t]})}(i);var i,o=n(244);for(i in o)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(i)<0&&function(t){n.d(e,t,function(){return o[t]})}(i);var a=n(167),h=(n.d(e,"Event",function(){return a.a}),n(168)),d=(n.d(e,"Base",function(){return h.a}),n(357)),f=(n.d(e,"AbstractCanvas",function(){return d.a}),n(246)),p=(n.d(e,"AbstractGroup",function(){return f.a}),n(247)),s=(n.d(e,"AbstractShape",function(){return p.a}),n(238)),c=(n.d(e,"getBBoxMethod",function(){return s.a}),n.d(e,"registerBBox",function(){return s.b}),n(124)),g=(n.d(e,"getTextHeight",function(){return c.b}),n.d(e,"assembleFont",function(){return c.a}),n(39)),u=(n.d(e,"isAllowCapture",function(){return g.b}),n(78)),y=(n.d(e,"multiplyVec2",function(){return u.c}),n.d(e,"invert",function(){return u.a}),n(169)),_=(n.d(e,"getOffScreenContext",function(){return y.a}),"0.5.9")},function(s,t,e){"use strict";var n,i=e(11),d=e(0),r=e(170),o=e(55),f=e(27),e=e(133),p=["visible","tip","delegateObject"],g=["container","group","shapesMap","isRegister","isUpdating","destroyed"],e=(n=e.a,Object(i.b)(a,n),a.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Object(i.a)(Object(i.a)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},a.prototype.remove=function(){this.clear(),this.get("group").remove()},a.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},a.prototype.getChildComponentById=function(t){t=this.getElementById(t);return t&&t.get("component")},a.prototype.getElementById=function(t){return this.get("shapesMap")[t]},a.prototype.getElementByLocalId=function(t){t=this.getElementId(t);return this.getElementById(t)},a.prototype.getElementsByName=function(e){var n=[];return Object(d.each)(this.get("shapesMap"),function(t){t.get("name")===e&&n.push(t)}),n},a.prototype.getContainer=function(){return this.get("container")},a.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},a.prototype.render=function(){var t=(t=this.get("offScreenGroup"))||this.offScreenRender(),e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},a.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},a.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},a.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},a.prototype.destroy=function(){this.removeEvent(),this.remove(),n.prototype.destroy.call(this)},a.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},a.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),t=t.getTotalMatrix();return e=t?Object(o.a)(t,e):e},a.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},a.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},a.prototype.emit=function(t,e){this.get("group").emit(t,e)},a.prototype.init=function(){n.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},a.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},a.prototype.delegateEmit=function(t,e){var n=this.get("group");(e.target=n).emit(t,e),Object(r.a)(n,t,e)},a.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},a.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},a.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},a.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",Object(f.d)(t)),t},a.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);t=t.addGroup(e);return this.get("isRegister")&&this.registerElement(t),t},a.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);t=t.addShape(e);return this.get("isRegister")&&this.registerElement(t),t},a.prototype.addComponent=function(t,e){var n=e.id,r=e.component,e=Object(i.c)(e,["id","component"]),r=new r(Object(i.a)(Object(i.a)({},e),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return r.init(),r.render(),this.get("isRegister")&&this.registerElement(r.get("group")),r},a.prototype.initEvent=function(){},a.prototype.removeEvent=function(){this.get("group").off()},a.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},a.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},a.prototype.unregisterElement=function(t){t=t.get("id");delete this.get("shapesMap")[t]},a.prototype.moveElementTo=function(t,e){e=Object(o.f)(e);t.attr("matrix",e)},a.prototype.addAnimation=function(t,e,n){var r=e.attr("opacity");Object(d.isNil)(r)&&(r=1),e.attr("opacity",0),e.animate({opacity:r},n)},a.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},a.prototype.updateAnimation=function(t,e,n,r){e.animate(n,r)},a.prototype.updateElements=function(t,s){var c,u=this,l=this.get("animate"),h=this.get("animateOption"),t=t.getChildren().slice(0);Object(d.each)(t,function(e){var t,n,r,i,o=e.get("id"),a=u.getElementById(o),o=e.get("name");a?e.get("isComponent")?(t=e.get("component"),r=a.get("component"),n=Object(d.pick)(t.cfg,Object(d.difference)(Object(d.keys)(t.cfg),g)),r.update(n),a.set("update_status","update")):(r=u.getReplaceAttrs(a,e),l&&h.update?u.updateAnimation(o,a,r,h.update):a.attr(r),e.isGroup()&&u.updateElements(e,a),Object(d.each)(p,function(t){a.set(t,e.get(t))}),Object(f.m)(a,e),(c=a).set("update_status","update")):(s.add(e),(n=s.getChildren()).splice(n.length-1,1),c?(r=n.indexOf(c),n.splice(r+1,0,e)):n.unshift(e),u.registerElement(e),e.set("update_status","add"),e.get("isComponent")?(t=e.get("component")).set("container",s):e.isGroup()&&u.registerNewGroup(e),c=e,l&&(i=u.get("isInit")?h.appear:h.enter)&&u.addAnimation(o,e,i))})},a.prototype.clearUpdateStatus=function(t){t=t.getChildren();Object(d.each)(t,function(t){t.set("update_status",null)})},a.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},a.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},a.prototype.appendDelegateObject=function(t,e){t=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),Object(d.mix)(e.delegateObject,t)},a.prototype.getReplaceAttrs=function(t,e){var t=t.attr(),n=e.attr();return Object(d.each)(t,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n},a.prototype.registerNewGroup=function(t){var e=this,t=t.getChildren();Object(d.each)(t,function(t){e.registerElement(t),t.set("update_status","add"),t.isGroup()&&e.registerNewGroup(t)})},a.prototype.deleteElements=function(){var i=this,o=this.get("shapesMap"),n=[],a=(Object(d.each)(o,function(t,e){!t.get("update_status")||t.destroyed?n.push([e,t]):t.set("update_status",null)}),this.get("animate")),s=this.get("animateOption");Object(d.each)(n,function(t){var e,n=t[0],r=t[1];r.destroyed||(t=r.get("name"),a&&s.leave?(e=Object(d.mix)({callback:function(){i.removeElement(r)}},s.leave),i.removeAnimation(t,r,e)):i.removeElement(r)),delete o[n]})},a.prototype.removeElement=function(t){var e;!t.get("isGroup")||(e=t.get("component"))&&e.destroy(),t.remove()},a);function a(){return null!==n&&n.apply(this,arguments)||this}t.a=e},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},o=(Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0,n(292));Object.defineProperty(e,"registerLayout",{enumerable:!0,get:function(){return o.registerLayout}}),Object.defineProperty(e,"unRegisterLayout",{enumerable:!0,get:function(){return o.unRegisterLayout}}),Object.defineProperty(e,"getLayoutByName",{enumerable:!0,get:function(){return o.getLayoutByName}}),i(n(295),e)},function(t,e,n){"use strict";n.d(e,"j",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"b",function(){return s});var r=n(0);function i(t,e){e=t.indexOf(e);-1!==e&&t.splice(e,1)}n.d(e,"e",function(){return r.isNil}),n.d(e,"d",function(){return r.isFunction}),n.d(e,"h",function(){return r.isString}),n.d(e,"f",function(){return r.isObject}),n.d(e,"i",function(){return r.mix}),n.d(e,"a",function(){return r.each}),n.d(e,"k",function(){return r.upperFirst});var o="undefined"!=typeof window&&void 0!==window.document;function a(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function s(t){return t.cfg.visible&&t.cfg.capture}},function(r,t,e){"use strict";e.d(t,"e",function(){return v}),e.d(t,"b",function(){return w}),e.d(t,"a",function(){return j}),e.d(t,"c",function(){return d}),e.d(t,"d",function(){return T}),e.d(t,"f",function(){return n});var n={};function i(t){return Math.min.apply(null,t)}function o(t){return Math.max.apply(null,t)}function m(t,e,n,r){t-=n,n=e-r;return Math.sqrt(t*t+n*n)}function a(t,e){return Math.abs(t-e)<.001}function f(t,e){var n=i(t),r=i(e);return{x:n,y:r,width:o(t)-n,height:o(e)-r}}function s(t,e,n,r){return{minX:i([t,n]),maxX:o([t,n]),minY:i([e,r]),maxY:o([e,r])}}function u(t){return(t+2*Math.PI)%(2*Math.PI)}e.r(n),e.d(n,"distance",function(){return m}),e.d(n,"isNumberEqual",function(){return a}),e.d(n,"getBBoxByArray",function(){return f}),e.d(n,"getBBoxRange",function(){return s}),e.d(n,"piMod",function(){return u});var c=e(138),d={box:function(t,e,n,r){return f([t,n],[e,r])},length:m,pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);return a<0?m(t,e,i,o):(n-t)*(n-t)+(r-e)*(r-e)<a?m(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){n=[n-t,r-e];if(c.exactEquals(n,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));r=[-n[1],n[0]],c.normalize(r,r),n=[i-t,o-e];return Math.abs(c.dot(n,r))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}};function h(t,e,l,h,n,d){for(var r,i=1/0,o=[l,h],f=20,p=1/(f=d&&200<d?d/10:f),a=p/10,s=0;s<=f;s++){var g=s*p,c=[n.apply(null,t.concat([g])),n.apply(null,e.concat([g]))];(_=m(o[0],o[1],c[0],c[1]))<i&&(r=g,i=_)}if(0===r)return{x:t[0],y:e[0]};if(1===r)return{x:t[(l=t.length)-1],y:e[l-1]};for(i=1/0,s=0;s<32&&!(a<1e-4);s++){var u=r-a,y=r+a,_=(c=[n.apply(null,t.concat([u])),n.apply(null,e.concat([u]))],m(o[0],o[1],c[0],c[1]));0<=u&&_<i?(r=u,i=_):(u=[n.apply(null,t.concat([y])),n.apply(null,e.concat([y]))],u=m(o[0],o[1],u[0],u[1]),y<=1&&u<i?(r=y,i=u):a*=.5)}return{x:n.apply(null,t.concat([r])),y:n.apply(null,e.concat([r]))}}function l(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function g(t,e,n){n=t+n-2*e;if(a(n,0))return[.5];t=(t-e)/n;return t<=1&&0<=t?[t]:[]}function y(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function _(t,e,n,r,i,o,a){var s=l(t,n,i,a),c=l(e,r,o,a),u=d.pointAt(t,e,n,r,a),n=d.pointAt(n,r,i,o,a);return[[t,e,u.x,u.y,s,c],[s,c,n.x,n.y,i,o]]}var v={box:function(t,e,n,r,i,o){var a=g(t,n,i)[0],s=g(e,r,o)[0],c=[t,i],u=[e,o];return void 0!==a&&c.push(l(t,n,i,a)),void 0!==s&&u.push(l(e,r,o,s)),f(c,u)},length:function(t,e,n,r,i,o){return function t(e,n,r,i,o,a,s){if(0===s)return(m(e,n,r,i)+m(r,i,o,a)+m(e,n,o,a))/2;e=_(e,n,r,i,o,a,.5),n=e[0],r=e[1];return n.push(s-1),r.push(s-1),t.apply(null,n)+t.apply(null,r)}(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return h([t,n,i],[e,r,o],a,s,l)},pointDistance:function(t,e,n,r,i,o,a,s){t=this.nearestPoint(t,e,n,r,i,o,a,s);return m(t.x,t.y,a,s)},interpolationAt:l,pointAt:function(t,e,n,r,i,o,a){return{x:l(t,n,i,a),y:l(e,r,o,a)}},divide:_,tangentAngle:function(t,e,n,r,i,o,a){t=y(t,n,i,a),n=y(e,r,o,a);return u(Math.atan2(n,t))}};function p(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function b(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function O(t,e,n,r){var i,o,r=-3*t+9*e-9*n+3*r,n=6*t-12*e+6*n,e=3*e-3*t,t=[];return a(r,0)?a(n,0)||0<=(i=-e/n)&&i<=1&&t.push(i):a(e=n*n-4*r*e,0)?t.push(-n/(2*r)):0<e&&(o=(-n-(e=Math.sqrt(e)))/(2*r),0<=(i=(-n+e)/(2*r))&&i<=1&&t.push(i),0<=o&&o<=1&&t.push(o)),t}function x(t,e,n,r,i,o,a,s,c){var l=p(t,n,i,a,c),h=p(e,r,o,s,c),u=d.pointAt(t,e,n,r,c),n=d.pointAt(n,r,i,o,c),r=d.pointAt(i,o,a,s,c),i=d.pointAt(u.x,u.y,n.x,n.y,c),o=d.pointAt(n.x,n.y,r.x,r.y,c);return[[t,e,u.x,u.y,i.x,i.y,l,h],[l,h,o.x,o.y,r.x,r.y,a,s]]}function E(t,e,n,r,l,h,d,f,i){var o,a;{if(0!==i)return o=(a=x(t,e,n,r,l,h,d,f,.5))[0],a=a[1],o.push(i-1),a.push(i-1),E.apply(null,o)+E.apply(null,a);for(var s=[t,n,l,d],p=[e,r,h,f],g=0,c=s.length,u=0;u<c;u++)g+=m(s[u],p[u],s[(u+1)%c],p[(u+1)%c]);return g/2}}var w={extrema:O,box:function(t,e,n,r,i,o,a,s){for(var c=[t,a],l=[e,s],h=O(t,n,i,a),d=O(e,r,o,s),u=0;u<h.length;u++)c.push(p(t,n,i,a,h[u]));for(u=0;u<d.length;u++)l.push(p(e,r,o,s,d[u]));return f(c,l)},length:function(t,e,n,r,i,o,a,s){return E(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,c,u,l){return h([t,n,i,a],[e,r,o,s],c,u,p,l)},pointDistance:function(t,e,n,r,i,o,a,s,c,u,l){t=this.nearestPoint(t,e,n,r,i,o,a,s,c,u,l);return m(t.x,t.y,c,u)},interpolationAt:p,pointAt:function(t,e,n,r,i,o,a,s,c){return{x:p(t,n,i,a,c),y:p(e,r,o,s,c)}},divide:x,tangentAngle:function(t,e,n,r,i,o,a,s,c){t=b(t,n,i,a,c),n=b(e,r,o,s,c);return u(Math.atan2(n,t))}};function M(t,e){t=Math.abs(t);return 0<e?t:-1*t}function P(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function C(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function A(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function S(t,e,n){var r=Math.cos(n),n=Math.sin(n);return[t*r-e*n,t*n+e*r]}var j={box:function(l,h,t,e,n,r,i){for(var d=Math.atan(-e/t*Math.tan(n)),o=1/0,f=-1/0,a=[r,i],s=2*-Math.PI;s<=2*Math.PI;s+=Math.PI){var c=d+s;r<i?r<c&&c<i&&a.push(c):i<c&&c<r&&a.push(c)}for(s=0;s<a.length;s++){var p=P(l,0,t,e,n,a[s]);p<o&&(o=p),f<p&&(f=p)}for(var g=Math.atan(e/(t*Math.tan(n))),y=1/0,_=-1/0,m=[r,i],s=2*-Math.PI;s<=2*Math.PI;s+=Math.PI){var u=g+s;r<i?r<u&&u<i&&m.push(u):i<u&&u<r&&m.push(u)}for(s=0;s<m.length;s++){var v=C(0,h,t,e,n,m[s]);v<y&&(y=v),_<v&&(_=v)}return{x:o,y:y,width:f-o,height:_-y}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,s,c){var s=S(s-t,c-e,-i),c=s[0],s=s[1],c=function(t,e,n,l,h,d){var r=n,i=l;if(0===r||0===i)return{x:t,y:e};for(var n=h-t,l=d-e,f=Math.abs(n),p=Math.abs(l),g=r*r,y=i*i,o=Math.PI/4,_=0;_<4;_++){var a=r*Math.cos(o),s=i*Math.sin(o),c=(g-y)*Math.pow(Math.cos(o),3)/r,u=(y-g)*Math.pow(Math.sin(o),3)/i,m=a-c,v=s-u,c=f-c,u=p-u,b=Math.hypot(v,m),O=Math.hypot(u,c);o+=b*Math.asin((m*u-v*c)/(b*O))/Math.sqrt(g+y-a*a-s*s),o=Math.min(Math.PI/2,Math.max(0,o))}return{x:t+M(a,n),y:e+M(s,l)}}(0,0,n,r,c,s),u=(s=c.x,u=c.y,(Math.atan2(u*n,s*r)+2*Math.PI)%(2*Math.PI)),s=(u<o?c=A(n,r,o):a<u&&(c=A(n,r,a)),S(c.x,c.y,i));return{x:s[0]+t,y:s[1]+e}},pointDistance:function(t,e,n,r,i,o,a,s,c){t=this.nearestPoint(t,e,n,r,s,c);return m(t.x,t.y,s,c)},pointAt:function(t,e,n,r,i,o,a,s){a=(a-o)*s+o;return{x:P(t,0,n,r,i,a),y:C(0,e,n,r,i,a)}},tangentAngle:function(t,e,n,r,i,o,a,s){var c,a=(a-o)*s+o,s=(s=r,o=i,c=a,-1*n*Math.cos(o)*Math.sin(c)-s*Math.sin(o)*Math.cos(c)),i=(o=r,c=i,r=a,-1*n*Math.sin(c)*Math.sin(r)+o*Math.cos(c)*Math.cos(r));return u(Math.atan2(i,s))}};function D(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],a=m(i[0],i[1],o[0],o[1]);n.push({from:i,to:o,length:a}),e+=a}return{segments:n,totalLength:e}}var T={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return f(e,n)},length:function(t){var e=t;if(e.length<2)return 0;for(var n=0,r=0;r<e.length-1;r++){var i=e[r],o=e[r+1];n+=m(i[0],i[1],o[0],o[1])}return n},pointAt:function(t,e){var n=e;if(1<n||n<0||t.length<2)return null;var e=D(t),r=e.segments,i=e.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<r.length;s++){var c=r[s],u=c.from,l=c.to,c=c.length/i;if(o<=n&&n<=o+c){a=d.pointAt(u[0],u[1],l[0],l[1],(n-o)/c);break}o+=c}return a},pointDistance:function(t,e,n){for(var r=t,i=e,o=n,a=1/0,s=0;s<r.length-1;s++){var c=r[s],u=r[s+1],c=d.pointDistance(c[0],c[1],u[0],u[1],i,o);c<a&&(a=c)}return a},tangentAngle:function(t,e){var n=e;if(1<n||n<0||t.length<2)return 0;for(var r=(t=D(t)).segments,l=t.totalLength,i=0,o=0,a=0;a<r.length;a++){var s=r[a],c=s.from,u=s.to,s=s.length/l;if(i<=n&&n<=i+s){o=Math.atan2(u[1]-c[1],u[0]-c[0]);break}i+=s}return o}}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(9),r=function r(t,i){return Object(o.transform)(t,function(t,e,n){Object(o.isEqual)(e,i[n])||(t[n]=Object(o.isObject)(e)&&Object(o.isObject)(i[n])?r(e,i[n]):e)})}},function(l,t,e){"use strict";e(13);var n=e(97),r=e(393),i=e(394),o=(e(173),e(19),e(252),e(198)),a=(e.d(t,"Line",function(){return o.a}),e(202)),s=(e.d(t,"Area",function(){return a.a}),e(203)),c=(e.d(t,"Column",function(){return s.a}),e(204)),u=(e.d(t,"Bar",function(){return c.a}),e(176)),h=(e.d(t,"Pie",function(){return u.a}),e(385)),d=(e.d(t,"Rose",function(){return h.a}),e(366)),f=(e.d(t,"WordCloud",function(){return d.a}),e(199)),p=(e.d(t,"Scatter",function(){return f.a}),e(373)),g=(e.d(t,"Radar",function(){return p.a}),e(361),e(177),e(205),e(206),e(178)),y=(e.d(t,"Histogram",function(){return g.a}),e(179),e(207),e(369),e(374)),_=(e.d(t,"Box",function(){return y.a}),e(370),e(358),e(375)),m=(e.d(t,"Stock",function(){return _.a}),e(150),e(239),e(376),e(367)),v=(e.d(t,"Sunburst",function(){return m.a}),e(200),e(371),e(377),e(378),e(372)),b=(e.d(t,"Treemap",function(){return v.a}),e(359)),O=(e.d(t,"Sankey",function(){return b.a}),e(379)),t=(e.d(t,"Chord",function(){return O.a}),e(368),e(267),e(197),e(132),e(380),e(2),e(25),e(8));e(268),Object(n.b)("en-US",r.a),Object(n.b)("zh-CN",i.a),t.g,t.d,t.l,t.b,t.c,t.k,t.a},function(t,e,n){"use strict";var o,a=n(6),s=n.n(a),n=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={hasError:!1},n.renderError=function(t){var e=n.props.errorTemplate;return e&&"function"==typeof e?e(t):s.a.createElement("h5",null,"组件出错了，请核查后重试： ",t.message)},n}var n=e,r=t;if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=n}return o(n,r),n.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i),e.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},e.getDerivedStateFromProps=function(t,e){return e.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):s.a.createElement(a.Fragment,null,this.props.children)},e}(s.a.Component));e.a=n},function(t,e,n){"use strict";var r=n(6),i=n.n(r),o=n(222);e.a=function(t){var e=t.loadingTemplate,t=t.theme,t=void 0===t?"light":t;return i.a.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"dark"===t?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},e||i.a.createElement(o.a,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:"dark"===t?"#262626":"#D9D9D9"},i.a.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),i.a.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),i.a.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),i.a.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),i.a.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),i.a.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),i.a.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),i.a.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),i.a.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),i.a.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"})))}},function(t,e,n){var r=n(517);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(81).default,i=n(41);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(n,t,e){"use strict";e.d(t,"a",function(){return i});var l=e(6),h=e(0),t=e(141),r=e.n(t),_=function(t,e){var n=document.createElement("div");return"tooltip"===e&&(n.className="g2-tooltip"),r.a.render(t,n),n},d=function(t,e){return{}.toString.call(t)==="[object ".concat(e,"]")},f=function(e){return e&&"object"==typeof e?(Array.isArray(e)?n=e.map(function(t){return f(t)}):(n={},Object.keys(e).forEach(function(t){return n[t]=f(e[t])})),n):e;var n},p=function(t,e){for(var n=t,r=0;r<e.length;r+=1){if(null==n||!n[e[r]]){n=void 0;break}n=n[e[r]]}return n},g=function(){return(g=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},y=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function i(n,o){function t(t,e,r){function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=d(o,"Function")?o.apply(void 0,t):o;return d(n,"String")||d(n,"Number")||d(n,"HTMLDivElement")?n:_(n,r)}var i,o=p(t,e),a=e;t&&(i=t,a.forEach(function(t,e){e<a.length-1?i=i[t]:i[t]=n}))}function a(){p(o,["statistic","content","customHtml"])&&t(o,["statistic","content","customHtml"]),p(o,["statistic","title","customHtml"])&&t(o,["statistic","title","customHtml"]),"object"==typeof o.tooltip&&(p(o,["tooltip","container"])&&t(o,["tooltip","container"],"tooltip"),p(o,["tooltip","customContent"])&&t(o,["tooltip","customContent"],"tooltip"))}var s=Object(l.useRef)(),c=Object(l.useRef)(),r=Object(l.useRef)(null),i=o.onReady,u=o.onEvent;return Object(l.useEffect)(function(){var t,e,n,r,i;s.current&&!Object(h.isEqual)(c.current,o)&&(n=!1,c.current&&((t=c.current).data,t.value,t.percent,t=y(t,["data","value","percent"]),o.data,o.value,o.percent,e=y(o,["data","value","percent"]),n=Object(h.isEqual)(t,e)),c.current=f(o),n&&"Mix"!==Object(h.get)(o,"chartType")?(r="data",i=Object.keys(o),["percent"].forEach(function(t){i.includes(t)&&(r=t)}),s.current.changeData((null==o?void 0:o[r])||[])):(a(),s.current.update(o)))},[o]),Object(l.useEffect)(function(){if(!r.current)return function(){return null};c.current||(c.current=f(o)),a();function t(t){u&&u(e,t)}var e=new n(r.current,g({},o));e.toDataURL=function(t,e){return t=void 0===t?"image/png":t,null===(n=s.current)||void 0===n?void 0:n.chart.canvas.cfg.el.toDataURL(t,e);var n},e.downloadImage=function(t,e,n){return n=n,void 0===(e=e)&&(e="image/png"),r=t=void 0===(t=t)?"download":t,-1===t.indexOf(".")&&(r="".concat(t,".").concat(e.split("/")[1])),t=null===(t=s.current)||void 0===t?void 0:t.chart.canvas.cfg.el.toDataURL(e,n),(e=document.createElement("a")).href=t,e.download=r,document.body.appendChild(e),e.click(),document.body.removeChild(e),e=null,r;var r},e.render(),s.current=function(t){if(!t)return t;var e,n={};for(e in t)n[e]=t[e];return n}(e),i&&i(e);return e.on("*",t),function(){s.current&&(s.current.destroy(),s.current.off("*",t),s.current=void 0)}},[]),{chart:s,container:r}}},function(t,e,n){"use strict";n.d(e,"b",function(){return M}),n.d(e,"a",function(){return r});var O=n(3),x=n(0),E=n(2);function w(t,e){var n=t.type,r=t.xField,i=t.yField,o=t.colorField,a=t.shapeField,s=t.sizeField,c=t.styleField,t=t.rawFields,t=void 0===t?[]:t,u=[],s=("color"===e?u=Object(O.d)([o||r],t):"shape"===e?u=Object(O.d)([a||r],t):"size"===e?u=Object(O.d)([s||r],t):(a=(u=Object(O.d)([r,i,o,a,s,c],t))[o=["x","y","color","shape","size","style"].indexOf(e)],u.splice(o,1),u.unshift(a)),Object(x.uniq)(u.filter(function(t){return!!t}))),c="line"===n&&[r,i].includes(s.join("*"))?"":s.join("*");return{mappingFields:s,tileMappingField:c}}function M(e,i){if(i)return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r={};return e.forEach(function(t,e){r[t]=n[e]}),delete r[void 0],i(r)}}function r(l){var h=l.chart,t=l.options,e=t.type,n=t.args,r=t.mapping,d=t.xField,f=t.yField,p=t.colorField,i=t.shapeField,g=t.sizeField,y=t.tooltipFields,_=t.label,m=t.state,v=t.customInfo;if(!r)return l;var o,a,s=r.color,c=r.shape,u=r.size,b=r.style,r=r.tooltip,e=h[e](n).position(d+"*"+f);return Object(x.isString)(s)?p?e.color(p,s):e.color(s):Object(x.isFunction)(s)?(o=(n=w(t,"color")).mappingFields,a=n.tileMappingField,e.color(a,M(o,s))):p&&e.color(p,s),Object(x.isString)(c)?i?e.shape(i,[c]):e.shape(c):Object(x.isFunction)(c)?(o=(n=w(t,"shape")).mappingFields,a=n.tileMappingField,e.shape(a,M(o,c))):i&&e.shape(i,c),Object(x.isNumber)(u)?g?e.size(g,u):e.size(u):Object(x.isFunction)(u)?(o=(s=w(t,"size")).mappingFields,a=s.tileMappingField,e.size(a,M(o,u))):g&&e.size(g,u),Object(x.isFunction)(b)?(o=(n=w(t,"style")).mappingFields,a=n.tileMappingField,e.style(a,M(o,b))):Object(x.isObject)(b)&&e.style(b),!1===y?e.tooltip(!1):Object(x.isEmpty)(y)||e.tooltip(y.join("*"),M(y,r)),!1===_?e.label(!1):_&&(i=_.callback,c=_.fields,s=Object(O.c)(_,["callback","fields"]),e.label({fields:c||[f],callback:i,cfg:Object(E.A)(s)})),m&&e.state(m),v&&e.customInfo(v),[d,f].filter(function(t){return t!==p}).forEach(function(t){h.legend(t,!1)}),Object(O.a)(Object(O.a)({},l),{ext:{geometry:e}})}},function(l,t,e){"use strict";var n=e(360),r=(e.d(t,"Annotation",function(){return n}),e(362)),i=(e.d(t,"Axis",function(){return r}),e(364)),o=(e.d(t,"Crosshair",function(){return i}),e(381)),a=(e.d(t,"Grid",function(){return o}),e(382)),s=(e.d(t,"Legend",function(){return a}),e(383)),c=(e.d(t,"Tooltip",function(){return s}),e(133),e(37),e(109),e(365)),u=(e.d(t,"Slider",function(){return c.a}),e(388)),h=(e.d(t,"Scrollbar",function(){return u.a}),e(248),e(249),e(170)),d=(e.d(t,"propagationDelegate",function(){return h.a}),e(56));e.d(t,"TOOLTIP_CSS_CONST",function(){return d})},function(t,e,n){"use strict";function r(t,e){return t.views.find(function(t){return t.id===e})}function i(t){t=t.parent;return t?t.views:[]}function o(e){return i(e).filter(function(t){return t!==e})}n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o})},function(l,t,e){"use strict";e.d(t,"a",function(){return c}),e.d(t,"b",function(){return h});var n,t=e(21),a=e.n(t),t=e(28),t=e.n(t),r=e(17),r=e.n(r),i=e(16),o=e.n(i),s=e(182),c=function t(e){o()(this,t)},h=(r()(u,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(t){return-1<this.lookup[t]}},{key:"create",value:function(t,e){this.lookup[t]=this.components.length;e=new this.clazz(e||{});return this.components.push(e),this.entities.push(t),e}},{key:"remove",value:function(t){var e=this.lookup[t];-1<e&&e<this.components.length-1&&(this.components[e]=this.components[this.components.length-1],this.entities[e]=this.entities[this.entities.length-1],this.lookup[this.entities[e]]=e),this.components.pop(),this.entities.pop(),delete this.lookup[t]}},{key:"removeKeepSorted",value:function(t){t=this.lookup[t];if(-1<t){var e=this.entities[t];if(t<this.components.length-1){for(var n=t+1;n<this.components.length;++n)this.components[n-1]=this.components[n];for(var r=t+1;r<this.entities.length;++r)this.entities[r-1]=this.entities[r],this.lookup[this.entities[r-1]]=r-1}this.components.pop(),this.entities.pop(),delete this.lookup[e]}}},{key:"moveItem",value:function(t,e){if(t!==e){for(var n=this.components[t],r=this.entities[t],i=t<e?1:-1,o=t;o!==e;o+=i){var a=o+i;this.components[o]=this.components[a],this.entities[o]=this.entities[a],this.lookup[this.entities[o]]=o}this.components[e]=n,this.entities[e]=r,this.lookup[r]=e}}},{key:"getEntity",value:function(t){return this.entities[t]}},{key:"getComponent",value:function(t){return this.components[t]}},{key:"getComponentByEntity",value:function(t){t=this.lookup[t];return-1<t?this.components[t]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(t){for(var e=0,n=Object.keys(this.lookup);e<n.length;e++){var r=n[e],r=Number(r);if(this.lookup[r]===t)return r}return s.a}},{key:"find",value:function(t){for(var e=0;e<this.getCount();e++){var n=this.getComponent(e);if(t(n,e))return n}return null}},{key:"findIndex",value:function(t){for(var e=0;e<this.getCount();e++)if(t(this.getComponent(e),e))return e;return-1}},{key:"forEach",value:function(t){for(var e=0,n=Object.keys(this.lookup);e<n.length;e++){var r=n[e],r=Number(r),i=this.lookup[r];t(r,this.getComponent(i))}}},{key:"forEachAsync",value:(n=t()(a.a.mark(function t(e){var n,r,i,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(n<r.length)return i=r[n],i=Number(i),o=this.lookup[i],t.next=7,e(i,this.getComponent(o));t.next=10;break;case 7:n++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"map",value:function(t){for(var e=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var i=r[n],i=Number(i),o=this.lookup[i];e.push(t(i,this.getComponent(o)))}return e}}]),u);function u(t){o()(this,u),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return c});var r=n(0),i=n(31);function o(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function a(t){var e=i.a[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");e=o(e);return t.get("id")&&(e.id=t.get("id")),t.set("el",e),t.set("attrs",{}),n&&((t=n.get("el"))||(t=n.createDom(),n.set("el",t)),t.appendChild(e)),e}function s(t,e){var t=t.get("el"),e=Object(r.toArray)(t.children).sort(e),n=document.createDocumentFragment();e.forEach(function(t){n.appendChild(t)}),t.appendChild(n)}function c(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter(function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()}),i=r[e],o=r.indexOf(t);i?e<o?n.insertBefore(t,i):o<e&&((i=r[e+1])?n.insertBefore(t,i):n.appendChild(t)):n.appendChild(t)}},function(t,e,n){var r=n(519),i=n(520),o=n(314),a=n(521);t.exports=function(t){return r(t)||i(t)||o(t)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},function(l,t,e){"use strict";e.d(t,"e",function(){return o}),e.d(t,"f",function(){return a}),e.d(t,"d",function(){return n}),e.d(t,"a",function(){return c}),e.d(t,"b",function(){return u}),e.d(t,"c",function(){return h});var r=e(12),i=[1,0,0,0,1,0,0,0,1];function o(t,e,n){return void 0===n&&(n=i),e?r.a.transform(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function a(t,e){return t.x||t.y?r.a.transform(e||i,[["t",t.x,t.y]]):null}function n(t){var e=[0,0,0];return r.d.transformMat3(e,[1,0,0],t),Math.atan2(e[1],e[0])}function s(t,e){var n=[0,0];return r.c.transformMat3(n,e,t),n}function c(t,e){var n=s(t,[e.minX,e.minY]),r=s(t,[e.maxX,e.minY]),i=s(t,[e.minX,e.maxY]),t=s(t,[e.maxX,e.maxY]),e=Math.min(n[0],r[0],i[0],t[0]),o=Math.max(n[0],r[0],i[0],t[0]),a=Math.min(n[1],r[1],i[1],t[1]),n=Math.max(n[1],r[1],i[1],t[1]);return{x:e,y:a,minX:e,minY:a,maxX:o,maxY:n,width:o-e,height:n-a}}function u(t,e,n,r){e&&(n=o({x:n,y:r},e,t.getMatrix()),t.setMatrix(n))}function h(t,e,n){e=a({x:e,y:n});t.attr("matrix",e)}},function(l,t,e){"use strict";e.r(t),e.d(t,"CONTAINER_CLASS",function(){return n}),e.d(t,"TITLE_CLASS",function(){return r}),e.d(t,"LIST_CLASS",function(){return i}),e.d(t,"LIST_ITEM_CLASS",function(){return o}),e.d(t,"MARKER_CLASS",function(){return a}),e.d(t,"VALUE_CLASS",function(){return s}),e.d(t,"NAME_CLASS",function(){return c}),e.d(t,"CROSSHAIR_X",function(){return u}),e.d(t,"CROSSHAIR_Y",function(){return h});var n="g2-tooltip",r="g2-tooltip-title",i="g2-tooltip-list",o="g2-tooltip-list-item",a="g2-tooltip-marker",s="g2-tooltip-value",c="g2-tooltip-name",u="g2-tooltip-crosshair-x",h="g2-tooltip-crosshair-y"},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0);function i(t,e){if(!1===t)return{fields:!1};var n=Object(r.get)(t,"fields"),t=Object(r.get)(t,"formatter");return{fields:n=t&&!n?e:n,formatter:t}}},function(t,e){t.exports=function(t,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(r,t,e){"use strict";e.d(t,"a",function(){return a}),e.d(t,"c",function(){return O}),e.d(t,"d",function(){return u}),e.d(t,"e",function(){return l}),e.d(t,"b",function(){return _});var U=e(0),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,G=function(t){var r=t||[];return Object(U.isArray)(r)?r:Object(U.isString)(r)?(r=r.match(i),Object(U.each)(r,function(n,t){var e;1<(n=n.match(o))[0].length&&(e=n[0].charAt(0),n.splice(1,0,n[0].substr(1)),n[0]=e),Object(U.each)(n,function(t,e){isNaN(t)||(n[e]=+t)}),r[t]=n}),r):void 0},b=e(4),a=function(t,e,n){void 0===n&&(n=[[0,0],[1,1]]);for(var e=!!(e=void 0===e?!1:e),r=[],i=0,l=t.length;i<l;i+=2)r.push([t[i],t[i+1]]);for(var o,a,s,c=function(t,e,l){var h,n=[],d=!!l;if(d){p=l[0],g=l[1];for(var r=0,f=t.length;r<f;r+=1)var i=t[r],p=b.d.min([0,0],p,i),g=b.d.max([0,0],g,i)}for(var r=0,y=t.length;r<y;r+=1){var o,_,m,v,a,s,c,u,i=t[r];0!==r||e?r!==y-1||e?(o=t[[r?r-1:y-1,r-1][e?0:1]],_=t[e?(r+1)%y:r+1],s=b.d.sub(s=[0,0],_,o),s=b.d.scale(s,s,.4),0!==(a=(m=b.d.distance(i,o))+(v=b.d.distance(i,_)))&&(m/=a,v/=a),a=b.d.scale([0,0],s,-m),s=b.d.scale([0,0],s,v),c=b.d.add([0,0],i,a),u=b.d.add([0,0],i,s),u=b.d.min([0,0],u,b.d.max([0,0],_,i)),u=b.d.max([0,0],u,b.d.min([0,0],_,i)),a=b.d.sub([0,0],u,i),a=b.d.scale([0,0],a,-m/v),c=b.d.add([0,0],i,a),c=b.d.min([0,0],c,b.d.max([0,0],o,i)),c=b.d.max([0,0],c,b.d.min([0,0],o,i)),s=b.d.sub([0,0],i,c),s=b.d.scale([0,0],s,v/m),u=b.d.add([0,0],i,s),d&&(c=b.d.max([0,0],c,p),c=b.d.min([0,0],c,g),u=b.d.max([0,0],u,p),u=b.d.min([0,0],u,g)),n.push(h),n.push(c),h=u):(c=i,n.push(h),n.push(c)):h=i}return e&&n.push(n.shift()),n}(r,e,n),u=r.length,h=[],i=0;i<u-1;i+=1)o=c[2*i],a=c[2*i+1],s=r[i+1],h.push(["C",o[0],o[1],a[0],a[1],s[0],s[1]]);return e&&(o=c[u],a=c[u+1],s=r[0],h.push(["C",o[0],o[1],a[0],a[1],s[0],s[1]])),h},t="\t\n\v\f\r   ᠎             　\u2028\u2029",s=new RegExp("([a-z])["+t+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+t+"]*,?["+t+"]*)+)","ig"),c=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+t+"]*,?["+t+"]*","ig");function O(t){if(!t)return null;if(Object(U.isArray)(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(c,function(t,e){e&&r.push(+e)}),"m"===i&&2<r.length&&(a.push([e].concat(r.splice(0,2))),i="l",e="m"===e?"l":"L"),"o"===i&&1===r.length&&a.push([e,r[0]]),"r"===i)a.push([e].concat(r));else for(;r.length>=o[i]&&(a.push([e].concat(r.splice(0,o[i]))),o[i]););return""}),a}var E=/[a-z]/;function x(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function u(l){var t=O(l);if(!t||!t.length)return[["M",0,0]];for(var h=!1,e=0;e<t.length;e++){var d=t[e][0];if(E.test(d)||0<=["V","H","T","S"].indexOf(d)){h=!0;break}}if(!h)return t;var f=[],n=0,r=0,i=0,o=0,l=0,p=t[0];"M"!==p[0]&&"m"!==p[0]||(i=n=+p[1],o=r=+p[2],l++,f[0]=["M",n,r]);for(var e=l,g=t.length;e<g;e++){var a=t[e],s=f[e-1],c=[],y=(d=a[0]).toUpperCase();if(d!==y)switch(c[0]=y,y){case"A":c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=+a[6]+n,c[7]=+a[7]+r;break;case"V":c[1]=+a[1]+r;break;case"H":c[1]=+a[1]+n;break;case"M":i=+a[1]+n,o=+a[2]+r,c[1]=i,c[2]=o;break;default:for(var _=1,m=a.length;_<m;_++)c[_]=+a[_]+(_%2?n:r)}else c=t[e];switch(y){case"Z":n=+i,r=+o;break;case"H":c=["L",n=c[1],r];break;case"V":c=["L",n,r=c[1]];break;case"T":var n=c[1],r=c[2],u=x([s[1],s[2]],[s[3],s[4]]),c=["Q",u[0],u[1],n,r];break;case"S":n=c[c.length-2],r=c[c.length-1];var u=s.length,v=x([s[u-4],s[u-3]],[s[u-2],s[u-1]]);c=["C",v[0],v[1],c[1],c[2],n,r];break;case"M":i=c[c.length-2],o=c[c.length-1];break;default:n=c[c.length-2],r=c[c.length-1]}f.push(c)}return f}function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function W(t,e){return n(t)*n(e)?(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e)):1}function $(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(W(t,e))}function z(t,e){return t[0]===e[0]&&t[1]===e[1]}function K(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function l(l){for(var h,d,t,e,f,p,g,y,_,m,n,r,v,b,O=[],i=null,x=null,E=null,w=0,M=(l=G(l)).length,P=0;P<M;P++){var o=l[P],x=l[P+1],a=o[0],s={command:a,prePoint:i,params:o,startTangent:null,endTangent:null};switch(a){case"M":E=[o[1],o[2]],w=P;break;case"A":h=i,r=v=n=b=_=y=c=v=c=r=n=m=_=y=g=p=f=e=t=void 0,t=(d=o)[1],e=d[2],f=Object(U.mod)(Object(U.toRadian)(d[3]),2*Math.PI),p=d[4],g=d[5],y=h[0],_=h[1],m=d[6],d=d[7],n=Math.cos(f)*(y-m)/2+Math.sin(f)*(_-d)/2,r=-1*Math.sin(f)*(y-m)/2+Math.cos(f)*(_-d)/2,1<(c=n*n/(t*t)+r*r/(e*e))&&(t*=Math.sqrt(c),e*=Math.sqrt(c)),c=(c=t*t*(r*r)+e*e*(n*n))?Math.sqrt((t*t*(e*e)-c)/c):1,p===g&&(c*=-1),isNaN(c)&&(c=0),v=e?c*t*r/e:0,c=t?c*-e*n/t:0,y=(y+m)/2+Math.cos(f)*v-Math.sin(f)*c,_=(_+d)/2+Math.sin(f)*v+Math.cos(f)*c,b=[(n-v)/t,(r-c)/e],n=[(-1*n-v)/t,(-1*r-c)/e],v=$([1,0],b),r=$(b,n),W(b,n)<=-1&&(r=Math.PI),1<=W(b,n)&&(r=0),0===g&&0<r&&(r-=2*Math.PI),1===g&&r<0&&(r+=2*Math.PI);var c={cx:y,cy:_,rx:z(h,[m,d])?0:t,ry:z(h,[m,d])?0:e,startAngle:v,endAngle:v+r,xRotation:f,arcFlag:p,sweepFlag:g};s.arcParams=c}"Z"===a?(i=E,x=l[w+1]):(F=o.length,i=[o[F-2],o[F-1]]),x&&"Z"===x[0]&&(x=l[w],O[w]&&(O[w].prePoint=i)),s.currentPoint=i,O[w]&&z(i,O[w].currentPoint)&&(O[w].prePoint=s.prePoint);var C,A,S,j,D,T,I,k,L,R,B,N,F=x?[x[x.length-2],x[x.length-1]]:null,u=(s.nextPoint=F,s.prePoint);["L","H","V"].includes(a)?(s.startTangent=[u[0]-i[0],u[1]-i[1]],s.endTangent=[i[0]-u[0],i[1]-u[1]]):"Q"===a?(C=[o[1],o[2]],s.startTangent=[u[0]-C[0],u[1]-C[1]],s.endTangent=[i[0]-C[0],i[1]-C[1]]):"T"===a?(C=K((A=O[P-1]).currentPoint,u),"Q"===A.command?(s.command="Q",s.startTangent=[u[0]-C[0],u[1]-C[1]],s.endTangent=[i[0]-C[0],i[1]-C[1]]):(s.command="TL",s.startTangent=[u[0]-i[0],u[1]-i[1]],s.endTangent=[i[0]-u[0],i[1]-u[1]])):"C"===a?(S=[o[1],o[2]],j=[o[3],o[4]],s.startTangent=[u[0]-S[0],u[1]-S[1]],s.endTangent=[i[0]-j[0],i[1]-j[1]],0===s.startTangent[0]&&0===s.startTangent[1]&&(s.startTangent=[S[0]-j[0],S[1]-j[1]]),0===s.endTangent[0]&&0===s.endTangent[1]&&(s.endTangent=[j[0]-S[0],j[1]-S[1]])):"S"===a?(S=K((A=O[P-1]).currentPoint,u),j=[o[1],o[2]],"C"===A.command?(s.command="C",s.startTangent=[u[0]-S[0],u[1]-S[1]]):(s.command="SQ",s.startTangent=[u[0]-j[0],u[1]-j[1]]),s.endTangent=[i[0]-j[0],i[1]-j[1]]):"A"===a&&(a=.001,D=void 0===(D=(R=s.arcParams||{}).cx)?0:D,T=void 0===(T=R.cy)?0:T,B=R.rx,I=void 0===(I=R.ry)?0:I,k=R.sweepFlag,L=void 0===(L=R.startAngle)?0:L,R=void 0===(R=R.endAngle)?0:R,0===(void 0===k?0:k)&&(a*=-1),B=(k=void 0===B?0:B)*Math.cos(L-a)+D,N=I*Math.sin(L-a)+T,s.startTangent=[B-E[0],N-E[1]],B=k*Math.cos(L+R+a)+D,N=I*Math.sin(L+R-a)+T,s.endTangent=[u[0]-B,u[1]-N]),O.push(s)}return O}Math.PI;var d=function(t,e,n){return e<=t&&t<=n};function h(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function f(t,l,e){var n=!1,r=t.length;if(!(r<=2)){for(var i,o,a,s=0;s<r;s++){var c=t[s],u=t[(s+1)%r];if(o=u,((a=[l,e])[0]-(i=c)[0])*(o[1]-i[1])==(o[0]-i[0])*(a[1]-i[1])&&Math.min(i[0],o[0])<=a[0]&&a[0]<=Math.max(i[0],o[0])&&Math.min(i[1],o[1])<=a[1]&&a[1]<=Math.max(i[1],o[1]))return 1;0<h(c[1]-e)!=0<h(u[1]-e)&&h(l-(e-c[1])*(c[0]-u[0])/(c[1]-u[1])-c[0])<0&&(n=!n)}return n}}function p(t){for(var e,n,r=[],i=t.length,o=0;o<i-1;o++){var a=t[o],s=t[o+1];r.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return 1<r.length&&(e=t[0],n=t[i-1],r.push({from:{x:n[0],y:n[1]},to:{x:e[0],y:e[1]}})),r}function g(t,l){var h=!1;return Object(U.each)(t,function(t){if(e=t.from,t=t.to,n=l.from,r=l.to,o=n.x-e.x,a=n.y-e.y,s=t.x-e.x,t=t.y-e.y,c=r.x-n.x,r=r.y-n.y,u=null,.001*(s*s+t*t)*(c*c+r*r)<(n=s*r-t*c)*n&&(i=(o*t-a*s)/n,d(o=(o*r-a*c)/n,0,1)&&d(i,0,1)&&(u={x:e.x+o*s,y:e.y+o*t})),u)return!(h=!0);var e,n,r,i,o,a,s,c,u}),h}function y(t){var e=t.map(function(t){return t[0]}),t=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function _(e,n){if(e.length<2||n.length<2)return!1;var t=y(e),r=y(n);if(r.minX>t.maxX||r.maxX<t.minX||r.minY>t.maxY||r.maxY<t.minY)return!1;var i=!1;if(Object(U.each)(n,function(t){if(f(e,t[0],t[1]))return!(i=!0)}),i)return!0;if(Object(U.each)(e,function(t){if(f(n,t[0],t[1]))return!(i=!0)}),i)return!0;var o=p(e),r=p(n),a=!1;return Object(U.each)(r,function(t){if(g(o,t))return!(a=!0)}),a}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"]},function(n,t,e){"use strict";e.d(t,"a",function(){return i}),e.d(t,"d",function(){return o}),e.d(t,"b",function(){return h}),e.d(t,"c",function(){return r}),e.d(t,"e",function(){return d}),e.d(t,"h",function(){return f}),e.d(t,"f",function(){return p}),e.d(t,"g",function(){return g});var u=e(0),a=e(212),P=e(151),l=e(30),C=e(67),s={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function i(t,e){var n,r=e.attr();for(n in r){var i=r[n],o=s[n]||n;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?Object(u.isArray)(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=Object(a.b)(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function o(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function h(n,t,e){var r=n.get("refreshElements");Object(u.each)(r,function(t){if(t!==n)for(var e=t.cfg.parent;e&&e!==n&&!e.cfg.refresh;)e.cfg.refresh=!0,e=e.cfg.parent}),(r[0]===n?c:function t(e,n){for(var r,i=0;i<e.length;i++){var o,a=e[i];a.cfg.visible&&(a.cfg.hasChanged?(a.cfg.refresh=!0,a.isGroup()&&c(a.cfg.children,n)):a.cfg.refresh?a.isGroup()&&t(a.cfg.children,n):(r=n,o=void 0,o=a.cfg.cacheCanvasBBox,o=a.cfg.isInView&&o&&Object(l.f)(o,r),(a.cfg.refresh=o)&&a.isGroup()&&t(a.cfg.children,n)))}})(t,e)}function r(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&r(n.cfg.children)}}function c(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&c(r.get("children"),e)}}function d(l,t,h,d){var e=h.path,f=h.startArrow,n=h.endArrow;if(e){var p=[0,0],g=[0,0],r={dx:0,dy:0};t.beginPath();for(var i=0;i<e.length;i++){var o,a=e[i],y=a[0],_=(0===i&&f&&f.d?(o=l.getStartTangent(),r=C.c(o[0][0],o[0][1],o[1][0],o[1][1],f.d)):i===e.length-2&&"Z"===e[i+1][0]&&n&&n.d?"Z"===e[i+1][0]&&(o=l.getEndTangent(),r=C.c(o[0][0],o[0][1],o[1][0],o[1][1],n.d)):i===e.length-1&&n&&n.d&&"Z"!==e[0]&&(o=l.getEndTangent(),r=C.c(o[0][0],o[0][1],o[1][0],o[1][1],n.d)),r.dx),m=r.dy;switch(y){case"M":t.moveTo(a[1]-_,a[2]-m),g=[a[1],a[2]];break;case"L":t.lineTo(a[1]-_,a[2]-m);break;case"Q":t.quadraticCurveTo(a[1],a[2],a[3]-_,a[4]-m);break;case"C":t.bezierCurveTo(a[1],a[2],a[3],a[4],a[5]-_,a[6]-m);break;case"A":var v,b,s=void 0,O=(d?(s=d[i])||(s=Object(P.a)(p,a),d[i]=s):s=Object(P.a)(p,a),s.cx),x=s.cy,c=s.rx,u=s.ry,E=s.startAngle,w=s.endAngle,M=s.xRotation,s=s.sweepFlag;t.ellipse?t.ellipse(O,x,c,u,M,E,w,1-s):(v=u<c?c:u,b=u<c?1:c/u,u=u<c?u/c:1,t.translate(O,x),t.rotate(M),t.scale(b,u),t.arc(0,0,v,E,w,1-s),t.scale(1/b,1/u),t.rotate(-M),t.translate(-O,-x));break;case"Z":t.closePath()}p="Z"===y?g:[a[(y=a.length)-2],a[y-1]]}}}function f(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function p(t){if(!t.length)return null;var o=[],a=[],s=[],c=[];return Object(u.each)(t,function(t){(t=t).destroyed?e=t._cacheCanvasBBox:(i=(n=t.get("cacheCanvasBBox"))&&!(!n.width||!n.height),r=(t=t.getCanvasBBox())&&!(!t.width||!t.height),i&&r?e=Object(l.l)(n,t):i?e=n:r&&(e=t));var e,n,r,i=e;i&&(o.push(i.minX),a.push(i.minY),s.push(i.maxX),c.push(i.maxY))}),{minX:Object(u.min)(o),minY:Object(u.min)(a),maxX:Object(u.max)(s),maxY:Object(u.max)(c)}}function g(t,e){return t&&e&&Object(l.f)(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(441),e),i(n(442),e),i(n(293),e),i(n(230),e),i(n(294),e),i(n(443),e)},function(u,t,e){"use strict";e.d(t,"f",function(){return n}),e.d(t,"e",function(){return r}),e.d(t,"d",function(){return i}),e.d(t,"a",function(){return o}),e.d(t,"c",function(){return a}),e.d(t,"g",function(){return s}),e.d(t,"b",function(){return c});var n="range",r="type",i="percent",o="#f0f0f0",a="indicator-view",s="range-view",c={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:((e={})[n]={sync:"v"},e[i]={sync:"v",tickCount:5,tickInterval:.2},e),animation:!1}},function(t,e,n){"use strict";function r(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0,r.prototype.layout=function(t){return this.init(t),this.execute(!0)},r.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[],this.comboEdges=t.comboEdges||[],this.hiddenNodes=t.hiddenNodes||[],this.hiddenEdges=t.hiddenEdges||[],this.hiddenCombos=t.hiddenCombos||[]},r.prototype.execute=function(t){},r.prototype.executeWithWorker=function(){},r.prototype.getDefaultCfg=function(){return{}},r.prototype.updateCfg=function(t){t&&Object.assign(this,t)},r.prototype.getType=function(){return"base"},r.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},e.Base=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NON_CUSTOM_TAG_KEYS=e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct",e.NON_CUSTOM_TAG_KEYS=[e.INJECT_TAG,e.MULTI_INJECT_TAG,e.NAME_TAG,e.UNMANAGED_TAG,e.NAMED_TAG,e.OPTIONAL_TAG]},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var e=n(3),r=n(0),i="x",o="y",a={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+Object(r.get)(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},s={appendPadding:2,tooltip:Object(e.a)({},a),animation:{}}},function(n,t,e){"use strict";e.d(t,"c",function(){return r}),e.d(t,"b",function(){return i}),e.d(t,"a",function(){return o});var f=e(32),p=e(106),g=Math.sin,y=Math.cos,_=Math.atan2,c=Math.PI;function a(t,e,n,r,i,o,a){var s=e.stroke,e=e.lineWidth,r=_(r-o,n-i),n=new p.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*y(c/6)+","+10*g(c/6)+" L0,0 L"+10*y(c/6)+",-"+10*g(c/6),stroke:s,lineWidth:e}});n.translate(i,o),n.rotateAtPoint(i,o,r),t.set(a?"startArrowShape":"endArrowShape",n)}function s(t,e,n,r,i,o,a){var s=e.startArrow,c=e.endArrow,u=e.stroke,e=e.lineWidth,s=a?s:c,c=s.d,l=s.fill,h=s.stroke,d=s.lineWidth,s=Object(f.c)(s,["d","fill","stroke","lineWidth"]),r=_(r-o,n-i),n=(c&&(i-=y(r)*c,o-=g(r)*c),new p.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(f.a)(Object(f.a)({},s),{stroke:h||u,lineWidth:d||e,fill:l})}));n.translate(i,o),n.rotateAtPoint(i,o,r),t.set(a?"startArrowShape":"endArrowShape",n)}function r(t,e,n,r,i){r=_(r-e,n-t);return{dx:y(r)*i,dy:g(r)*i}}function i(t,e,n,r,i,o){"object"==typeof e.startArrow?s(t,e,n,r,i,o,!0):e.startArrow?a(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function o(t,e,n,r,i,o){"object"==typeof e.endArrow?s(t,e,n,r,i,o,!1):e.endArrow?a(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}},,function(c,l,t){"use strict";t.d(l,"a",function(){return p}),t.d(l,"b",function(){return K}),t.d(l,"c",function(){return ut});var n={},z=(t.r(n),t.d(n,"default",function(){return L}),t.d(n,"assign",function(){return v}),t.d(n,"format",function(){return I}),t.d(n,"parse",function(){return k}),t.d(n,"defaultI18n",function(){return w}),t.d(n,"setGlobalDateI18n",function(){return P}),t.d(n,"setGlobalDateMasks",function(){return T}),t(0)),h={};function e(t,e){h[t]=e}r.prototype.translate=function(t){return t},r.prototype.change=function(t){Object(z.assign)(this.__cfg__,t),this.init()},r.prototype.clone=function(){return this.constructor(this.__cfg__)},r.prototype.getTicks=function(){var n=this;return Object(z.map)(this.ticks,function(t,e){return Object(z.isObject)(t)?t:{text:n.getText(t,e),tickValue:t,value:n.scale(t)}})},r.prototype.getText=function(t,e){var n=this.formatter,n=n?n(t,e):t;return Object(z.isNil)(n)||!Object(z.isFunction)(n.toString)?"":n.toString()},r.prototype.getConfig=function(t){return this.__cfg__[t]},r.prototype.init=function(){Object(z.assign)(this,this.__cfg__),this.setDomain(),Object(z.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},r.prototype.initCfg=function(){},r.prototype.setDomain=function(){},r.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(z.isString)(t)){var n=h[t];if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else Object(z.isFunction)(t)&&(e=t(this));return e},r.prototype.rangeMin=function(){return this.range[0]},r.prototype.rangeMax=function(){return this.range[1]},r.prototype.calcPercent=function(t,e,n){return Object(z.isNumber)(t)?(t-e)/(n-e):NaN},r.prototype.calcValue=function(t,e,n){return e+t*(n-e)};var l=r,d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create,Object.create;i(o,f=l),o.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},o.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return e=void 0===e?Object(z.isNumber)(t)?t:NaN:e},o.prototype.scale=function(t){t=this.translate(t),t=this.calcPercent(t,this.min,this.max);return this.calcValue(t,this.rangeMin(),this.rangeMax())},o.prototype.invert=function(t){var e=this.max-this.min,t=this.calcPercent(t,this.rangeMin(),this.rangeMax()),e=Math.round(e*t)+this.min;return e<this.min||e>this.max?NaN:this.values[e]},o.prototype.getText=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t;return Object(z.isNumber)(t)&&!this.values.includes(t)&&(r=this.values[r]),f.prototype.getText.apply(this,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([r],e,!1))},o.prototype.initCfg=function(){this.tickMethod="cat"},o.prototype.setDomain=function(){var t;Object(z.isNil)(this.getConfig("min"))&&(this.min=0),Object(z.isNil)(this.getConfig("max"))&&(t=this.values.length,this.max=1<t?t-1:t),this.translateIndexMap&&(this.translateIndexMap=void 0)};var f,p=o,y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,t="[^\\s]+",_=/\[([^]*?)\]/gm;function o(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}function g(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function m(n){return function(t,e){e=e[n].map(function(t){return t.toLowerCase()}).indexOf(t.toLowerCase());return-1<e?e:null}}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o,a=i[r];for(o in a)t[o]=a[o]}return t}function a(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t}function b(t){return+t-1}var O=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x=["January","February","March","April","May","June","July","August","September","October","November","December"],E=g(x,3),w={dayNamesShort:g(O,3),dayNames:O,monthNamesShort:E,monthNames:x,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10?1:0)*t%10]}},M=v({},w),P=function(t){return M=v(M,t)},C=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},A={D:function(t){return String(t.getDate())},DD:function(t){return a(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return a(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return a(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return a(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return a(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return a(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return a(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return a(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return a(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return a(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return a(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return(t.getHours()<12?e.amPm[0]:e.amPm[1]).toUpperCase()},ZZ:function(t){t=t.getTimezoneOffset();return(0<t?"-":"+")+a(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(t){t=t.getTimezoneOffset();return(0<t?"-":"+")+a(Math.floor(Math.abs(t)/60),2)+":"+a(Math.abs(t)%60,2)}},O=[null,"[1-9]\\d?"],E=[null,t],x=["isPm",t,function(t,e){t=t.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],S=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e,t=(t+"").match(/([+-]|\d\d)/gi);return t?(e=60*+t[1]+parseInt(t[2],10),"+"===t[0]?e:-e):0}],j={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+t,function(t){return parseInt(t,10)}],M:["month","[1-9]\\d?",b],MM:["month","\\d\\d",b],YY:["year","\\d\\d",function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(68<+t?e-1:e)+t)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond","\\d\\d",function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:O,dd:O,ddd:E,dddd:E,MMM:["month",t,m("monthNamesShort")],MMMM:["month",t,m("monthNames")],a:x,A:x,ZZ:S,Z:S},D={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},T=function(t){return v(D,t)},I=function(e,t,n){if(void 0===t&&(t=D.default),void 0===n&&(n={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var r=[],i=(t=(t=D[t]||t).replace(_,function(t,e){return r.push(e),"@@@"}),v(v({},M),n));return(t=t.replace(y,function(t){return A[t](e,i)})).replace(/@@@/g,function(){return r.shift()})};function k(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=D[e]||e,1e3<t.length)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],l=[],e=e.replace(_,function(t,e){return l.push(C(e)),"@@@"}),o={},h={},e=C(e).replace(y,function(t){var t=j[t],e=t[0],n=t[1],r=t[3];if(o[e])throw new Error("Invalid format. "+e+" specified twice in format");return o[e]=!0,r&&(h[r]=!0),i.push(t),"("+n+")"}),a=(Object.keys(h).forEach(function(t){if(!o[t])throw new Error("Invalid format. "+t+" is required in specified format")}),e=e.replace(/@@@/g,function(){return l.shift()}),t.match(new RegExp(e,"i")));if(!a)return null;for(var d=v(v({},M),n),s=1;s<a.length;s++){var c=i[s-1],f=c[0],c=c[2],c=c?c(a[s],d):+a[s];if(null==c)return null;r[f]=c}1===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:0===r.isPm&&12==+r.hour&&(r.hour=0);for(var p=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),u=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],g=(s=0,u.length);s<g;s++)if(o[u[s][0]]&&r[u[s][0]]!==p[u[s][1]]())return null;return null==r.timezoneOffset?p:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var L={format:I,parse:k,defaultI18n:w,setGlobalDateI18n:P,setGlobalDateMasks:T};function R(t,e){return(n.format||L.format)(t,e)}function B(t){return Object(z.isString)(t)&&(t=(0<t.indexOf("T")?new Date(t):new Date(t.replace(/-/gi,"/"))).getTime()),t=Object(z.isDate)(t)?t.getTime():t}var N=864e5,F=31*N,U=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",36e5],["HH",216e5],["HH",432e5],["YYYY-MM-DD",N],["YYYY-MM-DD",4*N],["YYYY-WW",7*N],["YYYY-MM",F],["YYYY-MM",4*F],["YYYY-MM",6*F],["YYYY",32832e6]];i(Y,$=p),Y.prototype.translate=function(t){t=B(t);var e=this.values.indexOf(t);return e=-1===e?Object(z.isNumber)(t)&&t<this.values.length?t:NaN:e},Y.prototype.getText=function(t,e){var n,r=this.translate(t);return-1<r?(r=this.values[r],(n=this.formatter)?n(r,e):R(r,this.mask)):t},Y.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},Y.prototype.setDomain=function(){var n=this.values;Object(z.each)(n,function(t,e){n[e]=B(t)}),n.sort(function(t,e){return t-e}),$.prototype.setDomain.call(this)};var W,G,$,O=Y,E=(i(X,G=l),X.prototype.scale=function(t){if(Object(z.isNil)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},X.prototype.init=function(){G.prototype.init.call(this);var t=this.ticks,e=Object(z.head)(t),t=Object(z.last)(t);e<this.min&&(this.min=e),t>this.max&&(this.max=t),Object(z.isNil)(this.minLimit)||(this.min=e),Object(z.isNil)(this.maxLimit)||(this.max=t)},X.prototype.setDomain=function(){var t=Object(z.getRange)(this.values),e=t.min,t=t.max;Object(z.isNil)(this.min)&&(this.min=e),Object(z.isNil)(this.max)&&(this.max=t),this.min>this.max&&(this.min=e,this.max=t)},X.prototype.calculateTicks=function(){var e=this,t=G.prototype.calculateTicks.call(this);return t=this.nice?t:Object(z.filter)(t,function(t){return t>=e.min&&t<=e.max})},X.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},X.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},X),K=(i(V,W=E),V.prototype.invert=function(t){t=this.getInvertPercent(t);return this.min+t*(this.max-this.min)},V.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},V);function V(){var t=null!==W&&W.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}function X(){var t=null!==G&&G.apply(this,arguments)||this;return t.isContinuous=!0,t}function Y(){var t=null!==$&&$.apply(this,arguments)||this;return t.type="timeCat",t}function H(t,e){var n=Math.E;return 0<=e?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function u(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function q(t,e,n){var r=n=Object(z.isNil)(n)?Math.max.apply(null,t):n;return Object(z.each)(t,function(t){0<t&&t<r&&(r=t)}),r=1<(r=r===n?n/e:r)?1:r}i(ct,et=E),ct.prototype.invert=function(t){var e,n=this.base,r=u(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(r-(e=u(n,a/n)))*o;if(t<s)return t/s*a}else e=u(n,this.min);return Math.pow(n,(t-i)/o*(r-e)+e)},ct.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},ct.prototype.setDomain=function(){et.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=q(this.values,this.base,this.max))},ct.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=+i/r),t<i?t/i/(u(r,e)-u(r,n)):(u(r,t)-u(r,n))/(u(r,e)-u(r,n))};var Z,Q,J,tt,et,t=ct,x=(i(st,tt=E),st.prototype.invert=function(t){var t=this.getInvertPercent(t),e=this.exponent,n=H(e,this.max),r=H(e,this.min),t=t*(n-r)+r,n=0<=t?1:-1;return Math.pow(t,e)*n},st.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},st.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(H(r,t)-H(r,n))/(H(r,e)-H(r,n))},st),S=(i(at,J=K),at.prototype.getText=function(t,e){var t=this.translate(t),n=this.formatter;return n?n(t,e):R(t,this.mask)},at.prototype.scale=function(t){return(Object(z.isString)(t)||Object(z.isDate)(t))&&(t=this.translate(t)),J.prototype.scale.call(this,t)},at.prototype.translate=B,at.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},at.prototype.setDomain=function(){var n,r,i,o,t=this.values,e=this.getConfig("min"),a=this.getConfig("max");Object(z.isNil)(e)&&Object(z.isNumber)(e)||(this.min=this.translate(this.min)),Object(z.isNil)(a)&&Object(z.isNumber)(a)||(this.max=this.translate(this.max)),t&&t.length&&(n=[],i=r=1/0,o=0,Object(z.each)(t,function(t){var e=B(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");e<r?(i=r,r=e):e<i&&(i=e),o<e&&(o=e),n.push(e)}),1<t.length&&(this.minTickInterval=i-r),Object(z.isNil)(e)&&(this.min=r),Object(z.isNil)(a)&&(this.max=o))},at),E=(i(ot,Q=E),ot.prototype.invert=function(t){var e=this.ticks,n=e.length,t=this.getInvertPercent(t),r=Math.floor(t*(n-1));if(n-1<=r)return Object(z.last)(e);if(r<0)return Object(z.head)(e);var i=e[r],o=r/(n-1);return i+(t-o)/((r+1)/(n-1)-o)*(e[r+1]-i)},ot.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},ot.prototype.calculateTicks=function(){var t=Q.prototype.calculateTicks.call(this);return this.nice||(Object(z.last)(t)!==this.max&&t.push(this.max),Object(z.head)(t)!==this.min&&t.unshift(this.min)),t},ot.prototype.getScalePercent=function(n){var t=this.ticks;if(n<Object(z.head)(t))return 0;if(n>Object(z.last)(t))return 1;var r=0;return Object(z.each)(t,function(t,e){if(!(t<=n))return!1;r=e}),r/(t.length-1)},ot),nt=(i(it,Z=E),it.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},it),rt={};function it(){var t=null!==Z&&Z.apply(this,arguments)||this;return t.type="quantile",t}function ot(){var t=null!==Q&&Q.apply(this,arguments)||this;return t.type="quantize",t}function at(){var t=null!==J&&J.apply(this,arguments)||this;return t.type="time",t}function st(){var t=null!==tt&&tt.apply(this,arguments)||this;return t.type="pow",t}function ct(){var t=null!==et&&et.apply(this,arguments)||this;return t.type="log",t}function ut(t){return rt[t]}function s(t,e){if(ut(t))throw new Error("type '"+t+"' existed.");rt[t]=e}i(ht,lt=l),ht.prototype.calculateTicks=function(){return this.values},ht.prototype.scale=function(t){return this.values[0]!==t&&Object(z.isNumber)(t)?t:this.range[0]},ht.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]};var lt,l=ht;function ht(){var t=null!==lt&&lt.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}function dt(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var ft=[1,5,2,2.5,4,3],pt=100*Number.EPSILON;function gt(t,e,l,h,d,n){void 0===h&&(h=!0),void 0===d&&(d=ft),void 0===n&&(n=[.25,.2,.5,.05]);var f=(l=void 0===l?5:l)<0?0:Math.round(l);if(Number.isNaN(t)||Number.isNaN(e)||"number"!=typeof t||"number"!=typeof e||!f)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===f)return{min:t,max:e,ticks:[t]};for(var r,p,g,i,y,_,m,v,b,o={score:-2,lmin:0,lmax:0,lstep:0},a=1;a<1/0;){for(var s=0;s<d.length;s+=1){var O=d[s],x=(_=O,m=d,v=a,b=void 0,b=Object(z.size)(m),1-Object(z.indexOf)(m,_)/(b-1)-v+1);if(n[0]*x+n[1]+n[2]+n[3]<o.score){a=1/0;break}for(var c=2;c<1/0;){var E=(y=f)<=(w=c)?2-(w-1)/(y-1):1;if(n[0]*x+n[1]+n[2]*E+n[3]<o.score)break;for(var w=(e-t)/(c+1)/a/O,M=Math.ceil(Math.log10(w));M<1/0;){var P=a*O*Math.pow(10,M),C=(S=e,(S-=t)<(C=P*(c-1))?1-Math.pow((C-S)/2,2)/Math.pow(.1*S,2):1);if(n[0]*x+n[1]*C+n[2]*E+n[3]<o.score)break;var A=Math.floor(e/P)*a-(c-1)*a,S=Math.ceil(t/P)*a;if(A<=S)for(var j=S-A,D=0;D<=j;D+=1){var T=(A+D)*(P/a),I=T+P*(c-1),k=P,L=(r=O,L=d,u=a,p=T,g=I,i=k,R=B=void 0,B=Object(z.size)(L),L=Object(z.indexOf)(L,r),r=0,1-L/(B-1)-u+(r=((R=(p%i+i)%i)<pt||i-R<pt)&&p<=0&&0<=g?1:r)),R=(B=T,u=void 0,u=e-(i=t),1-.5*(Math.pow(e-I,2)+Math.pow(i-B,2))/Math.pow(.1*u,2)),B=(p=t,g=((g=c)-1)/(I-(r=T)),i=((i=f)-1)/(Math.max(I,e)-Math.min(p,r)),2-Math.max(g/i,i/g)),u=n[0]*L+n[1]*R+n[2]*B+ +n[3];u>o.score&&(!h||T<=t&&e<=I)&&(o.lmin=T,o.lmax=I,o.lstep=k,o.score=u)}M+=1}c+=1}}a+=1}var l=dt(o.lmax),N=dt(o.lmin),F=dt(o.lstep),U=Math.floor(Math.round((l-N)/F*1e12)/1e12)+1,W=new Array(U);for(W[0]=dt(N),s=1;s<U;s++)W[s]=dt(W[s-1]+F);return{min:Math.min(t,Object(z.head)(W)),max:Math.max(e,Object(z.last)(W)),ticks:W}}function yt(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=e;if(Object(z.isNumber)(n))return Object(z.filter)(i,function(t,e){return e%n==0});var o=t.min,a=t.max;return Object(z.isNil)(o)&&(o=0),Object(z.isNil)(a)&&(a=e.length-1),Object(z.isNumber)(r)&&r<a-o?(i=gt(o,a,r,!1,[1,2,5,3,4,7,6,8,9]).ticks,Object(z.filter)(i,function(t){return o<=t&&t<=a}).map(function(t){return e[t]})):e.slice(o,a+1)}var _t=Math.sqrt(50),mt=Math.sqrt(10),vt=Math.sqrt(2),bt=(Ot.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},Ot.prototype.nice=function(t){void 0===t&&(t=5);var e,n=this._domain.slice(),r=0,i=this._domain.length-1,o=this._domain[r],a=this._domain[i];return a<o&&(o=(e=[a,o])[0],a=e[1],r=(e=[i,r])[0],i=e[1]),0<(e=xt(o,a,t))?e=xt(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=xt(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,this.domain(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,this.domain(n)),this},Ot.prototype.ticks=function(t){void 0===t&&(t=5);var e,n,r,i=this._domain[0],o=this._domain[this._domain.length-1],a=void 0,s=-1;if(a=+(t||5),(i=+i)==(o=+o)&&0<a)return[i];if((t=o<i)&&(e=i,i=o,o=e),0===(r=xt(i,o,a))||!isFinite(r))return[];if(0<r)for(i=Math.ceil(i/r),o=Math.floor(o/r),n=new Array(e=Math.ceil(o-i+1));++s<e;)n[s]=(i+s)*r;else for(i=Math.floor(i*r),o=Math.ceil(o*r),n=new Array(e=Math.ceil(i-o+1));++s<e;)n[s]=(i-s)/r;return t&&n.reverse(),n},Ot);function Ot(){this._domain=[0,1]}function xt(t,e,n){e=(e-t)/Math.max(0,n),t=Math.floor(Math.log(e)/Math.LN10),n=e/Math.pow(10,t);return 0<=t?(_t<=n?10:mt<=n?5:vt<=n?2:1)*Math.pow(10,t):-Math.pow(10,-t)/(_t<=n?10:mt<=n?5:vt<=n?2:1)}function Et(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function wt(t,e,n){for(var t=Et(t,n,"floor"),r=Et(e,n,"ceil"),t=Object(z.fixedBase)(t,n),r=Object(z.fixedBase)(r,n),i=[],o=t;o<=r;o+=n){var a=Object(z.fixedBase)(o,n);i.push(a)}return{min:t,max:r,ticks:i}}function Mt(t,e,n){var r=t.minLimit,i=t.maxLimit,o=t.min,l=t.max,t=t.tickCount,a=void 0===t?5:t,s=Object(z.isNil)(r)?Object(z.isNil)(e)?o:e:r,t=Object(z.isNil)(i)?Object(z.isNil)(n)?l:n:i;if(t<s&&(t=(o=[s,t])[0],s=o[1]),a<=2)return[s,t];for(var h=(t-s)/(a-1),c=[],u=0;u<a;u++)c.push(s+h*u);return c}function Pt(t,e,n){if(t===e)return{max:e,min:t,ticks:[t]};n=(n=void 0===n?5:n)<0?0:Math.round(n);if(0===n)return{max:e,min:t,ticks:[]};var n=(e-t)/n,r=Math.pow(10,Math.floor(Math.log10(n))),i=r;2*r-n<1.5*(n-i)&&5*r-n<2.75*(n-(i=2*r))&&10*r-n<1.5*(n-(i=5*r))&&(i=10*r);for(var n=Math.ceil(e/i),r=Math.floor(t/i),n=Math.max(n*i,e),o=Math.min(r*i,t),a=Math.floor((n-o)/i)+1,s=new Array(a),c=0;c<a;c++)s[c]=dt(o+c*i);return{min:o,max:n,ticks:s}}function Ct(t){return new Date(t).getFullYear()}function At(t){return new Date(t).getMonth()}e("cat",yt),e("time-cat",function(t){var e=yt(t),t=Object(z.last)(t.values);return t!==Object(z.last)(e)&&e.push(t),e}),e("wilkinson-extended",function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,r=gt(e,n,r,i).ticks;return Object(z.isNil)(a)&&Object(z.isNil)(s)?o?wt(e,n,o).ticks:r:Mt(t,Object(z.head)(r),Object(z.last)(r))}),e("r-pretty",function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,r=Pt(e,n,r).ticks;return Object(z.isNil)(o)&&Object(z.isNil)(a)?i?wt(e,n,i).ticks:r:Mt(t,Object(z.head)(r),Object(z.last)(r))}),e("time",function(t){var e,n,r=t.min,i=t.max,o=t.minTickInterval,a=t.tickInterval,t=t.tickCount;a?t=Math.ceil((i-r)/a):(1<(n=(i-r)/(n=function(t,e,n,r){for(var i=Object(z.isNil)(n)?0:n,o=Object(z.isNil)(r)?t.length:r;i<o;){var a=i+o>>>1;t[a][1]>e?o=a:i=1+a}return i}(U,((n=i)-(e=r))/t)-1,e=U[n],n<0?e=U[0]:U.length<=n&&(e=Object(z.last)(U)),a=e[1])/t)&&(a*=Math.ceil(n)),o&&a<o&&(a=o));for(var s=[],c=r;c<i+a;c+=a)s.push(c);return s}),e("time-pretty",function(t){var l,e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,t=t.tickInterval,o=[],h=(t||(t=(n-e)/i,r&&t<r&&(t=r)),Ct(e));if(31536e6<t)for(var d=Ct(n),f=Math.ceil(t/31536e6),a=h;a<=d+f;a+=f)o.push(new Date(a,0,1).getTime());else if(F<t)for(var p=Math.ceil(t/F),g=At(e),y=(i=n,l=Ct(r=e),u=Ct(i),r=At(r),12*(u-l)+(At(i)-r)%12),a=0;a<=y+p;a+=p)o.push(new Date(h,a+g,1).getTime());else if(N<t){var _=(c=new Date(e)).getFullYear(),m=c.getMonth(),v=c.getDate(),s=Math.ceil(t/N),b=Math.ceil((n-e)/N);for(a=0;a<b+s;a+=s)o.push(new Date(_,m,v+a).getTime())}else if(36e5<t){var c,_=(c=new Date(e)).getFullYear(),m=c.getMonth(),s=c.getDate(),O=c.getHours(),x=Math.ceil(t/36e5),E=Math.ceil((n-e)/36e5);for(a=0;a<=E+x;a+=x)o.push(new Date(_,m,s,O+a).getTime())}else if(6e4<t){var w=Math.ceil((n-e)/6e4),M=Math.ceil(t/6e4);for(a=0;a<=w+M;a+=M)o.push(e+6e4*a)}else{var u=t,P=(t<1e3&&(u=1e3),1e3*Math.floor(e/1e3)),C=Math.ceil((n-e)/1e3),A=Math.ceil(u/1e3);for(a=0;a<C+A;a+=A)o.push(P+1e3*a)}return 512<=o.length&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+t+") is too small, increase the value to solve the problem!"),o}),e("log",function(t){var e=t.base,n=t.tickCount,r=t.min,i=t.max,t=t.values,o=u(e,i);i=0<r?Math.floor(u(e,r)):(t=q(t,e,i),Math.floor(u(e,t)));for(var a=Math.ceil((o-i)/n),s=[],c=i;c<o+a;c+=a)s.push(Math.pow(e,c));return r<=0&&s.unshift(0),s}),e("pow",function(t){var n=t.exponent,e=t.tickCount,r=Math.ceil(H(n,t.max));return Pt(Math.floor(H(n,t.min)),r,e).ticks.map(function(t){var e=0<=t?1:-1;return Math.pow(t,n)*e})}),e("quantile",function(t){var e=t.tickCount,t=t.values;if(!t||!t.length)return[];for(var n,r,i,o=t.slice().sort(function(t,e){return t-e}),a=[],s=0;s<e;s++)a.push((r=s/(e-1),i=void 0,i=(n=o).length*r,1===r?n[n.length-1]:0===r?n[0]:i%1!=0?n[Math.ceil(i)-1]:n.length%2==0?(n[i-1]+n[i])/2:n[i]));return a}),e("d3-linear",function(t){var e,n,r,i,o=t.min,a=t.max,s=t.tickInterval,c=t.minLimit,l=t.maxLimit,u=(u=t.min,e=t.max,n=t.nice,r=t.tickCount,(i=new bt).domain([u,e]),n&&i.nice(r),i.ticks(r));return Object(z.isNil)(c)&&Object(z.isNil)(l)?s?wt(o,a,s).ticks:u:Mt(t,Object(z.head)(u),Object(z.last)(u))}),s("cat",p),s("category",p),s("identity",l),s("linear",K),s("log",t),s("pow",x),s("time",S),s("timeCat",O),s("quantize",E),s("quantile",nt)},function(u,e,n){"use strict";n.r(e),n.d(e,"version",function(){return c});var t,r=n(106),i=(n.d(e,"Shape",function(){return r}),n(36));for(t in i)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(t)<0&&function(t){n.d(e,t,function(){return i[t]})}(t);var o=n(387),a=(n.d(e,"Canvas",function(){return o.a}),n(134)),s=(n.d(e,"Group",function(){return a.a}),n(151)),c=(n.d(e,"getArcParams",function(){return s.a}),"0.5.12")},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});var r=n(53);function i(t,e){var n,r=t.cfg.el,t=t.attr(),t={dx:t.shadowOffsetX,dy:t.shadowOffsetY,blur:t.shadowBlur,color:t.shadowColor};t.dx||t.dy||t.blur||t.color?(n=(n=e.find("filter",t))||e.addShadow(t),r.setAttribute("filter","url(#"+n+")")):r.removeAttribute("filter")}function o(t){var e=t.attr().matrix;if(e){for(var t=t.cfg.el,n=[],r=0;r<9;r+=3)n.push(e[r]+","+e[r+1]);-1===(n=n.join(",")).indexOf("NaN")?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)}}function a(t,e){var n=t.getClip(),t=t.get("el");n?t.hasAttribute("clip-path")||(Object(r.a)(n),n.createPath(e),e=e.addClip(n),t.setAttribute("clip-path","url(#"+e+")")):t.removeAttribute("clip-path")}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),i=function(t,e){t&&(Object(r.isFunction)(t)?t(e):t.current=e)}},,function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),(n=r=r||{})[n.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",n[n.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",n[n.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n[n.ZERO=0]="ZERO",n[n.ONE=1]="ONE",n[n.SRC_COLOR=768]="SRC_COLOR",n[n.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",n[n.SRC_ALPHA=770]="SRC_ALPHA",n[n.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",n[n.DST_ALPHA=772]="DST_ALPHA",n[n.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",n[n.DST_COLOR=774]="DST_COLOR",n[n.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",n[n.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",n[n.FUNC_ADD=32774]="FUNC_ADD",n[n.BLEND_EQUATION=32777]="BLEND_EQUATION",n[n.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",n[n.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",n[n.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",n[n.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",n[n.MAX_EXT=32776]="MAX_EXT",n[n.MIN_EXT=32775]="MIN_EXT",n[n.BLEND_DST_RGB=32968]="BLEND_DST_RGB",n[n.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",n[n.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",n[n.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",n[n.CONSTANT_COLOR=32769]="CONSTANT_COLOR",n[n.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",n[n.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",n[n.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",n[n.BLEND_COLOR=32773]="BLEND_COLOR",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",n[n.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",n[n.STREAM_DRAW=35040]="STREAM_DRAW",n[n.STATIC_DRAW=35044]="STATIC_DRAW",n[n.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",n[n.BUFFER_SIZE=34660]="BUFFER_SIZE",n[n.BUFFER_USAGE=34661]="BUFFER_USAGE",n[n.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",n[n.FRONT=1028]="FRONT",n[n.BACK=1029]="BACK",n[n.FRONT_AND_BACK=1032]="FRONT_AND_BACK",n[n.CULL_FACE=2884]="CULL_FACE",n[n.BLEND=3042]="BLEND",n[n.DITHER=3024]="DITHER",n[n.STENCIL_TEST=2960]="STENCIL_TEST",n[n.DEPTH_TEST=2929]="DEPTH_TEST",n[n.SCISSOR_TEST=3089]="SCISSOR_TEST",n[n.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",n[n.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",n[n.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",n[n.NO_ERROR=0]="NO_ERROR",n[n.INVALID_ENUM=1280]="INVALID_ENUM",n[n.INVALID_VALUE=1281]="INVALID_VALUE",n[n.INVALID_OPERATION=1282]="INVALID_OPERATION",n[n.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",n[n.CW=2304]="CW",n[n.CCW=2305]="CCW",n[n.LINE_WIDTH=2849]="LINE_WIDTH",n[n.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",n[n.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",n[n.CULL_FACE_MODE=2885]="CULL_FACE_MODE",n[n.FRONT_FACE=2886]="FRONT_FACE",n[n.DEPTH_RANGE=2928]="DEPTH_RANGE",n[n.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",n[n.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",n[n.DEPTH_FUNC=2932]="DEPTH_FUNC",n[n.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",n[n.STENCIL_FUNC=2962]="STENCIL_FUNC",n[n.STENCIL_FAIL=2964]="STENCIL_FAIL",n[n.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",n[n.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",n[n.STENCIL_REF=2967]="STENCIL_REF",n[n.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",n[n.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",n[n.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",n[n.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",n[n.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",n[n.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",n[n.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",n[n.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",n[n.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",n[n.VIEWPORT=2978]="VIEWPORT",n[n.SCISSOR_BOX=3088]="SCISSOR_BOX",n[n.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",n[n.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",n[n.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",n[n.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",n[n.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",n[n.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",n[n.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",n[n.RED_BITS=3410]="RED_BITS",n[n.GREEN_BITS=3411]="GREEN_BITS",n[n.BLUE_BITS=3412]="BLUE_BITS",n[n.ALPHA_BITS=3413]="ALPHA_BITS",n[n.DEPTH_BITS=3414]="DEPTH_BITS",n[n.STENCIL_BITS=3415]="STENCIL_BITS",n[n.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",n[n.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",n[n.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",n[n.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",n[n.SAMPLES=32937]="SAMPLES",n[n.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",n[n.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",n[n.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",n[n.DONT_CARE=4352]="DONT_CARE",n[n.FASTEST=4353]="FASTEST",n[n.NICEST=4354]="NICEST",n[n.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",n[n.BYTE=5120]="BYTE",n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.SHORT=5122]="SHORT",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.INT=5124]="INT",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.FLOAT=5126]="FLOAT",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.ALPHA=6406]="ALPHA",n[n.RGB=6407]="RGB",n[n.RGBA=6408]="RGBA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",n[n.VERTEX_SHADER=35633]="VERTEX_SHADER",n[n.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",n[n.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",n[n.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",n[n.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",n[n.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",n[n.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",n[n.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",n[n.SHADER_TYPE=35663]="SHADER_TYPE",n[n.DELETE_STATUS=35712]="DELETE_STATUS",n[n.LINK_STATUS=35714]="LINK_STATUS",n[n.VALIDATE_STATUS=35715]="VALIDATE_STATUS",n[n.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",n[n.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",n[n.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",n[n.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",n[n.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",n[n.NEVER=512]="NEVER",n[n.LESS=513]="LESS",n[n.EQUAL=514]="EQUAL",n[n.LEQUAL=515]="LEQUAL",n[n.GREATER=516]="GREATER",n[n.NOTEQUAL=517]="NOTEQUAL",n[n.GEQUAL=518]="GEQUAL",n[n.ALWAYS=519]="ALWAYS",n[n.KEEP=7680]="KEEP",n[n.REPLACE=7681]="REPLACE",n[n.INCR=7682]="INCR",n[n.DECR=7683]="DECR",n[n.INVERT=5386]="INVERT",n[n.INCR_WRAP=34055]="INCR_WRAP",n[n.DECR_WRAP=34056]="DECR_WRAP",n[n.VENDOR=7936]="VENDOR",n[n.RENDERER=7937]="RENDERER",n[n.VERSION=7938]="VERSION",n[n.NEAREST=9728]="NEAREST",n[n.LINEAR=9729]="LINEAR",n[n.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",n[n.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",n[n.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",n[n.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",n[n.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",n[n.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",n[n.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",n[n.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE=5890]="TEXTURE",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n[n.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",n[n.TEXTURE0=33984]="TEXTURE0",n[n.TEXTURE1=33985]="TEXTURE1",n[n.TEXTURE2=33986]="TEXTURE2",n[n.TEXTURE3=33987]="TEXTURE3",n[n.TEXTURE4=33988]="TEXTURE4",n[n.TEXTURE5=33989]="TEXTURE5",n[n.TEXTURE6=33990]="TEXTURE6",n[n.TEXTURE7=33991]="TEXTURE7",n[n.TEXTURE8=33992]="TEXTURE8",n[n.TEXTURE9=33993]="TEXTURE9",n[n.TEXTURE10=33994]="TEXTURE10",n[n.TEXTURE11=33995]="TEXTURE11",n[n.TEXTURE12=33996]="TEXTURE12",n[n.TEXTURE13=33997]="TEXTURE13",n[n.TEXTURE14=33998]="TEXTURE14",n[n.TEXTURE15=33999]="TEXTURE15",n[n.TEXTURE16=34e3]="TEXTURE16",n[n.TEXTURE17=34001]="TEXTURE17",n[n.TEXTURE18=34002]="TEXTURE18",n[n.TEXTURE19=34003]="TEXTURE19",n[n.TEXTURE20=34004]="TEXTURE20",n[n.TEXTURE21=34005]="TEXTURE21",n[n.TEXTURE22=34006]="TEXTURE22",n[n.TEXTURE23=34007]="TEXTURE23",n[n.TEXTURE24=34008]="TEXTURE24",n[n.TEXTURE25=34009]="TEXTURE25",n[n.TEXTURE26=34010]="TEXTURE26",n[n.TEXTURE27=34011]="TEXTURE27",n[n.TEXTURE28=34012]="TEXTURE28",n[n.TEXTURE29=34013]="TEXTURE29",n[n.TEXTURE30=34014]="TEXTURE30",n[n.TEXTURE31=34015]="TEXTURE31",n[n.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",n[n.REPEAT=10497]="REPEAT",n[n.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n[n.FLOAT_VEC2=35664]="FLOAT_VEC2",n[n.FLOAT_VEC3=35665]="FLOAT_VEC3",n[n.FLOAT_VEC4=35666]="FLOAT_VEC4",n[n.INT_VEC2=35667]="INT_VEC2",n[n.INT_VEC3=35668]="INT_VEC3",n[n.INT_VEC4=35669]="INT_VEC4",n[n.BOOL=35670]="BOOL",n[n.BOOL_VEC2=35671]="BOOL_VEC2",n[n.BOOL_VEC3=35672]="BOOL_VEC3",n[n.BOOL_VEC4=35673]="BOOL_VEC4",n[n.FLOAT_MAT2=35674]="FLOAT_MAT2",n[n.FLOAT_MAT3=35675]="FLOAT_MAT3",n[n.FLOAT_MAT4=35676]="FLOAT_MAT4",n[n.SAMPLER_2D=35678]="SAMPLER_2D",n[n.SAMPLER_CUBE=35680]="SAMPLER_CUBE",n[n.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",n[n.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",n[n.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",n[n.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",n[n.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",n[n.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",n[n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",n[n.COMPILE_STATUS=35713]="COMPILE_STATUS",n[n.LOW_FLOAT=36336]="LOW_FLOAT",n[n.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",n[n.HIGH_FLOAT=36338]="HIGH_FLOAT",n[n.LOW_INT=36339]="LOW_INT",n[n.MEDIUM_INT=36340]="MEDIUM_INT",n[n.HIGH_INT=36341]="HIGH_INT",n[n.FRAMEBUFFER=36160]="FRAMEBUFFER",n[n.RENDERBUFFER=36161]="RENDERBUFFER",n[n.RGBA4=32854]="RGBA4",n[n.RGB5_A1=32855]="RGB5_A1",n[n.RGB565=36194]="RGB565",n[n.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",n[n.STENCIL_INDEX=6401]="STENCIL_INDEX",n[n.STENCIL_INDEX8=36168]="STENCIL_INDEX8",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n[n.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",n[n.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",n[n.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",n[n.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",n[n.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",n[n.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",n[n.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",n[n.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",n[n.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",n[n.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",n[n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",n[n.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",n[n.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",n[n.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",n[n.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",n[n.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",n[n.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",n[n.NONE=0]="NONE",n[n.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",n[n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",n[n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",n[n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",n[n.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",n[n.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",n[n.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",n[n.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",n[n.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",n[n.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",n[n.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",n[n.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",n[n.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",n[n.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",n[n.COPY_SRC=1]="COPY_SRC",n[n.COPY_DST=2]="COPY_DST",n[n.SAMPLED=4]="SAMPLED",n[n.STORAGE=8]="STORAGE",n[n.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"},function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"e",function(){return r}),n.d(e,"d",function(){return i});var o=n(0),a="nodeIndex",s="childNodeCount",c="nodeAncestor";function r(t,e){var n=t.field,t=t.fields;if(Object(o.isString)(n))return n;if(Object(o.isArray)(n))return console.warn("Invalid field: it must be a string!"),n[0];if(console.warn("Invalid field: it must be a string! will try to get fields instead."),Object(o.isString)(t))return t;if(Object(o.isArray)(t)&&t.length)return t[0];if(e)return e;throw new TypeError("Invalid field: it must be a string!")}function i(t){var n,r,i=[];return t&&t.each?t.each(function(e){e.parent!==n?(n=e.parent,r=0):r+=1;var t=Object(o.filter)(((null===(t=e.ancestors)||void 0===t?void 0:t.call(e))||[]).map(function(e){return i.find(function(t){return t.name===e.name})||e}),function(t){t=t.depth;return 0<t&&t<e.depth});e[c]=t,e[s]=(null===(t=e.children)||void 0===t?void 0:t.length)||0,e[a]=r,i.push(e)}):t&&t.eachNode&&t.eachNode(function(t){i.push(t)}),i}},function(t,e,n){"use strict";function r(){return 0}n.d(e,"a",function(){return r}),e.b=function(t){return function(){return t}}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return a});var r=n(0);function o(t){if(Object(r.isNumber)(t))return[t,t,t,t];if(Object(r.isArray)(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function i(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);t=o(t),e=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3]]}function a(t){var i=t.map(o),t=[0,0,0,0];return t=0<i.length?t.map(function(n,r){return i.forEach(function(t,e){n+=i[e][r]}),n}):t}},function(t,e,n){"use strict";function r(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],t=t[8],h=e[0],d=e[1],f=e[2],p=e[3],g=e[4],y=e[5],_=e[6],m=e[7],e=e[8];return n[0]=h*r+d*a+f*u,n[1]=h*i+d*s+f*l,n[2]=h*o+d*c+f*t,n[3]=p*r+g*a+y*u,n[4]=p*i+g*s+y*l,n[5]=p*o+g*c+y*t,n[6]=_*r+m*a+e*u,n[7]=_*i+m*s+e*l,n[8]=_*o+m*c+e*t,n}function i(t,e){var n=[],r=e[0],e=e[1];return n[0]=t[0]*r+t[3]*e+t[6],n[1]=t[1]*r+t[4]*e+t[7],n}function o(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],l=t[7],t=t[8],h=t*a-s*l,d=-t*o+s*c,f=l*o-a*c,u=n*h+r*d+i*f;return u?(e[0]=h*(u=1/u),e[1]=(-t*r+i*l)*u,e[2]=(s*r-i*a)*u,e[3]=d*u,e[4]=(t*n-i*c)*u,e[5]=(-s*n+i*o)*u,e[6]=f*u,e[7]=(-l*n+r*c)*u,e[8]=(a*n-r*o)*u,e):null}n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o})},function(l,t,e){"use strict";e.r(t),e.d(t,"create",function(){return n}),e.d(t,"clone",function(){return h}),e.d(t,"length",function(){return r}),e.d(t,"fromValues",function(){return d}),e.d(t,"copy",function(){return f}),e.d(t,"set",function(){return p}),e.d(t,"add",function(){return g}),e.d(t,"subtract",function(){return i}),e.d(t,"multiply",function(){return o}),e.d(t,"divide",function(){return s}),e.d(t,"ceil",function(){return y}),e.d(t,"floor",function(){return _}),e.d(t,"min",function(){return m}),e.d(t,"max",function(){return v}),e.d(t,"round",function(){return b}),e.d(t,"scale",function(){return O}),e.d(t,"scaleAndAdd",function(){return x}),e.d(t,"distance",function(){return c}),e.d(t,"squaredDistance",function(){return E}),e.d(t,"squaredLength",function(){return w}),e.d(t,"negate",function(){return M}),e.d(t,"inverse",function(){return P}),e.d(t,"normalize",function(){return C}),e.d(t,"dot",function(){return A}),e.d(t,"cross",function(){return S}),e.d(t,"lerp",function(){return j}),e.d(t,"hermite",function(){return D}),e.d(t,"bezier",function(){return T}),e.d(t,"random",function(){return I}),e.d(t,"transformMat4",function(){return k}),e.d(t,"transformMat3",function(){return L}),e.d(t,"transformQuat",function(){return R}),e.d(t,"rotateX",function(){return B}),e.d(t,"rotateY",function(){return N}),e.d(t,"rotateZ",function(){return F}),e.d(t,"angle",function(){return U}),e.d(t,"zero",function(){return W}),e.d(t,"str",function(){return z}),e.d(t,"exactEquals",function(){return G}),e.d(t,"equals",function(){return $}),e.d(t,"sub",function(){return K}),e.d(t,"mul",function(){return V}),e.d(t,"div",function(){return X}),e.d(t,"dist",function(){return Y}),e.d(t,"sqrDist",function(){return H}),e.d(t,"len",function(){return q}),e.d(t,"sqrLen",function(){return Z}),e.d(t,"forEach",function(){return Q});var a=e(24);function n(){var t=new a.a(3);return a.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function h(t){var e=new a.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function r(t){var e=t[0],n=t[1],t=t[2];return Math.hypot(e,n,t)}function d(t,e,n){var r=new a.a(3);return r[0]=t,r[1]=e,r[2]=n,r}function f(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function p(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function g(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function y(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function _(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function m(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function b(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function O(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function x(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1],e=e[2]-t[2];return Math.hypot(n,r,e)}function E(t,e){var n=e[0]-t[0],r=e[1]-t[1],e=e[2]-t[2];return n*n+r*r+e*e}function w(t){var e=t[0],n=t[1],t=t[2];return e*e+n*n+t*t}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function P(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function C(t,e){var n=e[0],r=e[1],i=e[2],n=n*n+r*r+i*i;return 0<n&&(n=1/Math.sqrt(n)),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function A(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function S(t,e,n){var r=e[0],i=e[1],e=e[2],o=n[0],a=n[1],n=n[2];return t[0]=i*n-e*a,t[1]=e*o-r*n,t[2]=r*a-i*o,t}function j(t,e,n,r){var i=e[0],o=e[1],e=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=e+r*(n[2]-e),t}function D(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,c=a*(o-2)+o,u=a*(o-1),a=a*(3-2*o);return t[0]=e[0]*s+n[0]*c+r[0]*u+i[0]*a,t[1]=e[1]*s+n[1]*c+r[1]*u+i[1]*a,t[2]=e[2]*s+n[2]*c+r[2]*u+i[2]*a,t}function T(t,e,n,r,i,o){var a=1-o,s=a*a,c=o*o,u=s*a,s=3*o*s,a=3*c*a,c=c*o;return t[0]=e[0]*u+n[0]*s+r[0]*a+i[0]*c,t[1]=e[1]*u+n[1]*s+r[1]*a+i[1]*c,t[2]=e[2]*u+n[2]*s+r[2]*a+i[2]*c,t}function I(t,e){e=e||1;var n=2*a.c()*Math.PI,r=2*a.c()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function k(t,e,n){var r=e[0],i=e[1],e=e[2],o=n[3]*r+n[7]*i+n[11]*e+n[15];return t[0]=(n[0]*r+n[4]*i+n[8]*e+n[12])/(o=o||1),t[1]=(n[1]*r+n[5]*i+n[9]*e+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*e+n[14])/o,t}function L(t,e,n){var r=e[0],i=e[1],e=e[2];return t[0]=r*n[0]+i*n[3]+e*n[6],t[1]=r*n[1]+i*n[4]+e*n[7],t[2]=r*n[2]+i*n[5]+e*n[8],t}function R(t,e,n){var r=n[0],i=n[1],o=n[2],n=n[3],a=e[0],s=e[1],e=e[2],l=i*e-o*s,c=o*a-r*e,u=r*s-i*a,h=i*u-o*c,o=o*l-r*u,r=r*c-i*l,i=2*n;return c*=i,u*=i,o*=2,r*=2,t[0]=a+(l*=i)+(h*=2),t[1]=s+c+o,t[2]=e+u+r,t}function B(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function N(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function F(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function U(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],n=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),r=n&&A(t,e)/n;return Math.acos(Math.min(Math.max(r,-1),1))}function W(t){return t[0]=0,t[1]=0,t[2]=0,t}function z(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function G(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function $(t,e){var n=t[0],r=t[1],t=t[2],i=e[0],o=e[1],e=e[2];return Math.abs(n-i)<=a.b*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=a.b*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(t-e)<=a.b*Math.max(1,Math.abs(t),Math.abs(e))}var u,K=i,V=o,X=s,Y=c,H=E,q=r,Z=w,Q=(u=n(),function(t,e,n,r,i,o){var a,s;for(e=e||3,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)u[0]=t[a],u[1]=t[a+1],u[2]=t[a+2],i(u,u,o),t[a]=u[0],t[a+1]=u[1],t[a+2]=u[2];return t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var s=n(3),c=n(0),u=n(99);function o(t,i,o,r){var a=Object(c.reduce)(t,function(t,e){var n=e[o],r=t.has(n)?t.get(n):0,e=e[i],r=Object(u.b)(e)?r+e:r;return t.set(n,r),t},new Map);return Object(c.map)(t,function(t){var e=t[i],n=t[o],e=Object(u.b)(e)&&0!==a.get(n)?e/a.get(n):0;return Object(s.a)(Object(s.a)({},t),((n={})[r]=e,n))})}function r(t,o,a,r){var i=Object(c.reduce)(t,function(t,n){var e=Object(c.reduce)(a,function(t,e){return""+t+n[e]},""),r=t.has(e)?t.get(e):0,i=n[o],r=Object(u.b)(i)?r+i:r;return t.set(e,r),t},new Map);return Object(c.map)(t,function(n){var t=n[o],e=Object(c.reduce)(a,function(t,e){return""+t+n[e]},""),t=Object(u.b)(t)&&0!==i.get(e)?t/i.get(e):0;return Object(s.a)(Object(s.a)({},n),((e={})[r]=t,e))})}function i(t,e,n,r,i){return i?o(t,e,n,r):t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0);function i(t){return Object(r.map)(t||[],function(t,e){return{x:""+e,y:t}})}},function(l,t,e){"use strict";function a(t,e,n,r){return t[r]+(e[r]-t[r])*n}var s=e(0),n=/rgba?\(([\s.,0-9]+)\)/,h=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,d=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,f=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function c(t){return"#"+u(t[0])+u(t[1])+u(t[2])}function r(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}function i(t){if("#"===t[0]&&7===t.length)return t;o||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),o=e),o.style.color=t;var e=document.defaultView.getComputedStyle(o,"").getPropertyValue("color");return c(n.exec(e)[1].split(/\s*,\s*/).map(function(t){return Number(t)}))}var o,u=function(t){t=Math.round(t).toString(16);return 1===t.length?"0"+t:t};t.a={rgb2arr:r,gradient:function(t){var t=Object(s.isString)(t)?t.split("-"):t,o=Object(s.map)(t,function(t){return r(-1===t.indexOf("#")?i(t):t)});return function(t){return e=o,t=t,t=isNaN(Number(t))||t<0?0:1<t?1:Number(t),n=e.length-1,r=Math.floor(n*t),t=n*t-r,i=e[r],n=r===n?i:e[r+1],c([a(i,n,t,0),a(i,n,t,1),a(i,n,t,2)]);var e,n,r,i}},toRGB:Object(s.memoize)(i),toCSSGradient:function(t){var e,n,r,i,o;return/^[r,R,L,l]{1}[\s]*\(/.test(t)?(n=void 0,"l"===t[0]?(e=+(i=h.exec(t))[1]+90,n=i[2],r="linear-gradient("+e+"deg, "):"r"===t[0]&&(r="radial-gradient(",n=(i=d.exec(t))[4]),o=n.match(f),Object(s.each)(o,function(t,e){t=t.split(":");r+=t[1]+" "+100*t[0]+"%",e!==o.length-1&&(r+=", ")}),r+=")"):t}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var l=n(0);function f(t,e){return 0<t.charCodeAt(e)&&t.charCodeAt(e)<128?1:2}function r(t){var e;{if(400<t.length){for(var n=t,r=n.map(function(t){t=t.attr("text");return Object(l.isNil)(t)?"":""+t}),i=0,o=0,a=0;a<r.length;a+=1){for(var s=0,c=0;c<=r[a].length;c+=1){var u=r[a].charCodeAt(c);s+=19968<=u&&u<=40869?2:1}i<s&&(i=s,o=a)}return n[o].getBBox().width}return e=0,Object(l.each)(t,function(t){t=t.getBBox().width;e<t&&(e=t)}),e}}function i(t,e,n,r){void 0===r&&(r="tail");var i=null!==(i=e.attr("text"))&&void 0!==i?i:"";if("tail"===r)return o=Object(l.pick)(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),i!==(o=Object(l.getEllipsisText)(i,n,o,"…"))?(e.attr("text",o),e.set("tip",i),!0):(e.set("tip",null),!1);o=t,t=e.getCanvasBBox();var o,a,t=o?t.width:t.height,s=function(t){for(var e=0,n=0;n<t.length;n++)e+=f(t,n);return e}(i),c=!1;return n<t&&(a=void 0,(a=0<=(n=Math.floor(n/t*s)-2)?function(t,e,n){var l=t.length,r="";if("tail"===(n=void 0===n?"tail":n)){for(var i=0,o=0;i<e&&i+f(t,o)<=e;)r+=t[o],i+=f(t,o),o++;r+="…"}else if("head"===n){for(i=0,o=l-1;i<e&&i+f(t,o)<=e;)r+=t[o],i+=f(t,o),o--;r="…"+r}else{for(var h="",a="",s=i=0,c=l-1;i<e;){var u=f(t,s),d=!1,u=(u+i<=e&&(h+=t[s],s++,i+=u,d=!0),f(t,c));if(u+i<=e&&(a=t[c]+a,i+=u,c--,d=!0),!d)break}r=h+"…"+a}return r}(i,n,r):"…")&&(e.attr("text",a),c=!0)),c?e.set("tip",i):e.set("tip",null),c}},function(t,e,n){var r;try{r=n(9)}catch(t){}r=r||window._,t.exports=r},function(l,t,e){"use strict";function n(r){var i=(new O).setGraph(r.graph());return r.nodes().forEach(function(t){i.setNode(t,r.node(t))}),r.edges().forEach(function(t){var e=i.edge(t.v,t.w)||{weight:0,minlen:1},n=r.edge(t);i.setEdge(t.v,t.w,{weight:e.weight+n.weight,minlen:Math.max(e.minlen,n.minlen)})}),i}function r(n){var r=new O({multigraph:n.isMultigraph()}).setGraph(n.graph());return n.nodes().forEach(function(t){var e;null!==(e=n.children(t))&&void 0!==e&&e.length||r.setNode(t,n.node(t))}),n.edges().forEach(function(t){return r.setEdge(t,n.edge(t))}),r}function i(n){var t=n.nodes().map(function(t){var e={};return null===(t=n.outEdges(t))||void 0===t||t.forEach(function(t){e[t.w]=(e[t.w]||0)+n.edge(t).weight}),e});return c(n.nodes(),t)}function o(n){var t=n.nodes().map(function(t){var e={};return null===(t=n.inEdges(t))||void 0===t||t.forEach(function(t){e[t.v]=(e[t.v]||0)+n.edge(t).weight}),e});return c(n.nodes(),t)}function a(t,e){var n,r=t.x,i=t.y,o=e.x-r,e=e.y-i,a=t.width/2,t=t.height/2;return o||e?(t=Math.abs(e)*a>Math.abs(o)*t?(n=(t=e<0?-t:t)*o/e,t):(n=a=o<0?-a:a)*e/o,{x:r+n,y:i+t}):{x:0,y:0}}function h(n){for(var r=[],i=[],t=u(n)+1,e=0;e<t;e++)r.push([]),i.push([]);return n.nodes().forEach(function(t){var e=n.node(t).rank;void 0!==e&&r[e]&&i[e].push(t)}),null==i||i.forEach(function(t,e){null==t||t.sort(function(t,e){return(null===(t=n.node(t))||void 0===t?void 0:t.order)-(null===(t=n.node(e))||void 0===t?void 0:t.order)}),t.forEach(function(t){r[e].push(t)})}),r}function d(e){var t=e.nodes().filter(function(t){return void 0!==e.node(t).rank}).map(function(t){return e.node(t).rank}),n=Math.min.apply(Math,t);e.nodes().forEach(function(t){t=e.node(t);t.hasOwnProperty("rank")&&(t.rank||(t.rank=0),t.rank-=n)})}function f(n){var t=n.nodes().filter(function(t){return void 0!==n.node(t).rank}).map(function(t){return n.node(t).rank}),r=Math.min.apply(Math,t),i=[];n.nodes().forEach(function(t){var e=((null===(e=n.node(t))||void 0===e?void 0:e.rank)||0)-r;i[e]||(i[e]=[]),i[e].push(t)});for(var e=0,o=n.graph().nodeRankFactor||0,a=0;a<i.length;a++){var s=i[a];void 0===s&&a%o!=0?--e:e&&(null==s||s.forEach(function(t){n.node(t).rank||(n.node(t).rank=0),n.node(t).rank+=e}))}}function p(t,e,n,r){var i={width:0,height:0};return(0,b.isNumber)(n)&&(0,b.isNumber)(r)&&(i.rank=n,i.order=r),s(t,"border",i,e)}function g(t,e){var n={lhs:[],rhs:[]};return null==t||t.forEach(function(t){(e(t)?n.lhs:n.rhs).push(t)}),n}function y(t,e){var n=Date.now();try{return e()}finally{console.log(t+" time: "+(Date.now()-n)+"ms")}}function _(t,e){return e()}function m(t,n){var r,i=1/0;return null==t||t.forEach(function(t){var e=n(t);e<i&&(i=e,r=t)}),r}var v=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},b=(Object.defineProperty(t,"__esModule",{value:!0}),t.minBy=t.zipObject=t.notime=t.time=t.partition=t.maxRank=t.addBorderNode=t.removeEmptyRanks=t.normalizeRanks=t.buildLayerMatrix=t.intersectRect=t.predecessorWeights=t.successorWeights=t.asNonCompoundGraph=t.simplify=t.addDummyNode=void 0,e(62)),O=v(e(104)).default.Graph,s=function(t,e,n,r){for(var i;i=""+r+Math.random(),t.hasNode(i););return n.dummy=e,t.setNode(i,n),i},c=(t.addDummyNode=s,t.simplify=n,t.asNonCompoundGraph=r,function(t,n){var r={};return null==t||t.forEach(function(t,e){r[t]=n[e]}),r}),u=(t.zipObject=c,t.successorWeights=i,t.predecessorWeights=o,t.intersectRect=a,t.buildLayerMatrix=h,t.normalizeRanks=d,t.removeEmptyRanks=f,t.addBorderNode=p,function(e){var t=e.nodes().map(function(t){t=e.node(t).rank;return void 0!==t?t:-1/0});return Math.max.apply(Math,t)});t.maxRank=u,t.partition=g,t.time=y,t.notime=_;t.minBy=m,t.default={addDummyNode:s,simplify:n,asNonCompoundGraph:r,successorWeights:i,predecessorWeights:o,intersectRect:a,buildLayerMatrix:h,normalizeRanks:d,removeEmptyRanks:f,addBorderNode:p,maxRank:u,partition:g,time:y,notime:_,zipObject:c,minBy:m}},function(t,e,n){"use strict";var a=n(0),o=n(117);function r(t){var e=t.xField,n=t.yField,r=t.adjustNames,t=t.dimValuesMap;this.adjustNames=void 0===r?["x","y"]:r,this.xField=e,this.yField=n,this.dimValuesMap=t}r.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},r.prototype.getAdjustRange=function(t,e,n){var r,i,o=this.yField,a=n.indexOf(e),s=n.length;return!o&&this.isAdjust("y")?(r=0,i=1):1<s?(r=n[0===a?0:a-1],i=n[a===s-1?s-1:a+1],0!==a?r+=(e-r)/2:r-=(i-e)/2,a!==s-1?i-=(i-e)/2:i+=(e-n[s-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},r.prototype.adjustData=function(t,e){var i=this,o=this.getDimValues(e);a.each(t,function(n,r){a.each(o,function(t,e){i.adjustDim(e,t,n,r)})})},r.prototype.groupData=function(t,e){return a.each(t,function(t){void 0===t[e]&&(t[e]=o.a)}),a.groupBy(t,e)},r.prototype.adjustDim=function(t,e,n,r){},r.prototype.getDimValues=function(e){var t=this.xField,n=this.yField,r=a.assign({},this.dimValuesMap),i=[];return t&&this.isAdjust("x")&&i.push(t),n&&this.isAdjust("y")&&i.push(n),i.forEach(function(t){r&&r[t]||(r[t]=a.valuesOfKey(e,t).sort(function(t,e){return t-e}))}),!n&&this.isAdjust("y")&&(r.y=[o.a,1]),r},e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var d=n(3),f=n(13),p=n(0),g=n(197),y=n(2);function r(l){var h=this;return function(t){var e,s=t.options,c=t.chart,u=s.pattern;return u?Object(y.c)({},t,{options:((e={})[l]=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=c.getTheme().defaultColor,i=r,o=null===(o=null===(o=c.geometries)||void 0===o?void 0:o[0])||void 0===o?void 0:o.getAttribute("color"),o=(o&&(a=o.getFields()[0],a=Object(p.get)(t,a),i=f.h.getMappingValue(o,a,(null===(a=o.values)||void 0===a?void 0:a[0])||r)),u),a=((o="function"==typeof u?u.call(h,t,i):o)instanceof CanvasPattern==0&&(o=Object(g.a)(Object(y.c)({},{cfg:{backgroundColor:i}},o))),s[l]);return Object(d.a)(Object(d.a)({},"function"==typeof a?a.call.apply(a,Object(d.d)([h,t],e)):a||{}),{fill:o||i})},e)}):t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create,Object.create},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o});var e=n(19),n=n(2),r="range",i="count",o=Object(n.c)({},e.b.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]})},function(t,e,n){!function(t){"use strict";function n(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function g(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function p(t){return Math.sqrt(g(t,t))}function y(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function C(t,e,n,r,i){for(var o=0;o<t.length;++o)t[o]=e*n[o]+r*i[o]}function _(p,i,o,a,s,c,u){var l=o.fx,h=g(o.fxprime,i),d=l,t=l,f=h,e=0;function n(t,e,n){for(var r=0;r<16;++r)if(s=(t+e)/2,C(a.x,1,o.x,s,i),d=a.fx=p(a.x,a.fxprime),f=g(a.fxprime,i),l+c*s*h<d||n<=d)e=s;else{if(Math.abs(f)<=-u*h)return s;0<=f*(e-t)&&(e=t),t=s,n=d}return 0}s=s||1,c=c||1e-6,u=u||.1;for(var r=0;r<10;++r){if(C(a.x,1,o.x,s,i),d=a.fx=p(a.x,a.fxprime),f=g(a.fxprime,i),l+c*s*h<d||r&&t<=d)return n(e,s,t);if(Math.abs(f)<=-u*h)return s;if(0<=f)return n(s,e,d);t=d,e=s,s*=2}return s}t.bisect=function(t,e,n,r){var i=(r=r||{}).maxIterations||100,l=r.tolerance||1e-10,o=t(e),r=t(n),a=n-e;if(0<o*r)throw"Initial bisect points must have opposite signs";if(0===o)return e;if(0===r)return n;for(var s=0;s<i;++s){var c=e+(a/=2),u=t(c);if(0<=u*o&&(e=c),Math.abs(a)<l||0===u)return c}return e+a},t.nelderMead=function(t,e,n){var l,h=(n=n||{}).maxIterations||200*e.length,d=n.nonZeroDelta||1.05,f=n.zeroDelta||.001,p=n.minErrorDelta||1e-6,g=n.minErrorDelta||1e-5,y=void 0!==n.rho?n.rho:1,_=void 0!==n.chi?n.chi:2,m=void 0!==n.psi?n.psi:-.5,v=void 0!==n.sigma?n.sigma:.5,r=e.length,i=new Array(r+1);i[0]=e,i[0].fx=t(e);for(var o=i[0].id=0;o<r;++o){var b=e.slice();b[o]=b[o]?b[o]*d:f,i[o+1]=b,i[o+1].fx=t(b),i[o+1].id=o+1}function O(t){for(var e=0;e<t.length;e++)i[r][e]=t[e];i[r].fx=t.fx}for(var x=function(t,e){return t.fx-e.fx},a=e.slice(),s=e.slice(),c=e.slice(),E=e.slice(),w=0;w<h;++w){for(i.sort(x),n.history&&((u=i.map(function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e})).sort(function(t,e){return t.id-e.id}),n.history.push({x:i[0].slice(),fx:i[0].fx,simplex:u})),o=l=0;o<r;++o)l=Math.max(l,Math.abs(i[0][o]-i[1][o]));if(Math.abs(i[0].fx-i[r].fx)<p&&l<g)break;for(o=0;o<r;++o){for(var M=a[o]=0;M<r;++M)a[o]+=i[M][o];a[o]/=r}var u=i[r];if(C(s,1+y,a,-y,u),s.fx=t(s),s.fx<i[0].fx)C(E,1+_,a,-_,u),E.fx=t(E),E.fx<s.fx?O(E):O(s);else if(s.fx>=i[r-1].fx){var P=!1;if(s.fx>u.fx?(C(c,1+m,a,-m,u),c.fx=t(c),c.fx<u.fx?O(c):P=!0):(C(c,1-m*y,a,m*y,u),c.fx=t(c),c.fx<s.fx?O(c):P=!0),P){if(1<=v)break;for(o=1;o<i.length;++o)C(i[o],1-v,i[0],v,i[o]),i[o].fx=t(i[o])}}else O(s)}return i.sort(x),{fx:i[0].fx,x:i[0]}},t.conjugateGradient=function(t,e,n){var r,i={x:e.slice(),fx:0,fxprime:e.slice()},o={x:e.slice(),fx:0,fxprime:e.slice()},a=e.slice(),s=1,l=(n=n||{}).maxIterations||20*e.length;i.fx=t(i.x,i.fxprime),y(r=i.fxprime.slice(),i.fxprime,-1);for(var c=0;c<l;++c){var u,s=_(t,r,i,o,s);if(n.history&&n.history.push({x:i.x.slice(),fx:i.fx,fxprime:i.fxprime.slice(),alpha:s}),s?(C(a,1,o.fxprime,-1,i.fxprime),u=g(i.fxprime,i.fxprime),C(r,Math.max(0,g(a,o.fxprime)/u),r,-1,o.fxprime),u=i,i=o,o=u):y(r,i.fxprime,-1),p(i.fxprime)<=1e-5)break}return n.history&&n.history.push({x:i.x.slice(),fx:i.fx,fxprime:i.fxprime.slice(),alpha:s}),i},t.gradientDescent=function(t,e,n){for(var r=(n=n||{}).maxIterations||100*e.length,i=n.learnRate||.001,o={x:e.slice(),fx:0,fxprime:e.slice()},a=0;a<r&&(o.fx=t(o.x,o.fxprime),n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice()}),C(o.x,1,o.x,-i,o.fxprime),!(p(o.fxprime)<=1e-5));++a);return o},t.gradientDescentLineSearch=function(t,e,n){n=n||{};var r,i,o={x:e.slice(),fx:0,fxprime:e.slice()},a={x:e.slice(),fx:0,fxprime:e.slice()},l=n.maxIterations||100*e.length,s=n.learnRate||1,c=e.slice(),h=n.c1||.001,d=n.c2||.1,u=[];n.history&&(i=t,t=function(t,e){return u.push(t.slice()),i(t,e)}),o.fx=t(o.x,o.fxprime);for(var f=0;f<l&&(y(c,o.fxprime,-1),s=_(t,c,o,a,s,h,d),n.history&&(n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),functionCalls:u,learnRate:s,alpha:s}),u=[]),r=o,o=a,a=r,!(0===s||p(o.fxprime)<1e-5));++f);return o},t.zeros=n,t.zerosM=function(t,e){return n(t).map(function(){return n(e)})},t.norm2=p,t.weightedSum=C,t.scale=y}(e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueId=e.getOutEdgesNodeId=e.getNeighbors=e.getEdgesByNodeId=void 0,e.getNeighbors=function(e,t,n){t=(t=void 0===t?[]:t).filter(function(t){return t.source===e||t.target===e});return"target"===n?t.filter(function(t){return t.source===e}).map(function(t){return t.target}):"source"===n?t.filter(function(t){return t.target===e}).map(function(t){return t.source}):t.map(function(t){return t.source===e?t.target:t.source})},e.getOutEdgesNodeId=function(e,t){return t.filter(function(t){return t.source===e})},e.getEdgesByNodeId=function(e,t){return t.filter(function(t){return t.source===e||t.target===e})},e.uniqueId=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(65);function i(t,e){this.key=t,this.value=e}i.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e.Metadata=i},function(i,t,e){"use strict";e.d(t,"b",function(){return r}),e.d(t,"a",function(){return s});var o=e(8),c=e(2),u=e(25),l=e(66),h=e(83),a=e(110);function n(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.areaStyle,a=n.point,n=n.line,s=null==a?void 0:a.state,r=Object(h.a)(r),r=(e.data(r),Object(c.c)({},t,{options:{xField:l.c,yField:l.d,area:{color:i,style:o},line:n,point:a}})),i=Object(c.c)({},r,{options:{tooltip:!1}}),o=Object(c.c)({},r,{options:{tooltip:!1,state:s}});return Object(u.a)(r),Object(u.d)(i),Object(u.e)(o),e.axis(!1),e.legend(!1),t}function r(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,n=n.data,n=Object(h.a)(n);return Object(c.f)(Object(o.g)(((e={})[l.c]=r,e[l.d]=i,e),((r={})[l.c]={type:"cat"},r[l.d]=Object(a.a)(n,l.d),r)))(t)}function s(t){return Object(c.f)(Object(o.f)("areaStyle"),n,r,o.l,o.k,o.a,Object(o.b)())(t)}},function(n,t,e){"use strict";e.d(t,"b",function(){return E}),e.d(t,"a",function(){return r});var b=e(3),d=e(0),c=e(8),u=e(13),y=e(2),f=e(213);function O(e,t){return Object(d.map)(t.getModel().points,function(t){return e.convertPoint(t)})}var l={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},h=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]},_=(Object(u.o)(l.hover,{start:h(l.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Object(u.o)(l.click,{start:h(l.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]}),e(25)),p=e(89),g=e(224),m=e(82);function v(t){var e=t.options,n=e.legend,r=e.seriesField,e=e.isStack;return r?!1!==n&&(n=Object(b.a)({position:e?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function x(t){var e=t.chart,n=t.options,r=n.data,l=n.columnStyle,h=n.color,d=n.columnWidthRatio,i=n.isPercent,o=n.isGroup,f=n.isStack,a=n.xField,s=n.yField,c=n.seriesField,p=n.groupField,g=n.tooltip,n=n.shape,r=i&&o&&f?Object(m.b)(r,s,[a,p],s):Object(m.a)(r,s,a,s,i),u=[],r=(f&&c&&!o?r.forEach(function(e){var t=u.find(function(t){return t[a]===e[a]&&t[c]===e[c]});t?t[s]+=e[s]||0:u.push(Object(b.a)({},e))}):u=r,e.data(u),i?Object(b.a)({formatter:function(t){return{name:o&&f?t[c]+" - "+t[p]:t[c]||t[a],value:(100*Number(t[s])).toFixed(2)+"%"}}},g):g),e=Object(y.c)({},t,{options:{data:u,widthRatio:d,tooltip:r,interval:{shape:n,style:l,color:h}}});return Object(_.c)(e),e}function E(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,s=n.data,n=n.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Object(y.f)(Object(c.g)(((e={})[o]=r,e[a]=i,e),((r={})[o]={type:"cat"},r[a]=Object(b.a)(Object(b.a)({},Object(y.b)(s,a)),n),r)))(t)}function w(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(n,!1):e.axis(n,i),t}function M(t){var e=t.chart,n=t.options,r=n.legend,n=n.seriesField;return r&&n?e.legend(n,r):!1===r&&e.legend(!1),t}function P(t){var e,n=t.chart,r=t.options,i=r.label,o=r.yField,r=r.isRange,n=Object(y.d)(n,"interval");return i?(e=i.callback,i=Object(b.c)(i,["callback"]),n.label({fields:[o],callback:e,cfg:Object(b.a)({layout:null!=i&&i.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(y.A)(r?Object(b.a)({content:function(t){return null===(t=t[o])||void 0===t?void 0:t.join("-")}},i):i))})):n.label(!1),t}function C(t){var r,e=t.chart,n=t.options,i=n.tooltip,o=n.isGroup,a=n.isStack,s=n.groupField,l=n.data,h=n.xField,c=n.yField,u=n.seriesField;return!1===i?e.tooltip(!1):(n=i,o&&a&&(r=(null==n?void 0:n.formatter)||function(t){return{name:t[u]+" - "+t[s],value:t[c]}},n=Object(b.a)(Object(b.a)({},n),{customItems:function(t){var n=[];return Object(d.each)(t,function(e){Object(d.filter)(l,function(t){return Object(d.isMatch)(t,Object(y.t)(e.data,[h,u]))}).forEach(function(t){n.push(Object(b.a)(Object(b.a)(Object(b.a)({},e),{value:t[c],data:t,mappingData:{_origin:t}}),r(t)))})}),n}})),e.tooltip(n)),t}function r(t,e){void 0===e&&(e=!1);var o,a,s,n,r=t.options,i=r.seriesField;return Object(y.f)(v,c.k,Object(p.a)("columnStyle"),c.j,x,E,w,M,C,c.i,c.h,P,g.a,c.c,c.a,Object(c.b)(),(a=r.yField,s=!e,n=!!i,function(t){var e=t.options,r=t.chart,i=e.conversionTag,e=e.theme;return i&&!n&&(r.theme(Object(y.c)({},Object(d.isObject)(e)?e:Object(u.k)(e),{columnWidthRatio:1/3})),r.annotation().shape({render:function(t,e){var t=t.addGroup({id:r.id+"-conversion-tag-group",name:"conversion-tag-group"}),n=Object(d.find)(r.geometries,function(t){return"interval"===t.type}),m={view:e,geometry:n,group:t,field:a,horizontal:s,options:(e=i,t=s,Object(y.c)({size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:!1!==e.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==e.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:f.a}},e))},v=n.elements;Object(d.each)(v,function(l,h){var t,e,d,n,f,r,p,i,g,o,a,y,s,c,_,u;0<h&&(t=m,h=v[h-1],e=h,d=l=l,f=t.view,r=t.geometry,p=t.group,i=t.options,g=t.horizontal,o=i.offset,a=i.size,y=i.arrow,s=f.getCoordinate(),c=O(s,e)[3],s=O(s,d)[0],_=s.y-c.y,u=s.x-c.x,"boolean"!=typeof y&&(n=y.headSize,i=i.spacing,g=g?(u-n)/2<i?(i=Math.max(1,(u-n)/2),[[c.x+i,c.y-o],[c.x+i,c.y-o-a],[s.x-i,s.y-o-a/2]]):[[c.x+i,c.y-o],[c.x+i,c.y-o-a],[s.x-i-n,s.y-o-a],[s.x-i,s.y-o-a/2],[s.x-i-n,s.y-o]]:(_-n)/2<i?(i=Math.max(1,(_-n)/2),[[c.x+o,c.y+i],[c.x+o+a,c.y+i],[s.x+o+a/2,s.y-i]]):[[c.x+o,c.y+i],[c.x+o+a,c.y+i],[s.x+o+a,s.y-i-n],[s.x+o+a/2,s.y-i],[s.x+o,s.y-i-n]],p.addShape("polygon",{id:f.id+"-conversion-tag-arrow-"+r.getElementId(e.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:e,nextElement:d},attrs:Object(b.a)(Object(b.a)({},y.style||{}),{points:g})})),u=h,_=l,c=t.view,a=t.geometry,o=t.group,s=t.options,i=t.field,n=t.horizontal,p=s.offset,f=s.size,"boolean"!=typeof s.text&&(r=c.getCoordinate(),e=(null===(e=s.text)||void 0===e?void 0:e.formatter)&&(null===(e=s.text)||void 0===e?void 0:e.formatter(u.getData()[i],_.getData()[i])),i=O(r,u)[n?3:0],r=O(r,_)[n?0:3],c=o.addShape("text",{id:c.id+"-conversion-tag-text-"+a.getElementId(u.getModel().mappingData),name:"conversion-tag-text",origin:{element:u,nextElement:_},attrs:Object(b.a)(Object(b.a)({},(null===(o=s.text)||void 0===o?void 0:o.style)||{}),{text:e,x:n?(i.x+r.x)/2:i.x+p+f/2,y:n?i.y-p-f/2:(i.y+r.y)/2})}),!n||(a=r.x-i.x)<(u=c.getBBox().width)&&(_=u/e.length,s=Math.max(1,Math.ceil(a/_)-1),o=e.slice(0,s)+"...",c.attr("text",o))))})}})),t}),(o=!r.isStack,function(t){function e(){r.removeInteraction(l.hover),r.removeInteraction(l.click)}var n,r=t.chart,i=t.options.connectedArea;return!o&&i?(n=i.trigger||"hover",e(),r.interaction(l[n],{start:h(n,i.style)})):e(),t}),c.e)(t)}},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c});var r=n(0),i=n(2),o=n(173),a={};function s(t,e){a[t]=e}function c(n){return{get:function(t,e){return Object(i.y)(Object(r.get)(a[n],t)||Object(r.get)(a[o.a.locale],t)||Object(r.get)(a["en-US"],t)||t,e)}}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,c=a.length,u=t.value&&(r-e)/t.value;++s<c;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}},function(t,e,n){"use strict";function r(t){return"number"==typeof t&&!isNaN(t)}function i(t,e,n){var r=Math.min(e,n),e=Math.max(e,n);return r<=t&&t<=e}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.r(e),n.d(e,"version",function(){return c});var r,i=n(137),o=(n.d(e,"Shape",function(){return i}),n(36));for(r in o)["default","Canvas","Group","Shape","version"].indexOf(r)<0&&function(t){n.d(e,t,function(){return o[t]})}(r);var a=n(363),s=(n.d(e,"Canvas",function(){return a.a}),n(135)),c=(n.d(e,"Group",function(){return s.a}),"0.5.6")},function(a,t,e){"use strict";e.d(t,"d",function(){return n}),e.d(t,"b",function(){return i}),e.d(t,"c",function(){return o}),e.d(t,"a",function(){return y});var h=e(3),r=e(0),s=e(8),d=e(2),f=e(25),c=e(110);function u(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.lineStyle,a=n.lineShape,s=n.point,c=n.area,n=n.seriesField,u=null==s?void 0:s.state,l=null==c?void 0:c.state,e=(e.data(r),Object(d.c)({},t,{options:{shapeField:n,line:{color:i,style:o,shape:a},point:s&&Object(h.a)({color:i,shape:"circle"},s),area:c&&Object(h.a)({color:i},c),label:void 0}})),r=Object(d.c)({},e,{options:{tooltip:!1,state:u}}),n=Object(d.c)({},e,{options:{tooltip:!1,state:l}});return Object(f.d)(e),Object(f.e)(r),Object(f.a)(n),t}function n(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,n=n.data;return Object(d.f)(Object(s.g)(((e={})[o]=r,e[a]=i,e),((r={})[o]={type:"cat"},r[a]=Object(c.a)(n,a),r)))(t)}function l(t){var e=t.chart,n=t.options.reflect;return n&&(n=n,n=(n=Object(r.isArray)(n)?n:[n]).map(function(t){return["reflect",t]}),e.coordinate({type:"rect",actions:n})),t}function i(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(n,!1):e.axis(n,i),t}function o(t){var e=t.chart,n=t.options,r=n.legend,n=n.seriesField;return r&&n?e.legend(n,r):!1===r&&e.legend(!1),t}function p(t){var e,n=t.chart,r=t.options,i=r.label,r=r.yField,n=Object(d.d)(n,"line");return i?(e=i.callback,i=Object(h.c)(i,["callback"]),n.label({fields:[r],callback:e,cfg:Object(h.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(d.A)(i))})):n.label(!1),t}function g(t){var e=t.chart;return t.options.isStack&&Object(r.each)(e.geometries,function(t){t.adjust("stack")}),t}function y(t){return Object(d.f)(u,n,g,s.k,l,i,o,s.l,p,s.i,s.h,s.c,s.a,Object(s.b)(),s.e)(t)}},function(s,t,e){"use strict";e.d(t,"a",function(){return L});var c,u,f,p,g,y,_,m,v,b,O,x,E,w,M,P,C,A,t=e(21),l=e.n(t),t=e(28),S=e.n(t),t=e(22),n=e.n(t),t=e(16),j=e.n(t),t=e(17),t=e.n(t),r=e(23),r=e.n(r),h=(e(58),e(4)),i=e(15),o=e(26),D=e(74);function d(t,e){var n,r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return T(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?T(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e=Object(i.injectable)(),c=Object(i.inject)(o.a.MeshComponentManager),u=Object(i.inject)(o.a.GeometryComponentManager),f=Object(i.inject)(o.a.MaterialComponentManager),p=Object(i.inject)(o.a.CullableComponentManager),g=Object(i.inject)(o.a.TransformComponentManager),y=Object(i.inject)(o.a.HierarchyComponentManager),_=Object(i.inject)(o.a.Systems),m=Object(i.named)(o.a.FrameGraphSystem),v=Object(i.inject)(o.a.RenderEngine),i=Object(i.inject)(o.a.ResourcePool);var I,k,L=e((t()(a,[{key:"renderView",value:function(t){var e=t.getScene(),n=t.getCamera(),r=n.getViewTransform(),i=h.b.multiply(h.b.create(),n.getPerspective(),r),i=(n.getFrustum().extractFromVPMatrix(i),t.getViewport()),o=i.x,a=i.y,s=i.width,i=i.height;this.engine.viewport({x:o,y:a,width:s,height:i});var c,u=d(e.getEntities());try{for(u.s();!(c=u.n()).done;){var l=c.value;this.renderMesh(l,{camera:n,view:t,viewMatrix:r})}}catch(t){u.e(t)}finally{u.f()}}},{key:"renderMesh",value:function(t,e){var n,r,i,o=e.camera,a=e.view,e=e.viewMatrix,s=this.mesh.getComponentByEntity(t);s&&s.visible&&(n=s.material,(r=s.geometry)&&!r.dirty&&n&&(r=this.transform.getComponentByEntity(t),t=h.b.multiply(h.b.create(),e,r.worldTransform),i=(a=a.getViewport()).width,a=a.height,n.setUniform({projectionMatrix:o.getPerspective(),modelViewMatrix:t,modelMatrix:r.worldTransform,viewMatrix:e,cameraPosition:o.getPosition(),u_viewport:[i,a]}),s.model&&(s.model.draw({uniforms:n.uniforms.reduce(function(t,e){return t[e.name]=e.data,t},{})}),n.uniforms.forEach(function(t){t.dirty=!1}),n.dirty=!1)))}},{key:"initMesh",value:(k=S()(l.a.mark(function t(e,n){var r,i,o,a,s,c,u;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.mesh.getComponentByEntity(e)){t.next=3;break}return t.abrupt("return");case 3:if(i=r.material,(o=r.geometry)&&!o.dirty&&i){t.next=7;break}return t.abrupt("return");case 7:if(r.model){t.next=24;break}if(a="m-".concat(i.entity,"-g-").concat(o.entity),this.modelCache[a])return r.model=this.modelCache[a],t.abrupt("return");t.next=12;break;case 12:return i.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),u=this.engine,s=u.createModel,c=u.createAttribute,u={vs:i.vertexShaderGLSL,fs:i.fragmentShaderGLSL,defines:i.defines,attributes:o.attributes.reduce(function(t,e){return e.data&&e.buffer&&(t[e.name]=c({buffer:e.buffer,attributes:e.attributes,arrayStride:e.arrayStride,stepMode:e.stepMode,divisor:"vertex"===e.stepMode?0:1})),t},{}),uniforms:i.uniforms.reduce(function(t,e){return t[e.name]=e.data,t},{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},i.cull&&(u.cull=i.cull),i.depth&&(u.depth=i.depth),i.blend&&(u.blend=i.blend),o.indicesBuffer&&(u.elements=o.indicesBuffer),o.maxInstancedCount&&(u.instances=o.maxInstancedCount,u.count=o.vertexCount||3),t.next=22,s(u);case 22:r.model=t.sent,this.modelCache[a]=r.model;case 24:case"end":return t.stop()}},t,this)})),function(t,e){return k.apply(this,arguments)})},{key:"initView",value:(I=S()(l.a.mark(function t(e){var n,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getScene(),n=d(n.getEntities()),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=10;break}return r=r.value,t.next=8,this.initMesh(r,e);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[2,12,15,18]])})),function(t){return I.apply(this,arguments)})}]),a.IDENTIFIER="Render Pass",o=a,b=r()(o.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=r()(o.prototype,"geometry",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=r()(o.prototype,"material",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=r()(o.prototype,"cullable",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r()(o.prototype,"transform",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=r()(o.prototype,"hierarchy",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=r()(o.prototype,"frameGraphSystem",[_,m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=r()(o.prototype,"engine",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r()(o.prototype,"resourcePool",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e=o))||e;function a(){var r,s=this;j()(this,a),n()(this,"mesh",b,this),n()(this,"geometry",O,this),n()(this,"material",x,this),n()(this,"cullable",E,this),n()(this,"transform",w,this),n()(this,"hierarchy",M,this),n()(this,"frameGraphSystem",P,this),n()(this,"engine",C,this),n()(this,"resourcePool",A,this),this.modelCache={},this.setup=function(t,e,n){var r=t.createRenderTarget(e,"color buffer",{width:1,height:1,usage:D.a.RENDER_ATTACHMENT|D.a.SAMPLED|D.a.COPY_SRC});n.data={output:e.write(t,r)}},this.execute=(r=S()(l.a.mark(function t(e,n,r){var i,o,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e.getResourceNode(n.data.output),i=s.resourcePool.getOrCreateResource(i.resource),o=d(r),t.prev=3,o.s();case 5:if((a=o.n()).done){t.next=11;break}return a=a.value,t.next=9,s.initView(a);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),o.e(t.t0);case 16:return t.prev=16,o.f(),t.finish(16);case 19:a=s.engine.getCanvas(),i.resize({width:a.width,height:a.height}),s.engine.setScissor({enable:!1}),s.engine.clear({framebuffer:i,color:r[0].getClearColor(),depth:1}),s.engine.useFramebuffer(i,function(){var t,e=d(r);try{for(e.s();!(t=e.n()).done;){var n=t.value;s.renderView(n)}}catch(t){e.e(t)}finally{e.f()}});case 24:case"end":return t.stop()}},t,null,[[3,13,16,19]])})),function(t,e,n){return r.apply(this,arguments)})}},function(n,t,e){"use strict";e.r(t),e.d(t,"catmullRomToBezier",function(){return b}),e.d(t,"fillPath",function(){return l}),e.d(t,"fillPathByDiff",function(){return h}),e.d(t,"formatPath",function(){return g}),e.d(t,"intersection",function(){return s}),e.d(t,"parsePathArray",function(){return o}),e.d(t,"parsePathString",function(){return E}),e.d(t,"pathToAbsolute",function(){return O}),e.d(t,"pathToCurve",function(){return w}),e.d(t,"rectPath",function(){return a});function m(t,e,n,r,i){var o,a,s;return null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i?(o=Math.PI/180,a=t+n*Math.cos(-r*o),s=t+n*Math.cos(-i*o),[["M",a,e+n*Math.sin(-r*o)],["A",n,n,0,+(180<i-r),0,s,e+n*Math.sin(-i*o)]]):[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]}function v(t,e,n,r){return[t,e,n,r,n,r]}function x(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}function y(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}var d=e(0),t="\t\n\v\f\r   ᠎             　\u2028\u2029",r=new RegExp("([a-z])["+t+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+t+"]*,?["+t+"]*)+)","ig"),c=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+t+"]*,?["+t+"]*","ig"),E=function(o){if(!o)return null;if(Object(d.isArray)(o))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return String(o).replace(r,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(c,function(t,e){e&&r.push(+e)}),"m"===i&&2<r.length&&(s.push([e].concat(r.splice(0,2))),i="l",e="m"===e?"l":"L"),"o"===i&&1===r.length&&s.push([e,r[0]]),"r"===i)s.push([e].concat(r));else for(;r.length>=a[i]&&(s.push([e].concat(r.splice(0,a[i]))),a[i]););return o}),s},b=function(t,e){for(var n=[],r=0,i=t.length;r<i-2*!e;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},O=function(t){if(!(t=E(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,l=0,h=0;"M"===t[0][0]&&(a=i=+t[0][1],l=o=+t[0][2],h++,r[0]=["M",i,o]);for(var d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),s=void 0,c=void 0,f=h,p=t.length;f<p;f++){if(r.push(s=[]),(e=(c=t[f])[0])!==e.toUpperCase())switch(s[0]=e.toUpperCase(),s[0]){case"A":s[1]=c[1],s[2]=c[2],s[3]=c[3],s[4]=c[4],s[5]=c[5],s[6]=+c[6]+i,s[7]=+c[7]+o;break;case"V":s[1]=+c[1]+o;break;case"H":s[1]=+c[1]+i;break;case"R":for(var u=2,g=(n=[i,o].concat(c.slice(1))).length;u<g;u++)n[u]=+n[u]+i,n[++u]=+n[u]+o;r.pop(),r=r.concat(b(n,d));break;case"O":r.pop(),(n=m(i,o,c[1],c[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(m(i,o,c[1],c[2],c[3])),s=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+c[1]+i,l=+c[2]+o;break;default:for(u=1,g=c.length;u<g;u++)s[u]=+c[u]+(u%2?i:o)}else if("R"===e)n=[i,o].concat(c.slice(1)),r.pop(),r=r.concat(b(n,d)),s=["R"].concat(c.slice(-2));else if("O"===e)r.pop(),(n=m(i,o,c[1],c[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(m(i,o,c[1],c[2],c[3])),s=["U"].concat(r[r.length-1].slice(-2));else for(var y=0,_=c.length;y<_;y++)s[y]=c[y];if("O"!==(e=e.toUpperCase()))switch(s[0]){case"Z":i=+a,o=+l;break;case"H":i=s[1];break;case"V":o=s[1];break;case"M":a=s[s.length-2],l=s[s.length-1];break;default:i=s[s.length-2],o=s[s.length-1]}}return r},C=function(l,h,t,e,d,f,p,n,r,g){t===e&&(t+=1);function y(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}var _=120*Math.PI/180,m=Math.PI/180*(+d||0),v=[],i=(g?(c=g[0],u=g[1],O=g[2],s=g[3]):(l=(o=y(l,h,-m)).x,h=o.y,n=(o=y(n,r,-m)).x,r=o.y,l===n&&h===r&&(n+=1,r+=1),1<(i=(o=(l-n)/2)*o/(t*t)+(a=(h-r)/2)*a/(e*e))&&(t*=i=Math.sqrt(i),e*=i),i=t*t,b=e*e,O=(f=(f===p?-1:1)*Math.sqrt(Math.abs((i*b-i*a*a-b*o*o)/(i*a*a+b*o*o))))*t*a/e+(l+n)/2,s=f*-e*o/t+(h+r)/2,c=Math.asin(((h-s)/e).toFixed(9)),u=Math.asin(((r-s)/e).toFixed(9)),c=l<O?Math.PI-c:c,u=n<O?Math.PI-u:u,c<0&&(c=2*Math.PI+c),u<0&&(u=2*Math.PI+u),p&&u<c&&(c-=2*Math.PI),!p&&c<u&&(u-=2*Math.PI)),u-c),o=(Math.abs(i)>_&&(b=u,a=n,f=r,u=c+_*(p&&c<u?1:-1),n=O+t*Math.cos(u),r=s+e*Math.sin(u),v=C(n,r,t,e,d,0,p,a,f,[u,b,O,s])),i=u-c,Math.cos(c)),_=Math.sin(c),d=Math.cos(u),p=Math.sin(u),a=Math.tan(i/4),f=4/3*t*a,b=4/3*e*a,O=[l,h],s=[l+f*_,h-b*o],c=[n+f*p,r-b*d],u=[n,r];if(s[0]=2*O[0]-s[0],s[1]=2*O[1]-s[1],g)return[s,c,u].concat(v);for(var x=[],E=0,w=(v=[s,c,u].concat(v).join().split(",")).length;E<w;E++)x[E]=E%2?y(v[E-1],v[E],m).y:y(v[E],v[E+1],m).x;return x},w=function(l,h){for(var o=O(l),a=h&&O(h),t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=[],i=[],n="",d="",f=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(C.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":i="C"===n||"S"===n?(r=2*e.x-e.bx,2*e.y-e.by):(r=e.x,e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(x(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(x(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(v(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(v(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(v(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(v(e.x,e.y,e.X,e.Y))}return t},p=function(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)r[e]="A",a&&(i[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),y=Math.max(o.length,a&&a.length||0)}},g=function(t,e,n,r,i){t&&e&&"M"===t[i][0]&&"M"!==e[i][0]&&(e.splice(i,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[i][1],n.y=t[i][2],y=Math.max(o.length,a&&a.length||0))},y=Math.max(o.length,a&&a.length||0),s=0;s<y;s++){"C"!==(n=o[s]?o[s][0]:n)&&(r[s]=n,s&&(d=r[s-1])),o[s]=f(o[s],t,d),"A"!==r[s]&&"C"===n&&(r[s]="C"),p(o,s),a&&("C"!==(n=a[s]?a[s][0]:n)&&(i[s]=n,s&&(d=i[s-1])),a[s]=f(a[s],e,d),"A"!==i[s]&&"C"===n&&(i[s]="C"),p(a,s)),g(o,a,t,e,s),g(a,o,e,t,s);var c=o[s],u=a&&a[s],_=c.length,m=a&&u.length;t.x=c[_-2],t.y=c[_-1],t.bx=parseFloat(c[_-4])||t.x,t.by=parseFloat(c[_-3])||t.y,e.bx=a&&(parseFloat(u[m-4])||e.x),e.by=a&&(parseFloat(u[m-3])||e.y),e.x=a&&u[m-2],e.y=a&&u[m-1]}return a?[o,a]:o},i=/,?([a-z]),?/gi,o=function(t){return t.join(",").replace(i,"$1")},A=function(t,e,n,r,l,h,d,f,i){for(var o=(i=1<(i=null===i?1:i)?1:i<0?0:i)/2,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],g=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],a=0,s=0;s<12;s++){var c=o*p[s]+o,u=y(c,t,n,l,d),c=y(c,e,r,h,f);a+=g[s]*Math.sqrt(u*u+c*c)}return o*a},S=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var c=(t-n)*(o-s)-(e-r)*(i-a);if(c){var l=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/c,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/c,u=+l.toFixed(2),h=+c.toFixed(2);if(!(u<+Math.min(t,n).toFixed(2)||u>+Math.max(t,n).toFixed(2)||u<+Math.min(i,a).toFixed(2)||u>+Math.max(i,a).toFixed(2)||h<+Math.min(e,r).toFixed(2)||h>+Math.max(e,r).toFixed(2)||h<+Math.min(o,s).toFixed(2)||h>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},M=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},a=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];i=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return i.parsePathArray=o,i},P=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:a(t,e,n,r),vb:[t,e,n,r].join(" ")}},j=function(t,e,n,r,i,o,a,s){Object(d.isArray)(t)||(t=[t,e,n,r,i,o,a,s]);e=function(t,e,l,h,d,f,p,g){for(var n,r,i,o=[],a=[[],[]],y=0;y<2;++y)if(s=0===y?(r=6*t-12*l+6*d,n=-3*t+9*l-9*d+3*p,3*l-3*t):(r=6*e-12*h+6*f,n=-3*e+9*h-9*f+3*g,3*h-3*e),Math.abs(n)<1e-12){if(Math.abs(r)<1e-12)continue;0<(i=-s/r)&&i<1&&o.push(i)}else{var s=r*r-4*s*n,_=Math.sqrt(s);s<0||(0<(s=(-r+_)/(2*n))&&s<1&&o.push(s),0<(s=(-r-_)/(2*n))&&s<1&&o.push(s))}for(var c,u=o.length,m=u;u--;)c=1-(i=o[u]),a[0][u]=c*c*c*t+3*c*c*i*l+3*c*i*i*d+i*i*i*p,a[1][u]=c*c*c*e+3*c*c*i*h+3*c*i*i*f+i*i*i*g;return a[0][m]=t,a[1][m]=e,a[0][m+1]=p,a[1][m+1]=g,a[0].length=a[1].length=m+2,{min:{x:Math.min.apply(0,a[0]),y:Math.min.apply(0,a[1])},max:{x:Math.max.apply(0,a[0]),y:Math.max.apply(0,a[1])}}}.apply(null,t);return P(e.min.x,e.min.y,e.max.x-e.min.x,e.max.y-e.min.y)},D=function(t,e,n,r,i,o,a,l,s){var c=1-s,h=Math.pow(c,3),d=Math.pow(c,2),u=s*s,f=u*s,p=t+2*s*(n-t)+u*(i-2*n+t),g=e+2*s*(r-e)+u*(o-2*r+e),y=n+2*s*(i-n)+u*(a-2*i+n),u=r+2*s*(o-r)+u*(l-2*o+r);return{x:h*t+3*d*s*n+3*c*s*s*i+f*a,y:h*e+3*d*s*r+3*c*s*s*o+f*l,m:{x:p,y:g},n:{x:y,y:u},start:{x:c*t+s*n,y:c*e+s*r},end:{x:c*i+s*a,y:c*o+s*l},alpha:90-180*Math.atan2(p-y,g-u)/Math.PI}},s=function(l,h){var t,e,n,r,d,f,i,o,p=0,g=h;p=w(l),g=w(g);for(var y=[],_=0,m=p.length;_<m;_++){var a=p[_];if("M"===a[0])t=n=a[1],v=r=a[2];else for(var v="C"===a[0]?(t=(i=[t,v].concat(a.slice(1)))[6],i[7]):(i=[t,v,t,v,n,r,n,r],t=n,r),b=0,O=g.length;b<O;b++){var s=g[b];if("M"===s[0])e=d=s[1],x=f=s[2];else{for(var x="C"===s[0]?(e=(o=[e,x].concat(s.slice(1)))[6],o[7]):(o=[e,x,e,x,d,f,d,f],e=d,f),c=function(l,h,d){if(t=j(l),e=j(h),t=P(t),e=P(e),!(M(e,t.x,t.y)||M(e,t.x2,t.y)||M(e,t.x,t.y2)||M(e,t.x2,t.y2)||M(t,e.x,e.y)||M(t,e.x2,e.y)||M(t,e.x,e.y2)||M(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)))return d?0:[];for(var t,e,f=~~(A.apply(0,l)/8),p=~~(A.apply(0,h)/8),g=[],y=[],_={},m=d?0:[],n=0;n<1+f;n++){var r=D.apply(0,l.concat(n/f));g.push({x:r.x,y:r.y,t:n/f})}for(n=0;n<1+p;n++)r=D.apply(0,h.concat(n/p)),y.push({x:r.x,y:r.y,t:n/p});for(n=0;n<f;n++)for(var v=0;v<p;v++){var i=g[n],o=g[n+1],a=y[v],s=y[v+1],c=Math.abs(o.x-i.x)<.001?"y":"x",b=Math.abs(s.x-a.x)<.001?"y":"x",u=S(i.x,i.y,o.x,o.y,a.x,a.y,s.x,s.y);u&&_[u.x.toFixed(4)]!==u.y.toFixed(4)&&(_[u.x.toFixed(4)]=u.y.toFixed(4),c=i.t+Math.abs((u[c]-i[c])/(o[c]-i[c]))*(o.t-i.t),o=a.t+Math.abs((u[b]-a[b])/(s[b]-a[b]))*(s.t-a.t),0<=c&&c<=1&&0<=o&&o<=1&&(d?m+=1:m.push({x:u.x,y:u.y,t1:c,t2:o})))}return m}(i,o,void 0),u=0,E=c.length;u<E;u++)c[u].segment1=_,c[u].segment2=b,c[u].bez1=i,c[u].bez2=o;y=y.concat(c)}}}return y};function u(c,t,u){if(1===u)return[[].concat(c)];var e=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])e=e.concat(function(t,e){var n=[[c[1],c[2]]],r=(e=u||2,[]);"A"===t[0]?(n.push(t[6]),n.push(t[7])):"C"===t[0]?(n.push([t[1],t[2]]),n.push([t[3],t[4]]),n.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(n.push([t[1],t[2]]),n.push([t[3],t[4]])):n.push([t[1],t[2]]);for(var i=n,o=1/e,a=0;a<e-1;a++){var s=function(t,e){var o=[],a=[];return t.length&&function t(e,n){if(1===e.length)o.push(e[0]),a.push(e[0]);else{for(var r=[],i=0;i<e.length-1;i++)0===i&&o.push(e[0]),i===e.length-2&&a.push(e[i+1]),r[i]=[(1-n)*e[i][0]+n*e[i+1][0],(1-n)*e[i][1]+n*e[i+1][1]];t(r,n)}}(t,e),{left:o,right:a.reverse()}}(i,o/(1-o*a));r.push(s.left),i=s.right}return r.push(i),r.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])})}(t));else{var n=[].concat(c);"M"===n[0]&&(n[0]="L");for(var r=0;r<=u-1;r++)e.push(n)}return e}var l=function(r,t){if(1===r.length)return r;var i=r.length-1,e=t.length-1,n=i/e,o=[];if(1===r.length&&"M"===r[0][0]){for(var a=0;a<e-i;a++)r.push(r[0]);return r}for(a=0;a<e;a++){var s=Math.floor(n*a);o[s]=(o[s]||0)+1}var c=o.reduce(function(t,e,n){return n===i?t.concat(r[i]):t.concat(u(r[n],r[n+1],e))},[]);return c.unshift(r[0]),"Z"!==t[e]&&"z"!==t[e]||c.push("Z"),c};var h=function(t,e){var n=function(t,e){var l,n=t.length,r=e.length;if(0===n||0===r)return null;for(var i=[],o=0;o<=n;o++)i[o]=[],i[o][0]={min:o};for(var a,s=0;s<=r;s++)i[0][s]={min:s};for(o=1;o<=n;o++)for(l=t[o-1],s=1;s<=r;s++){var c=function(t,n){if(t.length!==n.length)return!1;var r=!0;return Object(d.each)(t,function(t,e){if(t!==n[e])return r=!1}),r}(l,e[s-1])?0:1,h=i[o-1][s].min+1,u=i[o][s-1].min+1,c=i[o-1][s-1].min+c;i[o][s]=(void 0,a=null,(u=u)<(c=c)&&(c=u,a="add"),(u=h)<c&&(c=u,a="del"),{type:a,min:c})}return i}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var c=1;c<=r;c++){for(var l=n[c][c].min,s=c,u=a;u<=i;u++)n[c][u].min<l&&(l=n[c][u].min,s=u);a=s,n[c][a].type&&o.push({index:c-1,type:n[c][a].type})}for(c=o.length-1;0<=c;c--)a=o[c].index,"add"===o[c].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=i-(r=t.length);if(r<i)for(c=0;c<h;c++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function f(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=p(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function p(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var g=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=p(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=f(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(0<r)){t[r]=e[r];break}n=f(n,t[r-1],2)}t[r]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=f(n,t[r-1],1)}t[r]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=(Object.defineProperty(e,"__esModule",{value:!0}),r(n(447)).default);r||"undefined"==typeof window||(r=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(t){var e=t||1;if(isFinite(e)){var n=this.length,r=[];if(0===this.length)return this;for(;e--;){var i=[],o=!1;if(0===r.length)for(var o=!0,a=0;a<n;a++)this[a]instanceof Array?r.push.apply(r,this[a]):r.push(this[a]);else{for(a=0;a<r.length;a++)r[a]instanceof Array?(o=!0,i.push.apply(i,r[a])):i.push(r[a]);r=i}if(!o&&e===1/0)break}return r}}),e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0,e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"},e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(u,t,e){"use strict";e.r(t),e.d(t,"Base",function(){return i}),e.d(t,"Circle",function(){return g}),e.d(t,"Ellipse",function(){return v}),e.d(t,"Image",function(){return w}),e.d(t,"Line",function(){return D}),e.d(t,"Marker",function(){return k}),e.d(t,"Path",function(){return V}),e.d(t,"Polygon",function(){return q}),e.d(t,"Polyline",function(){return Z}),e.d(t,"Rect",function(){return nt}),e.d(t,"Text",function(){return rt});var l,h,n={},r=(e.r(n),e.d(n,"Base",function(){return i}),e.d(n,"Circle",function(){return g}),e.d(n,"Ellipse",function(){return v}),e.d(n,"Image",function(){return w}),e.d(n,"Line",function(){return D}),e.d(n,"Marker",function(){return k}),e.d(n,"Path",function(){return V}),e.d(n,"Polygon",function(){return q}),e.d(n,"Polyline",function(){return Z}),e.d(n,"Rect",function(){return nt}),e.d(n,"Text",function(){return rt}),e(32)),d=e(36),x=e(30),f=e(61),p=e(134),i=(h=d.AbstractShape,Object(r.b)(o,h),o.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},o.prototype.getShapeBase=function(){return n},o.prototype.getGroupBase=function(){return p.a},o.prototype.onCanvasChange=function(t){Object(f.h)(this,t)},o.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),t=Object(d.getBBoxMethod)(t)(this),n=e/2,r=t.x-n,i=t.y-n,o=t.x+t.width+n,n=t.y+t.height+n;return{x:r,minX:r,y:i,minY:i,width:t.width+e,height:t.height+e,maxX:o,maxY:n}},o.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},o.prototype.isStroke=function(){return!!this.attrs.stroke},o.prototype._applyClip=function(t,e){e&&(t.save(),Object(f.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},o.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var r=this.getCanvasBBox();if(!Object(x.f)(e,r))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Object(f.a)(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},o.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},o.prototype.cacheCanvasBBox=function(){var t,e=this.getCanvasViewBox();e&&(t=this.getCanvasBBox(),e=Object(x.f)(t,e),this.set("isInView",e),e?this.set("cacheCanvasBBox",t):this.set("cacheCanvasBBox",null))},o.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},o.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},o.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},o.prototype.fill=function(t){t.fill()},o.prototype.stroke=function(t){t.stroke()},o.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,e=e.fillOpacity;this.isFill()&&(Object(x.i)(e)||1===e?this.fill(t):(t.globalAlpha=e,this.fill(t),t.globalAlpha=r)),this.isStroke()&&0<n&&(Object(x.i)(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},o.prototype.createPath=function(t){},o.prototype.afterDrawPath=function(t){},o.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},o.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},o.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},o),g=(l=i,Object(r.b)(y,l),y.prototype.getDefaultAttrs=function(){var t=l.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,r:0})},y.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,o=o.r,i=i/2,a=Object(x.b)(a,s,t,e);return r&&n?a<=o+i:r?a<=o:!!n&&o-i<=a&&a<=o+i},y.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,e=e.r;t.beginPath(),t.arc(n,r,e,0,2*Math.PI,!1),t.closePath()},y);function y(){return null!==l&&l.apply(this,arguments)||this}function o(){return null!==h&&h.apply(this,arguments)||this}function _(t,e,n,r){return t/(n*n)+e/(r*r)}m=i,Object(r.b)(b,m),b.prototype.getDefaultAttrs=function(){var t=m.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,rx:0,ry:0})},b.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),i=i/2,a=o.x,s=o.y,c=o.rx,o=o.ry,t=(t-a)*(t-a),a=(e-s)*(e-s);return r&&n?_(t,a,c+i,o+i)<=1:r?_(t,a,c,o)<=1:!!n&&1<=_(t,a,c-i,o-i)&&_(t,a,c+i,o+i)<=1},b.prototype.createPath=function(t){var e,n,r=this.attr(),i=r.x,o=r.y,a=r.rx,r=r.ry;t.beginPath(),t.ellipse?t.ellipse(i,o,a,r,0,0,2*Math.PI,!1):(e=r<a?a:r,n=r<a?1:a/r,r=r<a?r/a:1,t.save(),t.translate(i,o),t.scale(n,r),t.arc(0,0,e,0,2*Math.PI),t.restore(),t.closePath())};var m,v=b;function b(){return null!==m&&m.apply(this,arguments)||this}function O(t){return t instanceof HTMLElement&&Object(x.k)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}E=i,Object(r.b)(P,E),P.prototype.getDefaultAttrs=function(){var t=E.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,width:0,height:0})},P.prototype.initAttrs=function(t){this._setImage(t.img)},P.prototype.isStroke=function(){return!1},P.prototype.isOnlyHitBox=function(){return!0},P.prototype._afterLoading=function(){var t;!0===this.get("toDraw")&&((t=this.get("canvas"))?t.draw():this.createPath(this.get("context")))},P.prototype._setImage=function(t){var e,n=this,r=this.attrs;Object(x.k)(t)?((e=new Image).onload=function(){if(n.destroyed)return!1;n.attr("img",e),n.set("loading",!1),n._afterLoading();var t=n.get("callback");t&&t.call(n)},e.crossOrigin="Anonymous",e.src=t,this.set("loading",!0)):t instanceof Image?(r.width||(r.width=t.width),r.height||(r.height=t.height)):O(t)&&(r.width||(r.width=Number(t.getAttribute("width"))),r.height||(r.height,Number(t.getAttribute("height"))))},P.prototype.onAttrChange=function(t,e,n){E.prototype.onAttrChange.call(this,t,e,n),"img"===t&&this._setImage(e)},P.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,s=e.sy,c=e.swidth,u=e.sheight,e=e.img;(e instanceof Image||O(e))&&(Object(x.i)(a)||Object(x.i)(s)||Object(x.i)(c)||Object(x.i)(u)?t.drawImage(e,n,r,i,o):t.drawImage(e,a,s,c,u,n,r,i,o))};var E,w=P,M=e(40);function P(){return null!==E&&E.apply(this,arguments)||this}function C(t,e,n,r,i,o,a){var s=Math.min(t,n),c=Math.max(t,n),l=Math.min(e,r),h=Math.max(e,r),u=i/2;return s-u<=o&&o<=c+u&&l-u<=a&&a<=h+u&&M.c.pointToLine(t,e,n,r,o,a)<=i/2}var A,S,j=e(67),D=(S=i,Object(r.b)(R,S),R.prototype.getDefaultAttrs=function(){var t=S.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},R.prototype.initAttrs=function(t){this.setArrow()},R.prototype.onAttrChange=function(t,e,n){S.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},R.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&j.b(this,t,r,i,e,n),a&&j.a(this,t,e,n,r,i)},R.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;n=this.attr();return C(n.x1,n.y1,n.x2,n.y2,i,t,e)},R.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,c={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(c=j.c(n,r,i,o,e.startArrow.d)),s&&s.d&&(u=j.c(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+c.dx,r+c.dy),t.lineTo(i-u.dx,o-u.dy)},R.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},R.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,t=t.y2;return M.c.length(e,n,r,t)},R.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,e=e.y2;return M.c.pointAt(n,r,i,e,t)},R),T=e(0),I=e(59),t={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},k=(A=i,Object(r.b)(L,A),L.prototype.initAttrs=function(t){this._resetParamsCache()},L.prototype._resetParamsCache=function(){this.set("paramsCache",{})},L.prototype.onAttrChange=function(t,e,n){A.prototype.onAttrChange.call(this,t,e,n),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},L.prototype.isOnlyHitBox=function(){return!0},L.prototype._getR=function(t){return Object(T.isNil)(t.r)?t.radius:t.r},L.prototype._getPath=function(){var t,e,n=this.attr(),r=n.x,i=n.y,o=n.symbol||"circle",n=this._getR(n);if(Object(x.h)(o))e=(t=o)(r,i,n),e=Object(I.d)(e);else{if(!(t=L.Symbols[o]))return console.warn(o+" marker is not supported."),null;e=t(r,i,n)}return e},L.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Object(f.e)(this,t,{path:e},n)},L.Symbols=t,L);function L(){return null!==A&&A.apply(this,arguments)||this}function R(){return null!==S&&S.apply(this,arguments)||this}function B(t,e,n){var r=Object(d.getOffScreenContext)();return t.createPath(r),r.isPointInPath(e,n)}function N(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function F(t,l,e){var n=!1,r=t.length;if(r<=2)return!1;for(var i,o,a,s=0;s<r;s++){var c=t[s],u=t[(s+1)%r];if(o=u,((a=[l,e])[0]-(i=c)[0])*(o[1]-i[1])==(o[0]-i[0])*(a[1]-i[1])&&Math.min(i[0],o[0])<=a[0]&&a[0]<=Math.max(i[0],o[0])&&Math.min(i[1],o[1])<=a[1]&&a[1]<=Math.max(i[1],o[1]))return!0;0<N(c[1]-e)!=0<N(u[1]-e)&&N(l-(e-c[1])*(c[0]-u[0])/(c[1]-u[1])-c[0])<0&&(n=!n)}return n}var t=e(12),U=e(79);function W(t,e,n,r,i,o,a,s){var c=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(c<r||i<c)return!1;r={x:t+n*Math.cos(c),y:e+n*Math.sin(c)};return Object(x.b)(r.x,r.y,a,s)<=o/2}var z=t.a.transform,G=Object(r.a)({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return 0<i.length&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(l,t,e,n,h){for(var r=!1,d=t/2,f=0;f<l.length;f++){var i=l[f],p=i.currentPoint,o=i.params,a=i.prePoint,g=i.box;if(!g||Object(x.e)(g.x-d,g.y-d,g.width+t,g.height+t,e,n)){switch(i.command){case"L":case"Z":r=C(a[0],a[1],p[0],p[1],t,e,n);break;case"Q":r=M.e.pointDistance(a[0],a[1],o[1],o[2],o[3],o[4],e,n)<=t/2;break;case"C":r=M.b.pointDistance(a[0],a[1],o[1],o[2],o[3],o[4],o[5],o[6],e,n,h)<=t/2;break;case"A":var s=i.arcParams,y=s.cx,_=s.cy,c=s.rx,u=s.ry,m=s.startAngle,v=s.endAngle,s=s.xRotation,b=[e,n,1],O=u<c?c:u,y=z(null,[["t",-y,-_],["r",-s],["s",1/(u<c?1:c/u),1/(u<c?u/c:1)]]);U.transformMat3(b,b,y),r=W(0,0,O,m,v,t,b[0],b[1])}if(r)break}}return r}},d.PathUtil);function $(t,e,n){for(var r=!1,i=0;i<t.length&&!(r=F(t[i],e,n));i++);return r}K=i,Object(r.b)(a,K),a.prototype.getDefaultAttrs=function(){var t=K.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},a.prototype.onAttrChange=function(t,e,n){K.prototype.onAttrChange.call(this,t,e,n),"path"===t&&this._setPathArr(e),this.setArrow()},a.prototype._setPathArr=function(t){this.attrs.path=Object(I.d)(t);t=G.hasArc(t);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},a.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Object(I.e)(this.attr("path")),this.set("segments",t)),t},a.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,r=e.endArrow;n&&(t=this.getStartTangent(),j.b(this,e,t[0][0],t[0][1],t[1][0],t[1][1])),r&&(t=this.getEndTangent(),j.a(this,e,t[0][0],t[0][1],t[1][0],t[1][1]))},a.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;return n&&(n=this.getTotalLength(),s=G.isPointInStroke(o,i,t,e,n)),s=!s&&r?a?B(this,t,e):(o=this.attr("path"),$((i=G.extractPolygons(o)).polygons,t,e)||$(i.polylines,t,e)):s},a.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Object(f.e)(this,t,e,n)},a.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},a.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(T.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},a.prototype.getPoint=function(n){var r,i,t=this.get("tCache"),e=(t||(this._calculateCurve(),this._setTcache(),t=this.get("tCache")),this.get("curve"));if(!t||0===t.length)return e?{x:e[0][1],y:e[0][2]}:null;Object(T.each)(t,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)});t=e[i];if(Object(T.isNil)(t)||Object(T.isNil)(i))return null;var o=t.length,e=e[i+1];return M.b.pointAt(t[o-2],t[o-1],e[1],e[2],e[3],e[4],e[5],e[6],r)},a.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",G.pathToCurve(t))},a.prototype._setTcache=function(){var n,r,i,o,a=0,s=0,c=[],u=this.get("curve");u&&(Object(T.each)(u,function(t,e){i=u[e+1],o=t.length,i&&(a+=M.b.length(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6])||0)}),this.set("totalLength",a),0!==a?(Object(T.each)(u,function(t,e){i=u[e+1],o=t.length,i&&((n=[])[0]=s/a,r=M.b.length(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6]),s+=r||0,n[1]=s/a,c.push(n))}),this.set("tCache",c)):this.set("tCache",[]))},a.prototype.getStartTangent=function(){var t,e,n,r=this.getSegments();return 1<r.length&&(t=r[0].currentPoint,e=r[1].currentPoint,n=[],(r=r[1].startTangent)?n.push([t[0]-r[0],t[1]-r[1]]):n.push([e[0],e[1]]),n.push([t[0],t[1]])),n},a.prototype.getEndTangent=function(){var t,e,n,r=this.getSegments(),i=r.length;return 1<i&&(t=r[i-2].currentPoint,e=r[i-1].currentPoint,n=[],(r=r[i-1].endTangent)?n.push([e[0]-r[0],e[1]-r[1]]):n.push([t[0],t[1]]),n.push([e[0],e[1]])),n};var K,V=a;function a(){return null!==K&&K.apply(this,arguments)||this}function X(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++)if(C(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0;if(i){var i=t[0],s=t[o-1];if(C(i[0],i[1],s[0],s[1],e,n,r))return!0}return!1}H=i,Object(r.b)(J,H),J.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return a=!(a=n?X(o,i,t,e,!0):a)&&r?F(o,t,e):a},J.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}};var Y,H,q=J,Z=(Y=i,Object(r.b)(s,Y),s.prototype.getDefaultAttrs=function(){var t=Y.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{startArrow:!1,endArrow:!1})},s.prototype.initAttrs=function(t){this.setArrow()},s.prototype.onAttrChange=function(t,e,n){Y.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},s.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},s.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,e=e.endArrow,i=n.length,o=n[0][0],a=n[0][1],s=n[i-1][0],c=n[i-1][1];r&&j.b(this,t,n[1][0],n[1][1],o,a),e&&j.a(this,t,n[i-2][0],n[i-2][1],s,c)},s.prototype.isFill=function(){return!1},s.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!(!n||!i)&&X(this.attr().points,i,t,e,!1)},s.prototype.isStroke=function(){return!0},s.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,e=e.endArrow,i=n.length;if(!(n.length<2)){var o,a=n[0][0],s=n[0][1],c=n[i-1][0],u=n[i-1][1];r&&r.d&&(a+=(o=j.c(a,s,n[1][0],n[1][1],r.d)).dx,s+=o.dy),e&&e.d&&(c-=(o=j.c(n[i-2][0],n[i-2][1],c,u,e.d)).dx,u-=o.dy),t.beginPath(),t.moveTo(a,s);for(var l=0;l<i-1;l++){var h=n[l];t.lineTo(h[0],h[1])}t.lineTo(c,u)}},s.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},s.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(T.isNil)(e)?(this.set("totalLength",M.d.length(t)),this.get("totalLength")):e},s.prototype.getPoint=function(n){var r,i,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(T.each)(e,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)}),M.c.pointAt(t[i][0],t[i][1],t[i+1][0],t[i+1][1],r)},s.prototype._setTcache=function(){var n,r,i,o,a,s=this.attr().points;s&&0!==s.length&&((n=this.getTotalLength())<=0||(o=0,a=[],Object(T.each)(s,function(t,e){s[e+1]&&((r=[])[0]=o/n,i=M.c.length(t[0],t[1],s[e+1][0],s[e+1][1]),o+=i,r[1]=o/n,a.push(r))}),this.set("tCache",a)))},s.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},s.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},s),Q=e(212);function s(){return null!==Y&&Y.apply(this,arguments)||this}function J(){return null!==H&&H.apply(this,arguments)||this}et=i,Object(r.b)(it,et),it.prototype.getDefaultAttrs=function(){var t=et.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,width:0,height:0,radius:0})},it.prototype.isInStrokeOrPath=function(t,l,h,d,f){var e=this.attr(),p=e.x,g=e.y,y=e.width,_=e.height,e=e.radius;if(e)return c=!1,h&&(n=_,c=C((r=p)+(e=e),i=g,r+(u=y)-e,i,a=f,s=t,o=l)||C(r+u,i+e,r+u,i+n-e,a,s,o)||C(r+u-e,i+n,r+e,i+n,a,s,o)||C(r,i+n-e,r,i+e,a,s,o)||W(r+u-e,i+e,e,1.5*Math.PI,2*Math.PI,a,s,o)||W(r+u-e,i+n-e,e,0,.5*Math.PI,a,s,o)||W(r+e,i+n-e,e,.5*Math.PI,Math.PI,a,s,o)||W(r+e,i+e,e,Math.PI,1.5*Math.PI,a,s,o)),!c&&d?B(this,t,l):c;var n,r,i,o,a,s,c,u=f/2;return d&&h?Object(x.e)(p-u,g-u,y+u,_+u,t,l):d?Object(x.e)(p,g,y,_,t,l):h?(n=p,r=g,i=y,e=_,a=t,s=l,c=(o=f)/2,Object(x.e)(n-c,r-c,i,o,a,s)||Object(x.e)(n+i-c,r-c,o,e,a,s)||Object(x.e)(n+c,r+e-c,i,o,a,s)||Object(x.e)(n-c,r+c,o,e,a,s)):void 0},it.prototype.createPath=function(t){var e,n,r,i=this.attr(),o=i.x,a=i.y,s=i.width,c=i.height,i=i.radius;t.beginPath(),0===i?t.rect(o,a,s,c):(e=(i=Object(Q.a)(i))[0],n=i[1],r=i[2],i=i[3],t.moveTo(o+e,a),t.lineTo(o+s-n,a),0!==n&&t.arc(o+s-n,a+n,n,-Math.PI/2,0),t.lineTo(o+s,a+c-r),0!==r&&t.arc(o+s-r,a+c-r,r,0,Math.PI/2),t.lineTo(o+i,a+c),0!==i&&t.arc(o+i,a+c-i,i,Math.PI/2,Math.PI),t.lineTo(o,a+e),0!==e&&t.arc(o+e,a+e,e,Math.PI,1.5*Math.PI),t.closePath())};var tt,et,nt=it,rt=(tt=i,Object(r.b)(c,tt),c.prototype.getDefaultAttrs=function(){var t=tt.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},c.prototype.isOnlyHitBox=function(){return!0},c.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},c.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(d.assembleFont)(t)},c.prototype._setText=function(t){var e=null;Object(x.k)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},c.prototype.onAttrChange=function(t,e,n){tt.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(e)},c.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,t=+t.fontSize;return e?e-t:.14*t},c.prototype._drawTextArr=function(n,t,r){var i,e=this.attrs,o=e.textBaseline,a=e.x,s=e.y,c=+e.fontSize,l=this._getSpaceingY(),u=Object(d.getTextHeight)(e.text,e.fontSize,e.lineHeight);Object(x.c)(t,function(t,e){i=s+e*(l+c)-u+c,"middle"===o&&(i+=u-c-(u-c)/2),"top"===o&&(i+=u-c),Object(x.i)(t)||(r?n.fillText(t,a,i):n.strokeText(t,a,i))})},c.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");o?this._drawTextArr(t,o,e):(o=n.text,Object(x.i)(o)||(e?t.fillText(o,r,i):t.strokeText(o,r,i)))},c.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,e=e.fillOpacity;this.isStroke()&&0<n&&(Object(x.i)(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(Object(x.i)(e)||1===e?this.fill(t):(t.globalAlpha=e,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},c.prototype.fill=function(t){this._drawText(t,!0)},c.prototype.stroke=function(t){this._drawText(t,!1)},c);function c(){return null!==tt&&tt.apply(this,arguments)||this}function it(){return null!==et&&et.apply(this,arguments)||this}},function(s,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o});var n,t=e(115),y=e.n(t),t=e(16),r=e.n(t),t=e(17),t=e.n(t),_=e(4),i=e(189),o=((e=n=n||{})[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",t()(a,[{key:"extractFromVPMatrix",value:function(t){var t=y()(t,16),e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],l=t[8],h=t[9],d=t[10],u=t[11],f=t[12],p=t[13],g=t[14],t=t[15];_.e.set(this.planes[0].normal,i-e,c-o,u-l),this.planes[0].distance=-(t-f),_.e.set(this.planes[1].normal,i+e,c+o,u+l),this.planes[1].distance=-(t+f),_.e.set(this.planes[2].normal,i+n,c+a,u+h),this.planes[2].distance=-(t+p),_.e.set(this.planes[3].normal,i-n,c-a,u-h),this.planes[3].distance=-(t-p),_.e.set(this.planes[4].normal,i-r,c-s,u-d),this.planes[4].distance=-(t-g),_.e.set(this.planes[5].normal,i+r,c+s,u+d),this.planes[5].distance=-(t+g),this.planes.forEach(function(t){t.normalize(),t.updatePNVertexFlag()})}}]),a);function a(t){if(r()(this,a),this.planes=[],t)this.planes=t;else for(var e=0;e<6;e++)this.planes.push(new i.a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var l=n(80),i=n(65);function o(t,e,n,r,i){var o={},a="number"==typeof i,i=void 0!==i&&a?i.toString():n;if(a&&void 0!==n)throw new Error(l.INVALID_DECORATOR_OPERATION);a=(o=Reflect.hasOwnMetadata(t,e)?Reflect.getMetadata(t,e):o)[i];if(Array.isArray(a))for(var s=0,c=a;s<c.length;s++){var u=c[s];if(u.key===r.key)throw new Error(l.DUPLICATED_METADATA+" "+u.key.toString())}else a=[];a.push(r),o[i]=a,Reflect.defineMetadata(t,o,e)}function a(t,e){Reflect.decorate(t,e)}e.tagParameter=function(t,e,n,r){o(i.TAGGED,t,e,r,n)},e.tagProperty=function(t,e,n){o(i.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){var r,i;"number"==typeof n?a([(r=n,i=t,function(t,e){i(t,e,r)})],e):"string"==typeof n?Reflect.decorate([t],e,n):a([t],e)}},function(t,e,n){"use strict";var r,i=n(11),o=n(18),a=n(0),s=n(27),n=(r=n(133).a,Object(i.b)(c,r),c.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return Object(i.a)(Object(i.a)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},c.prototype.getContainer=function(){return this.get("container")},c.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},c.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},c.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},c.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return Object(s.b)(e,n,t.clientWidth,t.clientHeight)},c.prototype.clear=function(){var t=this.get("container");Object(s.a)(t)},c.prototype.destroy=function(){this.removeEvent(),this.removeDom(),r.prototype.destroy.call(this)},c.prototype.init=function(){r.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},c.prototype.initCapture=function(){this.setCapture(this.get("capture"))},c.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},c.prototype.initDom=function(){},c.prototype.initContainer=function(){var t,e=this.get("container");Object(a.isNil)(e)?(e=this.createDom(),t=this.get("parent"),Object(a.isString)(t)&&(t=document.getElementById(t),this.set("parent",t)),t.appendChild(e),this.get("containerId")&&e.setAttribute("id",this.get("containerId")),this.set("container",e)):Object(a.isString)(e)&&(e=document.getElementById(e),this.set("container",e)),this.get("parent")||this.set("parent",e.parentNode)},c.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles"),t=t?Object(a.deepMix)({},e,t):e;this.set("domStyles",t)},c.prototype.applyStyles=function(){var t,e,n=this.get("domStyles");n&&(t=this.getContainer(),this.applyChildrenStyles(t,n),(e=this.get("containerClassName"))&&Object(s.h)(t,e)&&(n=n[e],Object(o.e)(t,n)))},c.prototype.applyChildrenStyles=function(n,t){Object(a.each)(t,function(e,t){t=n.getElementsByClassName(t);Object(a.each)(t,function(t){Object(o.e)(t,e)})})},c.prototype.applyStyle=function(t,e){var n=this.get("domStyles");Object(o.e)(e,n[t])},c.prototype.createDom=function(){var t=this.get("containerTpl");return Object(o.b)(t)},c.prototype.initEvent=function(){},c.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},c.prototype.removeEvent=function(){},c.prototype.updateInner=function(t){Object(a.hasKey)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},c.prototype.resetPosition=function(){},c);function c(){return null!==r&&r.apply(this,arguments)||this}e.a=n},function(s,t,e){"use strict";e.d(t,"a",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return a});var h=e(3),r=e(0),i=e(123),d=e(171);function n(t,e){if(!t)return{};var t=t.filter(function(t){t=Object(r.get)(t,[e]);return Object(r.isNumber)(t)&&!isNaN(t)}),n=t.every(function(t){return 0<=Object(r.get)(t,[e])}),t=t.every(function(t){return Object(r.get)(t,[e])<=0});return n?{min:0}:t?{max:0}:{}}function o(t,i,o,a,s){if(void 0===s&&(s=[]),!Array.isArray(t))return{nodes:[],links:[]};var c=[],u={},l=-1;return t.forEach(function(t){var e=t[i],n=t[o],r=t[a],t=Object(d.a)(t,s);u[e]||(u[e]=Object(h.a)({id:++l,name:e},t)),u[n]||(u[n]=Object(h.a)({id:++l,name:n},t)),c.push(Object(h.a)({source:u[e].id,target:u[n].id,value:r},t))}),{nodes:Object.values(u).sort(function(t,e){return t.id-e.id}),links:c}}function a(t,e){var n=Object(r.filter)(t,function(t){t=t[e];return null===t||"number"==typeof t&&!isNaN(t)});return Object(i.b)(i.a.WARN,n.length===t.length,"illegal data existed in chart data."),n}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,c=a.length,u=t.value&&(i-n)/t.value;++s<c;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}},function(t,e,n){"use strict";function r(){this._events={}}r.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},r.prototype.once=function(t,e){return this.on(t,e,!0)},r.prototype.emit=function(o){for(var a=this,s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];function e(t){for(var e,n,r=t.length,i=0;i<r;i++)t[i]&&(n=(e=t[i]).callback,e.once&&(t.splice(i,1),0===t.length&&delete a._events[o],r--,i--),n.apply(a,s))}var n=this._events[o]||[],r=this._events["*"]||[];e(n),e(r)},r.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},r.prototype.getEvents=function(){return this._events},e.a=r},function(l,t,e){"use strict";e.d(t,"b",function(){return s}),e.d(t,"a",function(){return h});var n,c=e(3),o=e(13),u=e(0),r=e(172),i={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},s="hierarchy-data-transform-params",h=(n=o.a,Object(c.b)(a,n),a.prototype.click=function(){var t=Object(u.get)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},a.prototype.resetPosition=function(){var t,e,n,r,i;this.breadCrumbGroup&&(t=this.context.view.getCoordinate(),n=(e=this.breadCrumbGroup).getBBox(),i=this.getButtonCfg().position,r={x:t.start.x,y:t.end.y-(n.height+10)},t.isPolar&&(r={x:0,y:0}),"bottom-left"===i&&(r={x:t.start.x,y:t.start.y}),i=o.h.transform(null,[["t",r.x+0,r.y+n.height+5]]),e.setMatrix(i))},a.prototype.back=function(){Object(u.size)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},a.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},a.prototype.drill=function(t){var e=this.context.view,n=Object(u.get)(e,["interactions","drill-down","cfg","transformData"],function(t){return t}),r=n(Object(c.a)({data:t.data},t[s]));e.changeData(r);for(var i=[],o=t;o;){var a=o.data;i.unshift({id:a.name+"_"+o.height+"_"+o.depth,name:a.name,children:n(Object(c.a)({data:a},t[s]))}),o=o.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(i)},a.prototype.backTo=function(t){var e,n;!t||t.length<=0||(e=this.context.view,n=Object(u.last)(t).children,e.changeData(n),1<t.length?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup()))},a.prototype.getButtonCfg=function(){var t=this.context.view,t=Object(u.get)(t,["interactions","drill-down","cfg","drillDownConfig"]);return Object(r.a)(this.breadCrumbCfg,null==t?void 0:t.breadCrumb,this.cfg)},a.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},a.prototype.drawBreadCrumbGroup=function(){var i=this,o=this.getButtonCfg(),a=this.historyCache,s=(this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:"drilldown-bread-crumb"}),0);a.forEach(function(t,e){var n=i.breadCrumbGroup.addShape({type:"text",id:t.id,name:"drilldown-bread-crumb_"+t.name+"_text",attrs:Object(c.a)(Object(c.a)({text:0!==e||Object(u.isNil)(o.rootText)?t.name:o.rootText},o.textStyle),{x:s,y:0})}),r=n.getBBox();s+=r.width+4,n.on("click",function(t){var e=t.target.get("id");e!==(null===(t=Object(u.last)(a))||void 0===t?void 0:t.id)&&(t=a.slice(0,a.findIndex(function(t){return t.id===e})+1),i.backTo(t))}),n.on("mouseenter",function(t){t.target.get("id")!==(null===(t=Object(u.last)(a))||void 0===t?void 0:t.id)?n.attr(o.activeTextStyle):n.attr({cursor:"default"})}),n.on("mouseleave",function(){n.attr(o.textStyle)}),e<a.length-1&&(r=i.breadCrumbGroup.addShape({type:"text",name:o.name+"_"+t.name+"_divider",attrs:Object(c.a)(Object(c.a)({text:o.dividerText},o.textStyle),{x:s,y:0})}).getBBox(),s+=r.width+4)})},a.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},a.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),n.prototype.destroy.call(this)},a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="drill-down",t.historyCache=[],t.breadCrumbGroup=null,t.breadCrumbCfg=i,t}},function(u,t,e){"use strict";e.r(t),e.d(t,"__extends",function(){return n}),e.d(t,"__assign",function(){return i}),e.d(t,"__rest",function(){return o}),e.d(t,"__decorate",function(){return l}),e.d(t,"__param",function(){return d}),e.d(t,"__metadata",function(){return f}),e.d(t,"__awaiter",function(){return p}),e.d(t,"__generator",function(){return g}),e.d(t,"__createBinding",function(){return a}),e.d(t,"__exportStar",function(){return y}),e.d(t,"__values",function(){return s}),e.d(t,"__read",function(){return c}),e.d(t,"__spread",function(){return _}),e.d(t,"__spreadArrays",function(){return m}),e.d(t,"__spreadArray",function(){return v}),e.d(t,"__await",function(){return h}),e.d(t,"__asyncGenerator",function(){return b}),e.d(t,"__asyncDelegator",function(){return O}),e.d(t,"__asyncValues",function(){return x}),e.d(t,"__makeTemplateObject",function(){return E}),e.d(t,"__importStar",function(){return M}),e.d(t,"__importDefault",function(){return P}),e.d(t,"__classPrivateFieldGet",function(){return C}),e.d(t,"__classPrivateFieldSet",function(){return A});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function l(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a}function d(n,r){return function(t,e){r(t,e,n)}}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function p(t,a,s,c){return new(s=s||Promise)(function(n,e){function r(t){try{o(c.next(t))}catch(t){e(t)}}function i(t){try{o(c.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,i)}o((c=c.apply(t,a||[])).next())})}function g(r,i){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){c=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){c.label=e[1];break}if(6===e[0]&&c.label<s[1]){c.label=s[1],s=e;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(e);break}s[2]&&c.ops.pop(),c.trys.pop();continue}e=i.call(r,c)}catch(t){e=[6,t],a=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}}var a=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]};function y(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||a(e,t,n)}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function _(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function h(t){return this instanceof h?(this.v=t,this):new h(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o=[],a={};return r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a;function r(r){i[r]&&(a[r]=function(n){return new Promise(function(t,e){1<o.push([r,n,t,e])||s(r,n)})})}function s(t,e){try{(n=i[t](e)).value instanceof h?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(t){u(o[0][3],t)}var n}function c(t){s("next",t)}function l(t){s("throw",t)}function u(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function O(r){var i,t={};return e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,n){t[e]=r[e]?function(t){return(i=!i)?{value:h(r[e](t)),done:"return"===e}:n?n(t):t}:n}}function x(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=a[Symbol.asyncIterator];return e?e.call(a):(a=s(a),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=a[o]&&function(i){return new Promise(function(t,e){var n,r;n=t,t=e,r=(i=a[o](i)).done,e=i.value,Promise.resolve(e).then(function(t){n({value:t,done:r})},t)})}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var w=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function M(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return w(e,t),e}function P(t){return t&&t.__esModule?t:{default:t}}function C(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function A(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}},function(t,e,n){var r=n(488),i=n(489),o=n(314),a=n(490);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},function(o,t,e){"use strict";function n(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function r(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=u)):void 0===e&&(e=c);for(var n,r,i,o,a,t=new h(t),s=[t];n=s.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;0<=o;--o)s.push(r=i[o]=new h(i[o])),r.parent=n,r.depth=n.depth+1;return t.eachBefore(l)}function c(t){return t.children}function u(t){return Array.isArray(t)?t[1]:null}function i(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function l(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function h(t){this.data=t,this.depth=this.height=0,this.parent=null}e.d(t,"c",function(){return r}),e.d(t,"b",function(){return l}),e.d(t,"a",function(){return h}),h.prototype=r.prototype={constructor:h,count:function(){return this.eachAfter(n)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],c=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++c,this);return this},eachBefore:function(t,e){for(var n,r,i,o=[this],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;0<=r;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(i){return this.eachAfter(function(t){for(var e=+i(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return r(this).eachBefore(i)},[Symbol.iterator]:function*(){var t,e,n,r,i,o=[this];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});var r=0,i=.5,o=.5,a=.05},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"c",function(){return s});var r=n(0),i=n(2);function o(t,e){var n=null;return Object(r.each)(t,function(t){"number"==typeof t[e]&&(n+=t[e])}),n}function a(t,e){var n;switch(t){case"inner":return n="-30%",Object(r.isString)(e)&&e.endsWith("%")?0<.01*parseFloat(e)?n:e:e<0?e:n;case"outer":return n=12,Object(r.isString)(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:0<e?e:n;default:return e}}function s(t,e){return Object(r.every)(Object(i.u)(t,e),function(t){return 0===t[e]})}},function(i,t,e){"use strict";e.d(t,"c",function(){return s}),e.d(t,"b",function(){return r}),e.d(t,"a",function(){return _});var v=e(3),b=e(0),O=e(2),p=e(25),n=e(224),c=e(8),t=e(120),u={exp:t.regressionExp,linear:t.regressionLinear,loess:t.regressionLoess,log:t.regressionLog,poly:t.regressionPoly,pow:t.regressionPow,quad:t.regressionQuad},a=function(t){var e,n,r,i=t.options,o=i.xField,a=i.yField,s=i.data,i=i.regressionLine,c=i.type,c=void 0===c?"linear":c,i=i.algorithm,i=i?Object(b.isArray)(i)?i:i(s):u[c]().x(function(t){return t[o]}).y(function(t){return t[a]})(s);return c=i,e=t.view,s=t.options,i=s.xField,s=s.yField,n=e.getScaleByField(i),r=e.getScaleByField(s),i=c.map(function(t){return e.getCoordinate().convert({x:n.scale(t[0]),y:r.scale(t[1])})}),Object(O.m)(i,!1)};function s(t){var i,e,n,o,a,l,h,r=t.data,s=void 0===r?[]:r,d=t.xField,f=t.yField;if(s.length){for(var p=!0,g=!0,y=s[0],c=void 0,_=1;_<s.length&&(c=s[_],y[d]!==c[d]&&(p=!1),y[f]!==c[f]&&(g=!1),p||g);_++)y=c;var r=[],u=(p&&r.push(d),g&&r.push(f),Object(O.t)((u=t.meta,i=void 0===u?{}:u,u=t.xField,e=t.yField,n=t.data,o=n[0][u],a=n[0][e],l=0<o,h=0<a,Object(v.a)(Object(v.a)({},i),((n={})[u]=Object(v.a)(Object(v.a)({},i[u]),m(u,"x")),n[e]=Object(v.a)(Object(v.a)({},i[e]),m(e,"y")),n))),r));return Object(O.c)({},t,{meta:u})}function m(t,e){var n=Object(b.get)(i,[t]);function r(t){return Object(b.get)(n,t)}t={};return"x"===e?Object(b.isNumber)(o)&&(Object(b.isNumber)(r("min"))||(t.min=l?0:2*o),Object(b.isNumber)(r("max"))||(t.max=l?2*o:0)):Object(b.isNumber)(a)&&(Object(b.isNumber)(r("min"))||(t.min=h?0:2*a),Object(b.isNumber)(r("max"))||(t.max=h?2*a:0)),t}return t}function o(t){var e=t.chart,n=t.options,r=n.data,i=n.type,o=n.color,l=n.shape,h=n.pointStyle,d=n.shapeField,a=n.colorField,s=n.xField,f=n.yField,c=n.sizeField,u=n.size,n=n.tooltip,s=(c&&(u=u||[2,8],Object(b.isNumber)(u)&&(u=[u,u])),n&&!n.fields&&(n=Object(v.a)(Object(v.a)({},n),{fields:[s,f,a,c,d]})),e.data(r),Object(p.e)(Object(O.c)({},t,{options:{seriesField:a,point:{color:o,shape:l,size:u,style:h},tooltip:n}})),Object(O.d)(e,"point"));return i&&s.adjust(i),t}function r(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,n=s(n);return Object(O.f)(Object(c.g)(((e={})[o]=r,e[a]=i,e)))(Object(O.c)({},t,{options:n}))}function l(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return e.axis(o,r),e.axis(n,i),t}function h(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.shapeField,a=n.sizeField,s=n.shapeLegend,n=n.sizeLegend,c=!1!==r;return i&&e.legend(i,!!c&&r),o&&(s?e.legend(o,s):e.legend(o,!1!==s&&r)),a&&e.legend(a,n||!1),c||s||n||e.legend(!1),t}function d(t){var e,n=t.chart,r=t.options,i=r.label,r=r.yField,n=Object(O.d)(n,"point");return i?(e=i.callback,i=Object(v.c)(i,["callback"]),n.label({fields:[r],callback:e,cfg:Object(O.A)(i)})):n.label(!1),t}function f(t){var e,n,r,i,o,a=t.options.quadrant,s=[];return a&&(e=a.xBaseline,n=a.yBaseline,r=a.labels,i=a.regionStyle,a=a.lineStyle,o={regionStyle:[{position:{start:[e=void 0===e?0:e,"max"],end:["max",n=void 0===n?0:n]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[e,n]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",n],end:[e,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[e,n],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",n],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",n],offsetX:10,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",n],offsetX:10,offsetY:10,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",n],offsetX:-10,offsetY:10,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]},new Array(4).join(",").split(",").forEach(function(t,e){s.push(Object(v.a)(Object(v.a)({type:"region",top:!1},o.regionStyle[e].position),{style:Object(O.c)({},o.regionStyle[e].style,null==i?void 0:i[e])}),Object(v.a)({type:"text",top:!0},Object(O.c)({},o.labelStyle[e],null==r?void 0:r[e])))}),s.push({type:"line",top:!1,start:["min",n],end:["max",n],style:Object(O.c)({},o.lineStyle,a)},{type:"line",top:!1,start:[e,"min"],end:[e,"max"],style:Object(O.c)({},o.lineStyle,a)})),Object(O.f)(Object(c.b)(s))(t)}function g(t){var n,r,i=t.options,o=t.chart,e=i.regressionLine;return e&&(n=e.style,e=void 0!==(e=e.top)&&e,r={stroke:"#9ba29a",lineWidth:2,opacity:.5},o.annotation().shape({top:e,render:function(t,e){t=t.addGroup({id:o.id+"-regression-line",name:"regression-line-group"}),e=a({view:e,options:i});t.addShape("path",{name:"regression-line",attrs:Object(v.a)(Object(v.a)({path:e},r),n)})}})),t}function y(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}function _(t){return Object(O.f)(o,r,l,h,y,d,n.a,c.i,c.h,c.c,f,c.a,c.k,g)(t)}},function(t,e,n){!function(t){"use strict";function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q(t,r,l,h){t=t.filter(function(t,e){var n=r(t,e),t=l(t,e);return null!=n&&isFinite(n)&&null!=t&&isFinite(t)}),h&&t.sort(function(t,e){return r(t)-r(e)});for(var d,e,n=t.length,i=new Float64Array(n),o=new Float64Array(n),a=0,s=0,c=0;c<n;)e=t[c],i[c]=d=+r(e,c,t),o[c]=e=+l(e,c,t),a+=(d-a)/++c,s+=(e-s)/c;for(var u=0;u<n;++u)i[u]-=a,o[u]-=s;return[i,o,a,s]}function A(t,e,n,r){for(var i=0,o=0,a=t.length;o<a;o++){var s=t[o],c=+e(s,o,t),s=+n(s,o,t);null!=c&&isFinite(c)&&null!=s&&isFinite(s)&&r(c,s,i++)}}function S(t,e,n,r,i){var o=0,a=0;return A(t,e,n,function(t,e){t=e-i(t),e-=r;o+=t*t,a+=e*e}),1-o/a}function l(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function j(t,e,n){for(var r=Math.log(e-t)*Math.LOG10E+1|0,s=+Math.pow(10,-r/2-1),i=[u(t),u(e)],c=0;function(t){c++;for(var e=t.length,n=!1,r=0;r<e-1;r++){var i=t[r],o=t[r+1],o=[((o=[i,o])[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2],a=u(o[0]),o=l([i,o]),i=l([i,a]);Math.abs(o-i)>s&&(t.splice(r+1,0,a),n=!0)}return n}(i)&&c<1e4;);return i;function u(t){return[t,n(t)]}}function J(t,e,n,r){r-=t*t,n=Math.abs(r)<1e-24?0:(n-t*e)/r;return[e-n*t,n]}function M(){var d,f=function(t){return t[0]},p=function(t){return t[1]};function e(t){function e(t){return h*t+l}var n=0,r=0,i=0,o=0,a=0,s=d?+d[0]:1/0,c=d?+d[1]:-1/0,u=(A(t,f,p,function(t,e){r+=(t-r)/++n,i+=(e-i)/n,o+=(t*e-o)/n,a+=(t*t-a)/n,d||(t<s&&(s=t),c<t&&(c=t))}),Z(J(r,i,o,a),2)),l=u[0],h=u[1],u=[[s,e(s)],[c,e(c)]];return u.a=h,u.b=l,u.predict=e,u.rSquared=S(t,f,p,i,e),u}return e.domain=function(t){return arguments.length?(d=t,e):d},e.x=function(t){return arguments.length?(f=t,e):f},e.y=function(t){return arguments.length?(p=t,e):p},e}function P(){var M,P=function(t){return t[0]},C=function(t){return t[1]};function e(l){for(var t,h,e,n=Z(Q(l,P,C),4),d=n[0],f=n[1],r=n[2],p=n[3],g=d.length,i=0,o=0,y=0,a=0,s=0,c=0;c<g;)t=d[c],h=f[c++],i+=((e=t*t)-i)/c,o+=(e*t-o)/c,y+=(e*e-y)/c,a+=(t*h-a)/c,s+=(e*h-s)/c;function _(t){return u*(t-=r)*t+E*t+w+p}var m=0,v=0,b=M?+M[0]:1/0,O=M?+M[1]:-1/0,n=(A(l,P,C,function(t,e){m+=(e-m)/++v,M||(t<b&&(b=t),O<t&&(O=t))}),y-i*i),x=i*n-o*o,u=(s*i-a*o)/x,E=(a*n-s*o)/x,w=-u*i,n=j(b,O,_);return n.a=u,n.b=E-2*u*r,n.c=w-E*r+u*r*r+p,n.predict=_,n.rSquared=S(l,P,C,m,_),n}return e.domain=function(t){return arguments.length?(M=t,e):M},e.x=function(t){return arguments.length?(P=t,e):P},e.y=function(t){return arguments.length?(C=t,e):C},e}t.regressionExp=function(){var f,p=function(t){return t[0]},g=function(t){return t[1]};function e(n){function t(t){return r*Math.exp(d*t)}var i=0,o=0,a=0,s=0,c=0,u=0,l=f?+f[0]:1/0,h=f?+f[1]:-1/0,e=(A(n,p,g,function(t,e){var n=Math.log(e),r=t*e;o+=(e-o)/++i,s+=(r-s)/i,u+=(t*r-u)/i,a+=(e*n-a)/i,c+=(r*n-c)/i,f||(t<l&&(l=t),h<t&&(h=t))}),Z(J(s/o,a/o,c/o,u/o),2)),r=e[0],d=e[1],r=Math.exp(r),e=j(l,h,t);return e.a=r,e.b=d,e.predict=t,e.rSquared=S(n,p,g,o,t),e}return e.domain=function(t){return arguments.length?(f=t,e):f},e.x=function(t){return arguments.length?(p=t,e):p},e.y=function(t){return arguments.length?(g=t,e):g},e},t.regressionLinear=M,t.regressionLoess=function(){var Y=function(t){return t[0]},H=function(t){return t[1]},q=.3;function e(t){for(var e,n,t=Z(Q(t,Y,H,!0),4),r=t[0],l=t[1],h=t[2],t=t[3],i=r.length,d=Math.max(2,~~(q*i)),f=new Float64Array(i),p=new Float64Array(i),g=new Float64Array(i).fill(1),y=-1;++y<=2;){for(var _=[0,d-1],o=0;o<i;++o){for(var a=r[o],m=_[0],v=_[1],b=a-r[m]>r[v]-a?m:v,O=0,x=0,E=0,w=0,M=0,P=1/Math.abs(r[b]-a||1),C=m;C<=v;++C){var A=r[C],S=l[C],s=(s=1-(s=Math.abs(a-A)*P)*s*s)*s*s*g[C],j=A*s;O+=s,x+=j,E+=S*s,w+=S*j,M+=A*j}var b=Z(J(x/O,E/O,w/O,M/O),2),m=b[0],b=b[1],D=(f[o]=m+b*a,p[o]=Math.abs(l[o]-f[o]),R=L=k=I=T=D=void 0,r),T=o+1,I=_,k=D[T],L=I[0],R=I[1]+1;if(!(R>=D.length))for(;L<T&&D[R]-k<=k-D[L];)I[0]=++L,I[1]=R,++R}if(2===y)break;n=void 0,(e=p).sort(function(t,e){return t-e});var B=(n=e.length/2)%1==0?(e[n-1]+e[n])/2:e[Math.floor(n)];if(Math.abs(B)<1e-12)break;for(var c,N=0;N<i;++N)c=p[N]/(6*B),g[N]=1<=c?1e-12:(c=1-c*c)*c}for(var F,U=r,W=f,z=h,G=t,$=U.length,K=[],V=0,X=0,u=[];V<$;++V)F=U[V]+z,u[0]===F?u[1]+=(W[V]-u[1])/++X:(X=0,u[1]+=G,u=[F,W[V]],K.push(u));return u[1]+=G,K}return e.bandwidth=function(t){return arguments.length?(q=t,e):q},e.x=function(t){return arguments.length?(Y=t,e):Y},e.y=function(t){return arguments.length?(H=t,e):H},e},t.regressionLog=function(){var f,p=function(t){return t[0]},g=function(t){return t[1]},y=Math.E;function e(t){function e(t){return d*Math.log(t)/l+h}var r=0,i=0,o=0,a=0,s=0,c=f?+f[0]:1/0,u=f?+f[1]:-1/0,l=Math.log(y),n=(A(t,p,g,function(t,e){var n=Math.log(t)/l;i+=(n-i)/++r,o+=(e-o)/r,a+=(n*e-a)/r,s+=(n*n-s)/r,f||(t<c&&(c=t),u<t&&(u=t))}),Z(J(i,o,a,s),2)),h=n[0],d=n[1],n=j(c,u,e);return n.a=d,n.b=h,n.predict=e,n.rSquared=S(t,p,g,o,e),n}return e.domain=function(t){return arguments.length?(f=t,e):f},e.x=function(t){return arguments.length?(p=t,e):p},e.y=function(t){return arguments.length?(g=t,e):g},e.base=function(t){return arguments.length?(y=t,e):y},e},t.regressionPoly=function(){var O,x=function(t){return t[0]},E=function(t){return t[1]},w=3;function e(t){if(1===w)return(a=M().x(x).y(E).domain(O)(t)).coefficients=[a.b,a.a],delete a.a,delete a.b,a;if(2===w)return(a=P().x(x).y(E).domain(O)(t)).coefficients=[a.c,a.b,a.a],delete a.a,delete a.b,delete a.c,a;var n,e,r,i,o,a=Z(Q(t,x,E),4),s=a[0],l=a[1],h=a[2],d=a[3],f=s.length,p=[],g=[],c=w+1,y=0,_=0,m=O?+O[0]:1/0,v=O?+O[1]:-1/0;for(A(t,x,E,function(t,e){y+=(e-y)/++_,O||(t<m&&(m=t),v<t&&(v=t))}),n=0;n<c;++n){for(i=r=0;r<f;++r)i+=Math.pow(s[r],n)*l[r];for(p.push(i),o=new Float64Array(c),e=0;e<c;++e){for(i=r=0;r<f;++r)i+=Math.pow(s[r],n+e);o[e]=i}g.push(o)}g.push(p);function b(t){var e=d+u[0]+u[1]*(t-=h)+u[2]*t*t;for(n=3;n<c;++n)e+=u[n]*Math.pow(t,n);return e}var u=function(t){for(var e,n,r,i,o=t.length-1,a=[],s=0;s<o;++s){for(e=(r=s)+1;e<o;++e)Math.abs(t[s][e])>Math.abs(t[s][r])&&(r=e);for(n=s;n<1+o;++n)i=t[n][s],t[n][s]=t[n][r],t[n][r]=i;for(e=s+1;e<o;++e)for(n=o;s<=n;n--)t[n][e]-=t[n][s]*t[s][e]/t[s][s]}for(e=o-1;0<=e;--e){for(i=0,n=e+1;n<o;++n)i+=t[n][e]*a[n];a[e]=(t[o][e]-i)/t[e][e]}return a}(g),a=j(m,v,b);return a.coefficients=function(t,e,n,r){for(var i,o,a,s=Array(t),c=0;c<t;++c)s[c]=0;for(c=t-1;0<=c;--c)for(o=e[c],a=1,s[c]+=o,i=1;i<=c;++i)a*=(c+1-i)/i,s[c-i]+=o*Math.pow(n,i)*a;return s[0]+=r,s}(c,u,-h,d),a.predict=b,a.rSquared=S(t,x,E,y,b),a}return e.domain=function(t){return arguments.length?(O=t,e):O},e.x=function(t){return arguments.length?(x=t,e):x},e.y=function(t){return arguments.length?(E=t,e):E},e.order=function(t){return arguments.length?(w=t,e):w},e},t.regressionPow=function(){var f,p=function(t){return t[0]},g=function(t){return t[1]};function e(n){function t(t){return r*Math.pow(t,d)}var i=0,o=0,a=0,s=0,c=0,u=0,l=f?+f[0]:1/0,h=f?+f[1]:-1/0,e=(A(n,p,g,function(t,e){var n=Math.log(t),r=Math.log(e);o+=(n-o)/++i,a+=(r-a)/i,s+=(n*r-s)/i,c+=(n*n-c)/i,u+=(e-u)/i,f||(t<l&&(l=t),h<t&&(h=t))}),Z(J(o,a,s,c),2)),r=e[0],d=e[1],r=Math.exp(r),e=j(l,h,t);return e.a=r,e.b=d,e.predict=t,e.rSquared=S(n,p,g,u,t),e}return e.domain=function(t){return arguments.length?(f=t,e):f},e.x=function(t){return arguments.length?(p=t,e):p},e.y=function(t){return arguments.length?(g=t,e):g},e},t.regressionQuad=P,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){var o=n(340),a=n(339),s=n(347),r=n(236),c=n(348),u=[0,0];t.exports.computeMiter=function(t,e,n,r,i){return o(t,n,r),s(t,t),a(e,-t[1],t[0]),a(u,-n[1],n[0]),i/c(e,u)},t.exports.normal=function(t,e){return a(t,-e[1],e[0]),t},t.exports.direction=function(t,e,n){return r(t,e,n),s(t,t),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var r=0;e.id=function(){return r++}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r,o=n(3),a=((e=r=r||{}).ERROR="error",e.WARN="warn",e.INFO="log","AntV/G2Plot");function i(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e||console[t](function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=0;return a+": "+t.replace(/%s/g,function(){return""+e[r++]})}.apply(void 0,Object(o.d)([n],r)))}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return s});var i=n(39),o=n(169);function r(t,e,n){var r=1;return 1<(r=Object(i.h)(t)?t.split("\n").length:r)?e*r+(n?n-e:.14*e)*(r-1):e}function a(t,e){var n=Object(o.a)(),r=0;return Object(i.e)(t)||""===t||(n.save(),n.font=e,Object(i.h)(t)&&t.includes("\n")?(e=t.split("\n"),Object(i.a)(e,function(t){t=n.measureText(t).width;r<t&&(r=t)})):r=n.measureText(t).width,n.restore()),r}function s(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a});var E=n(98),w=n(111),r=(1+Math.sqrt(5))/2;function a(l,h,t,d,f,p){for(var g,e,n,r,i,o,a,y,_,m,s,v=[],b=h.children,O=0,c=0,x=b.length,u=h.value;O<x;){for(n=f-t,r=p-d;!(i=b[c++].value)&&c<x;);for(s=(o=a=i)*i*(m=Math.max(r/n,n/r)/(u*l)),_=Math.max(a/s,s/o);c<x;++c){if(i+=e=b[c].value,e<o&&(o=e),a<e&&(a=e),s=i*i*m,(y=Math.max(a/s,s/o))>_){i-=e;break}_=y}v.push(g={value:i,dice:n<r,children:b.slice(O,c)}),g.dice?Object(E.a)(g,t,d,f,u?d+=r*i/u:p):Object(w.a)(g,t,d,u?t+=n*i/u:f,p),u-=i,O=c}return v}e.a=function e(o){function t(t,e,n,r,i){a(o,t,e,n,r,i)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(r)},function(l,t,e){"use strict";e.d(t,"a",function(){return x});var n,r,h,d,f,p,g,t=e(21),y=e.n(t),t=e(28),_=e.n(t),t=e(22),i=e.n(t),t=e(16),m=e.n(t),t=e(17),t=e.n(t),o=e(23),o=e.n(o),a=(e(58),e(15)),s=e(26),v=e(225),b=e(102);function c(t,e){var n,r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return O(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?O(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e=Object(a.injectable)(),n=Object(a.inject)(s.a.RenderEngine),r=Object(a.inject)(s.a.ResourcePool),h=Object(a.inject)(s.a.RenderPassFactory),a=Object(a.inject)(s.a.MeshComponentManager);var x=e((t()(u,[{key:"enableHighlight",value:function(t){this.highlightEnabled=t}},{key:"setHighlightColor",value:function(t){this.highlightColor=t}},{key:"highlightPickedFeature",value:function(t,e){if(t){var n,r=c(e.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.mesh.getComponentByEntity(i).material;o.setUniform("u_PickingStage",2),o.setUniform("u_PickingColor",[t[0],t[1],t[2]]),o.setUniform("u_HighlightColor",this.highlightColor)}}catch(t){r.e(t)}finally{r.f()}}}}]),u.IDENTIFIER="PixelPicking Pass",s=u,d=o()(s.prototype,"engine",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=o()(s.prototype,"resourcePool",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=o()(s.prototype,"renderPassFactory",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=o()(s.prototype,"mesh",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e=s))||e;function u(){var r,h=this;m()(this,u),i()(this,"engine",d,this),i()(this,"resourcePool",f,this),i()(this,"renderPassFactory",p,this),i()(this,"mesh",g,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(t,e,n){var r=t.createRenderTarget(e,"picking fbo",{width:1,height:1});n.data={output:e.write(t,r)},e.hasSideEffect=!0},this.execute=(r=_()(y.a.mark(function t(r,i,e){var n,o,a;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h.views=e,h.alreadyInRendering)return t.abrupt("return");t.next=3;break;case 3:n=c(e);try{for(a=function(){var a=o.value,t=a.getViewport(),e=t.width,t=t.height,n=(h.alreadyInRendering=!0,r.getResourceNode(i.data.output));h.pickingFBO=h.resourcePool.getOrCreateResource(n.resource),h.pickingFBO.resize({width:e,height:t}),h.engine.useFramebuffer(h.pickingFBO,function(){h.engine.clear({framebuffer:h.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var t,e=h.renderPassFactory(b.a.IDENTIFIER),n=[],r=c(a.getScene().getEntities());try{for(r.s();!(t=r.n()).done;){var i=t.value,o=h.mesh.getComponentByEntity(i);o.material.setUniform("u_PickingStage",1),n.push(o)}}catch(t){r.e(t)}finally{r.f()}e.renderView(a),n.forEach(function(t){t.material.setUniform("u_PickingStage",2)}),h.alreadyInRendering=!1})},n.s();!(o=n.n()).done;)a()}catch(t){n.e(t)}finally{n.f()}case 5:case"end":return t.stop()}},t)})),function(t,e,n){return r.apply(this,arguments)}),this.pick=function(t,e){var n,r,i=t.x,o=t.y,t=h.engine,a=t.readPixels,t=t.useFramebuffer,s=e.getViewport(),l=s.width,c=s.height,u=i*window.devicePixelRatio,s=o*window.devicePixelRatio;if(!(l<u||u<0||c<s||s<0))return t(h.pickingFBO,function(){0===(n=a({x:Math.round(u),y:Math.round(c-(o+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:h.pickingFBO}))[0]&&0===n[1]&&0===n[2]||(r=Object(v.a)(n),h.highlightEnabled&&h.highlightPickedFeature(n,e))}),r}}},function(t,e,n){"use strict";n.d(e,"getAdjust",function(){return i}),n.d(e,"registerAdjust",function(){return o}),n(88),n(163);var r={},i=function(t){return r[t.toLowerCase()]},o=function(t,e){if(i(t))throw new Error("Adjust type '"+t+"' existed.");r[t.toLowerCase()]=e}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var c=n(71),u=n(53);function r(e,t){t.forEach(function(t){t.draw(e)})}function i(t,e){var n,r,i,o,a,s=t.get("canvas");s&&s.get("autoDraw")&&(n=s.get("context"),r=(r=t.getParent())?r.getChildren():[s],s=t.get("el"),"remove"===e?t.get("isClipShape")?(o=(i=s&&s.parentNode)&&i.parentNode,i&&o&&o.removeChild(i)):s&&s.parentNode&&s.parentNode.removeChild(s):"show"===e?s.setAttribute("visibility","visible"):"hide"===e?s.setAttribute("visibility","hidden"):"zIndex"===e?Object(u.c)(s,r.indexOf(t)):"sort"===e?(a=t.get("children"))&&a.length&&Object(u.d)(t,function(t,e){return a.indexOf(t)-a.indexOf(e)?1:0}):"clear"===e?s&&(s.innerHTML=""):"matrix"===e?Object(c.c)(t):"clip"===e?Object(c.a)(t,n):"attr"===e||"add"===e&&t.draw(n))}},function(t,e,n){"use strict";function r(t){return null==t?null:i(t)}function i(t){if("function"!=typeof t)throw new Error;return t}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(0);function r(n,t,e){var r=t+"Style",i=null;return Object(o.each)(e,function(t,e){n[e]&&t[r]&&(i=i||{},Object(o.mix)(i,t[r]))}),i}},function(t,e,n){"use strict";var r=n(127),e=(n.d(e,"getAdjust",function(){return r.getAdjust}),n(88),n(389)),i=n(390),o=n(391),a=n(392);n(163),Object(r.registerAdjust)("Dodge",e.a),Object(r.registerAdjust)("Jitter",i.a),Object(r.registerAdjust)("Stack",o.a),Object(r.registerAdjust)("Symmetric",a.a)},function(s,t,e){"use strict";e.d(t,"a",function(){return m});var f=e(3),c=e(19),p=e(0),y=e(49),n=e(8),_=e(60),g=e(2),u=e(221);function l(t){var d=t.chart,e=t.options,n=e.views,r=e.legend;return Object(p.each)(n,function(e){var t=e.region,n=e.data,r=e.meta,i=e.axes,o=e.coordinate,a=e.interactions,l=e.annotations,s=e.tooltip,h=e.geometries,c=d.createView({region:t}),u=(c.data(n),{});i&&Object(p.each)(i,function(t,e){u[e]=Object(g.t)(t,_.a)}),u=Object(g.c)({},r,u),c.scale(u),i?Object(p.each)(i,function(t,e){c.axis(e,t)}):c.axis(!1),c.coordinate(o),Object(p.each)(h,function(t){var e=Object(y.a)({chart:c,options:t}).ext,t=t.adjust;t&&e.geometry.adjust(t)}),Object(p.each)(a,function(t){!1===t.enable?c.removeInteraction(t.type):c.interaction(t.type,t.cfg)}),Object(p.each)(l,function(t){c.annotation()[t.type](Object(f.a)({},t))}),"boolean"==typeof e.animation?c.animate(!1):(c.animate(!0),Object(p.each)(c.geometries,function(t){t.animate(e.animation)})),s&&(c.interaction("tooltip"),c.tooltip(s))}),r?Object(p.each)(r,function(t,e){d.legend(e,t)}):d.legend(!1),d.tooltip(e.tooltip),t}function h(t){var i=t.chart,e=t.options.plots;return Object(p.each)(e,function(t){var e=t.type,n=t.region,t=t.options,t=void 0===t?{}:t,r=t.tooltip,n=i.createView(Object(f.a)({region:n},Object(g.t)(t,c.a)));r&&n.interaction("tooltip"),Object(u.a)(e,n,t)}),t}function d(t){return Object(g.f)(n.a,l,h,n.c,n.a,n.k,n.l)(t)}var r,t=e(13),e=(r=t.a,Object(f.b)(i,r),i.prototype.getAssociationItems=function(t,e){var c,n=this.context.event,e=e||{},r=e.linkField,i=e.dim,o=[];return null!==(e=n.data)&&void 0!==e&&e.data&&(c=n.data.data,Object(p.each)(t,function(a){var t,s=r;(s="x"===i?a.getXScale().field:"y"===i?null===(t=a.getYScales().find(function(t){return t.field===s}))||void 0===t?void 0:t.field:s||(null===(t=a.getGroupScales()[0])||void 0===t?void 0:t.field))&&(t=Object(p.map)(Object(g.h)(a),function(t){var e,n,r=!1,i=!1,o=Object(p.isArray)(c)?Object(p.get)(c[0],s):Object(p.get)(c,s);return e=s,n=t.getModel().data,(Object(p.isArray)(n)?n[0]:n)[e]===o?r=!0:i=!0,{element:t,view:a,active:r,inactive:i}}),o.push.apply(o,t))})),o},i.prototype.showTooltip=function(t){var e=Object(g.l)(this.context.view),e=this.getAssociationItems(e,t);Object(p.each)(e,function(t){var e;t.active&&(e=t.element.shape.getCanvasBBox(),t.view.showTooltip({x:e.minX+e.width/2,y:e.minY+e.height/2}))})},i.prototype.hideTooltip=function(){var t=Object(g.l)(this.context.view);Object(p.each)(t,function(t){t.hideTooltip()})},i.prototype.active=function(t){var e=Object(g.n)(this.context.view),e=this.getAssociationItems(e,t);Object(p.each)(e,function(t){var e=t.active,t=t.element;e&&t.setState("active",!0)})},i.prototype.selected=function(t){var e=Object(g.n)(this.context.view),e=this.getAssociationItems(e,t);Object(p.each)(e,function(t){var e=t.active,t=t.element;e&&t.setState("selected",!0)})},i.prototype.highlight=function(t){var e=Object(g.n)(this.context.view),e=this.getAssociationItems(e,t);Object(p.each)(e,function(t){var e=t.inactive,t=t.element;e&&t.setState("inactive",!0)})},i.prototype.reset=function(){var t=Object(g.n)(this.context.view);Object(p.each)(t,function(t){t=Object(g.h)(t);Object(p.each)(t,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)})})},i);function i(){return null!==r&&r.apply(this,arguments)||this}Object(t.l)("association",e),Object(t.o)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(t.o)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(t.o)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(t.o)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});o=c.b,Object(f.b)(a,o),a.prototype.getSchemaAdaptor=function(){return d};var o,m=a;function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="mix",t}},function(t,e,n){"use strict";var r,i=n(11),o=n(36),a=n(0),s={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},n=(r=o.Base,Object(i.b)(c,r),c.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},c.prototype.clear=function(){},c.prototype.update=function(t){var r=this,i=this.get("defaultCfg")||{};Object(a.each)(t,function(t,e){var n=t;r.get(e)!==t&&(Object(a.isObject)(t)&&i[e]&&(n=Object(a.deepMix)({},i[e],t)),r.set(e,n))}),this.updateInner(t),this.afterUpdate(t)},c.prototype.updateInner=function(t){},c.prototype.afterUpdate=function(t){Object(a.hasKey)(t,"visible")&&(t.visible?this.show():this.hide()),Object(a.hasKey)(t,"capture")&&this.setCapture(t.capture)},c.prototype.getLayoutBBox=function(){return this.getBBox()},c.prototype.getLocationType=function(){return this.get("locationType")},c.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},c.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},c.prototype.setLocation=function(t){t=Object(i.a)({},t);this.update(t)},c.prototype.getLocation=function(){var e=this,n={},t=this.get("locationType"),t=s[t];return Object(a.each)(t,function(t){n[t]=e.get(t)}),n},c.prototype.isList=function(){return!1},c.prototype.isSlider=function(){return!1},c.prototype.init=function(){},c.prototype.initCfg=function(){var r=this,t=this.get("defaultCfg");Object(a.each)(t,function(t,e){var n=r.get(e);Object(a.isObject)(n)&&(t=Object(a.deepMix)({},t,n),r.set(e,t))})},c);function c(t){t=r.call(this,t)||this;return t.initCfg(),t}e.a=n},function(l,t,e){"use strict";var n,r=e(32),i=e(36),o=e(106),a=e(61),s=e(0),c=e(30),e=(n=i.AbstractGroup,Object(r.b)(u,n),u.prototype.onCanvasChange=function(t){Object(a.h)(this,t)},u.prototype.getShapeBase=function(){return o},u.prototype.getGroupBase=function(){return u},u.prototype._applyClip=function(t,e){e&&(t.save(),Object(a.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},u.prototype.cacheCanvasBBox=function(){var t,e,n,r,i=this.cfg.children,o=[],a=[],i=(Object(s.each)(i,function(t){var e=t.cfg.cacheCanvasBBox;e&&t.cfg.isInView&&(o.push(e.minX,e.maxX),a.push(e.minY,e.maxY))}),null);o.length?(r=Object(s.min)(o),n=Object(s.max)(o),i={minX:r,minY:t=Object(s.min)(a),x:r,y:t,maxX:n,maxY:e=Object(s.max)(a),width:n-r,height:e-t},(n=this.cfg.canvas)&&(r=n.getViewRange(),this.set("isInView",Object(c.f)(i,r)))):this.set("isInView",!1),this.set("cacheCanvasBBox",i)},u.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),Object(a.a)(t,this),this._applyClip(t,this.getClip()),Object(a.d)(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},u.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},u);function u(){return null!==n&&n.apply(this,arguments)||this}t.a=e},function(l,t,e){"use strict";var n,r=e(34),i=e(36),o=e(0),h=e(137),a=e(128),s=e(71),c=e(31),d=e(53),e=(n=i.AbstractGroup,Object(r.b)(u,n),u.prototype.isEntityGroup=function(){return!0},u.prototype.createDom=function(){var t,e=Object(d.b)("g"),n=(this.set("el",e),this.getParent());return n&&((t=n.get("el"))||(t=n.createDom(),n.set("el",t)),t.appendChild(e)),e},u.prototype.afterAttrsChange=function(t){n.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");e&&e.get("autoDraw")&&(e=e.get("context"),this.createPath(e,t))},u.prototype.onCanvasChange=function(t){Object(a.b)(this,t)},u.prototype.getShapeBase=function(){return h},u.prototype.getGroupBase=function(){return u},u.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Object(s.a)(this,t),this.createPath(t),e.length&&Object(a.a)(t,e))},u.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(o.each)(e||n,function(t,e){c.b[e]&&r.setAttribute(c.b[e],t)}),Object(s.c)(this)},u);function u(){return null!==n&&n.apply(this,arguments)||this}t.a=e},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var e=n(16),r=n.n(e),e=n(17),e=n.n(e),i=n(4),o=(e()(a,[{key:"update",value:function(t,e){this.center=t||i.e.create(),this.halfExtents=e||i.e.fromValues(.5,.5,.5),this.min=i.e.sub(this.min,this.center,this.halfExtents),this.max=i.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(t,e){i.e.add(this.center,e,t),i.e.scale(this.center,this.center,.5),i.e.sub(this.halfExtents,e,t),i.e.scale(this.halfExtents,this.halfExtents,.5),i.e.copy(this.min,t),i.e.copy(this.max,e)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(t){var e=this.center,n=e[0],r=e[1],i=e[2],o=this.halfExtents,a=o[0],s=o[1],c=o[2],u=n-a,n=n+a,a=r-s,r=r+s,s=i-c,i=i+c,c=t.center,l=c[0],h=c[1],c=c[2],t=t.halfExtents,d=t[0],f=t[1],t=t[2],p=l-d,l=l+d,d=h-f,h=h+f,f=c-t,c=c+t;d<a&&(a=d),r<h&&(r=h),f<s&&(s=f),i<c&&(i=c),e[0]=.5*((u=p<u?p:u)+(n=n<l?l:n)),e[1]=.5*(a+r),e[2]=.5*(s+i),o[0]=.5*(n-u),o[1]=.5*(r-a),o[2]=.5*(i-s),this.min[0]=u,this.min[1]=a,this.min[2]=s,this.max[0]=n,this.max[1]=r,this.max[2]=i}},{key:"intersects",value:function(t){var e=this.getMax(),n=this.getMin(),r=t.getMax(),t=t.getMin();return n[0]<=r[0]&&e[0]>=t[0]&&n[1]<=r[1]&&e[1]>=t[1]&&n[2]<=r[2]&&e[2]>=t[2]}},{key:"containsPoint",value:function(t){var e=this.getMin(),n=this.getMax();return!(t[0]<e[0]||t[0]>n[0]||t[1]<e[1]||t[1]>n[1]||t[2]<e[2]||t[2]>n[2])}},{key:"getNegativeFarPoint",value:function(t){return 273===t.pnVertexFlag?i.e.copy(i.e.create(),this.min):272===t.pnVertexFlag?i.e.fromValues(this.min[0],this.min[1],this.max[2]):257===t.pnVertexFlag?i.e.fromValues(this.min[0],this.max[1],this.min[2]):256===t.pnVertexFlag?i.e.fromValues(this.min[0],this.max[1],this.max[2]):17===t.pnVertexFlag?i.e.fromValues(this.max[0],this.min[1],this.min[2]):16===t.pnVertexFlag?i.e.fromValues(this.max[0],this.min[1],this.max[2]):1===t.pnVertexFlag?i.e.fromValues(this.max[0],this.max[1],this.min[2]):i.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(t){return 273===t.pnVertexFlag?i.e.copy(i.e.create(),this.max):272===t.pnVertexFlag?i.e.fromValues(this.max[0],this.max[1],this.min[2]):257===t.pnVertexFlag?i.e.fromValues(this.max[0],this.min[1],this.max[2]):256===t.pnVertexFlag?i.e.fromValues(this.max[0],this.min[1],this.min[2]):17===t.pnVertexFlag?i.e.fromValues(this.min[0],this.max[1],this.max[2]):16===t.pnVertexFlag?i.e.fromValues(this.min[0],this.max[1],this.min[2]):1===t.pnVertexFlag?i.e.fromValues(this.min[0],this.min[1],this.max[2]):i.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),a);function a(t,e){r()(this,a),this.center=void 0,this.halfExtents=void 0,this.min=i.e.create(),this.max=i.e.create(),this.update(t,e)}},function(c,t,e){"use strict";e.r(t),e.d(t,"Base",function(){return i}),e.d(t,"Circle",function(){return P}),e.d(t,"Dom",function(){return C}),e.d(t,"Ellipse",function(){return A}),e.d(t,"Image",function(){return S}),e.d(t,"Line",function(){return D}),e.d(t,"Marker",function(){return k}),e.d(t,"Path",function(){return L}),e.d(t,"Polygon",function(){return R}),e.d(t,"Polyline",function(){return B}),e.d(t,"Rect",function(){return X}),e.d(t,"Text",function(){return Q});var u,d,f,p,g,y,_,m,v,b,n={},r=(e.r(n),e.d(n,"Base",function(){return i}),e.d(n,"Circle",function(){return P}),e.d(n,"Dom",function(){return C}),e.d(n,"Ellipse",function(){return A}),e.d(n,"Image",function(){return S}),e.d(n,"Line",function(){return D}),e.d(n,"Marker",function(){return k}),e.d(n,"Path",function(){return L}),e.d(n,"Polygon",function(){return R}),e.d(n,"Polyline",function(){return B}),e.d(n,"Rect",function(){return X}),e.d(n,"Text",function(){return Q}),e(34)),O=e(36),x=e(71),E=e(53),w=e(128),h=e(31),M=e(135),i=(b=O.AbstractShape,Object(r.b)(s,b),s.prototype.getDefaultAttrs=function(){var t=b.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},s.prototype.afterAttrsChange=function(t){b.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");e&&e.get("autoDraw")&&(e=e.get("context"),this.draw(e,t))},s.prototype.getShapeBase=function(){return n},s.prototype.getGroupBase=function(){return M.a},s.prototype.onCanvasChange=function(t){Object(w.b)(this,t)},s.prototype.calculateBBox=function(){var t,e,n,r,i,o,a=this.get("el"),s=null;return a?s=a.getBBox():(a=Object(O.getBBoxMethod)(this.get("type")))&&(s=a(this)),s?(a=s.x,t=s.y,e=s.width,s=s.height,{x:i=a-(r=(n=this.getHitLineWidth())/2),y:o=t-r,minX:i,minY:o,maxX:a+e+r,maxY:t+s+r,width:e+n,height:s+n}):{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},s.prototype.isFill=function(){var t=this.attr(),e=t.fill,t=t.fillStyle;return(e||t||this.isClipShape())&&this.canFill},s.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,t=t.strokeStyle;return(e||t)&&this.canStroke},s.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Object(E.a)(this),Object(x.a)(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},s.prototype.createPath=function(t,e){},s.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,l=n.strokeOpacity,c=n.lineWidth,u=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),s&&u.setAttribute(h.b.fillOpacity,s)),this.canStroke&&0<c&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),l&&u.setAttribute(h.b.strokeOpacity,l),c&&u.setAttribute(h.b.lineWidth,c))},s.prototype._setColor=function(t,e,n){var r,i=this.get("el");n?(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)?((r=t.find("gradient",n))||(r=t.addGradient(n)),i.setAttribute(h.b[e],"url(#"+r+")")):/^[p,P]{1}[\s]*\(/.test(n)?((r=t.find("pattern",n))||(r=t.addPattern(n)),i.setAttribute(h.b[e],"url(#"+r+")")):i.setAttribute(h.b[e],n)):i.setAttribute(h.b[e],"none")},s.prototype.shadow=function(t,e){var n=this.attr(),e=e||n,n=e.shadowOffsetX,r=e.shadowOffsetY,i=e.shadowBlur,e=e.shadowColor;(n||r||i||e)&&Object(x.b)(this,t)},s.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&Object(x.c)(this)},s.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},s.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),t=t+r.left,e=e+r.top,r=document.elementFromPoint(t,e);return!(!r||!r.isEqualNode(n))},s.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,t=t.lineAppendWidth;return this.isStroke()?e+t:0},s),l=e(0),P=(v=i,Object(r.b)($,v),$.prototype.getDefaultAttrs=function(){var t=v.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,r:0})},$.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(l.each)(e||n,function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):h.b[e]&&r.setAttribute(h.b[e],t)})},$),C=(m=i,Object(r.b)(G,m),G.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if(Object(l.each)(e||n,function(t,e){h.b[e]&&r.setAttribute(h.b[e],t)}),"function"==typeof n.html){e=n.html.call(this,n);if(e instanceof Element||e instanceof HTMLDocument){for(var i=r.childNodes,o=i.length-1;0<=o;o--)r.removeChild(i[o]);r.appendChild(e)}else r.innerHTML=e}else r.innerHTML=n.html},G),A=(_=i,Object(r.b)(z,_),z.prototype.getDefaultAttrs=function(){var t=_.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,rx:0,ry:0})},z.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(l.each)(e||n,function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):h.b[e]&&r.setAttribute(h.b[e],t)})},z),S=(y=i,Object(r.b)(W,y),W.prototype.getDefaultAttrs=function(){var t=y.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,width:0,height:0})},W.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");Object(l.each)(e||r,function(t,e){"img"===e?n._setImage(r.img):h.b[e]&&i.setAttribute(h.b[e],t)})},W.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},W.prototype._setImage=function(t){var e,n=this.attr(),r=this.get("el");Object(l.isString)(t)?r.setAttribute("href",t):t instanceof window.Image?(n.width||(r.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(r.setAttribute("height",t.height),this.attr("height",t.height)),r.setAttribute("href",t.src)):t instanceof HTMLElement&&Object(l.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()?r.setAttribute("href",t.toDataURL()):t instanceof ImageData&&((e=document.createElement("canvas")).setAttribute("width",""+t.width),e.setAttribute("height",""+t.height),e.getContext("2d").putImageData(t,0,0),n.width||(r.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(r.setAttribute("height",""+t.height),this.attr("height",t.height)),r.setAttribute("href",e.toDataURL()))},W),j=e(40),D=(g=i,Object(r.b)(U,g),U.prototype.getDefaultAttrs=function(){var t=g.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},U.prototype.createPath=function(r,t){var i=this.attr(),o=this.get("el");Object(l.each)(t||i,function(t,e){var n;"startArrow"===e||"endArrow"===e?t?(n=Object(l.isObject)(t)?r.addArrow(i,h.b[e]):r.getDefaultArrow(i,h.b[e]),o.setAttribute(h.b[e],"url(#"+n+")")):o.removeAttribute(h.b[e]):h.b[e]&&o.setAttribute(h.b[e],t)})},U.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,t=t.y2;return j.c.length(e,n,r,t)},U.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,e=e.y2;return j.c.pointAt(n,r,i,e,t)},U),T={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},I={get:function(t){return T[t]},register:function(t,e){T[t]=e},remove:function(t){delete T[t]},getAll:function(){return T}},k=(p=i,Object(r.b)(F,p),F.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},F.prototype._assembleMarker=function(){var t=this._getPath();return Object(l.isArray)(t)?t.map(function(t){return t.join(" ")}).join(""):t},F.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,r=t.r||t.radius,t=t.symbol||"circle";return(t=Object(l.isFunction)(t)?t:I.get(t))?t(e,n,r):(console.warn(t+" symbol is not exist."),null)},F.symbolsFactory=I,F),L=(f=i,Object(r.b)(a,f),a.prototype.getDefaultAttrs=function(){var t=f.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{startArrow:!1,endArrow:!1})},a.prototype.createPath=function(r,t){var i=this,o=this.attr(),a=this.get("el");Object(l.each)(t||o,function(t,e){var n;"path"===e&&Object(l.isArray)(t)?a.setAttribute("d",i._formatPath(t)):"startArrow"===e||"endArrow"===e?t?(n=Object(l.isObject)(t)?r.addArrow(o,h.b[e]):r.getDefaultArrow(o,h.b[e]),a.setAttribute(h.b[e],"url(#"+n+")")):a.removeAttribute(h.b[e]):h.b[e]&&a.setAttribute(h.b[e],t)})},a.prototype._formatPath=function(t){t=t.map(function(t){return t.join(" ")}).join("");return~t.indexOf("NaN")?"":t},a.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},a.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;e=e?e.getPointAtLength(t*n):null;return e?{x:e.x,y:e.y}:null},a),R=(d=i,Object(r.b)(N,d),N.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(l.each)(e||n,function(t,e){"points"===e&&Object(l.isArray)(t)&&2<=t.length?r.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):h.b[e]&&r.setAttribute(h.b[e],t)})},N),B=(u=i,Object(r.b)(o,u),o.prototype.getDefaultAttrs=function(){var t=u.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{startArrow:!1,endArrow:!1})},o.prototype.onAttrChange=function(t,e,n){u.prototype.onAttrChange.call(this,t,e,n),-1!==["points"].indexOf(t)&&this._resetCache()},o.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},o.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(l.each)(e||n,function(t,e){"points"===e&&Object(l.isArray)(t)&&2<=t.length?r.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):h.b[e]&&r.setAttribute(h.b[e],t)})},o.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(l.isNil)(e)?(this.set("totalLength",j.d.length(t)),this.get("totalLength")):e},o.prototype.getPoint=function(n){var r,i,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(l.each)(e,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)}),j.c.pointAt(t[i][0],t[i][1],t[i+1][0],t[i+1][1],r)},o.prototype._setTcache=function(){var n,r,i,o,a,s=this.attr().points;s&&0!==s.length&&((n=this.getTotalLength())<=0||(o=0,a=[],Object(l.each)(s,function(t,e){s[e+1]&&((r=[])[0]=o/n,i=j.c.length(t[0],t[1],s[e+1][0],s[e+1][1]),o+=i,r[1]=o/n,a.push(r))}),this.set("tCache",a)))},o.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},o.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},o);function o(){var t=null!==u&&u.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}function N(){var t=null!==d&&d.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}function a(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}function F(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}function U(){var t=null!==g&&g.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}function W(){var t=null!==y&&y.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}function z(){var t=null!==_&&_.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}function G(){var t=null!==m&&m.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}function $(){var t=null!==v&&v.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}function s(){var t=null!==b&&b.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}V=i,Object(r.b)(tt,V),tt.prototype.getDefaultAttrs=function(){var t=V.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,width:0,height:0,radius:0})},tt.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];Object(l.each)(e||r,function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&h.b[e]&&i.setAttribute(h.b[e],t):(i.setAttribute("d",n._assembleRect(r)),o=!0)})},tt.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,t=t.radius;if(!t)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";u=t,c=s=a=o=0,Object(l.isArray)(u)?1===u.length?o=a=s=c=u[0]:2===u.length?(o=s=u[0],a=c=u[1]):3===u.length?(o=u[0],a=c=u[1],s=u[2]):(o=u[0],a=u[1],s=u[2],c=u[3]):o=a=s=c=u;var o,a,s,c,u={r1:o,r2:a,r3:s,r4:c};return Object(l.isArray)(t)?1===t.length?u.r1=u.r2=u.r3=u.r4=t[0]:2===t.length?(u.r1=u.r3=t[0],u.r2=u.r4=t[1]):3===t.length?(u.r1=t[0],u.r2=u.r4=t[1],u.r3=t[2]):(u.r1=t[0],u.r2=t[1],u.r3=t[2],u.r4=t[3]):u.r1=u.r2=u.r3=u.r4=t,[["M "+(e+u.r1)+","+n],["l "+(r-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(i-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-r)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-i)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]].join(" ")};var K,V,X=tt,Y=e(211),H={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},q={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Z={left:"left",start:"left",center:"middle",right:"end",end:"end"},Q=(K=i,Object(r.b)(J,K),J.prototype.getDefaultAttrs=function(){var t=K.prototype.getDefaultAttrs.call(this);return Object(r.a)(Object(r.a)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},J.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");this._setFont(),Object(l.each)(e||r,function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?Object(x.c)(n):h.b[e]&&i.setAttribute(h.b[e],t)}),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},J.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,e=e.textAlign,r=Object(Y.a)();r&&"firefox"===r.name?t.setAttribute("dominant-baseline",q[n]||"alphabetic"):t.setAttribute("alignment-baseline",H[n]||"baseline"),t.setAttribute("text-anchor",Z[e]||"left")},J.prototype._setText=function(t){var n,r,e=this.get("el"),i=this.attr(),o=i.x,i=i.textBaseline,a=void 0===i?"bottom":i;t?~t.indexOf("\n")?(i=t.split("\n"),n=i.length-1,r="",Object(l.each)(i,function(t,e){0===e?"alphabetic"===a?r+='<tspan x="'+o+'" dy="'+-n+'em">'+t+"</tspan>":"top"===a?r+='<tspan x="'+o+'" dy="0.9em">'+t+"</tspan>":"middle"===a?r+='<tspan x="'+o+'" dy="'+-(n-1)/2+'em">'+t+"</tspan>":"bottom"===a?r+='<tspan x="'+o+'" dy="-'+(.3+n)+'em">'+t+"</tspan>":"hanging"===a&&(r+='<tspan x="'+o+'" dy="'+(-(n-1)-.3)+'em">'+t+"</tspan>"):r+='<tspan x="'+o+'" dy="1em">'+t+"</tspan>"}),e.innerHTML=r):e.innerHTML=t:e.innerHTML=""},J);function J(){var t=null!==K&&K.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}function tt(){var t=null!==V&&V.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}},function(l,t,e){"use strict";e.r(t),e.d(t,"create",function(){return n}),e.d(t,"clone",function(){return h}),e.d(t,"fromValues",function(){return d}),e.d(t,"copy",function(){return f}),e.d(t,"set",function(){return p}),e.d(t,"add",function(){return g}),e.d(t,"subtract",function(){return r}),e.d(t,"multiply",function(){return o}),e.d(t,"divide",function(){return a}),e.d(t,"ceil",function(){return y}),e.d(t,"floor",function(){return _}),e.d(t,"min",function(){return m}),e.d(t,"max",function(){return v}),e.d(t,"round",function(){return b}),e.d(t,"scale",function(){return O}),e.d(t,"scaleAndAdd",function(){return x}),e.d(t,"distance",function(){return s}),e.d(t,"squaredDistance",function(){return c}),e.d(t,"length",function(){return E}),e.d(t,"squaredLength",function(){return w}),e.d(t,"negate",function(){return M}),e.d(t,"inverse",function(){return P}),e.d(t,"normalize",function(){return C}),e.d(t,"dot",function(){return A}),e.d(t,"cross",function(){return S}),e.d(t,"lerp",function(){return j}),e.d(t,"random",function(){return D}),e.d(t,"transformMat2",function(){return T}),e.d(t,"transformMat2d",function(){return I}),e.d(t,"transformMat3",function(){return k}),e.d(t,"transformMat4",function(){return L}),e.d(t,"rotate",function(){return R}),e.d(t,"angle",function(){return B}),e.d(t,"zero",function(){return N}),e.d(t,"str",function(){return F}),e.d(t,"exactEquals",function(){return U}),e.d(t,"equals",function(){return W}),e.d(t,"len",function(){return z}),e.d(t,"sub",function(){return G}),e.d(t,"mul",function(){return $}),e.d(t,"div",function(){return K}),e.d(t,"dist",function(){return V}),e.d(t,"sqrDist",function(){return X}),e.d(t,"sqrLen",function(){return Y}),e.d(t,"forEach",function(){return H});var i=e(24);function n(){var t=new i.a(2);return i.a!=Float32Array&&(t[0]=0,t[1]=0),t}function h(t){var e=new i.a(2);return e[0]=t[0],e[1]=t[1],e}function d(t,e){var n=new i.a(2);return n[0]=t,n[1]=e,n}function f(t,e){return t[0]=e[0],t[1]=e[1],t}function p(t,e,n){return t[0]=e,t[1]=n,t}function g(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function r(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function a(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function y(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function _(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function m(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function b(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function O(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function x(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function s(t,e){var n=e[0]-t[0],e=e[1]-t[1];return Math.hypot(n,e)}function c(t,e){var n=e[0]-t[0],e=e[1]-t[1];return n*n+e*e}function E(t){var e=t[0],t=t[1];return Math.hypot(e,t)}function w(t){var e=t[0],t=t[1];return e*e+t*t}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t}function P(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function C(t,e){var n=e[0],r=e[1],n=n*n+r*r;return 0<n&&(n=1/Math.sqrt(n)),t[0]=e[0]*n,t[1]=e[1]*n,t}function A(t,e){return t[0]*e[0]+t[1]*e[1]}function S(t,e,n){e=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=e,t}function j(t,e,n,r){var i=e[0],e=e[1];return t[0]=i+r*(n[0]-i),t[1]=e+r*(n[1]-e),t}function D(t,e){e=e||1;var n=2*i.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function T(t,e,n){var r=e[0],e=e[1];return t[0]=n[0]*r+n[2]*e,t[1]=n[1]*r+n[3]*e,t}function I(t,e,n){var r=e[0],e=e[1];return t[0]=n[0]*r+n[2]*e+n[4],t[1]=n[1]*r+n[3]*e+n[5],t}function k(t,e,n){var r=e[0],e=e[1];return t[0]=n[0]*r+n[3]*e+n[6],t[1]=n[1]*r+n[4]*e+n[7],t}function L(t,e,n){var r=e[0],e=e[1];return t[0]=n[0]*r+n[4]*e+n[12],t[1]=n[1]*r+n[5]*e+n[13],t}function R(t,e,n,r){var i=e[0]-n[0],e=e[1]-n[1],o=Math.sin(r),r=Math.cos(r);return t[0]=i*r-e*o+n[0],t[1]=i*o+e*r+n[1],t}function B(t,e){var n=t[0],t=t[1],r=e[0],e=e[1],i=Math.sqrt(n*n+t*t)*Math.sqrt(r*r+e*e);return Math.acos(Math.min(Math.max(i&&(n*r+t*e)/i,-1),1))}function N(t){return t[0]=0,t[1]=0,t}function F(t){return"vec2("+t[0]+", "+t[1]+")"}function U(t,e){return t[0]===e[0]&&t[1]===e[1]}function W(t,e){var n=t[0],t=t[1],r=e[0],e=e[1];return Math.abs(n-r)<=i.b*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(t-e)<=i.b*Math.max(1,Math.abs(t),Math.abs(e))}var u,z=E,G=r,$=o,K=a,V=s,X=c,Y=w,H=(u=n(),function(t,e,n,r,i,o){var a,s;for(e=e||2,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)u[0]=t[a],u[1]=t[a+1],i(u,u,o),t[a]=u[0],t[a+1]=u[1];return t})},function(o,t,e){"use strict";e.d(t,"b",function(){return r}),e.d(t,"a",function(){return h});var a=e(0),s=e(2),n=e(8),c=e(25),u=e(217),l=e(140);function r(t){var e=t.chart,n=t.options,r=n.percent,i=n.progressStyle,o=n.color,n=n.barWidthRatio,r=(e.data(Object(l.a)(r)),Object(s.c)({},t,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:n,interval:{style:i,color:Object(a.isString)(o)?[o,u.a[1]]:o},args:{zIndexReversed:!0,sortZIndex:!0}}}));return Object(c.c)(r),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function i(t){return t.chart.coordinate("rect").transpose(),t}function h(t){return Object(s.f)(r,Object(n.g)({}),i,n.a,n.k,Object(n.b)())(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),i=n(99);function o(t){t=Object(r.clamp)(Object(i.b)(t)?t:0,0,1);return[{type:"current",percent:t},{type:"target",percent:1-t}]}},function(t,e){t.exports=window.ReactDOM},function(t,e){var o=[],a=[];function n(t,e){if(e=e||{},void 0===t)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var n,r=!0===e.prepend?"prepend":"append",e=void 0!==e.container?e.container:document.querySelector("head"),i=o.indexOf(e);return-1===i&&(i=o.push(e)-1,a[i]={}),void 0!==a[i]&&void 0!==a[i][r]?n=a[i][r]:(n=a[i][r]=((i=document.createElement("style")).setAttribute("type","text/css"),i),"prepend"==r?e.insertBefore(n,e.childNodes[0]):e.appendChild(n)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),n.styleSheet?n.styleSheet.cssText+=t:n.textContent+=t,n}t.exports=n,t.exports.insertCss=n},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var o=n(0),a=n(63);function r(t){var e;return[((e={})[a.d]=Object(o.clamp)(t,0,1),e)]}function i(t,e){var r,i,e=Object(o.get)(e,["ticks"],[]);return r=Object(o.size)(e)?e:[0,Object(o.clamp)(t,0,1),1],i=t,r.map(function(t,e){var n;return(n={})[a.f]=t-(r[e-1]||0),n[a.e]=""+e,n[a.d]=i,n}).filter(function(t){return!!t[a.f]})}},function(l,t,e){"use strict";e.d(t,"a",function(){return p});var n,r,i,t=e(21),c=e.n(t),t=e(28),o=e.n(t),t=e(22),a=e.n(t),t=e(16),h=e.n(t),t=e(23),t=e.n(t),s=(e(58),e(15)),u=e(26),d=e(74),f=e(102),p=(e=Object(s.injectable)(),n=Object(s.inject)(u.a.RenderEngine),s=Object(s.inject)(u.a.ResourcePool),e((e=u=function t(){var n,s=this;h()(this,t),a()(this,"engine",r,this),a()(this,"resourcePool",i,this),this.model=void 0,this.setup=function(t,e,n){var r,i=t.getPass(f.a.IDENTIFIER);i&&(r=t.createRenderTarget(e,"render to screen",{width:1,height:1}),n.data={input:e.read(i.data.output),output:e.write(t,r)})},this.execute=(n=o()(c.a.mark(function t(e,n){var r,i,o,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=s.engine,i=r.createModel,o=r.createAttribute,r=r.createBuffer,s.model){t.next=6;break}return t.next=4,i({vs:s.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}":"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:s.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}":"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",attributes:{a_Position:o({buffer:r({data:[-4,-4,4,-4,0,4],type:d.a.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:i=t.sent,s.model=i;case 6:o=e.getResourceNode(n.data.input),a=s.resourcePool.getOrCreateResource(o.resource),s.engine.useFramebuffer(null,function(){s.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),s.model.draw({uniforms:{u_Texture:a}})});case 9:case"end":return t.stop()}},t)})),function(t,e){return n.apply(this,arguments)}),this.tearDown=function(){s.model=void 0}},u.IDENTIFIER="Copy Pass",u=e,r=t()(u.prototype,"engine",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=t()(u.prototype,"resourcePool",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e=u))||e)},function(t,e,n){t.exports=function(){return n=[function(t,e,n){"use strict";var r=n(4);e.a=function(t){return Array.isArray?Array.isArray(t):Object(r.a)(t,"Array")}},function(t,e,n){"use strict";e.a=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";var o=n(0),a=n(13);e.a=function(t,e){if(t)if(Object(o.a)(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(Object(a.a)(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return Object(r.a)(t,"Function")}},function(t,e,n){"use strict";var r={}.toString;e.a=function(t,e){return r.call(t)==="[object "+e+"]"}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return Object(r.a)(t,"Number")}},function(t,e,n){"use strict";e.a=function(t){return null==t}},function(t,e,n){n=n(33).mix;t.exports={assign:n}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return Object(r.a)(t,"String")}},function(t,e,n){"use strict";var r=n(15),i=n(4);e.a=function(t){if(!Object(r.a)(t)||!Object(i.a)(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){"use strict";var r=n(6);e.a=function(t){return Object(r.a)(t)?"":t.toString()}},function(t,e,n){var r=n(18);function i(t,e){this.options=e=void 0===e?{}:e,this.rootNode=r(t,e)}i.prototype.execute=function(){throw new Error("please override this method")},t.exports=i},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){return!!Object(r.a)(t)&&-1<t.indexOf(e)}},function(t,e,n){"use strict";e.a=function(t){var e=typeof t;return null!==t&&"object"==e||"function"==e}},function(t,e,n){"use strict";var i=n(2),o=n(1);e.a=function(t,n){if(!Object(o.a)(t))return t;var r=[];return Object(i.a)(t,function(t,e){n(t,e)&&r.push(t)}),r}},function(t,e,n){"use strict";e.a=function(t){return"object"==typeof t&&null!==t}},function(t,e,n){"use strict";function i(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}e.a=function(t,e,n,r){return e&&i(t,e),n&&i(t,n),r&&i(t,r),t}},function(t,e,n){var o=n(30),a=["LR","RL","TB","BT","H","V"],s=["LR","RL","H"],c=a[0];t.exports=function(t,e,n){var r=e.direction||c;if(e.isHorizontal=-1<s.indexOf(r),r&&-1===a.indexOf(r))throw new TypeError("Invalid direction: "+r);r===a[0]?n(t,e):r===a[1]?(n(t,e),t.right2left()):r===a[2]?n(t,e):r===a[3]?(n(t,e),t.bottom2top()):r!==a[4]&&r!==a[5]||(i=(r=o(t,e)).left,r=r.right,n(i,e),n(r,e),e.isHorizontal?i.right2left():i.bottom2top(),r.translate(i.x-r.x,i.y-r.y),t.x=i.x,t.y=r.y,n=t.getBoundingBox(),e.isHorizontal?n.top<0&&t.translate(0,-n.top):n.left<0&&t.translate(-n.left,0));var i=e.fixedRoot;return(i=void 0===i?!0:i)&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e,n){var l=n(7),h={getId:function(t){return t.id||t.name},getPreH:function(t){return t.preH||0},getPreV:function(t){return t.preV||0},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.label||" ";return t.width||18*e.split("").length}};function d(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof d)return t;n.data=t;var r=e.getHGap(t),i=e.getVGap(t);return n.preH=e.getPreH(t),n.preV=e.getPreV(t),n.width=e.getWidth(t),n.height=e.getHeight(t),n.width+=n.preH,n.height+=n.preV,n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}l.assign(d.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.shift();)t(e),n=e.children.concat(n)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)}),e},translate:function(e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.eachNode(function(t){t.x+=e,t.y+=n,t.x+=t.preH,t.y+=t.preV})},right2left:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.x=t.x-2*(t.x-e.left)-t.width}),this.translate(e.width,0)},bottom2top:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.y=t.y-2*(t.y-e.top)-t.height}),this.translate(0,e.height)}}),t.exports=function(t,e,n){var r,i=new d(t,e=l.assign({},h,e=void 0===e?{}:e)),o=[i];if(!n&&!t.collapsed)for(;r=o.shift();)if(!r.data.collapsed){var a=e.getChildren(r.data),s=a?a.length:0;if(r.children=new Array(s),a&&s)for(var c=0;c<s;c++){var u=new d(a[c],e);r.children[c]=u,o.push(u),u.parent=r,u.depth=r.depth+1}}return i}},function(t,e,n){"use strict";var a=n(6),s=n(20);e.a=function(t,e){var n=Object(s.a)(e),r=n.length;if(Object(a.a)(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0}},function(t,e,n){"use strict";var i=n(2),o=n(3),n=Object.keys?function(t){return Object.keys(t)}:function(n){var r=[];return Object(i.a)(n,function(t,e){Object(o.a)(n)&&"prototype"===e||r.push(e)}),r};e.a=n},function(t,e,n){"use strict";var a=n(1),s=Array.prototype.splice;e.a=function(t,e){if(!Object(a.a)(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var i=void 0,o=e[n];n!==r&&o===i||s.call(t,i=o,1)}return t}},function(t,e,n){"use strict";var r=n(12),i=n(2);e.a=function(t){var e=[];return Object(i.a)(t,function(t){Object(r.a)(e,t)||e.push(t)}),e}},function(t,e,n){"use strict";var r=n(0),o=n(3),a=n(24);e.a=function(t,e){return e?(Object(o.a)(e)||(i=Object(r.a)(e)?e:e.replace(/\s+/g,"").split("*"),e=function(t){for(var e="_",n=0,r=i.length;n<r;n++)e+=t[i[n]]&&t[i[n]].toString();return e}),Object(a.a)(t,e)):{0:t};var i}},function(t,e,n){"use strict";var o=n(2),a=n(0),s=n(3),c=Object.prototype.hasOwnProperty;e.a=function(t,e){if(!e||!Object(a.a)(t))return{};var n,r={},i=Object(s.a)(e)?e:function(t){return t[e]};return Object(o.a)(t,function(t){n=i(t),c.call(r,n)?r[n].push(t):r[n]=[t]}),r}},function(t,e,n){"use strict";e.a=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){"use strict";var i=n(2),o=n(3),n=Object.values?function(t){return Object.values(t)}:function(n){var r=[];return Object(i.a)(n,function(t,e){Object(o.a)(n)&&"prototype"===e||r.push(t)}),r};e.a=n},function(t,e,n){"use strict";var r={}.toString;e.a=function(t){return r.call(t).replace(/^\[object /,"").replace(/]$/,"")}},function(t,e,n){"use strict";var r=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,n){"use strict";var a=n(15),s=n(1),c=n(8),u=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Object(c.a)(t)||Object(c.a)(e))return!1;if(Object(s.a)(t)||Object(s.a)(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=u(t[r],e[r]));r++);return n}if(Object(a.a)(t)||Object(a.a)(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length&&(n=u(t[i[r]],e[i[r]]));r++);return n}return!1};e.a=u},function(t,e,n){var u=n(18);t.exports=function(t,e){for(var n=u(t.data,e,!0),r=u(t.data,e,!0),i=t.children.length,o=Math.round(i/2),a=e.getSide||function(t,e){return e<o?"right":"left"},s=0;s<i;s++){var c=t.children[s];("right"===a(c,s)?r:n).children.push(c)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),r.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:r}}},function(t,e,n){n={compactBox:n(32),dendrogram:n(114),indented:n(116),mindmap:n(118)};t.exports=n},function(t,l,e){var n,r=e(11),i=e(113),o=e(17),a=e(7),s=(e=n=r,(r=u).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e,u.prototype.execute=function(){return o(this.rootNode,this.options,i)},u),c={};function u(){return n.apply(this,arguments)||this}t.exports=function(t,e){return e=a.assign({},c,e),new s(t,e).execute()}},function(l,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(12),r=(e.d(t,"contains",function(){return n.a}),e.d(t,"includes",function(){return n.a}),e(34)),i=(e.d(t,"difference",function(){return r.a}),e(35)),o=(e.d(t,"find",function(){return i.a}),e(36)),a=(e.d(t,"findIndex",function(){return o.a}),e(37)),s=(e.d(t,"firstValue",function(){return a.a}),e(38)),c=(e.d(t,"flatten",function(){return s.a}),e(39)),h=(e.d(t,"flattenDeep",function(){return c.a}),e(40)),d=(e.d(t,"getRange",function(){return h.a}),e(41)),f=(e.d(t,"pull",function(){return d.a}),e(21)),p=(e.d(t,"pullAt",function(){return f.a}),e(42)),g=(e.d(t,"reduce",function(){return p.a}),e(43)),y=(e.d(t,"remove",function(){return g.a}),e(44)),_=(e.d(t,"sortBy",function(){return y.a}),e(45)),m=(e.d(t,"union",function(){return _.a}),e(22)),v=(e.d(t,"uniq",function(){return m.a}),e(46)),b=(e.d(t,"valuesOfKey",function(){return v.a}),e(47)),O=(e.d(t,"head",function(){return b.a}),e(48)),x=(e.d(t,"last",function(){return O.a}),e(49)),E=(e.d(t,"startsWith",function(){return x.a}),e(50)),w=(e.d(t,"endsWith",function(){return E.a}),e(14)),M=(e.d(t,"filter",function(){return w.a}),e(51)),P=(e.d(t,"every",function(){return M.a}),e(52)),C=(e.d(t,"some",function(){return P.a}),e(53)),A=(e.d(t,"group",function(){return C.a}),e(24)),S=(e.d(t,"groupBy",function(){return A.a}),e(23)),j=(e.d(t,"groupToMap",function(){return S.a}),e(54)),D=(e.d(t,"getWrapBehavior",function(){return j.a}),e(55)),T=(e.d(t,"wrapBehavior",function(){return D.a}),e(56)),I=(e.d(t,"number2color",function(){return T.a}),e(57)),k=(e.d(t,"parseRadius",function(){return I.a}),e(58)),L=(e.d(t,"clamp",function(){return k.a}),e(59)),R=(e.d(t,"fixedBase",function(){return L.a}),e(60)),B=(e.d(t,"isDecimal",function(){return R.a}),e(61)),N=(e.d(t,"isEven",function(){return B.a}),e(62)),F=(e.d(t,"isInteger",function(){return N.a}),e(63)),U=(e.d(t,"isNegative",function(){return F.a}),e(64)),W=(e.d(t,"isNumberEqual",function(){return U.a}),e(65)),z=(e.d(t,"isOdd",function(){return W.a}),e(66)),G=(e.d(t,"isPositive",function(){return z.a}),e(67)),$=(e.d(t,"maxBy",function(){return G.a}),e(68)),K=(e.d(t,"minBy",function(){return $.a}),e(69)),V=(e.d(t,"mod",function(){return K.a}),e(70)),X=(e.d(t,"toDegree",function(){return V.a}),e(71)),Y=(e.d(t,"toInteger",function(){return X.a}),e(72)),H=(e.d(t,"toRadian",function(){return Y.a}),e(73)),q=(e.d(t,"forIn",function(){return H.a}),e(25)),Z=(e.d(t,"has",function(){return q.a}),e(74)),Q=(e.d(t,"hasKey",function(){return Z.a}),e(75)),J=(e.d(t,"hasValue",function(){return Q.a}),e(20)),tt=(e.d(t,"keys",function(){return J.a}),e(19)),et=(e.d(t,"isMatch",function(){return tt.a}),e(26)),nt=(e.d(t,"values",function(){return et.a}),e(76)),rt=(e.d(t,"lowerCase",function(){return nt.a}),e(77)),it=(e.d(t,"lowerFirst",function(){return rt.a}),e(78)),ot=(e.d(t,"substitute",function(){return it.a}),e(79)),at=(e.d(t,"upperCase",function(){return ot.a}),e(80)),st=(e.d(t,"upperFirst",function(){return at.a}),e(27)),ct=(e.d(t,"getType",function(){return st.a}),e(81)),ut=(e.d(t,"isArguments",function(){return ct.a}),e(0)),lt=(e.d(t,"isArray",function(){return ut.a}),e(1)),ht=(e.d(t,"isArrayLike",function(){return lt.a}),e(82)),dt=(e.d(t,"isBoolean",function(){return ht.a}),e(83)),ft=(e.d(t,"isDate",function(){return dt.a}),e(84)),pt=(e.d(t,"isError",function(){return ft.a}),e(3)),gt=(e.d(t,"isFunction",function(){return pt.a}),e(85)),yt=(e.d(t,"isFinite",function(){return gt.a}),e(6)),_t=(e.d(t,"isNil",function(){return yt.a}),e(86)),mt=(e.d(t,"isNull",function(){return _t.a}),e(5)),vt=(e.d(t,"isNumber",function(){return mt.a}),e(13)),bt=(e.d(t,"isObject",function(){return vt.a}),e(15)),Ot=(e.d(t,"isObjectLike",function(){return bt.a}),e(9)),xt=(e.d(t,"isPlainObject",function(){return Ot.a}),e(28)),Et=(e.d(t,"isPrototype",function(){return xt.a}),e(87)),wt=(e.d(t,"isRegExp",function(){return Et.a}),e(8)),Mt=(e.d(t,"isString",function(){return wt.a}),e(4)),Pt=(e.d(t,"isType",function(){return Mt.a}),e(88)),Ct=(e.d(t,"isUndefined",function(){return Pt.a}),e(89)),At=(e.d(t,"isElement",function(){return Ct.a}),e(90)),St=(e.d(t,"requestAnimationFrame",function(){return At.a}),e(91)),jt=(e.d(t,"clearAnimationFrame",function(){return St.a}),e(92)),Dt=(e.d(t,"augment",function(){return jt.a}),e(93)),Tt=(e.d(t,"clone",function(){return Dt.a}),e(94)),It=(e.d(t,"debounce",function(){return Tt.a}),e(95)),kt=(e.d(t,"memoize",function(){return It.a}),e(96)),Lt=(e.d(t,"deepMix",function(){return kt.a}),e(2)),Rt=(e.d(t,"each",function(){return Lt.a}),e(97)),Bt=(e.d(t,"extend",function(){return Rt.a}),e(98)),Nt=(e.d(t,"indexOf",function(){return Bt.a}),e(99)),Ft=(e.d(t,"isEmpty",function(){return Nt.a}),e(29)),Ut=(e.d(t,"isEqual",function(){return Ft.a}),e(100)),Wt=(e.d(t,"isEqualWith",function(){return Ut.a}),e(101)),zt=(e.d(t,"map",function(){return Wt.a}),e(102)),u=(e.d(t,"mapValues",function(){return zt.a}),e(16)),Gt=(e.d(t,"mix",function(){return u.a}),e.d(t,"assign",function(){return u.a}),e(103)),$t=(e.d(t,"get",function(){return Gt.a}),e(104)),Kt=(e.d(t,"set",function(){return $t.a}),e(105)),Vt=(e.d(t,"pick",function(){return Kt.a}),e(106)),Xt=(e.d(t,"throttle",function(){return Vt.a}),e(107)),Yt=(e.d(t,"toArray",function(){return Xt.a}),e(10)),Ht=(e.d(t,"toString",function(){return Yt.a}),e(108)),qt=(e.d(t,"uniqueId",function(){return Ht.a}),e(109)),Zt=(e.d(t,"noop",function(){return qt.a}),e(110)),Qt=(e.d(t,"identity",function(){return Zt.a}),e(111)),Jt=(e.d(t,"size",function(){return Qt.a}),e(112));e.d(t,"Cache",function(){return Jt.a})},function(t,e,n){"use strict";var r=n(14),i=n(12);e.a=function(t,e){return void 0===e&&(e=[]),Object(r.a)(t,function(t){return!Object(i.a)(e,t)})}},function(t,e,n){"use strict";var i=n(3),o=n(19),a=n(0),s=n(9);e.a=function(t,e){if(!Object(a.a)(t))return null;var n;if(Object(i.a)(e)&&(n=e),n=Object(s.a)(e)?function(t){return Object(o.a)(t,e)}:n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}},function(t,e,n){"use strict";e.a=function(t,e,n){for(var r=n=void 0===n?0:n;r<t.length;r++)if(e(t[r],r))return r;return-1}},function(t,e,n){"use strict";var o=n(6),a=n(0);e.a=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!Object(o.a)(i)){n=Object(a.a)(i)?i[0]:i;break}}return n}},function(t,e,n){"use strict";var r=n(0);e.a=function(t){if(!Object(r.a)(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e,n){"use strict";var r=n(0),i=function(t,e){if(void 0===e&&(e=[]),Object(r.a)(t))for(var n=0;n<t.length;n+=1)i(t[n],e);else e.push(t);return e};e.a=i},function(t,e,n){"use strict";var i=n(0),o=n(14);e.a=function(t){if(!(t=Object(o.a)(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(Object(i.a)(t[0])){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);t=e}var r=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:r}}},function(t,e,n){"use strict";var r=Array.prototype,a=r.splice,s=r.indexOf;e.a=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i,o=e[r];-1<(i=s.call(t,o));)a.call(t,i,1);return t}},function(t,e,n){"use strict";var i=n(2),o=n(0),a=n(9);e.a=function(t,n,e){if(!Object(o.a)(t)&&!Object(a.a)(t))return t;var r=e;return Object(i.a)(t,function(t,e){r=n(r,t,e)}),r}},function(t,e,n){"use strict";var s=n(1),c=n(21);e.a=function(t,e){var n=[];if(!Object(s.a)(t))return n;for(var r=-1,i=[],o=t.length;++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Object(c.a)(t,i),n}},function(t,e,n){"use strict";var r=n(0),o=n(8),a=n(3);e.a=function(t,n){var i,e=Object(a.a)(n)?function(t,e){return n(t)-n(e)}:(i=[],Object(o.a)(n)?i.push(n):Object(r.a)(n)&&(i=n),function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0});return t.sort(e),t}},function(t,e,n){"use strict";var r=n(22);e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(r.a)([].concat.apply([],t))}},function(t,e,n){"use strict";var i=n(2),o=n(0),a=n(6);e.a=function(t,e){var n=[],r={};return t.forEach(function(t){t=t[e];Object(a.a)(t)||(Object(o.a)(t)||(t=[t]),Object(i.a)(t,function(t){r[t]||(n.push(t),r[t]=!0)}))}),n}},function(t,e,n){"use strict";e.a=function(t){if(Object(r.a)(t))return t[0]};var r=n(1)},function(t,e,n){"use strict";e.a=function(t){if(Object(r.a)(t))return t[t.length-1]};var r=n(1)},function(t,e,n){"use strict";var r=n(0),i=n(8);e.a=function(t,e){return!(!Object(r.a)(t)&&!Object(i.a)(t))&&t[0]===e}},function(t,e,n){"use strict";var r=n(0),i=n(8);e.a=function(t,e){return!(!Object(r.a)(t)&&!Object(i.a)(t))&&t[t.length-1]===e}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1}},function(t,e,n){"use strict";var o=n(23);e.a=function(t,e){if(!e)return[t];var n,r=Object(o.a)(t,e),i=[];for(n in r)i.push(r[n]);return i}},function(t,e,n){"use strict";e.a=function(t,e){return t["_wrap_"+e]}},function(t,e,n){"use strict";e.a=function(e,n){if(e["_wrap_"+n])return e["_wrap_"+n];function t(t){e[n](t)}return e["_wrap_"+n]=t}},function(t,e,n){"use strict";var i={};e.a=function(t){var e=i[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;i[t]=e="#"+n}return e}},function(t,e,n){"use strict";var o=n(0);e.a=function(t){var e=0,n=0,r=0,i=0;return Object(o.a)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}},function(t,e,n){"use strict";e.a=function(t,e,n){return t<e?e:n<t?n:t}},function(t,e,n){"use strict";e.a=function(t,e){var e=e.toString(),n=e.indexOf(".");if(-1===n)return Math.round(t);e=e.substr(n+1).length;return 20<e&&(e=20),parseFloat(t.toFixed(e))}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t%1!=0}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t%2==0}},function(t,e,n){"use strict";var r=n(5),n=Number.isInteger||function(t){return Object(r.a)(t)&&t%1==0};e.a=n},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t<0}},function(t,e,n){"use strict";e.a=function(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t%2!=0}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&0<t}},function(t,e,n){"use strict";var o=n(2),a=n(0),s=n(3);e.a=function(t,e){var n,r,i;if(Object(a.a)(t))return r=t[0],i=Object(s.a)(e)?e(t[0]):t[0][e],Object(o.a)(t,function(t){(n=Object(s.a)(e)?e(t):t[e])>i&&(r=t,i=n)}),r}},function(t,e,n){"use strict";var o=n(2),a=n(0),s=n(3);e.a=function(t,e){var n,r,i;if(Object(a.a)(t))return r=t[0],i=Object(s.a)(e)?e(t[0]):t[0][e],Object(o.a)(t,function(t){(n=Object(s.a)(e)?e(t):t[e])<i&&(r=t,i=n)}),r}},function(t,e,n){"use strict";e.a=function(t,e){return(t%e+e)%e}},function(t,e,n){"use strict";var r=180/Math.PI;e.a=function(t){return r*t}},function(t,e,n){"use strict";e.a=parseInt},function(t,e,n){"use strict";var r=Math.PI/180;e.a=function(t){return r*t}},function(t,e,n){"use strict";n=n(2);e.a=n.a},function(t,e,n){"use strict";n=n(25);e.a=n.a},function(t,e,n){"use strict";var r=n(12),i=n(26);e.a=function(t,e){return Object(r.a)(Object(i.a)(t),e)}},function(t,e,n){"use strict";var r=n(10);e.a=function(t){return Object(r.a)(t).toLowerCase()}},function(t,e,n){"use strict";var r=n(10);e.a=function(t){t=Object(r.a)(t);return t.charAt(0).toLowerCase()+t.substring(1)}},function(t,e,n){"use strict";e.a=function(t,n){return t&&n?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===n[e]?"":n[e]}):t}},function(t,e,n){"use strict";var r=n(10);e.a=function(t){return Object(r.a)(t).toUpperCase()}},function(t,e,n){"use strict";var r=n(10);e.a=function(t){t=Object(r.a)(t);return t.charAt(0).toUpperCase()+t.substring(1)}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return Object(r.a)(t,"Arguments")}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return Object(r.a)(t,"Boolean")}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return Object(r.a)(t,"Date")}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return Object(r.a)(t,"Error")}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&isFinite(t)}},function(t,e,n){"use strict";e.a=function(t){return null===t}},function(t,e,n){"use strict";var r=n(4);e.a=function(t){return Object(r.a)(t,"RegExp")}},function(t,e,n){"use strict";e.a=function(t){return void 0===t}},function(t,e,n){"use strict";e.a=function(t){return t instanceof Element||t instanceof HTMLDocument}},function(t,e,n){"use strict";e.a=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){"use strict";e.a=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,n){"use strict";var o=n(16),a=n(3);e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];Object(a.a)(i)&&(i=i.prototype),Object(o.a)(n.prototype,i)}}},function(t,e,n){"use strict";var o=n(0),a=function(t){if("object"!=typeof t||null===t)return t;if(Object(o.a)(t))for(var e=[],n=0,r=t.length;n<r;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=a(t[n]):e[n]=t[n];else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=a(t[i]):e[i]=t[i];return e};e.a=a},function(t,e,n){"use strict";e.a=function(r,i,o){var a;return function(){var t=this,e=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||r.apply(t,e)},i),n&&r.apply(t,e)}}},function(t,e,n){"use strict";var r=n(3);e.a=function(o,a){if(!Object(r.a)(o))throw new TypeError("Expected a function");var s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=a?a.apply(this,t):t[0],r=s.cache;if(r.has(n))return r.get(n);var i=o.apply(this,t);return r.set(n,i),i};return s.cache=new Map,s}},function(t,e,n){"use strict";var s=n(0),c=n(9);e.a=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)!function t(e,n,r,i){for(var o in r=r||0,i=i||5,n){var a;n.hasOwnProperty(o)&&(null!==(a=n[o])&&Object(c.a)(a)?(Object(c.a)(e[o])||(e[o]={}),r<i?t(e[o],a,r+1,i):e[o]=n[o]):Object(s.a)(a)?(e[o]=[],e[o]=e[o].concat(a)):void 0!==a&&(e[o]=a))}}(t,e[r]);return t}},function(t,e,n){"use strict";var a=n(16),s=n(3);e.a=function(t,e,n,r){Object(s.a)(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;t=new n;return t.constructor=e,t},o=i(e.prototype,t);return t.prototype=Object(a.a)(o,t.prototype),t.superclass=i(e.prototype,e),Object(a.a)(o,n),Object(a.a)(t,r),t}},function(t,e,n){"use strict";var o=n(1);e.a=function(t,e){if(!Object(o.a)(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r}},function(t,e,n){"use strict";var r=n(6),i=n(1),o=n(27),a=n(28),s=Object.prototype.hasOwnProperty;e.a=function(t){if(Object(r.a)(t))return!0;if(Object(i.a)(t))return!t.length;var e,n=Object(o.a)(t);if("Map"===n||"Set"===n)return!t.size;if(Object(a.a)(t))return!Object.keys(t).length;for(e in t)if(s.call(t,e))return!1;return!0}},function(t,e,n){"use strict";var r=n(3),i=n(29);e.a=function(t,e,n){return Object(r.a)(n)?!!n(t,e):Object(i.a)(t,e)}},function(t,e,n){"use strict";var i=n(2),o=n(1);e.a=function(t,n){if(!Object(o.a)(t))return t;var r=[];return Object(i.a)(t,function(t,e){r.push(n(t,e))}),r}},function(t,e,n){"use strict";function i(t){return t}var o=n(6),a=n(13);e.a=function(e,n){void 0===n&&(n=i);var r={};return Object(a.a)(e)&&!Object(o.a)(e)&&Object.keys(e).forEach(function(t){r[t]=n(e[t],t)}),r}},function(t,e,n){"use strict";var o=n(8);e.a=function(t,e,n){for(var r=0,i=Object(o.a)(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t}},function(t,e,n){"use strict";var o=n(13),a=n(8),s=n(5);e.a=function(t,e,n){var r=t,i=Object(a.a)(e)?e.split("."):e;return i.forEach(function(t,e){e<i.length-1?(Object(o.a)(r[t])||(r[t]=Object(s.a)(i[e+1])?[]:{}),r=r[t]):r[t]=n}),t}},function(t,e,n){"use strict";var r=n(2),i=n(9),o=Object.prototype.hasOwnProperty;e.a=function(e,t){if(null===e||!Object(i.a)(e))return{};var n={};return Object(r.a)(t,function(t){o.call(e,t)&&(n[t]=e[t])}),n}},function(t,e,n){"use strict";e.a=function(n,r,i){function t(){var t=Date.now(),e=(u||!1!==i.leading||(u=t),r-(t-u));return a=this,s=arguments,e<=0||r<e?(o&&(clearTimeout(o),o=null),u=t,c=n.apply(a,s),o||(a=s=null)):o||!1===i.trailing||(o=setTimeout(l,e)),c}var o,a,s,c,u=0,l=(i=i||{},function(){u=!1===i.leading?0:Date.now(),o=null,c=n.apply(a,s),o||(a=s=null)});return t.cancel=function(){clearTimeout(o),u=0,o=a=s=null},t}},function(t,e,n){"use strict";var r=n(1);e.a=function(t){return Object(r.a)(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){"use strict";var r={};e.a=function(t){return r[t=t||"g"]?r[t]+=1:r[t]=1,t+r[t]}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";e.a=function(t){return Object(r.a)(t)?0:(Object(i.a)(t)?t:Object.keys(t)).length};var r=n(6),i=n(1)},function(t,e,n){"use strict";function r(){this.map={}}r.prototype.has=function(t){return void 0!==this.map[t]},r.prototype.get=function(t,e){t=this.map[t];return void 0===t?e:t},r.prototype.set=function(t,e){this.map[t]=e},r.prototype.clear=function(){this.map={}},r.prototype.delete=function(t){delete this.map[t]},r.prototype.size=function(){return Object.keys(this.map).length},e.a=r},function(t,e){function r(t,e,n,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}r.fromNode=function(t,e){if(!t)return null;var n=[];return t.children.forEach(function(t){n.push(r.fromNode(t,e))}),e?new r(t.height,t.width,t.x,n):new r(t.width,t.height,t.y,n)},t.exports=function(t,e){e=(e=void 0===e?{}:e).isHorizontal;function E(t){0===t.cs?((t.el=t).er=t).msel=t.mser=0:(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function w(t){return t.y+t.h}function M(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function e(t,n,r){void 0===r&&(r=0),n?(t.x=r,r+=t.width):(t.y=r,r+=t.height),t.children.forEach(function(t){e(t,n,r)})}(t,e);var n=r.fromNode(t,e);return function l(t){if(0!==t.cs){l(t.c[0]);for(var h=M(w(t.c[0].el),0,null),d=1;d<t.cs;++d){l(t.c[d]);for(var e,f,n,r,p,g=w(t.c[d].er),y=(f=p=e=f=n=r=O=u=c=s=a=u=c=s=a=c=x=x=b=o=v=i=m=_=y=void 0,t),_=d,m=h,i=y.c[_-1],v=i.mod,o=y.c[_],b=o.mod;null!==i&&null!==o;){w(i)>m.low&&(m=m.nxt);var O,x=v+i.prelim+i.w-(b+o.prelim);if(0<x){b+=x;{a=void 0;s=void 0;c=void 0;u=void 0;a=void 0;s=void 0;c=void 0;u=void 0;O=void 0;var a=y;var s=_;var c=m.index;var u=x;a.c[s].mod+=u,a.c[s].msel+=u,a.c[s].mser+=u;c!==s-1&&(O=s-c,a.c[c+1].shift+=u/O,a.c[s].shift-=u/O,a.c[s].change-=u-u/O)}}x=w(i),c=w(o);x<=c&&null!==(i=0===(a=i).cs?a.tr:a.c[a.cs-1])&&(v+=i.mod),c<=x&&null!==(o=0===(s=o).cs?s.tl:s.c[0])&&(b+=o.mod)}!i&&o?(f=_,n=o,r=b,p=(e=y).c[0].el,r=r-(p.tl=n).mod-e.c[0].msel,p.mod+=r,p.prelim-=r,e.c[0].el=e.c[f].el,e.c[0].msel=e.c[f].msel):i&&!o&&(n=_,p=i,r=v,f=(e=y).c[n].er,r=r-(f.tr=p).mod-e.c[n].mser,f.mod+=r,f.prelim-=r,e.c[n].er=e.c[n-1].er,e.c[n].mser=e.c[n-1].mser),h=M(g,d,h)}t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2,E(t)}else E(t)}(n),function t(e,n){n+=e.mod,e.x=e.prelim+n;for(var r=e,i=0,o=0,a=0;a<r.cs;a++)o+=(i+=r.c[a].shift)+r.c[a].change,r.c[a].mod+=o;for(var s=0;s<e.cs;s++)t(e.c[s],n)}(n,0),function n(t,r,i){i?r.y=t.x:r.x=t.x,t.c.forEach(function(t,e){n(t,r.children[e],i)})}(n,t,e),function e(t,n,r){r?t.y+=n:t.x+=n,t.children.forEach(function(t){e(t,n,r)})}(t,-function e(t,n){var r=n?t.y:t.x;return t.children.forEach(function(t){r=Math.min(e(t,n),r)}),r}(t,n=e),n),t}},function(t,l,e){var n,r=e(11),i=e(115),o=e(17),a=e(7),s=(e=n=r,(r=u).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e,u.prototype.execute=function(){return this.rootNode.width=0,o(this.rootNode,this.options,i)},u),c={};function u(){return n.apply(this,arguments)||this}t.exports=function(t,e){return e=a.assign({},c,e),new s(t,e).execute()}},function(t,e,n){var i=n(7);function a(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);this.x=this.y=0,this.leftChild=this.rightChild=null,this.height=0,this.children=e}var s={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,n){void 0===n&&(n={}),n=i.assign({},s,n);var r,o=0,e=function n(t){if(!t)return null;t.width=0,t.depth&&t.depth>o&&(o=t.depth);var e=t.children,r=e.length,i=new a(t.height,[]);return e.forEach(function(t,e){t=n(t);i.children.push(t),0===e&&(i.leftChild=t),e===r-1&&(i.rightChild=t)}),i.originNode=t,i.isLeaf=t.isLeaf(),i}(t);return function t(e){var n;return e.isLeaf||0===e.children.length?e.drawingDepth=o:(n=e.children.map(t),n=Math.min.apply(null,n),e.drawingDepth=n-1),e.drawingDepth}(e),function e(t){t.x=t.drawingDepth*n.rankSep,t.isLeaf?(t.y=0,r&&(t.y=r.y+r.height+n.nodeSep,t.originNode.parent!==r.originNode.parent&&(t.y+=n.subTreeSep)),r=t):(t.children.forEach(function(t){e(t)}),t.y=(t.leftChild.y+t.rightChild.y)/2)}(e),function n(t,r,i){i?(r.x=t.x,r.y=t.y):(r.x=t.y,r.y=t.x),t.children.forEach(function(t,e){n(t,r.children[e],i)})}(e,t,n.isHorizontal),t}},function(t,l,e){var n,r=e(11),o=e(117),a=e(30),i=e(7),s=["LR","RL","H"],c=s[0],h=(e=n=r,(r=u).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e,u.prototype.execute=function(){var t=this.options,e=this.rootNode,n=(t.isHorizontal=!0,t.indent),n=void 0===n?20:n,r=t.dropCap,r=void 0===r||r,i=t.direction||c;if(i&&-1===s.indexOf(i))throw new TypeError("Invalid direction: "+i);return i===s[0]?o(e,n,r):i===s[1]?(o(e,n,r),e.right2left()):i===s[2]&&(t=(i=a(e,t)).left,i=i.right,o(t,n,r),t.right2left(),o(i,n,r),n=t.getBoundingBox(),i.translate(n.width,0),e.x=i.x-e.width/2),e},u),d={};function u(){return n.apply(this,arguments)||this}t.exports=function(t,e){return e=i.assign({},d,e),new h(t,e).execute()}},function(t,e){t.exports=function(t,e,n){var r=null;t.eachNode(function(t){!function(t,e,n,r){n="function"==typeof n?n(t):n*t.depth;if(!r)try{if(t.id===t.parent.children[0].id)return t.x+=n,t.y=e?e.y:0}catch(t){}t.x+=n,t.y=e?e.y+e.height:0}(t,r,e,n),r=t})}},function(t,l,e){var n,r=e(11),i=e(119),o=e(17),a=e(7),s=(e=n=r,(r=u).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e,u.prototype.execute=function(){return o(this.rootNode,this.options,i)},u),c={};function u(){return n.apply(this,arguments)||this}t.exports=function(t,e){return e=a.assign({},c,e),new s(t,e).execute()}},function(t,e,n){var r=n(7),i={getSubTreeSep:function(){return 0}};t.exports=function(t,e){e=r.assign({},i,e=void 0===e?{}:e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function e(t,n){var r=0;return t.children.length?t.children.forEach(function(t){r+=e(t,n)}):r=t.height,t._subTreeSep=n.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,r)+2*t._subTreeSep,t.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function e(t){var n,r,i,o,a=t.children,s=a.length;s&&(a.forEach(function(t){e(t)}),n=a[0],r=(s=a[s-1]).y-n.y+s.height,i=0,a.forEach(function(t){i+=t.totalHeight}),r>t.height?t.y=n.y+r/2-t.height/2:1!==a.length||t.height>i?(o=t.y+(t.height-r)/2-n.y,a.forEach(function(t){t.translate(0,o)})):t.y=(n.y+n.height/2+s.y+s.height/2)/2-t.height/2)}(t)}}],i={},r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=31);function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,i}()},function(r,i,t){"use strict";var c=t(436),u=t(439),l=[].slice,g=["keyword","gray","hex"],h={},d=(Object.keys(u).forEach(function(t){h[l.call(u[t].labels).sort().join("")]=t}),{});function f(t,e){if(!(this instanceof f))return new f(t,e);if((e=e&&e in g?null:e)&&!(e in u))throw new Error("Unknown model: "+e);if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof f)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var n=c.get(t);if(null===n)throw new Error("Unable to parse color from string: "+t);this.model=n.model,r=u[this.model].channels,this.color=n.value.slice(0,r),this.valpha="number"==typeof n.value[r]?n.value[r]:1}else if(t.length){this.model=e||"rgb";var r=u[this.model].channels,n=l.call(t,0,r);this.color=p(n,r),this.valpha="number"==typeof t[r]?t[r]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;e=Object.keys(t),n=("alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0),e.sort().join(""));if(!(n in h))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=h[n];for(var i=u[this.model].labels,o=[],a=0;a<i.length;a++)o.push(t[i[a]]);this.color=p(o)}if(d[this.model])for(r=u[this.model].channels,a=0;a<r;a++){var s=d[this.model][a];s&&(this.color[a]=s(this.color[a]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function e(n,r,i){return(n=Array.isArray(n)?n:[n]).forEach(function(t){(d[t]||(d[t]=[]))[r]=i}),n=n[0],function(t){var e;return arguments.length?(i&&(t=i(t)),(e=this[n]()).color[r]=t):(e=this[n]().color[r],i&&(e=i(e))),e}}function n(e){return function(t){return Math.max(0,Math.min(e,t))}}function p(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}f.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in c.to?this:this.rgb(),t=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return c.to[e.model](t)},percentString:function(t){t=this.rgb().round("number"==typeof t?t:1),t=1===t.valpha?t.color:t.color.concat(this.valpha);return c.to.rgb.percent(t)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=u[this.model].channels,n=u[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new f(this.color.map((e=t,function(t){return Number(t.toFixed(e))})).concat(this.valpha),this.model);var e},alpha:function(t){return arguments.length?new f(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:e("rgb",0,n(255)),green:e("rgb",1,n(255)),blue:e("rgb",2,n(255)),hue:e(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:e("hsl",1,n(100)),lightness:e("hsl",2,n(100)),saturationv:e("hsv",1,n(100)),value:e("hsv",2,n(100)),chroma:e("hcg",1,n(100)),gray:e("hcg",2,n(100)),white:e("hwb",1,n(100)),wblack:e("hwb",2,n(100)),cyan:e("cmyk",0,n(100)),magenta:e("cmyk",1,n(100)),yellow:e("cmyk",2,n(100)),black:e("cmyk",3,n(100)),x:e("xyz",0,n(100)),y:e("xyz",1,n(100)),z:e("xyz",2,n(100)),l:e("lab",0,n(100)),a:e("lab",1),b:e("lab",2),keyword:function(t){return arguments.length?new f(t):u[this.model].keyword(this.color)},hex:function(t){return arguments.length?new f(t):c.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((.055+r)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),t=t.luminosity();return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)},level:function(t){t=this.contrast(t);return 7.1<=t?"AAA":4.5<=t?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,t=.3*t[0]+.59*t[1]+.11*t[2];return f.rgb(t,t,t)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=(n=((n=e.color[0])+t)%360)<0?360+n:n;return e.color[0]=n,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var t=t.rgb(),n=this.rgb(),e=void 0===e?.5:e,r=2*e-1,i=t.alpha()-n.alpha(),r=(1+(r*i==-1?r:(r+i)/(1+r*i)))/2,i=1-r;return f.rgb(r*t.red()+i*n.red(),r*t.green()+i*n.green(),r*t.blue()+i*n.blue(),t.alpha()*e+n.alpha()*(1-e))}},Object.keys(u).forEach(function(n){var r;-1===g.indexOf(n)&&(r=u[n].channels,f.prototype[n]=function(){if(this.model===n)return new f(this);if(arguments.length)return new f(arguments,n);var t,e="number"==typeof arguments[r]?r:this.valpha;return new f((t=u[this.model][n].raw(this.color),(Array.isArray(t)?t:[t]).concat(e)),n)},f[n]=function(t){return new f(t="number"==typeof t?p(l.call(arguments),r):t,n)})}),r.exports=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var r=n(80);function i(t){return"function"==typeof t?t.name:"symbol"==typeof t?t.toString():t}function o(t){if(t.name)return t.name;var t=t.toString(),e=t.match(/^function\s*([^\s(]+)/);return e?e[1]:"Anonymous function: "+t}e.getServiceIdentifierAsString=i,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var r="",n=n(t,e);return 0!==n.length&&(r="\nRegistered bindings:",n.forEach(function(t){var e="Object";null!==t.implementationType&&(e=o(t.implementationType)),r=r+"\n "+e,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)})),r},e.circularDependencyToException=function n(t){t.childRequests.forEach(function(t){var e;if(function t(e,n){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===n||t(e.parentRequest,n))}(t,t.serviceIdentifier))throw e=function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}(t).reverse().join(" --\x3e "),new Error(r.CIRCULAR_DEPENDENCY+" "+e);n(t)})},e.listMetadataForTarget=function(t,e){var n,r;return e.isTagged()||e.isNamed()?(n="",r=e.getNamedTag(),e=e.getCustomTags(),null!==r&&(n+=r.toString()+"\n"),null!==e&&e.forEach(function(t){n+=t.toString()+"\n"})," "+t+"\n "+t+" - "+n):" "+t},e.getFunctionName=o},function(l,t,e){"use strict";e.d(t,"a",function(){return k}),e(313);var h,n=e(15),t=e(398),t=e.n(t),r=e(52),i=e(22),d=e.n(i),i=e(16),f=e.n(i),i=e(17),i=e.n(i),o=e(23),o=e.n(o),a=(e(58),e(26)),p=e(74),g=(s=Object(n.injectable)(),m=Object(n.inject)(a.a.RenderEngine),s((i()(S,[{key:"getOrCreateResource",value:function(t){var e,n,r;return this.resourcePool[t.name]||(e=(r=t.descriptor).width,n=r.height,r=r.usage,this.resourcePool[t.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:e,height:n,wrapS:p.a.CLAMP_TO_EDGE,wrapT:p.a.CLAMP_TO_EDGE,usage:r})})),this.resourcePool[t.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),s=S,h=o()(s.prototype,"engine",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=s))||i),y=e(196),o=e(208),_=e(183),m=e(184),v=e(185),s=e(186),i=e(187),b=e(188),O=e(144),x=e(126),E=e(102),w=e(190),M=e(191),c=e(46),P=e.n(c),c=e(47),C=e.n(c),c=e(33),A=e.n(c);function S(){f()(this,S),d()(this,"engine",h,this),this.resourcePool={}}var c=function(t){P()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=A()(n);return t=r?(t=A()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),C()(this,t)};function o(t){var e;return f()(this,o),(e=i.call(this,t)).name=void 0,e.name=t.name||"",e}return o}(r.a),j=e(192),D=e(193),T=e(194),I=e(195),e=e(201),u=new n.Container;function k(){var t=new n.Container;return t.parent=u,t.bind(a.a.Systems).to(j.a).inSingletonScope().whenTargetNamed(a.a.SceneGraphSystem),t.bind(a.a.Systems).to(y.a).inSingletonScope().whenTargetNamed(a.a.FrameGraphSystem),t.bind(a.a.Systems).to(b.a).inSingletonScope().whenTargetNamed(a.a.MeshSystem),t.bind(a.a.Systems).to(_.a).inSingletonScope().whenTargetNamed(a.a.GeometrySystem),t.bind(a.a.Systems).to(v.a).inSingletonScope().whenTargetNamed(a.a.MaterialSystem),t.bind(a.a.Systems).to(w.a).inSingletonScope().whenTargetNamed(a.a.RendererSystem),t.bind(a.a.ResourcePool).to(g).inSingletonScope(),t.bind(a.a.ConfigService).to(T.a).inSingletonScope(),t.bind(a.a.InteractorService).to(I.a).inSingletonScope(),t.bind(a.a.RenderPass).to(E.a).inSingletonScope().whenTargetNamed(E.a.IDENTIFIER),t.bind(a.a.RenderPass).to(O.a).inSingletonScope().whenTargetNamed(O.a.IDENTIFIER),t.bind(a.a.RenderPass).to(x.a).inSingletonScope().whenTargetNamed(x.a.IDENTIFIER),t.bind(a.a.RenderPassFactory).toFactory(function(e){return function(t){return e.container.getNamed(a.a.RenderPass,t)}}),t}t()(u,!1),u.bind(a.a.ShaderModuleService).to(e.a).inSingletonScope(),u.bind(a.a.NameComponentManager).toConstantValue(new r.b(c)),u.bind(a.a.HierarchyComponentManager).toConstantValue(new r.b(M.a)),u.bind(a.a.TransformComponentManager).toConstantValue(new r.b(D.a)),u.bind(a.a.MeshComponentManager).toConstantValue(new r.b(i.a)),u.bind(a.a.CullableComponentManager).toConstantValue(new r.b(s.a)),u.bind(a.a.GeometryComponentManager).toConstantValue(new r.b(o.a)),u.bind(a.a.MaterialComponentManager).toConstantValue(new r.b(m.a))},function(i,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return r});var l=e(3),h=e(0),d=e(2);function f(t){var n={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},r=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"],e=(Object(h.get)(t,"fill")&&(n.color=t.fill),Object(d.t)(t,r)),i=e.shadowColor,o=e.shadowBlur,a=e.shadowOffsetX,e=e.shadowOffsetY,i=(n["text-shadow"]=""+[i,(void 0===a?0:a)+"px",(void 0===e?0:e)+"px",(void 0===o?0:o)+"px"].join(" "),Object(d.t)(t,r)),a=i.stroke,e=i.lineWidth;return n["-webkit-text-stroke"]=""+[(void 0===e?0:e)+"px",a].join(" "),Object(h.each)(t,function(t,e){["fontSize"].includes(e)&&Object(h.isNumber)(t)?n[Object(d.q)(e)]=t+"px":e&&!r.includes(e)&&(n[Object(d.q)(e)]=""+t)}),n}function p(n,t){n.style["pointer-events"]="none",Object(h.each)(t,function(t,e){e&&t&&(n.style[e]=t)})}var n=function(e,t,c){var n=t.statistic,u=t.plotType,r=n.title,i=n.content;[r,i].forEach(function(o,t){var a,s;o&&(a="",a=0===t?i?"translate(-50%, -100%)":"translate(-50%, -50%)":r?"translate(-50%, 0)":"translate(-50%, -50%)",s=Object(h.isFunction)(o.style)?o.style(c):o.style,e.annotation().html(Object(l.a)({position:["50%","50%"],html:function(t,e){var n=e.getCoordinate(),r=0,i=("pie"===u||"ring-progress"===u?r=n.getRadius()*n.innerRadius*2:"liquid"===u?(i=Object(h.get)(e.geometries,[0,"elements",0,"shape"]))&&(r=i.find(function(t){return"wrap"===t.get("name")}).getCanvasBBox().width):r=r||n.getWidth(),p(t,Object(l.a)({width:r+"px",transform:a},f(s))),e.getData());if(o.customHtml)return o.customHtml(t,e,c,i);n=o.content;return(n=o.formatter?o.formatter(c,i):n)?Object(h.isString)(n)?n:""+n:"<div></div>"},key:(0===t?"top":"bottom")+"-statistic"},Object(d.t)(o,["offsetX","offsetY","rotate","style","formatter"]))))})},r=function(t,e,c){e=e.statistic;[e.title,e.content].forEach(function(a){var s;a&&(s=Object(h.isFunction)(a.style)?a.style(c):a.style,t.annotation().html(Object(l.a)({position:["50%","100%"],html:function(t,e){var n=e.getCoordinate(),r=e.views[0].getCoordinate(),i=r.getCenter(),o=r.getRadius(),r=Math.max(Math.sin(r.startAngle),Math.sin(r.endAngle))*o,o=i.y+r-n.y.start-parseFloat(Object(h.get)(s,"fontSize",0)),i=n.getRadius()*n.innerRadius*2,r=(p(t,Object(l.a)({width:i+"px",transform:"translate(-50%, "+o+"px)"},f(s))),e.getData());if(a.customHtml)return a.customHtml(t,e,c,r);n=a.content;return(n=a.formatter?a.formatter(c,r):n)?Object(h.isString)(n)?n:""+n:"<div></div>"}},Object(d.t)(a,["offsetX","offsetY","rotate","style","formatter"]))))})}},function(l,t,e){"use strict";e.d(t,"a",function(){return c});var n,t=e(3),i=e(0),r=e(19),o=e(2),a=e(223),s=e(35),c=(n=r.b,Object(t.b)(u,n),u.getDefaultOptions=function(){return s.a},u.prototype.getDefaultOptions=function(){return u.getDefaultOptions()},u.prototype.getSchemaAdaptor=function(){return a.a},u.prototype.setState=function(e,n,r){void 0===r&&(r=!0);var t=Object(o.i)(this.chart);Object(i.each)(t,function(t){n(t.getData())&&t.setState(e,r)})},u.prototype.getStates=function(){var t=Object(o.i)(this.chart),r=[];return Object(i.each)(t,function(e){var n=e.getData(),t=e.getStates();Object(i.each)(t,function(t){r.push({data:n,state:t,geometry:e.geometry,element:e})})}),r},u.CONVERSATION_FIELD=s.b,u.PERCENT_FIELD=s.d,u.TOTAL_PERCENT_FIELD=s.e,u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="funnel",t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var g=n(30);function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function y(t,e){return r(t)*r(e)?(t[0]*e[0]+t[1]*e[1])/(r(t)*r(e)):1}function _(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(y(t,e))}function i(t,e){var n=e[1],r=e[2],i=Object(g.m)(Object(g.o)(e[3]),2*Math.PI),l=e[4],h=e[5],d=t[0],f=t[1],o=e[6],e=e[7],a=Math.cos(i)*(d-o)/2+Math.sin(i)*(f-e)/2,s=-1*Math.sin(i)*(d-o)/2+Math.cos(i)*(f-e)/2,c=a*a/(n*n)+s*s/(r*r),c=(1<c&&(n*=Math.sqrt(c),r*=Math.sqrt(c)),n*n*(s*s)+r*r*(a*a)),c=c?Math.sqrt((n*n*(r*r)-c)/c):1,u=(l===h&&(c*=-1),isNaN(c)&&(c=0),r?c*n*s/r:0),c=n?c*-r*a/n:0,d=(d+o)/2+Math.cos(i)*u-Math.sin(i)*c,f=(f+e)/2+Math.sin(i)*u+Math.cos(i)*c,p=[(a-u)/n,(s-c)/r],a=[(-1*a-u)/n,(-1*s-c)/r],u=_([1,0],p),s=_(p,a);return y(p,a)<=-1&&(s=Math.PI),1<=y(p,a)&&(s=0),0===h&&0<s&&(s-=2*Math.PI),1===h&&s<0&&(s+=2*Math.PI),{cx:d,cy:f,rx:Object(g.j)(t,[o,e])?0:n,ry:Object(g.j)(t,[o,e])?0:r,startAngle:u,endAngle:u+s,xRotation:i,arcFlag:l,sweepFlag:h}}},function(r,t,e){"use strict";function i(t,e){return t.parent===e.parent?1:2}function h(t,e){return t+e.x}function d(t,e){return Math.max(t,e.y)}e.r(t),e.d(t,"cluster",function(){return o}),e.d(t,"hierarchy",function(){return f.c}),e.d(t,"pack",function(){return a.a}),e.d(t,"packSiblings",function(){return s.a}),e.d(t,"packEnclose",function(){return c.a}),e.d(t,"partition",function(){return u.a}),e.d(t,"stratify",function(){return E}),e.d(t,"tree",function(){return M}),e.d(t,"treemap",function(){return P.a}),e.d(t,"treemapBinary",function(){return C}),e.d(t,"treemapDice",function(){return g.a}),e.d(t,"treemapSlice",function(){return y.a}),e.d(t,"treemapSliceDice",function(){return A}),e.d(t,"treemapSquarify",function(){return v.a}),e.d(t,"treemapResquarify",function(){return S});var o=function(){var s=i,c=1,u=1,l=!1;function e(e){var r,i=0,t=(e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(h,0)/e.length,t.y=1+n.reduce(d,0)):(t.x=r?i+=s(t,r):0,t.y=0,r=t)}),function(t){for(var e;e=t.children;)t=e[0];return t}(e)),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),o=t.x-s(t,n)/2,a=n.x+s(n,t)/2;return e.eachAfter(l?function(t){t.x=(t.x-e.x)*c,t.y=(e.y-t.y)*u}:function(t){t.x=(t.x-o)/(a-o)*c,t.y=(1-(e.y?t.y/e.y:1))*u})}return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=!1,c=+t[0],u=+t[1],e):l?null:[c,u]},e.nodeSize=function(t){return arguments.length?(l=!0,c=+t[0],u=+t[1],e):l?[c,u]:null},e},f=e(116),a=e(266),s=e(180),c=e(181),u=e(265),n=e(129),b={depth:-1},O={};function l(t){return t.id}function x(t){return t.parentId}var E=function(){var h=l,d=x;function e(t){for(var e,n,r,i,o,a,s=Array.from(t),c=s.length,l=new Map,u=0;u<c;++u)e=s[u],i=s[u]=new f.a(e),null!=(o=h(e,u,t))&&(o+="")&&(a=i.id=o,l.set(a,l.has(a)?O:i)),null!=(o=d(e,u,t))&&(o+="")&&(i.parent=o);for(u=0;u<c;++u)if(o=(i=s[u]).parent){if(!(r=l.get(o)))throw new Error("missing: "+o);if(r===O)throw new Error("ambiguous: "+o);r.children?r.children.push(i):r.children=[i],i.parent=r}else{if(n)throw new Error("multiple roots");n=i}if(!n)throw new Error("no root");if(n.parent=b,n.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(f.b),n.parent=null,0<c)throw new Error("cycle");return n}return e.id=function(t){return arguments.length?(h=Object(n.b)(t),e):h},e.parentId=function(t){return arguments.length?(d=Object(n.b)(t),e):d},e};function w(t,e){return t.parent===e.parent?1:2}function _(t){var e=t.children;return e?e[0]:t.t}function m(t){var e=t.children;return e?e[e.length-1]:t.t}function p(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}p.prototype=Object.create(f.a.prototype);var M=function(){var y=w,c=1,u=1,l=null;function e(s){var e,n,r,i,o,a,t=function(){for(var t,e,n,r,i,o=new p(s,0),a=[o];t=a.pop();)if(n=t._.children)for(t.children=new Array(i=n.length),r=i-1;0<=r;--r)a.push(e=t.children[r]=new p(n[r],r)),e.parent=t;return(o.parent=new p(null,0)).children=[o],o}();return t.eachAfter(h),t.parent.m=-t.z,t.eachBefore(d),l?s.eachBefore(f):((r=n=e=s).eachBefore(function(t){t.x<e.x&&(e=t),t.x>n.x&&(n=t),t.depth>r.depth&&(r=t)}),t=e===n?1:y(e,n)/2,i=t-e.x,o=c/(n.x+t+i),a=u/(r.depth||1),s.eachBefore(function(t){t.x=(t.x+i)*o,t.y=t.depth*a})),s}function h(t){var e=t.children,n=t.parent.children,g=t.i?n[t.i-1]:null;if(e){for(var r,i=0,o=0,a=t.children,s=a.length;0<=--s;)(r=a[s]).z+=i,r.m+=i,i+=r.s+(o+=r.c);e=(e[0].z+e[e.length-1].z)/2;g?(t.z=g.z+y(t._,g._),t.m=t.z-e):t.z=e}else g&&(t.z=g.z+y(t._,g._));t.parent.A=function(t,l){if(g){for(var e,n=t,r=t,i=g,o=n.parent.children[0],a=n.m,h=r.m,d=i.m,f=o.m;i=m(i),n=_(n),i&&n;)o=_(o),(r=m(r)).a=t,0<(e=i.z+d-n.z-a+y(i._,n._))&&(u=l,c=(c=i).a.parent===t.parent?c.a:u,u=void 0,u=(p=e)/((s=t).i-c.i),s.c-=u,s.s+=p,c.c+=u,s.z+=p,s.m+=p,a+=e,h+=e),d+=i.m,a+=n.m,f+=o.m,h+=r.m;i&&!m(r)&&(r.t=i,r.m+=d-h),n&&!_(o)&&(o.t=n,o.m+=a-f,l=t)}var s,p,c,u;return l}(t,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function f(t){t.x*=c,t.y=t.depth*u}return e.separation=function(t){return arguments.length?(y=t,e):y},e.size=function(t){return arguments.length?(l=!1,c=+t[0],u=+t[1],e):l?null:[c,u]},e.nodeSize=function(t){return arguments.length?(l=!0,c=+t[0],u=+t[1],e):l?[c,u]:null},e},P=e(240),C=function(t,e,n,r,i){var o,a,g=t.children,s=g.length,y=new Array(s+1);for(y[0]=a=o=0;o<s;++o)y[o+1]=a+=g[o].value;!function t(e,n,r,i,o,a,s){if(n-1<=e)return(c=g[e]).x0=i,c.y0=o,c.x1=a,c.y1=s,0;for(var c=y[e],l=r/2+c,u=e+1,h=n-1;u<h;){var d=u+h>>>1;y[d]<l?u=1+d:h=d}l-y[u-1]<y[u]-l&&e+1<u&&--u;var f,c=y[u]-c,p=r-c;s-o<a-i?(t(e,u,c,i,o,f=r?(i*p+a*c)/r:a,s),t(u,n,p,f,o,a,s)):(t(e,u,c,i,o,a,f=r?(o*p+s*c)/r:s),t(u,n,p,i,f,a,s))}(0,s,t.value,e,n,r,i)},g=e(98),y=e(111),A=function(t,e,n,r,i){(1&t.depth?y:g).a(t,e,n,r,i)},v=e(125),S=function e(f){function t(t,e,n,r,i){if((o=t._squarify)&&o.ratio===f)for(var o,a,s,c,l,h=-1,d=o.length,u=t.value;++h<d;){for(s=(a=o[h]).children,c=a.value=0,l=s.length;c<l;++c)a.value+=s[c].value;a.dice?Object(g.a)(a,e,n,r,u?n+=(i-n)*a.value/u:i):Object(y.a)(a,e,n,u?e+=(r-e)*a.value/u:r,i),u-=a.value}else t._squarify=o=Object(v.c)(f,t,e,n,r,i),o.ratio=f}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(v.b)},function(o,t,e){"use strict";e.d(t,"a",function(){return c});var g=e(3),y=e(0),n=e(8),_=e(2),m=e(25),v=e(82),r=e(101);function i(t){var e=t.chart,n=t.options,r=n.data,l=n.areaStyle,i=n.color,o=n.point,a=n.line,s=n.isPercent,h=n.xField,c=n.yField,u=n.tooltip,d=n.seriesField,f=n.startOnZero,p=null==o?void 0:o.state,r=Object(v.a)(r,c,h,c,s),r=(e.data(r),s?Object(g.a)({formatter:function(t){return{name:t[d]||t[h],value:(100*Number(t[c])).toFixed(2)+"%"}}},u):u),s=Object(_.c)({},t,{options:{area:{color:i,style:l},point:o&&Object(g.a)({color:i},o),tooltip:r,label:void 0,args:{startOnZero:f}}}),u={chart:e,options:Object(_.c)({line:{size:2}},Object(y.omit)(n,["state"]),{line:a&&Object(g.a)({color:i},a),sizeField:d,state:null==a?void 0:a.state,tooltip:!1,label:void 0,args:{startOnZero:f}})},l=Object(_.c)({},s,{options:{tooltip:!1,state:p}});return Object(m.a)(s),Object(m.d)(u),Object(m.e)(l),t}function a(t){var e,n=t.chart,r=t.options,i=r.label,r=r.yField,n=Object(_.d)(n,"area");return i?(e=i.callback,i=Object(g.c)(i,["callback"]),n.label({fields:[r],callback:e,cfg:Object(g.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(_.A)(i))})):n.label(!1),t}function s(t){var e=t.chart,n=t.options,r=n.isStack,i=n.isPercent,n=n.seriesField;return(i||r)&&n&&Object(y.each)(e.geometries,function(t){t.adjust("stack")}),t}function c(t){return Object(_.f)(n.k,Object(n.f)("areaStyle"),i,r.d,s,r.b,r.c,n.l,a,n.i,Object(n.b)(),n.c,n.a,n.e)(t)}e.d(t,"b",function(){return r.d})},function(l,t,e){"use strict";e.d(t,"a",function(){return d});var s=e(3),n=e(8),i=e(2),c=e(96);function r(t){var e=t.options,n=e.xField,r=e.yField,i=e.xAxis,o=e.yAxis,a={left:"bottom",right:"top",top:"left",bottom:"right"},o=!1!==o&&Object(s.a)({position:a[(null==o?void 0:o.position)||"left"]},o),a=!1!==i&&Object(s.a)({position:a[(null==i?void 0:i.position)||"bottom"]},i);return Object(s.a)(Object(s.a)({},t),{options:Object(s.a)(Object(s.a)({},e),{xField:r,yField:n,xAxis:o,yAxis:a})})}function o(t){var e=t.options.label;return e&&!e.position&&(e.position="left",e.layout||(e.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),Object(i.c)({},t,{options:{label:e}})}function a(t){var e=t.options,n=e.seriesField,r=e.isStack,e=e.legend;return n?!1!==e&&(e=Object(s.a)({position:r?"top-left":"right-top"},e||{})):e=!1,Object(i.c)({},t,{options:{legend:e}})}function u(t){return t.chart.coordinate({actions:[["transpose"],["reflect","y"]]}),t}function h(t){var e=t.chart,t=t.options,n=t.barStyle,r=t.barWidthRatio,i=t.minBarWidth,o=t.maxBarWidth,a=t.barBackground;return Object(c.a)({chart:e,options:Object(s.a)(Object(s.a)({},t),{columnStyle:n,columnWidthRatio:r,minColumnWidth:i,maxColumnWidth:o,columnBackground:a})},!0)}function d(t){return Object(i.f)(r,o,a,n.l,u,h)(t)}e.d(t,"b",function(){return c.b})},function(r,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return x});var l=e(3),h=e(0),i=e(8),s=e(49),c=e(25),o=e(89),p=e(97),d=e(2),g=e(214),f=e(118),u=e(241);function y(t){var e=t.chart,n=t.options,r=n.data,i=n.angleField,o=n.colorField,a=n.color,n=n.pieStyle,s=Object(d.u)(r,i),r=Object(f.c)(s,i)?(s=s.map(function(t){return Object(l.a)(Object(l.a)({},t),((t={}).$$percentage$$=1/s.length,t))}),e.data(s),Object(d.c)({},t,{options:{xField:"1",yField:"$$percentage$$",seriesField:o,isStack:!0,interval:{color:a,style:n},args:{zIndexReversed:!0,sortZIndex:!0}}})):(e.data(s),Object(d.c)({},t,{options:{xField:"1",yField:i,seriesField:o,isStack:!0,interval:{color:a,style:n},args:{zIndexReversed:!0,sortZIndex:!0}}}));return Object(c.c)(r),t}function _(t){var e=t.chart,n=t.options,r=n.meta,n=n.colorField,r=Object(d.c)({},r);return e.scale(r,((e={})[n]={type:"cat"},e)),t}function m(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,n=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:n}}),t}function v(t){var e,a,n,r,s=t.chart,i=t.options,o=i.label,c=i.colorField,u=i.angleField,i=s.geometries[0];return o?(e=o.callback,o=Object(l.c)(o,["callback"]),(o=Object(d.A)(o)).content&&(a=o.content,o.content=function(t,e,n){var r=t[c],i=t[u],o=s.getScaleByField(u),o=null==o?void 0:o.scale(i);return Object(h.isFunction)(a)?a(Object(l.a)(Object(l.a)({},t),{percent:o}),e,n):Object(h.isString)(a)?Object(d.y)(a,{value:i,name:r,percentage:Object(h.isNumber)(o)&&!Object(h.isNil)(i)?(100*o).toFixed(2)+"%":null}):a}),n=o.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[o.type]:"pie-outer",r=o.layout?Object(h.isArray)(o.layout)?o.layout:[o.layout]:[],o.layout=(n?[{type:n}]:[]).concat(r),i.label({fields:c?[u,c]:[u],callback:e,cfg:Object(l.a)(Object(l.a)({},o),{offset:Object(f.a)(o.type,o.offset),type:"pie"})})):i.label(!1),t}function a(t){var e,r,n=t.innerRadius,i=t.statistic,o=t.angleField,a=t.colorField,s=t.meta,c=t.locale,u=Object(p.a)(c);return n&&i?(c=Object(d.c)({},g.a.statistic,i),e=c.title,r=c.content,!1!==e&&(e=Object(d.c)({},{formatter:function(t){return t?t[a]:Object(h.isNil)(e.content)?u.get(["statistic","total"]):e.content}},e)),!1!==r&&(r=Object(d.c)({},{formatter:function(t,e){var e=t?t[o]:Object(f.b)(e,o),n=Object(h.get)(s,[o,"formatter"])||function(t){return t};return t||Object(h.isNil)(r.content)?n(e):r.content}},r)),Object(d.c)({},{statistic:{title:e,content:r}},t)):t}function n(t){var e=t.chart,n=a(t.options),r=n.innerRadius,n=n.statistic;return e.getController("annotation").clear(!0),Object(d.f)(Object(i.b)())(t),r&&n&&Object(d.w)(e,{statistic:n,plotType:"pie"}),t}function b(t){var e,n=t.chart,r=t.options,i=r.tooltip,o=r.colorField,a=r.angleField,r=r.data;return!1===i?n.tooltip(i):(n.tooltip(Object(d.c)({},i,{shared:!1})),Object(f.c)(r,a)&&(r=Object(h.get)(i,"fields"),e=Object(h.get)(i,"formatter"),Object(h.isEmpty)(Object(h.get)(i,"fields"))&&(r=[o,a],e=e||function(t){return{name:t[o],value:Object(h.toString)(t[a])}}),n.geometries[0].tooltip(r.join("*"),Object(s.b)(r,e)))),t}function O(t){var r=t.chart,e=a(t.options),n=e.interactions,i=e.statistic,o=e.annotations;return Object(h.each)(n,function(t){var e,n;!1===t.enable?r.removeInteraction(t.type):"pie-statistic-active"===t.type?(n=[],null!==(e=t.cfg)&&void 0!==e&&e.start||(n=[{trigger:"element:mouseenter",action:u.a+":change",arg:{statistic:i,annotations:o}}]),Object(h.each)(null===(e=t.cfg)||void 0===e?void 0:e.start,function(t){n.push(Object(l.a)(Object(l.a)({},t),{arg:{statistic:i,annotations:o}}))}),r.interaction(t.type,Object(d.c)({},t.cfg,{start:n}))):r.interaction(t.type,t.cfg||{})}),t}function x(t){return Object(d.f)(Object(o.a)("pieStyle"),y,_,i.k,m,i.d,b,v,i.j,n,O,i.a)(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(3),i=n(13),o=[1,0,0,0,1,0,0,0,1];function a(t,e){e=e?Object(r.d)(e):Object(r.d)(o);return i.h.transform(e,t)}},function(a,t,e){"use strict";e.d(t,"a",function(){return o});var s=e(2),n=e(8),c=e(25),r=e(95),u=(e.d(t,"b",function(){return r.b}),e(83)),l=e(66);function i(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.lineStyle,n=n.point,a=null==n?void 0:n.state,r=Object(u.a)(r),r=(e.data(r),Object(s.c)({},t,{options:{xField:l.c,yField:l.d,line:{color:i,style:o},point:n}})),i=Object(s.c)({},r,{options:{tooltip:!1,state:a}});return Object(c.d)(r),Object(c.e)(i),e.axis(!1),e.legend(!1),t}function o(t){return Object(s.f)(i,r.b,n.k,n.l,n.a,Object(n.b)())(t)}},function(l,t,e){"use strict";e.d(t,"a",function(){return o});var n=e(8),a=e(2),s=e(25),c=e(66),u=e(83),r=e(95);function i(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.columnStyle,n=n.columnWidthRatio,r=Object(u.a)(r),r=(e.data(r),Object(a.c)({},t,{options:{xField:c.c,yField:c.d,widthRatio:n,interval:{style:o,color:i}}}));return Object(s.c)(r),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function o(t){return Object(a.f)(n.k,Object(n.f)("columnStyle"),i,r.b,n.l,n.a,Object(n.b)())(t)}e.d(t,"b",function(){return r.b})},function(l,t,e){"use strict";e.d(t,"b",function(){return o}),e.d(t,"a",function(){return a});var s=e(3),c=e(0),u=e(2),n=e(8),r=e(139);function i(t){var e=t.chart,n=t.options,r=n.innerRadius,n=n.radius;return e.coordinate("theta",{innerRadius:r,radius:n}),t}function o(t,e){var n=t.chart,r=t.options,i=r.innerRadius,o=r.statistic,a=r.percent,r=r.meta;return n.getController("annotation").clear(!0),i&&o&&(i=Object(c.get)(r,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"},r=(r=o.content)&&Object(u.c)({},r,{content:Object(c.isNil)(r.content)?i(a):r.content}),Object(u.w)(n,{statistic:Object(s.a)(Object(s.a)({},o),{content:r}),plotType:"ring-progress"},{percent:a})),e&&n.render(!0),t}function a(t){return Object(u.f)(r.b,Object(n.g)({}),i,o,n.a,n.k,Object(n.b)())(t)}},function(i,t,e){"use strict";e.d(t,"b",function(){return r}),e.d(t,"a",function(){return u});var s=e(3),_=e(0),n=e(8),m=e(25),x=e(60),v=e(2),b=e(63),O=e(143);function o(t){var e=t.chart,n=t.options,r=n.percent,i=n.range,o=n.radius,l=n.innerRadius,h=n.startAngle,d=n.endAngle,f=n.axis,a=n.indicator,p=n.gaugeStyle,g=n.type,y=n.meter,s=i.color,i=i.width,c=(a&&(c=Object(O.a)(r),(u=e.createView({id:b.c})).data(c),u.point().position(b.d+"*1").shape(a.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:a}),u.coordinate("polar",{startAngle:h,endAngle:d,radius:l*o}),u.axis(b.d,f),u.scale(b.d,Object(v.t)(f,x.a))),Object(O.b)(r,n.range)),a=e.createView({id:b.g}),u=(a.data(c),Object(_.isString)(s)?[s,b.a]:s);return Object(m.c)({chart:a,options:{xField:"1",yField:b.f,seriesField:b.e,rawFields:[b.d],isStack:!0,interval:{color:u,style:p,shape:"meter"===g?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:i,maxColumnWidth:i}}).ext.geometry.customInfo({meter:y}),a.coordinate("polar",{innerRadius:l,radius:o,startAngle:h,endAngle:d}).transpose(),t}function a(t){var e;return Object(v.f)(Object(n.g)(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}})[b.d]={},e)))(t)}function r(t,e){var n,r,i=t.chart,o=t.options,a=o.statistic,o=o.percent;return i.getController("annotation").clear(!0),a&&(r=void 0,(n=a.content)&&(r=Object(v.c)({},{content:(100*o).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},n)),Object(v.v)(i,{statistic:Object(s.a)(Object(s.a)({},a),{content:r})},{percent:o})),e&&i.render(!0),t}function c(t){var e=t.chart;return e.legend(!1),e.tooltip(!1),t}function u(t){return Object(v.f)(n.k,n.a,o,a,r,n.c,Object(n.b)(),c)(t)}},function(e,n,r){var m,P,C,A,v,b,O,i,S,a,t,s,c,x;function E(t,e){if(e=e||{},(t=t||"")instanceof E)return t;if(!(this instanceof E))return new E(t,e);c={r:0,g:0,b:0},u=null,y=g=!(p=1),"object"==typeof(n="string"==typeof(n=t)?function(t){t=t.replace(P,"").replace(C,"").toLowerCase();var e,n=!1;if(S[t])t=S[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=x.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=x.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=x.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=x.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=x.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=x.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=x.hex8.exec(t))?{r:M(e[1]),g:M(e[2]),b:M(e[3]),a:z(e[4]),format:n?"name":"hex8"}:(e=x.hex6.exec(t))?{r:M(e[1]),g:M(e[2]),b:M(e[3]),format:n?"name":"hex"}:(e=x.hex4.exec(t))?{r:M(e[1]+""+e[1]),g:M(e[2]+""+e[2]),b:M(e[3]+""+e[3]),a:z(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=x.hex3.exec(t))&&{r:M(e[1]+""+e[1]),g:M(e[2]+""+e[2]),b:M(e[3]+""+e[3]),format:n?"name":"hex"}}(n):n)&&(G(n.r)&&G(n.g)&&G(n.b)?(o=n.r,a=n.g,s=n.b,c={r:255*w(o,255),g:255*w(a,255),b:255*w(s,255)},g=!0,y="%"===String(n.r).substr(-1)?"prgb":"rgb"):G(n.h)&&G(n.s)&&G(n.v)?(u=U(n.s),o=U(n.v),a=n.h,s=u,o=o,a=6*w(a,360),s=w(s,100),o=w(o,100),f=m.floor(a),c={r:255*[o,i=o*(1-(a-=f)*s),r=o*(1-s),r,a=o*(1-(1-a)*s),o][s=f%6],g:255*[a,o,o,i,r,r][s],b:255*[r,r,a,o,o,i][s]},g=!0,y="hsv"):G(n.h)&&G(n.s)&&G(n.l)&&(u=U(n.s),f=U(n.l),r=n.h,i=u,u=f,r=w(r,360),i=w(i,100),u=w(u,100),0===i?l=h=d=u:(l=_(i=2*u-(u=u<.5?u*(1+i):u+i-u*i),u,r+1/3),h=_(i,u,r),d=_(i,u,r-1/3)),c={r:255*l,g:255*h,b:255*d},g=!0,y="hsl"),n.hasOwnProperty("a")&&(p=n.a)),p=N(p);var n,l,h,d,f,r,i,o,a,s,c,p,g,y,u={ok:g,format:n.format||y,r:b(255,O(c.r,0)),g:b(255,O(c.g,0)),b:b(255,O(c.b,0)),a:p};function _(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}this._originalInput=t,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=v(100*this._a)/100,this._format=e.format||u.format,this._gradientType=e.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=u.ok,this._tc_id=A++}function u(t,e,n){t=w(t,255),e=w(e,255),n=w(n,255);var r,i=O(t,e,n),o=b(t,e,n),a=(i+o)/2;if(i==o)r=c=0;else{var s=i-o,c=.5<a?s/(2-i-o):s/(i+o);switch(i){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:c,l:a}}function l(t,e,n){t=w(t,255),e=w(e,255),n=w(n,255);var r,i=O(t,e,n),o=b(t,e,n),a=i,s=i-o,c=0===i?0:s/i;if(i==o)r=0;else{switch(i){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:c,v:a}}function h(t,e,n,r){t=[o(v(t).toString(16)),o(v(e).toString(16)),o(v(n).toString(16))];return r&&t[0].charAt(0)==t[0].charAt(1)&&t[1].charAt(0)==t[1].charAt(1)&&t[2].charAt(0)==t[2].charAt(1)?t[0].charAt(0)+t[1].charAt(0)+t[2].charAt(0):t.join("")}function d(t,e,n,r){return[o(W(r)),o(v(t).toString(16)),o(v(e).toString(16)),o(v(n).toString(16))].join("")}function f(t,e){e=0===e?0:e||10;t=E(t).toHsl();return t.s-=e/100,t.s=F(t.s),E(t)}function p(t,e){e=0===e?0:e||10;t=E(t).toHsl();return t.s+=e/100,t.s=F(t.s),E(t)}function g(t){return E(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;t=E(t).toHsl();return t.l+=e/100,t.l=F(t.l),E(t)}function _(t,e){e=0===e?0:e||10;t=E(t).toRgb();return t.r=O(0,b(255,t.r-v(-e/100*255))),t.g=O(0,b(255,t.g-v(-e/100*255))),t.b=O(0,b(255,t.b-v(-e/100*255))),E(t)}function j(t,e){e=0===e?0:e||10;t=E(t).toHsl();return t.l-=e/100,t.l=F(t.l),E(t)}function D(t,e){t=E(t).toHsl(),e=(t.h+e)%360;return t.h=e<0?360+e:e,E(t)}function T(t){t=E(t).toHsl();return t.h=(t.h+180)%360,E(t)}function I(t){var e=E(t).toHsl(),n=e.h;return[E(t),E({h:(n+120)%360,s:e.s,l:e.l}),E({h:(n+240)%360,s:e.s,l:e.l})]}function k(t){var e=E(t).toHsl(),n=e.h;return[E(t),E({h:(n+90)%360,s:e.s,l:e.l}),E({h:(n+180)%360,s:e.s,l:e.l}),E({h:(n+270)%360,s:e.s,l:e.l})]}function L(t){var e=E(t).toHsl(),n=e.h;return[E(t),E({h:(n+72)%360,s:e.s,l:e.l}),E({h:(n+216)%360,s:e.s,l:e.l})]}function R(t,e,n){e=e||6,n=n||30;var r=E(t).toHsl(),i=360/n,o=[E(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(E(r));return o}function B(t,e){e=e||6;for(var t=E(t).toHsv(),n=t.h,r=t.s,i=t.v,o=[],a=1/e;e--;)o.push(E({h:n,s:r,v:i})),i=(i+a)%1;return o}function N(t){return t=parseFloat(t),t=isNaN(t)||t<0||1<t?1:t}function w(t,e){var n="string"==typeof(t="string"==typeof(n=t)&&-1!=n.indexOf(".")&&1===parseFloat(n)?"100%":t)&&-1!=t.indexOf("%");return t=b(e,O(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),m.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function F(t){return b(1,O(0,t))}function M(t){return parseInt(t,16)}function o(t){return 1==t.length?"0"+t:""+t}function U(t){return t=t<=1?100*t+"%":t}function W(t){return m.round(255*parseFloat(t)).toString(16)}function z(t){return M(t)/255}function G(t){return x.CSS_UNIT.exec(t)}m=Math,P=/^\s+/,C=/\s+$/,A=0,v=m.round,b=m.min,O=m.max,i=m.random,E.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,t=t.b/255;return.2126*(e<=.03928?e/12.92:m.pow((.055+e)/1.055,2.4))+.7152*(n<=.03928?n/12.92:m.pow((.055+n)/1.055,2.4))+.0722*(t<=.03928?t/12.92:m.pow((.055+t)/1.055,2.4))},setAlpha:function(t){return this._a=N(t),this._roundA=v(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=v(360*t.h),n=v(100*t.s),t=v(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+t+"%)":"hsva("+e+", "+n+"%, "+t+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=v(360*t.h),n=v(100*t.s),t=v(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+t+"%)":"hsla("+e+", "+n+"%, "+t+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){var e=this._r,n=this._g,r=this._b,i=this._a;return e=[o(v(e).toString(16)),o(v(n).toString(16)),o(v(r).toString(16)),o(W(i))],t&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)&&e[3].charAt(0)==e[3].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0)+e[3].charAt(0):e.join("")},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(100*w(this._r,255))+"%",g:v(100*w(this._g,255))+"%",b:v(100*w(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+v(100*w(this._r,255))+"%, "+v(100*w(this._g,255))+"%, "+v(100*w(this._b,255))+"%)":"rgba("+v(100*w(this._r,255))+"%, "+v(100*w(this._g,255))+"%, "+v(100*w(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(a[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+d(this._r,this._g,this._b,this._a),n=e;return"progid:DXImageTransform.Microsoft.gradient("+(this._gradientType?"GradientType = 1, ":"")+"startColorstr="+e+",endColorstr="+(n=t?"#"+d((e=E(t))._r,e._g,e._b,e._a):n)+")"},toString:function(t){var e=!!t,n=(t=t||this._format,!1),r=this._a<1&&0<=this._a;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),(n="hsv"===t?this.toHsvString():n)||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return E(this.toString())},_applyModification:function(t,e){t=t.apply(null,[this].concat([].slice.call(e)));return this._r=t._r,this._g=t._g,this._b=t._b,this.setAlpha(t._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(j,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(D,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(L,arguments)},triad:function(){return this._applyCombination(I,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},E.fromRatio=function(t,e){if("object"==typeof t){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:U(t[n]));t=r}return E(t,e)},E.equals=function(t,e){return!(!t||!e)&&E(t).toRgbString()==E(e).toRgbString()},E.random=function(){return E.fromRatio({r:i(),g:i(),b:i()})},E.mix=function(t,e,n){n=0===n?0:n||50;t=E(t).toRgb(),e=E(e).toRgb(),n/=100;return E({r:(e.r-t.r)*n+t.r,g:(e.g-t.g)*n+t.g,b:(e.b-t.b)*n+t.b,a:(e.a-t.a)*n+t.a})},E.readability=function(t,e){t=E(t),e=E(e);return(m.max(t.getLuminance(),e.getLuminance())+.05)/(m.min(t.getLuminance(),e.getLuminance())+.05)},E.isReadable=function(t,e,n){var r=E.readability(t,e),i=!1;switch(e=((t=(t=n)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),t=(t.size||"small").toLowerCase(),(n={level:e="AA"!==e&&"AAA"!==e?"AA":e,size:t="small"!==t&&"large"!==t?"small":t}).level+n.size){case"AAsmall":case"AAAlarge":i=4.5<=r;break;case"AAlarge":i=3<=r;break;case"AAAsmall":i=7<=r}return i},E.mostReadable=function(t,e,n){for(var r,i=null,o=0,a=(n=n||{}).includeFallbackColors,s=n.level,c=n.size,u=0;u<e.length;u++)(r=E.readability(t,e[u]))>o&&(o=r,i=E(e[u]));return E.isReadable(t,i,{level:s,size:c})||!a?i:(n.includeFallbackColors=!1,E.mostReadable(t,["#fff","#000"],n))},S=E.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},a=E.hexNames=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}(S),s="[\\s|\\(]+("+(t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",c="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",x={CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},e.exports?e.exports=E:void 0===(t=function(){return E}.call(n,r,n,e))||(e.exports=t)},function(t,e,n){t.exports={EPSILON:n(337),create:n(338),clone:n(522),fromValues:n(523),copy:n(524),set:n(339),equals:n(525),exactEquals:n(526),add:n(340),subtract:n(236),sub:n(527),multiply:n(341),mul:n(528),divide:n(342),div:n(529),inverse:n(530),min:n(531),max:n(532),rotate:n(533),floor:n(534),ceil:n(535),round:n(536),scale:n(537),scaleAndAdd:n(538),distance:n(343),dist:n(539),squaredDistance:n(344),sqrDist:n(540),length:n(345),len:n(541),squaredLength:n(346),sqrLen:n(542),negate:n(543),normalize:n(347),dot:n(348),cross:n(544),lerp:n(545),random:n(546),transformMat2:n(547),transformMat2d:n(548),transformMat3:n(549),transformMat4:n(550),forEach:n(551),limit:n(552)}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t,n){var e=t.nodes,t=t.edges,r=[],i={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(t,e){i[t.id]=e,r.push([])}),t&&t.forEach(function(t){var e=t.source,t=t.target,e=i[e],t=i[t];!e&&0!==e||!t&&0!==t||(r[e][t]=1,n||(r[t][e]=1))}),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORCE_LAYOUT_TYPE_MAP=e.LAYOUT_MESSAGE=void 0,e.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},e.FORCE_LAYOUT_TYPE_MAP={gForce:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},function(t,e,n){"use strict";var r=n(74);n.d(e,"gl",function(){return r.a}),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334)},function(t,e,n){"use strict";function r(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){return"[Event (type="+this.type+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},e.a=r},function(t,e,n){"use strict";var r,i=n(90),o=n(112),a=n(39),n=(r=o.a,Object(i.a)(s,r),s.prototype.getDefaultCfg=function(){return{}},s.prototype.get=function(t){return this.cfg[t]},s.prototype.set=function(t,e){this.cfg[t]=e},s.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},s);function s(t){var e=r.call(this)||this,n=(e.destroyed=!1,e.getDefaultCfg());return e.cfg=Object(a.i)(n,t),e}e.a=n},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=null;function i(){var t;return r||((t=document.createElement("canvas")).width=1,t.height=1,r=t.getContext("2d")),r}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(36);function r(t,e,n){var r=new o.Event(e,n);r.target=t,r.propagationPath.push(t),t.emitDelegation(e,r);for(var i=t.getParent();i;)i.emitDelegation(e,r),r.propagationPath.push(i),i=i.getParent()}},function(t,e,n){"use strict";function r(n,t){var r={};return null!==n&&"object"==typeof n&&t.forEach(function(t){var e=n[t];void 0!==e&&(r[t]=e)}),r}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});function r(t,e){return i.call(t)==="[object "+e+"]"}var i={}.toString,a=function(t){return r(t,"Array")},s=function(t){if("object"!=typeof t||null===t||!r(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},c=function(t,e,n,r){for(var i in n=n||0,r=r||5,e){var o;Object.prototype.hasOwnProperty.call(e,i)&&((o=e[i])?s(o)?(s(t[i])||(t[i]={}),n<r?c(t[i],o,n+1,r):t[i]=e[i]):a(o)?(t[i]=[],t[i]=t[i].concat(o)):t[i]=o:t[i]=o)}},o=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)c(t,e[r]);return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n(0);var r={locale:"en-US"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n(3),u=n(57),l=n(2),h=n(49);function r(t){var e=t.options,n=e.point,r=e.xField,i=e.yField,o=e.seriesField,a=e.sizeField,s=e.shapeField,e=e.tooltip,e=Object(u.a)(e,[r,i,o,a,s]),r=e.fields,i=e.formatter;return n?Object(h.a)(Object(l.c)({},t,{options:{type:"point",colorField:o,shapeField:s,tooltipFields:r,mapping:Object(c.a)({tooltip:i},n)}})):t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=n(3),s=n(57),c=n(2),u=n(49);function r(t){var e=t.options,n=e.polygon,r=e.xField,i=e.yField,o=e.seriesField,e=e.tooltip,e=Object(s.a)(e,[r,i,o]),r=e.fields,i=e.formatter;return n?Object(u.a)(Object(c.c)({},t,{options:{type:"polygon",colorField:o,tooltipFields:r,mapping:Object(a.a)({tooltip:i},n)}})):t}},function(l,t,e){"use strict";e.d(t,"a",function(){return h});var n,t=e(3),i=e(13),r=e(19),o=e(2),a=e(155),s=e(214),c=e(118),h=(e(241),n=r.b,Object(t.b)(u,n),u.getDefaultOptions=function(){return s.a},u.prototype.changeData=function(t){this.chart.emit(i.i.BEFORE_CHANGE_DATA,i.d.fromData(this.chart,i.i.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,e=Object(o.u)(e.data,n),r=Object(o.u)(t,n);Object(c.c)(e,n)||Object(c.c)(r,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(r),Object(a.b)({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(i.i.AFTER_CHANGE_DATA,i.d.fromData(this.chart,i.i.AFTER_CHANGE_DATA,null))},u.prototype.getDefaultOptions=function(){return u.getDefaultOptions()},u.prototype.getSchemaAdaptor=function(){return a.a},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="pie",t}},function(u,t,e){"use strict";e.d(t,"a",function(){return s});var n,t=e(3),r=e(19),i=e(157),o=e(66),a=e(83),s=(n=r.b,Object(t.b)(c,n),c.getDefaultOptions=function(){return o.a},c.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;Object(i.b)({chart:e,options:n}),e.changeData(Object(a.a)(t))},c.prototype.getDefaultOptions=function(){return c.getDefaultOptions()},c.prototype.getSchemaAdaptor=function(){return i.a},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tiny-line",t}},function(u,t,e){"use strict";e.d(t,"a",function(){return s});var n,t=e(3),r=e(19),o=e(215),i=e(216),a=e(91),s=(n=r.b,Object(t.b)(c,n),c.getDefaultOptions=function(){return a.a},c.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,r=e.binNumber,i=e.binWidth,e=e.stackField;this.chart.changeData(Object(o.a)(t,n,i,r,e))},c.prototype.getDefaultOptions=function(){return c.getDefaultOptions()},c.prototype.getSchemaAdaptor=function(){return i.a},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="histogram",t}},function(u,t,e){"use strict";e.d(t,"a",function(){return s});var n,t=e(3),r=e(19),i=e(139),o=e(217),a=e(140),s=(n=r.b,Object(t.b)(c,n),c.getDefaultOptions=function(){return o.b},c.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(Object(a.a)(t))},c.prototype.getDefaultOptions=function(){return c.getDefaultOptions()},c.prototype.getSchemaAdaptor=function(){return i.a},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="process",t}},function(r,t,e){"use strict";e.d(t,"b",function(){return n});var d=e(220),f=e(181);function p(t,e,n){var r,i,o,a,s=t.x-e.x,c=t.y-e.y,u=s*s+c*c;u?(i=e.r+n.r,a=t.r+n.r,(i*=i)>(a*=a)?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=t.x-r*s-o*c,n.y=t.y-r*c+o*s):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*s-o*c,n.y=e.y+r*c+o*s)):(n.x=e.x+n.r,n.y=e.y)}function g(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,e=e.y-t.y;return 0<n&&r*r+e*e<n*n}function y(t){var e=t._,t=t.next._,n=e.r+t.r,r=(e.x*t.r+t.x*e.r)/n,t=(e.y*t.r+t.y*e.r)/n;return r*r+t*t}function _(t){this._=t,this.next=null,this.previous=null}function n(t){if(!(i=(t=Object(d.a)(t)).length))return 0;var e,n,r,i,o,l,a,s,c,u,h;if((e=t[0]).x=0,e.y=0,!(1<i))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<i))return e.r+n.r;p(n,e,r=t[2]),e=new _(e),n=new _(n),r=new _(r),((e.next=r.previous=n).next=e.previous=r).next=n.previous=e;t:for(a=3;a<i;++a){p(e._,n._,r=t[a]),r=new _(r),s=n.next,c=e.previous,u=n._.r,h=e._.r;do{if(u<=h){if(g(s._,r._)){n=s,(e.next=n).previous=e,--a;continue t}u+=s._.r,s=s.next}else{if(g(c._,r._)){((e=c).next=n).previous=e,--a;continue t}h+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=y(e);(r=r.next)!==n;)(l=y(r))<o&&(e=r,o=l);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Object(f.a)(e),a=0;a<i;++a)(e=t[a]).x-=r.x,e.y-=r.y;return r.r}t.a=function(t){return n(t),t}},function(t,e,n){"use strict";var a=n(220);function s(t,e){var n=t.r-e.r,r=e.x-t.x,e=e.y-t.y;return n<0||n*n<r*r+e*e}function c(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,e=e.y-t.y;return 0<n&&r*r+e*e<n*n}function u(t,e){for(var n=0;n<e.length;++n)if(!c(t,e[n]))return;return 1}function l(t,e){var n=t.x,r=t.y,t=t.r,i=e.x,o=e.y,e=e.r,a=i-n,s=o-r,c=e-t,u=Math.sqrt(a*a+s*s);return{x:(n+i+a/u*c)/2,y:(r+o+s/u*c)/2,r:(u+t+e)/2}}function h(t,e,n){var r=t.x,i=t.y,t=t.r,o=e.x,a=e.y,e=e.r,s=n.x,c=n.y,n=n.r,l=r-o,h=r-s,u=i-a,d=i-c,f=e-t,p=n-t,g=r*r+i*i-t*t,o=g-o*o-a*a+e*e,a=g-s*s-c*c+n*n,e=h*u-l*d,g=(u*a-d*o)/(2*e)-r,s=(d*f-u*p)/e,c=(h*o-l*a)/(2*e)-i,n=(l*p-h*f)/e,d=s*s+n*n-1,u=2*(t+g*s+c*n),o=g*g+c*c-t*t,a=-(d?(u+Math.sqrt(u*u-4*d*o))/(2*d):o/u);return{x:r+g+s*a,y:i+c+n*a,r:a}}e.a=function(t){for(var e,n,r=0,i=(t=Object(a.b)(Array.from(t))).length,o=[];r<i;)e=t[r],n&&c(n,e)?++r:(n=function(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return l(t[0],t[1]);case 3:return h(t[0],t[1],t[2])}var e}(o=function(t,e){var n,r;if(u(e,t))return[e];for(n=0;n<t.length;++n)if(s(e,t[n])&&u(l(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(s(l(t[n],t[r]),e)&&s(l(t[n],e),t[r])&&s(l(t[r],e),t[n])&&u(h(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}(o,e)),r=0);return n}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=-1,i=1;function o(){return i++}},function(l,t,e){"use strict";e.d(t,"a",function(){return _});var n,r,h,d,t=e(21),f=e.n(t),t=e(28),t=e.n(t),i=e(22),p=e.n(i),i=e(16),g=e.n(i),i=e(17),i=e.n(i),o=e(23),o=e.n(o),a=(e(58),e(15)),y=e(5),s=e(26),c=e(74),_=(e=Object(a.injectable)(),n=Object(a.inject)(s.a.GeometryComponentManager),a=Object(a.inject)(s.a.RenderEngine),e((i()(u,[{key:"execute",value:(d=t()(f.a.mark(function t(){var n=this;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.geometry.forEach(function(t,e){e.dirty&&(e.attributes.forEach(function(t){var e;t.dirty&&t.data&&(t.buffer?null===(e=t.buffer)||void 0===e||e.subData({data:t.data,offset:0}):t.buffer=n.engine.createBuffer({data:t.data,type:c.a.FLOAT}),t.dirty=!1)}),e.indices&&(e.indicesBuffer?e.indicesBuffer.subData({data:e.indices,offset:0}):e.indicesBuffer=n.engine.createElements({data:e.indices,count:e.indices.length,type:c.a.UNSIGNED_INT,usage:c.a.STATIC_DRAW})),e.dirty=!1)});case 1:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)})},{key:"tearDown",value:function(){this.geometry.forEach(function(t,e){e.indicesBuffer&&e.indicesBuffer.destroy(),e.attributes.forEach(function(t){t.buffer&&t.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{vertexCount:3}).vertexCount,e=Object(y.createEntity)();return this.geometry.create(e,{vertexCount:t})}},{key:"createInstancedBufferGeometry",value:function(t){var e=t.maxInstancedCount,t=t.vertexCount,n=Object(y.createEntity)();return this.geometry.create(n,{maxInstancedCount:e,vertexCount:t})}}]),s=u,r=o()(s.prototype,"geometry",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=o()(s.prototype,"engine",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e=s))||e);function u(){g()(this,u),p()(this,"geometry",r,this),p()(this,"engine",h,this)}},function(n,t,e){"use strict";e.d(t,"a",function(){return o});var t=e(14),r=e.n(t),t=e(16),a=e.n(t),t=e(17),s=e.n(t),t=e(41),c=e.n(t),t=e(46),u=e.n(t),t=e(47),d=e.n(t),t=e(33),l=e.n(t),f=e(5);function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o=function(t){u()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=l()(n);return t=r?(t=l()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),d()(this,t)};function o(t){var e;return a()(this,o),(e=i.call(this,t)).vertexShaderGLSL=void 0,e.fragmentShaderGLSL=void 0,e.defines={},e.dirty=!0,e.uniforms=[],e.cull={enable:!0,face:f.gl.BACK},e.depth={enable:!0},e.blend=void 0,e.entity=void 0,e.type=void 0,Object.assign(c()(e),t),e}return s()(o,[{key:"setDefines",value:function(t){return this.defines=h(h({},this.defines),t),this}},{key:"setCull",value:function(t){return this.cull=t,this}},{key:"setDepth",value:function(t){return this.depth=t,this}},{key:"setBlend",value:function(t){return this.blend=t,this}},{key:"setUniform",value:function(e,t){var n=this;if("string"!=typeof e)return Object.keys(e).forEach(function(t){return n.setUniform(t,e[t])}),this;var r=this.uniforms.find(function(t){return t.name===e});return r?(r.dirty=!0,r.data=t):this.uniforms.push({name:e,dirty:!0,data:t}),this.dirty=!0,this}}]),o}(e(52).a)},function(l,t,e){"use strict";e.d(t,"a",function(){return O});var n,r,i,h,d,f,t=e(14),p=e.n(t),t=e(21),g=e.n(t),t=e(28),t=e.n(t),o=e(22),a=e.n(o),o=e(16),y=e.n(o),o=e(17),o=e.n(o),s=e(23),s=e.n(s),c=(e(58),e(15)),_=e(5),e=e(26);function m(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){p()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}i=Object(c.injectable)(),n=Object(c.inject)(e.a.MaterialComponentManager),r=Object(c.inject)(e.a.RenderEngine),c=Object(c.inject)(e.a.ShaderModuleService);var b,O=i((o()(u,[{key:"execute",value:(b=t()(g.a.mark(function t(){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})),function(){return b.apply(this,arguments)})},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(t){var e,n,r=Object(_.createEntity)(),i=t.vertexShader,o=t.fragmentShader,a=[];return this.engine.supportWebGPU||(e="material-".concat(r),this.shaderModule.registerModule(e,{vs:t.vertexShader,fs:t.fragmentShader}),i=(n=this.shaderModule.getModule(e)).vs,o=n.fs,n.uniforms&&(a=Object.keys(n.uniforms).map(function(t){return{dirty:!0,name:t,data:n.uniforms[t]}}))),this.material.create(r,v(v({vertexShaderGLSL:i,fragmentShaderGLSL:o},t),{},{uniforms:a}))}}]),e=u,h=s()(e.prototype,"material",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=s()(e.prototype,"engine",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=s()(e.prototype,"shaderModule",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=e))||i;function u(){y()(this,u),a()(this,"material",h,this),a()(this,"engine",d,this),a()(this,"shaderModule",f,this)}},function(r,t,e){"use strict";e.d(t,"a",function(){return n});var a,t=e(16),s=e.n(t),t=e(41),c=e.n(t),t=e(46),u=e.n(t),t=e(47),l=e.n(t),t=e(33),h=e.n(t),t=e(52);a=a||{},a[a.Standard=0]="Standard";var n=function(t){u()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=h()(n);return t=r?(t=h()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),l()(this,t)};function o(t){var e;return s()(this,o),(e=i.call(this,t)).strategy=a.Standard,e.visibilityPlaneMask=0,e.visible=!1,Object.assign(c()(e),t),e}return o}(t.a)},function(r,t,e){"use strict";e.d(t,"a",function(){return n});var t=e(16),a=e.n(t),t=e(41),s=e.n(t),t=e(46),c=e.n(t),t=e(47),u=e.n(t),t=e(33),l=e.n(t),t=e(52),h=e(136);var n=function(t){c()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=l()(n);return t=r?(t=l()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),u()(this,t)};function o(t){var e;return a()(this,o),(e=i.call(this,t)).material=void 0,e.geometry=void 0,e.aabb=new h.a,e.aabbDirty=!0,e.model=void 0,e.visible=!0,e.children=[],Object.assign(s()(e),t),e}return o}(t.a)},function(c,t,e){"use strict";e.d(t,"a",function(){return O});var u,l,h,d,f,p,g,y,_,t=e(21),M=e.n(t),t=e(28),t=e.n(t),n=e(22),r=e.n(n),n=e(16),m=e.n(n),n=e(17),n=e.n(n),i=e(23),i=e.n(i),E=(e(58),e(4)),o=e(15),a=e(26),w=e(107),P=e(225);function C(t,e){var n,r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return v(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?v(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e=Object(o.injectable)(),u=Object(o.inject)(a.a.MeshComponentManager),l=Object(o.inject)(a.a.CullableComponentManager),h=Object(o.inject)(a.a.GeometryComponentManager),d=Object(o.inject)(a.a.HierarchyComponentManager),o=Object(o.inject)(a.a.TransformComponentManager);var b,O=e((n()(s,[{key:"setFrustumPlanes",value:function(t){this.planes=t}},{key:"execute",value:(b=t()(M.a.mark(function t(h){var e,d,n,f,p,r,g,i,o,a,s,c,u,l,y,_,m,v,b,O,x;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=C(h);try{for(e.s();!(d=e.n()).done;){n=d.value,f=n.getScene(),p=n.getCamera(),r=C(f.getEntities());try{for(r.s();!(g=r.n()).done;)i=g.value,(o=this.mesh.getComponentByEntity(i))&&(a=this.hierarchy.getComponentByEntity(i),s=this.cullable.getComponentByEntity(i),c=o.geometry,u=this.transform.getComponentByEntity(i),c&&c.aabb&&u&&o.aabbDirty&&(l=u.worldTransform,y=c.aabb,_=y.center,m=y.halfExtents,v=E.e.transformMat4(E.e.create(),_,l),b=Object(P.b)(l,E.a.create()),O=E.e.transformMat3(E.e.create(),m,b),o.aabb.update(v,O),o.aabbDirty=!1),s&&c&&(x=this.cullable.getComponentByEntity((null==a?void 0:a.parentID)||-1),s.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(o.aabb,(null==x?void 0:x.visibilityPlaneMask)||w.b.INDETERMINATE,this.planes||p.getFrustum().planes),s.visible=s.visibilityPlaneMask!==w.b.OUTSIDE))}catch(t){r.e(t)}finally{r.f()}}}catch(t){e.e(t)}finally{e.f()}case 2:case"end":return t.stop()}},t,this)})),function(t){return b.apply(this,arguments)})},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(t,e,n){if(e===w.b.OUTSIDE||e===w.b.INSIDE)return e;for(var r=w.b.INSIDE,i=0,o=n.length;i<o;++i){var a=i<31?1<<i:0;if(!(i<31&&0==(e&a))){var s=n[i],c=s.normal,s=s.distance;if(0<E.e.dot(c,t.getNegativeFarPoint(n[i]))+s)return w.b.OUTSIDE;0<E.e.dot(c,t.getPositiveFarPoint(n[i]))+s&&(r|=a)}}return r}}]),a=s,f=i()(a.prototype,"mesh",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=i()(a.prototype,"cullable",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=i()(a.prototype,"geometry",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i()(a.prototype,"hierarchy",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i()(a.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e=a))||e;function s(){m()(this,s),r()(this,"mesh",f,this),r()(this,"cullable",p,this),r()(this,"geometry",g,this),r()(this,"hierarchy",y,this),r()(this,"transform",_,this),this.planes=void 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var e=n(16),r=n.n(e),e=n(17),e=n.n(e),o=n(4),i=(e()(a,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(0<=this.normal[0])<<8)+(Number(0<=this.normal[1])<<4)+Number(0<=this.normal[2])}},{key:"distanceToPoint",value:function(t){return o.e.dot(t,this.normal)-this.distance}},{key:"normalize",value:function(){var t=1/o.e.len(this.normal);o.e.scale(this.normal,this.normal,t),this.distance*=t}},{key:"intersectsLine",value:function(t,e,n){var r=this.distanceToPoint(t),r=r/(r-this.distanceToPoint(e)),i=0<=r&&r<=1;return i&&n&&o.e.lerp(n,t,e,r),i}}]),a);function a(t,e){r()(this,a),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=e||o.e.fromValues(0,1,0),this.updatePNVertexFlag()}},function(l,t,e){"use strict";e.d(t,"a",function(){return E});var n,r,h,d,f,p,g,y,_,t=e(21),m=e.n(t),t=e(28),t=e.n(t),i=e(22),o=e.n(i),i=e(16),v=e.n(i),i=e(17),i=e.n(i),a=e(23),a=e.n(a),s=(e(58),e(15)),c=e(26),b=e(144),O=e(126),x=e(102),E=(e=Object(s.injectable)(),n=Object(s.inject)(c.a.Systems),r=Object(s.named)(c.a.FrameGraphSystem),h=Object(s.inject)(c.a.RenderPassFactory),d=Object(s.inject)(c.a.ConfigService),s=Object(s.inject)(c.a.ResourcePool),e((i()(u,[{key:"execute",value:(_=t()(m.a.mark(function t(e){var n,r,i;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.renderPassFactory(x.a.IDENTIFIER),r=i.setup,i=i.execute,this.frameGraphSystem.addPass(x.a.IDENTIFIER,r,i),r=this.renderPassFactory(b.a.IDENTIFIER),i=r.setup,n=r.execute,r=r.tearDown,i=this.frameGraphSystem.addPass(b.a.IDENTIFIER,i,n,r),this.frameGraphSystem.present(i.data.output);case 5:case"end":return t.stop()}},t,this)})),function(t){return _.apply(this,arguments)})},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(t,e){return this.renderPassFactory(O.a.IDENTIFIER).pick(t,e)}}]),c=u,f=a()(c.prototype,"frameGraphSystem",[n,r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=a()(c.prototype,"renderPassFactory",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=a()(c.prototype,"configService",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=a()(c.prototype,"resourcePool",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e=c))||e);function u(){v()(this,u),o()(this,"frameGraphSystem",f,this),o()(this,"renderPassFactory",p,this),o()(this,"configService",g,this),o()(this,"resourcePool",y,this)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var e=n(16),a=n.n(e),e=n(41),s=n.n(e),e=n(46),c=n.n(e),e=n(47),u=n.n(e),e=n(33),l=n.n(e);var r=function(t){c()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=l()(n);return t=r?(t=l()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),u()(this,t)};function o(t){var e;return a()(this,o),(e=i.call(this,t)).parentID=void 0,Object.assign(s()(e),t),e}return o}(n(52).a)},function(l,t,e){"use strict";e.d(t,"a",function(){return m});var n,r,i,h,d,f,p,t=e(21),g=e.n(t),t=e(28),t=e.n(t),o=e(22),a=e.n(o),o=e(16),y=e.n(o),o=e(17),o=e.n(o),s=e(23),s=e.n(s),_=(e(58),e(4)),c=e(15),e=e(26),m=(i=Object(c.injectable)(),n=Object(c.inject)(e.a.HierarchyComponentManager),r=Object(c.inject)(e.a.TransformComponentManager),c=Object(c.inject)(e.a.MeshComponentManager),i((o()(u,[{key:"execute",value:(p=t()(g.a.mark(function t(){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return t.stop()}},t,this)})),function(){return p.apply(this,arguments)})},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var n=this;this.transform.forEach(function(t,e){(e.isDirty()||e.isLocalDirty())&&(n.setMeshAABBDirty(n.mesh.getComponentByEntity(t)),e.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var n=this;this.hierarchy.forEach(function(t,e){t=n.transform.getComponentByEntity(t),e=n.transform.getComponentByEntity(e.parentID);null!==t&&null!==e&&t.updateTransformWithParent(e)})}},{key:"attach",value:function(t,e,n){this.hierarchy.contains(t)&&this.detach(t),this.hierarchy.create(t,{parentID:e});var r=this.mesh.getComponentByEntity(e);if(this.setMeshAABBDirty(r),r&&-1===r.children.indexOf(t)&&r.children.push(t),1<this.hierarchy.getCount())for(var i=this.hierarchy.getCount()-1;0<i;--i)for(var o=this.hierarchy.getEntity(i),a=0;a<i;++a)if(this.hierarchy.getComponent(a).parentID===o){this.hierarchy.moveItem(i,a),++i;break}this.hierarchy.getComponentByEntity(t);var r=this.transform.getComponentByEntity(e),s=(null===r&&(r=this.transform.create(e)),this.transform.getComponentByEntity(t));null===s&&(s=this.transform.create(t),r=this.transform.getComponentByEntity(e)),s.parent=r,!n&&r&&(s.matrixTransform(_.b.invert(_.b.create(),r.worldTransform)),s.updateTransform()),r&&s.updateTransformWithParent(r)}},{key:"detach",value:function(t){var e,n=this.hierarchy.getComponentByEntity(t);null!==n&&(null!==(e=this.transform.getComponentByEntity(t))&&(e.parent=null,e.applyTransform()),this.hierarchy.removeKeepSorted(t),(e=this.mesh.getComponentByEntity(n.parentID))&&(n=e.children.indexOf(t),e.children.splice(n,1)),this.setMeshAABBDirty(e))}},{key:"detachChildren",value:function(t){var e=this.mesh.getComponentByEntity(t);e&&(e.children=[]);for(var n,r=0;r<this.hierarchy.getCount();)(null===(n=this.hierarchy.getComponent(r))||void 0===n?void 0:n.parentID)===t?(n=this.hierarchy.getEntity(r),this.detach(n)):++r}},{key:"setMeshAABBDirty",value:function(t){t&&(t.aabbDirty=!0)}}]),e=u,h=s()(e.prototype,"hierarchy",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=s()(e.prototype,"transform",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=s()(e.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=e))||i);function u(){y()(this,u),a()(this,"hierarchy",h,this),a()(this,"transform",d,this),a()(this,"mesh",f,this)}},function(r,t,e){"use strict";e.d(t,"a",function(){return n});var t=e(16),m=e.n(t),t=e(17),i=e.n(t),t=e(41),v=e.n(t),t=e(46),o=e.n(t),t=e(47),a=e.n(t),t=e(33),s=e.n(t),b=e(4);var n=function(t){o()(_,t);n=_,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,y=function(){var t,e=s()(n);return t=r?(t=s()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),a()(this,t)};function _(t){var r,e,i,o,a,s,c,h,d,f,p,g,n,u,l;return m()(this,_),(r=y.call(this,t)).dirtyFlag=void 0,r.localDirtyFlag=void 0,r.parent=null,r.localPosition=b.e.fromValues(0,0,0),r.localRotation=b.c.fromValues(0,0,0,1),r.localScale=b.e.fromValues(1,1,1),r.localTransform=b.b.create(),r.position=b.e.fromValues(0,0,0),r.rotation=b.c.fromValues(0,0,0,1),r.scaling=b.e.fromValues(1,1,1),r.worldTransform=b.b.create(),r.matrixTransform=(e=b.b.create(),function(t){b.b.multiply(e,r.getLocalTransform(),t),b.b.getScaling(r.localScale,e),b.b.getTranslation(r.localPosition,e),b.b.getRotation(r.localRotation,e)}),r.rotateRollPitchYaw=(i=b.c.create(),o=b.c.create(),a=b.c.create(),function(t,e,n){r.setDirty(),b.c.fromEuler(i,t,0,0),b.c.fromEuler(o,0,e,0),b.c.fromEuler(a,0,0,n),b.c.multiply(r.localRotation,i,r.localRotation),b.c.multiply(r.localRotation,r.localRotation,o),b.c.multiply(r.localRotation,a,r.localRotation),b.c.normalize(r.localRotation,r.localRotation)}),r.lerp=(s=b.e.create(),c=b.c.create(),h=b.e.create(),d=b.e.create(),f=b.c.create(),p=b.e.create(),function(t,e,n){r.setDirty(),b.b.getScaling(s,t.worldTransform),b.b.getTranslation(h,t.worldTransform),b.b.getRotation(c,t.worldTransform),b.b.getScaling(d,e.worldTransform),b.b.getTranslation(p,e.worldTransform),b.b.getRotation(f,e.worldTransform),b.e.lerp(r.localScale,s,d,n),b.c.slerp(r.localRotation,c,f,n),b.e.lerp(r.localPosition,h,p,n)}),r.translate=(g=b.e.create(),function(t){return b.e.add(g,r.getPosition(),t),r.setPosition(g),r.setDirty(!0),v()(r)}),r.translateLocal=function(t){return b.e.transformQuat(t,t,r.localRotation),b.e.add(r.localPosition,r.localPosition,t),r.setLocalDirty(!0),v()(r)},r.setPosition=(n=b.b.create(),function(t){return r.position=t,r.setLocalDirty(!0),null===r.parent?b.e.copy(r.localPosition,t):(b.b.copy(n,r.parent.worldTransform),b.b.invert(n,n),b.e.transformMat4(r.localPosition,t,n)),v()(r)}),r.rotate=(u=b.c.create(),function(t){var e,n;return null===r.parent?b.c.multiply(r.localRotation,r.localRotation,t):(e=r.getRotation(),n=r.parent.getRotation(),b.c.copy(u,n),b.c.invert(u,u),b.c.multiply(u,u,t),b.c.multiply(r.localRotation,t,e)),b.c.normalize(r.localRotation,r.localRotation),r.setLocalDirty(),v()(r)}),r.rotateLocal=function(t){return b.c.multiply(r.localRotation,r.localRotation,t),b.c.normalize(r.localRotation,r.localRotation),r.setLocalDirty(!0),v()(r)},r.setRotation=(l=b.c.create(),function(t){return null===r.parent?b.c.copy(r.localRotation,t):(b.c.copy(l,r.parent.getRotation()),b.c.invert(l,l),b.c.copy(r.localRotation,l),b.c.mul(r.localRotation,r.localRotation,t)),r.setLocalDirty(!0),v()(r)}),r}return i()(_,[{key:"setLocalPosition",value:function(t){b.e.copy(this.localPosition,t),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(t){b.e.copy(this.localScale,t),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(t){return b.c.copy(this.localRotation,t),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?this.dirtyFlag|=_.DIRTY:this.dirtyFlag&=~_.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?(this.localDirtyFlag|=_.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~_.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&null===this.parent&&(b.b.copy(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(t){b.b.multiply(this.worldTransform,t.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),b.b.getScaling(this.localScale,this.worldTransform),b.b.getTranslation(this.localPosition,this.worldTransform),b.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=b.e.fromValues(0,0,0),this.localRotation=b.c.fromValues(0,0,0,1),this.localScale=b.e.fromValues(1,1,1)}},{key:"scaleLocal",value:function(t){return this.setLocalDirty(),b.e.multiply(this.localScale,this.localScale,t),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(b.b.fromRotationTranslationScale(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return(this.isLocalDirty()||this.isDirty())&&(this.parent&&this.parent.getWorldTransform(),this.updateTransform()),this.worldTransform}},{key:"getPosition",value:function(){return b.b.getTranslation(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return b.b.getRotation(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return b.b.getScaling(this.scaling,this.worldTransform),this.scaling}}]),_}(e(52).a);n.DIRTY=1},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var e=n(16),r=n.n(e),e=n(17),e=n.n(e),n=n(15),i=Object(n.injectable)()((e()(o,[{key:"get",value:function(){return this.config}},{key:"set",value:function(t){this.config=t}}]),n=o))||n;function o(){r()(this,o),this.config=void 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var e=n(16),r=n.n(e),e=n(17),e=n.n(e),n=n(15),i=(0,Object(n.injectable)()((e()(o,[{key:"listen",value:function(t){}},{key:"on",value:function(t,e){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),n=o))||n);function o(){r()(this,o)}},function(c,t,e){"use strict";e.d(t,"a",function(){return M});function u(){a()(this,u),this.index=void 0}function l(){a()(this,l),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0}var t=e(115),g=e.n(t),t=e(21),p=e.n(t),t=e(28),r=e.n(t),t=e(22),h=e.n(t),t=e(16),a=e.n(t),t=e(17),s=e.n(t),t=e(23),t=e.n(t),n=(e(58),e(15)),i=e(26),d=(s()(m,[{key:"read",value:function(e){return this.reads.find(function(t){return t.index===e.index})||this.reads.push(e),e}},{key:"sample",value:function(t){return this.read(t),t}},{key:"write",value:function(t,e){if(this.writes.find(function(t){return t.index===e.index}))return e;var n=t.getResourceNode(e),n=(n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0),t.createResourceNode(n.resource));return(t.getResourceNode(n).writer=this).writes.push(n),n}}]),m),o=e(46),f=e.n(o),o=e(47),y=e.n(o),o=e(33),_=e.n(o);function m(){a()(this,m),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}function v(){a()(this,v),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0}var b,O=function(t){f()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=_()(n);return t=r?(t=_()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),y()(this,t)};function o(){var t;a()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).version=0,t.refs=0,t.name=void 0,t.imported=void 0,t.priority=void 0,t.discardStart=!0,t.discardEnd=!1,t.descriptor=void 0,t.resource=void 0,t}return s()(o,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),o}(function t(){a()(this,t),this.first=void 0,this.last=void 0});function j(t,e){var n,r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return x(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?x(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e=Object(n.injectable)(),o=Object(n.inject)(i.a.RenderEngine);var E,w,M=e((s()(P,[{key:"execute",value:(w=r()(p.a.mark(function t(e){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.compile(),t.next=3,this.executePassNodes(e);case 3:case"end":return t.stop()}},t,this)})),function(t){return w.apply(this,arguments)})},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(t){t.tearDown&&t.tearDown()}),this.reset()}},{key:"addPass",value:function(t,e,n,r){var i=new l,n=(i.execute=n,r&&(i.tearDown=r),i.name=t,new d);return n.name=t,this.passNodes.push(n),this.frameGraphPasses.push(i),e(this,n,i),i}},{key:"getPass",value:function(e){return this.frameGraphPasses.find(function(t){return t.name===e})}},{key:"compile",value:function(){var t,l=this,e=j(this.passNodes);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.refCount=n.writes.length+(n.hasSideEffect?1:0),n.reads.forEach(function(t){l.resourceNodes[t.index].readerCount++})}}catch(t){e.e(t)}finally{e.f()}var h,r=[],i=j(this.resourceNodes);try{for(i.s();!(h=i.n()).done;){var d=h.value;0===d.readerCount&&r.push(d)}}catch(t){i.e(t)}finally{i.f()}for(;r.length;){var o=r.pop(),o=o&&o.writer;if(o&&0==--o.refCount){var f,a=j(o.reads);try{for(a.s();!(f=a.n()).done;){var p=f.value,g=this.resourceNodes[p.index];0==--g.readerCount&&r.push(g)}}catch(t){a.e(t)}finally{a.f()}}}this.resourceNodes.forEach(function(t){t.resource.refs+=t.readerCount});var y,s=j(this.passNodes);try{for(s.s();!(y=s.n()).done;){var c=y.value;if(c.refCount){var _,m=j(c.reads);try{for(m.s();!(_=m.n()).done;){var v=_.value,b=this.resourceNodes[v.index].resource;b.first=b.first||c,b.last=c}}catch(t){m.e(t)}finally{m.f()}var O,x=j(c.writes);try{for(x.s();!(O=x.n()).done;){var E=O.value,w=this.resourceNodes[E.index].resource;w.first=w.first||c,w.last=c}}catch(t){x.e(t)}finally{x.f()}}}}catch(t){s.e(t)}finally{s.f()}for(var M=0;M<2;M++){var P,C=j(this.resourceNodes);try{for(C.s();!(P=C.n()).done;){var A,S,u=P.value.resource;u.priority===M&&u.refs&&(A=u.first,S=u.last,A&&S&&(A.devirtualize.push(u),S.destroy.push(u)))}}catch(t){C.e(t)}finally{C.f()}}}},{key:"executePassNodes",value:(E=r()(p.a.mark(function t(h){var e,n,r,i,o,a,s,c,u,d,l,f;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=j(this.passNodes.entries()),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=18;break}if(n=g()(n.value,2),r=n[0],!(i=n[1]).refCount){t.next=16;break}o=j(i.devirtualize);try{for(o.s();!(a=o.n()).done;)a.value.preExecuteDevirtualize(this.engine)}catch(t){o.e(t)}finally{o.f()}s=j(i.destroy);try{for(s.s();!(c=s.n()).done;)c.value.preExecuteDestroy(this.engine)}catch(t){s.e(t)}finally{s.f()}return t.next=12,this.frameGraphPasses[r].execute(this,this.frameGraphPasses[r],h);case 12:u=j(i.devirtualize);try{for(u.s();!(d=u.n()).done;)d.value.postExecuteDevirtualize(this.engine)}catch(t){u.e(t)}finally{u.f()}l=j(i.destroy);try{for(l.s();!(f=l.n()).done;)f.value.postExecuteDestroy(this.engine)}catch(t){l.e(t)}finally{l.f()}case 16:t.next=3;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),e.e(t.t0);case 23:return t.prev=23,e.f(),t.finish(23);case 26:this.reset();case 27:case"end":return t.stop()}},t,this,[[1,20,23,26]])})),function(t){return E.apply(this,arguments)})},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(t){return this.resourceNodes[t.index]}},{key:"createResourceNode",value:function(t){var e=new v,t=(e.resource=t,e.version=t.version,this.resourceNodes.push(e),new u);return t.index=this.resourceNodes.length-1,t}},{key:"createTexture",value:function(t,e,n){var r=new O;return r.name=e,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(t,e,n){var r=new O;return r.name=e,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(n){this.addPass("Present",function(t,e){e.read(n),e.hasSideEffect=!0},r()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})))}}]),n=P,b=t()(n.prototype,"engine",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=n))||i;function P(){a()(this,P),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],h()(this,"engine",b,this)}},function(n,t,e){"use strict";e.d(t,"a",function(){return r});var y=e(2);function _(){return"object"==typeof window?null===window||void 0===window?void 0:window.devicePixelRatio:2}function m(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),r=_();return n.width=t*r,n.height=e*r,n.style.width=t+"px",n.style.height=e+"px",n.getContext("2d").scale(r,r),n}function v(t,e,n,r){void 0===r&&(r=n);var i=e.backgroundColor,e=e.opacity;t.globalAlpha=e,t.fillStyle=i,t.beginPath(),t.fillRect(0,0,n,r),t.closePath()}function b(t,e,n){t+=e;return n?2*t:t}function O(t,e){return e?[[.25*t,.25*t],[.75*t,.75*t]]:[[.5*t,.5*t]]}function x(t,e){e=e*Math.PI/180;return{a:Math.cos(e)*(1/t),b:Math.sin(e)*(1/t),c:-Math.sin(e)*(1/t),d:Math.cos(e)*(1/t),e:0,f:0}}var E={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};var d={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};var w={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function r(t){var e,n,r,i,l,o,a,s,c,h=t.type,u=t.cfg;switch(h){case"dot":e=function(t){var e=Object(y.c)({},E,t),t=e.size,n=e.padding,r=e.isStagger,l=e.rotation,t=b(t,n,r),n=O(t,r),r=m(t,t),i=r.getContext("2d");v(i,e,t);for(var o,a,h,s,d,c,f,p=0,g=n;p<g.length;p++){var u=g[p];o=i,a=e,h=u[0],u=u[1],f=c=d=s=void 0,s=e.size,d=e.fill,c=e.lineWidth,f=e.stroke,a=e.fillOpacity,o.beginPath(),o.globalAlpha=a,o.fillStyle=d,o.strokeStyle=f,o.lineWidth=c,o.arc(h,u,s/2,0,2*Math.PI,!1),o.fill(),c&&o.stroke(),o.closePath()}t=i.createPattern(r,"repeat");return t&&(n=x(_(),l),t.setTransform(n)),t}(u);break;case"line":n=u,i=(n=Object(y.c)({},d,n)).spacing,l=n.rotation,o=n.lineWidth,o="\n            M 0 0 L "+(a=i+o||1)+" 0\n            M 0 "+(i=i+o||1)+" L "+a+" "+i+"\n            ",s=m(a,i),v(c=s.getContext("2d"),n,a,i),a=c,i=n.stroke,r=n.lineWidth,n=n.strokeOpacity,o=new Path2D(o),a.globalAlpha=n,a.lineCap="square",a.strokeStyle=r?i:"transparent",a.lineWidth=r,a.stroke(o),(n=c.createPattern(s,"repeat"))&&(i=x(_(),l),n.setTransform(i)),e=n;break;case"square":e=function(t){var e=Object(y.c)({},w,t),t=e.size,n=e.padding,r=e.isStagger,l=e.rotation,t=b(t,n,r),n=O(t,r),r=m(t,t),i=r.getContext("2d");v(i,e,t);for(var o,a,s,h,c,d,f,p=0,g=n;p<g.length;p++){var u=g[p];o=i,a=e,s=u[0],u=u[1],f=d=c=h=void 0,h=e.stroke,c=e.size,d=e.fill,f=e.lineWidth,a=e.fillOpacity,o.globalAlpha=a,o.strokeStyle=h,o.lineWidth=f,o.fillStyle=d,o.strokeRect(s-c/2,u-c/2,c,c),o.fillRect(s-c/2,u-c/2,c,c)}t=i.createPattern(r,"repeat");return t&&(n=x(_(),l),t.setTransform(n)),t}(u)}return e}},function(l,t,e){"use strict";e.d(t,"a",function(){return d});var n,t=e(3),r=e(19),i=e(101),o=e(2),h=Object(o.c)({},r.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),o=e(13),a=e(0),e=(n=o.f,Object(t.b)(s,n),s.prototype.active=function(){var n,t=this.getView(),e=this.context.event;e.data&&(n=e.data.items,e=t.geometries.filter(function(t){return"point"===t.type}),Object(a.each)(e,function(t){Object(a.each)(t.elements,function(e){var t=-1!==Object(a.findIndex)(n,function(t){return t.data===e.data});e.setState("active",t)})}))},s.prototype.reset=function(){var t=this.getView().geometries.filter(function(t){return"point"===t.type});Object(a.each)(t,function(t){Object(a.each)(t.elements,function(t){t.setState("active",!1)})})},s.prototype.getView=function(){return this.context.view},s);function s(){return null!==n&&n.apply(this,arguments)||this}Object(o.l)("marker-active",e),Object(o.o)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});c=r.b,Object(t.b)(u,c),u.getDefaultOptions=function(){return h},u.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;Object(i.d)({chart:e,options:n}),this.chart.changeData(t)},u.prototype.getDefaultOptions=function(){return u.getDefaultOptions()},u.prototype.getSchemaAdaptor=function(){return i.a};var c,d=u;function u(){var t=null!==c&&c.apply(this,arguments)||this;return t.type="line",t}},function(l,t,e){"use strict";e.d(t,"a",function(){return c});var n,o=e(3),a=e(13),t=e(19),r=e(2),s=e(119),i=Object(r.c)({},t.b.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}}),c=(e(264),n=t.b,Object(o.b)(u,n),u.getDefaultOptions=function(){return i},u.prototype.changeData=function(t){this.updateOption(Object(s.c)(Object(r.c)({},this.options,{data:t})));var e=this.options,n=this.chart;Object(s.b)({chart:n,options:e}),this.chart.changeData(t)},u.prototype.getSchemaAdaptor=function(){return s.a},u.prototype.getDefaultOptions=function(){return u.getDefaultOptions()},u);function u(t,e){var i=n.call(this,t,e)||this;return i.type="scatter",i.on(a.i.BEFORE_RENDER,function(t){var e,n=i.options,r=i.chart;(null===(e=t.data)||void 0===e?void 0:e.source)===a.b.FILTER&&(e=i.chart.filterData(i.chart.getData()),Object(s.b)({chart:r,options:Object(o.a)(Object(o.a)({},n),{data:e})})),(null===(e=t.data)||void 0===e?void 0:e.source)===a.b.RESET&&Object(s.b)({chart:r,options:n})}),i}},function(c,t,e){"use strict";e.d(t,"a",function(){return u});var n,a=e(3),g=e(13),t=e(19),r=e(160),i=e(63),o=e(143),y=(Object(g.p)("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,r=n.indicator,n=n.defaultColor,i=r.pointer,r=r.pin,e=e.addGroup(),o=this.parsePoint({x:0,y:0});return i&&e.addShape("line",{name:"pointer",attrs:Object(a.a)({x1:o.x,y1:o.y,x2:t.x,y2:t.y,stroke:n},i.style)}),r&&e.addShape("circle",{name:"pin",attrs:Object(a.a)({x:o.x,y:o.y,stroke:n},r.style)}),e}}),e(0)),u=(Object(g.p)("interval","meter-gauge",{draw:function(t,l){for(var e=t.customInfo.meter,e=void 0===e?{}:e,n=e.steps,n=void 0===n?50:n,e=e.stepRatio,e=void 0===e?.5:e,n=n<1?1:n,e=Object(y.clamp)(e,0,1),r=this.coordinate,i=r.startAngle,r=r.endAngle,o=0,a=(o=0<e&&e<1?(r-i)/n/(e/(1-e)+1-1/n):o)/(1-e)*e,s=l.addGroup(),h=this.coordinate.getCenter(),d=this.coordinate.getRadius(),r=g.h.getAngle(t,this.coordinate),n=r.startAngle,f=r.endAngle,c=n;c<f;){var u=(c-i)%(a+o),u=u<a?c+(a-u):(c+=a+o-u)+a,p=g.h.getSectorPath(h.x,h.y,d,c,Math.min(u,f),d*this.coordinate.innerRadius);s.addShape("path",{name:"meter-gauge",attrs:{path:p,fill:t.color,stroke:t.color,lineWidth:.5}}),c=u+o}return s}}),n=t.b,Object(a.b)(s,n),s.getDefaultOptions=function(){return i.b},s.prototype.changeData=function(t){this.chart.emit(g.i.BEFORE_CHANGE_DATA,g.d.fromData(this.chart,g.i.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find(function(t){return t.id===i.c}),e=(e&&e.data(Object(o.a)(t)),this.chart.views.find(function(t){return t.id===i.g}));e&&e.data(Object(o.b)(t,this.options.range)),Object(r.b)({chart:this.chart,options:this.options},!0),this.chart.emit(g.i.AFTER_CHANGE_DATA,g.d.fromData(this.chart,g.i.AFTER_CHANGE_DATA,null))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return r.a},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="gauge",t}},function(l,t,e){"use strict";e.d(t,"a",function(){return d});var t=e(14),r=e.n(t),t=e(16),n=e.n(t),t=e(17),t=e.n(t),e=e(15),i=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function a(t){var o={};return{content:t=t.replace(i,function(t,e,n){var n=n.split(":"),r=n[0].trim(),i="";switch(1<n.length&&(i=n[1].trim()),e){case"bool":i="true"===i;break;case"float":case"int":i=Number(i);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":i=i?i.replace("[","").replace("]","").split(",").reduce(function(t,e){return t.push(Number(e.trim())),t},[]):new Array(function(){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}()).fill(0)}return o[r]=i,"uniform ".concat(e," ").concat(r,";\n")}),uniforms:o}}function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=/precision\s+(high|low|medium)p\s+float/,h=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,d=Object(e.injectable)()((t()(u,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}"})}},{key:"registerModule",value:function(t,e){var n,r,i,o;this.rawContentCache[t]||(r=e.vs,o=void 0===(o=e.fs)?"":o,e=e.uniforms,n=(r=a(void 0===r?"":r)).content,r=r.uniforms,i=(o=a(o)).content,o=o.uniforms,this.rawContentCache[t]={fs:i,uniforms:s(s(s({},r),o),e),vs:n})}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(t){var n=this;if(this.moduleCache[t])return this.moduleCache[t];var e=this.rawContentCache[t].vs||"",r=this.rawContentCache[t].fs||"",e=this.processModule(e,[],"vs"),i=e.content,e=e.includeList,r=this.processModule(r,[],"fs"),o=r.content,r=r.includeList,a=o,e=e.concat(r).concat(t).filter(function(t,e,n){return n.indexOf(t)===e}).reduce(function(t,e){return s(s({},t),n.rawContentCache[e].uniforms)},{});return c.test(o)||(a="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+o),this.moduleCache[t]={fs:a.trim(),uniforms:e,vs:i.trim()},this.moduleCache[t]}},{key:"processModule",value:function(t,r,i){var o=this;return{content:t.replace(h,function(t,e){e=e.split(" ")[0].replace(/"/g,"");if(-1<r.indexOf(e))return"";var n=o.rawContentCache[e][i];return r.push(e),o.processModule(n||"",r,i).content}),includeList:r}}}]),e=u))||e;function u(){n()(this,u),this.moduleCache={},this.rawContentCache={}}},function(u,t,e){"use strict";e.d(t,"a",function(){return o});var n,t=e(3),r=e(19),a=e(82),s=e(153),e=e(2),i=Object(e.c)({},r.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),o=(n=r.b,Object(t.b)(c,n),c.getDefaultOptions=function(){return i},c.prototype.getDefaultOptions=function(){return c.getDefaultOptions()},c.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,r=e.xField,e=e.yField,i=this.chart,o=this.options;Object(s.b)({chart:i,options:o}),this.chart.changeData(Object(a.a)(t,e,r,e,n))},c.prototype.getSchemaAdaptor=function(){return s.a},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="area",t}},function(u,t,e){"use strict";e.d(t,"a",function(){return o});var n,t=e(3),r=e(19),a=e(82),s=e(96),e=e(2),i=Object(e.c)({},r.b.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),o=(n=r.b,Object(t.b)(c,n),c.getDefaultOptions=function(){return i},c.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,r=e.xField,e=e.isPercent,i=this.chart,o=this.options;Object(s.b)({chart:i,options:o}),this.chart.changeData(Object(a.a)(t,n,r,n,e))},c.prototype.getDefaultOptions=function(){return c.getDefaultOptions()},c.prototype.getSchemaAdaptor=function(){return s.a},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="column",t}},function(u,t,e){"use strict";e.d(t,"a",function(){return i});var n,a=e(3),t=e(19),s=e(82),c=e(154),e=e(2),r=Object(e.c)({},t.b.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),i=(n=t.b,Object(a.b)(o,n),o.getDefaultOptions=function(){return r},o.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options,r=n.xField,i=n.yField,o=n.isPercent,n=Object(a.a)(Object(a.a)({},n),{xField:i,yField:r});Object(c.b)({chart:e,options:n}),e.changeData(Object(s.a)(t,r,i,r,o))},o.prototype.getDefaultOptions=function(){return o.getDefaultOptions()},o.prototype.getSchemaAdaptor=function(){return c.a},o);function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="bar",t}},function(l,t,e){"use strict";e.d(t,"a",function(){return c});var n,t=e(3),r=e(19),i=e(83),o=e(158),a=e(0),e={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return""+Object(a.get)(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},s={appendPadding:2,tooltip:Object(t.a)({},e),animation:{}},c=(n=r.b,Object(t.b)(u,n),u.getDefaultOptions=function(){return s},u.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;Object(o.b)({chart:e,options:n}),e.changeData(Object(i.a)(t))},u.prototype.getDefaultOptions=function(){return u.getDefaultOptions()},u.prototype.getSchemaAdaptor=function(){return o.a},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tiny-column",t}},function(u,t,e){"use strict";e.d(t,"a",function(){return s});var n,t=e(3),r=e(19),i=e(83),o=e(95),e=e(66),a={appendPadding:2,tooltip:Object(t.a)({},e.b),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},s=(n=r.b,Object(t.b)(c,n),c.getDefaultOptions=function(){return a},c.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;Object(o.b)({chart:e,options:n}),e.changeData(Object(i.a)(t))},c.prototype.getDefaultOptions=function(){return c.getDefaultOptions()},c.prototype.getSchemaAdaptor=function(){return o.a},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tiny-area",t}},function(l,t,e){"use strict";e.d(t,"a",function(){return c});var n,t=e(3),r=e(13),i=e(19),o=e(140),a=e(159),s={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},c=(n=i.b,Object(t.b)(u,n),u.getDefaultOptions=function(){return s},u.prototype.changeData=function(t){this.chart.emit(r.i.BEFORE_CHANGE_DATA,r.d.fromData(this.chart,r.i.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(Object(o.a)(t)),Object(a.b)({chart:this.chart,options:this.options},!0),this.chart.emit(r.i.AFTER_CHANGE_DATA,r.d.fromData(this.chart,r.i.AFTER_CHANGE_DATA,null))},u.prototype.getDefaultOptions=function(){return u.getDefaultOptions()},u.prototype.getSchemaAdaptor=function(){return a.a},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="ring-process",t}},function(o,t,e){"use strict";e.d(t,"a",function(){return m});function c(t){return!!(e=t)&&"object"===y()(e)&&("number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=9007199254740991)&&!!n[_.call(t)];var e}var t=e(14),r=e.n(t),t=e(16),a=e.n(t),t=e(17),h=e.n(t),t=e(41),d=e.n(t),t=e(46),f=e.n(t),t=e(47),p=e.n(t),t=e(33),s=e.n(t),u=e(4),t=e(52),g=e(81),y=e.n(g),n={},_=(n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,Object.prototype.toString);function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(t){f()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=s()(n);return t=r?(t=s()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),p()(this,t)};function o(t){var e;return a()(this,o),(e=i.call(this,t)).dirty=!0,e.attributes=[],e.indices=void 0,e.indicesBuffer=void 0,e.vertexCount=0,e.maxInstancedCount=void 0,e.aabb=void 0,e.entity=void 0,Object.assign(d()(e),t),e}return h()(o,[{key:"setAttribute",value:function(e,t,n,r){var i=this.attributes.find(function(t){return t.name===e});return i?(i.data=t,i.dirty=!0):this.attributes.push(l(l({dirty:!0,name:e,data:t},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(t){return this.indices=new Uint32Array(t.buffer||t),this.dirty=!0,this}},{key:"applyMatrix",value:function(t){var e=this.attributes.find(function(t){return"position"===t.name}),n=this.attributes.find(function(t){return"normal"===t.name});if(e&&(e.dirty=!0,e.data&&e.data.length))for(var r=0;r<e.data.length;r+=3){var i=u.f.fromValues(e.data[r],e.data[r+1],e.data[r+2],1);u.f.transformMat4(i,i,t),c(e.data)?e.data.set([i[0],i[1],i[2]],r):(e.data[r]=i[0],e.data[r+1]=i[1],e.data[r+2]=i[2])}if(n){var o=u.a.normalFromMat4(u.a.create(),t);if(n.data&&n.data.length)for(var a=0;a<n.data.length;a+=3){var s=u.e.fromValues(n.data[a],n.data[a+1],n.data[a+2]);u.e.transformMat3(s,s,o),u.e.normalize(s,s),c(n.data)?n.data.set([s[0],s[1],s[2]],a):(n.data[a]=s[0],n.data[a+1]=s[1],n.data[a+2]=s[2])}}}}]),o}(t.a)},function(u,t,e){"use strict";var r,n=e(90),s=e(0),i=e(210),c=e(39),o={},e=(r=i.a,Object(n.a)(a,r),a.prototype.isCanvas=function(){return!1},a.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),r=0<a.length?(Object(c.a)(a,function(t){t=t.getBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)}),t=Object(s.min)(i),e=Object(s.max)(i),n=Object(s.min)(o),Object(s.max)(o)):n=e=t=0;return{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},a.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),r=0<a.length?(Object(c.a)(a,function(t){t=t.getCanvasBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)}),t=Object(s.min)(i),e=Object(s.max)(i),n=Object(s.min)(o),Object(s.max)(o)):n=e=t=0;return{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},a.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.children=[],t},a.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),"matrix"===t&&(e=this.getTotalMatrix(),this._applyChildrenMarix(e))},a.prototype.applyMatrix=function(t){var e=this.getTotalMatrix(),t=(r.prototype.applyMatrix.call(this,t),this.getTotalMatrix());t!==e&&this._applyChildrenMarix(t)},a.prototype._applyChildrenMarix=function(e){var t=this.getChildren();Object(c.a)(t,function(t){t.applyMatrix(e)})},a.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1],n=(Object(c.f)(n)?r=n:r.type=n,o[r.type]);n||(n=Object(c.k)(r.type),o[r.type]=n);n=new(this.getShapeBase()[n])(r);return this.add(n),n},a.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];return n=Object(c.d)(n)?new n(r||{parent:this}):(r=n||{},new(this.getGroupBase())(r)),this.add(n),n},a.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},a.prototype.getShape=function(t,e,n){if(!Object(c.b)(this))return null;var r,i=this.getChildren();return this.isCanvas()?r=this._findShape(i,t,e,n):(t=this.invertFromMatrix(t=[t,e,1]),this.isClipped(t[0],t[1])||(r=this._findShape(i,t[0],t[1],n))),r},a.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;0<=o;o--){var a=t[o];if(Object(c.b)(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},a.prototype.add=function(t){var e,n,r=this.getCanvas(),i=this.getChildren(),o=this.get("timeline"),a=t.getParent();a&&(a=a,e=t,(n=void 0===(n=!1)?!0:n)?e.destroy():(e.set("parent",null),e.set("canvas",null)),Object(c.j)(a.getChildren(),e)),t.set("parent",this),r&&function e(t,n){var r;t.set("canvas",n),t.isGroup()&&(r=t.get("children")).length&&r.forEach(function(t){e(t,n)})}(t,r),o&&function e(t,n){var r;t.set("timeline",n),t.isGroup()&&(r=t.get("children")).length&&r.forEach(function(t){e(t,n)})}(t,o),i.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},a.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},a.prototype.getChildren=function(){return this.get("children")},a.prototype.sort=function(){var r,t=this.getChildren();Object(c.a)(t,function(t,e){return t._INDEX=e,t}),t.sort((r=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(t,e){var n=r(t,e);return 0===n?t._INDEX-e._INDEX:n})),this.onCanvasChange("sort")},a.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;0<=e;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},a.prototype.destroy=function(){this.get("destroyed")||(this.clear(),r.prototype.destroy.call(this))},a.prototype.getFirst=function(){return this.getChildByIndex(0)},a.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},a.prototype.getChildByIndex=function(t){return this.getChildren()[t]},a.prototype.getCount=function(){return this.getChildren().length},a.prototype.contain=function(t){return-1<this.getChildren().indexOf(t)},a.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},a.prototype.findAll=function(e){var n=[],t=this.getChildren();return Object(c.a)(t,function(t){e(t)&&n.push(t),t.isGroup()&&(n=n.concat(t.findAll(e)))}),n},a.prototype.find=function(e){var n=null,t=this.getChildren();return Object(c.a)(t,function(t){if(e(t)?n=t:t.isGroup()&&(n=t.find(e)),n)return!1}),n},a.prototype.findById=function(e){return this.find(function(t){return t.get("id")===e})},a.prototype.findByClassName=function(e){return this.find(function(t){return t.get("className")===e})},a.prototype.findAllByName=function(e){return this.findAll(function(t){return t.get("name")===e})},a);function a(){return null!==r&&r.apply(this,arguments)||this}t.a=e},function(u,t,e){"use strict";var n=e(90),g=e(0),r=e(12),s=e(39),i=e(78),e=e(168),o=r.a.transform,l=["zIndex","capture","visible","type"],y=["repeat"];a=e.a,Object(n.a)(c,a),c.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},c.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},c.prototype.onCanvasChange=function(t){},c.prototype.initAttrs=function(t){},c.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},c.prototype.isGroup=function(){return!1},c.prototype.getParent=function(){return this.get("parent")},c.prototype.getCanvas=function(){return this.get("canvas")},c.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(Object(g.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},c.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},c.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},c.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},c.prototype.afterAttrsChange=function(t){var e;this.cfg.isClipShape?(e=this.cfg.applyTo)&&e.onCanvasChange("clip"):this.onCanvasChange("attr")},c.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},c.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},c.prototype.setZIndex=function(t){this.set("zIndex",t);t=this.getParent();return t&&t.sort(),this},c.prototype.toFront=function(){var t,e=this.getParent();e&&(e=e.getChildren(),this.get("el"),t=e.indexOf(this),e.splice(t,1),e.push(this),this.onCanvasChange("zIndex"))},c.prototype.toBack=function(){var t,e=this.getParent();e&&(e=e.getChildren(),this.get("el"),t=e.indexOf(this),e.splice(t,1),e.unshift(this),this.onCanvasChange("zIndex"))},c.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(s.j)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},c.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},c.prototype.getMatrix=function(){return this.attr("matrix")},c.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},c.prototype.getTotalMatrix=function(){var t,e,n=this.cfg.totalMatrix;return n||(t=this.attr("matrix"),n=(e=this.cfg.parentMatrix)&&t?Object(i.b)(e,t):t||e,this.set("totalMatrix",n)),n},c.prototype.applyMatrix=function(t){var e=this.attr("matrix"),e=t&&e?Object(i.b)(t,e):e||t;this.set("totalMatrix",e),this.set("parentMatrix",t)},c.prototype.getDefaultMatrix=function(){return null},c.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Object(i.c)(e,t):t},c.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){e=Object(i.a)(e);if(e)return Object(i.c)(e,t)}return t},c.prototype.setClip=function(t){var e,n=this.getCanvas(),r=null;return!t||(e=this.getShapeBase()[Object(g.upperFirst)(t.type)])&&(r=new e({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n})),this.set("clipShape",r),this.onCanvasChange("clip"),r},c.prototype.getClip=function(){return this.cfg.clipShape||null},c.prototype.clone=function(){var e=this,n=this.attrs,r={},i=(Object(g.each)(n,function(t,e){Object(g.isArray)(n[e])?r[e]=function(t){for(var e=[],n=0;n<t.length;n++)Object(g.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(n[e]):r[e]=n[e]}),new this.constructor({attrs:r}));return Object(g.each)(l,function(t){i.set(t,e.get(t))}),i},c.prototype.destroy=function(){this.destroyed||(this.attrs={},a.prototype.destroy.call(this))},c.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},c.prototype.animate=function(){for(var t,e,l,n,h,r,i,o,a,s,c,d,f,u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];(this.get("timeline")||this.get("canvas"))&&(this.set("animating",!0),(t=this.get("timeline"))||(t=this.get("canvas").get("timeline"),this.set("timeline",t)),e=this.get("animations")||[],t.timer||t.initTimer(),c=u[0],i=u[1],o=void 0===(o=u[2])?"easeLinear":o,a=void 0===(a=u[3])?g.noop:a,s=void 0===(s=u[4])?0:s,Object(g.isFunction)(c)?(l=c,c={}):Object(g.isObject)(c)&&c.onFrame&&(l=c.onFrame,n=c.repeat),Object(g.isObject)(i)?(i=(r=i).duration,o=r.easing||"easeLinear",s=r.delay||0,n=r.repeat||n||!1,a=r.callback||g.noop,h=r.pauseCallback||g.noop,r=r.resumeCallback||g.noop):(Object(g.isNumber)(a)&&(s=a,a=null),o=Object(g.isFunction)(o)?(a=o,"easeLinear"):o||"easeLinear"),c=c,d={},f=this.attr(),Object(g.each)(c,function(t,e){-1!==y.indexOf(e)||Object(g.isEqual)(f[e],t)||(d[e]=t)}),c={fromAttrs:function(t,e){var n,r={},i=e.attrs;for(n in t)r[n]=i[n];return r}(c=d,this),toAttrs:c,duration:i,easing:o,repeat:n,callback:a,pauseCallback:h,resumeCallback:r,delay:s,startTime:t.getTime(),id:Object(g.uniqueId)(),onFrame:l,pathFormatted:!1},0<e.length?e=function(t,e){if(e.onFrame)return t;var r=e.startTime,i=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(g.each)(t,function(n){r+i<n.startTime+n.delay+n.duration&&o>n.delay&&Object(g.each)(e.toAttrs,function(t,e){a.call(n.toAttrs,e)&&(delete n.toAttrs[e],delete n.fromAttrs[e])})}),t}(e,c):t.addAnimator(this),e.push(c),this.set("animations",e),this.set("_pause",{isPaused:!1}))},c.prototype.stopAnimate=function(e){var n=this,t=(void 0===e&&(e=!0),this.get("animations"));Object(g.each)(t,function(t){e&&(t.onFrame?n.attr(t.onFrame(1)):n.attr(t.toAttrs)),t.callback&&t.callback()}),this.set("animating",!1),this.set("animations",[])},c.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(g.each)(e,function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},c.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return Object(g.each)(t,function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},c.prototype.emitDelegation=function(t,n){var r,i=this,o=n.propagationPath;this.getEvents(),"mouseenter"===t?r=n.fromShape:"mouseleave"===t&&(r=n.toShape);for(var a=this,e=0;e<o.length&&"break"!==function(t){var e=o[t],t=e.get("name");if(t){if((e.isGroup()||e.isCanvas&&e.isCanvas())&&r&&Object(s.g)(e,r))return"break";Object(g.isArray)(t)?Object(g.each)(t,function(t){i.emitDelegateEvent(e,t,n)}):a.emitDelegateEvent(e,t,n)}}(e);e++);},c.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),e=e+":"+n.type;(r[e]||r["*"])&&(n.name=e,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(e,n))},c.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),n=o(n,[["t",t,e]]);return this.setMatrix(n),this},c.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},c.prototype.moveTo=function(t,e){return this.move(t,e)},c.prototype.scale=function(t,e){var n=this.getMatrix(),n=o(n,[["s",t,e||t]]);return this.setMatrix(n),this},c.prototype.rotate=function(t){var e=this.getMatrix(),e=o(e,[["r",t]]);return this.setMatrix(e),this},c.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,e=e.y,r=this.getMatrix(),r=o(r,[["t",-n,-e],["r",t],["t",n,e]]);return this.setMatrix(r),this},c.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),r=o(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(r),this};var a,r=c;function c(t){var e=a.call(this,t)||this,n=(e.attrs={},e.getDefaultAttrs());return Object(g.mix)(n,t.attrs),e.attrs=n,e.initAttrs(n),e.initAnimate(),e}t.a=r},function(t,d,f){"use strict";!function(e){f.d(d,"a",function(){return t});var o=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},a=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},n=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},s=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},r=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],l=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function t(t){return t?i(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new r:"undefined"!=typeof navigator?i(navigator.userAgent):void 0!==e&&e.version?new n(e.version.slice(1)):null}function i(t){var r,e=""!==(r=t)&&h.reduce(function(t,e){var n=e[0],e=e[1];if(t)return t;t=e.exec(r);return!!t&&[n,t]},!1);if(!e)return null;var n=e[0],e=e[1];if("searchbot"===n)return new c;var e=e[1]&&e[1].split(".").join("_").split("_").slice(0,3),e=(e?e.length<3&&(e=o(o([],e,!0),function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-e.length),!0)):e=[],e.join(".")),i=function(t){for(var e=0,n=l.length;e<n;e++){var r=l[e],i=r[0];if(r[1].exec(t))return i}return null}(t),t=u.exec(t);return t&&t[1]?new s(n,e,i,t[1]):new a(n,e,i)}}.call(this,f(245))},function(i,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return r});var v=e(30),b=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,x=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,E=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function w(t,e){t=t.match(E);Object(v.c)(t,function(t){t=t.split(":");e.addColorStop(t[0],t[1])})}function n(l,h,t){var e=h.getBBox();if(isNaN(e.x)||isNaN(e.y)||isNaN(e.width)||isNaN(e.height))return t;if(Object(v.k)(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return e=l,s=h,o=b.exec(t),i=parseFloat(o[1])%360*(Math.PI/180),o=o[2],s=s.getBBox(),s=0<=i&&i<.5*Math.PI?(r={x:s.minX,y:s.minY},{x:s.maxX,y:s.maxY}):.5*Math.PI<=i&&i<Math.PI?(r={x:s.maxX,y:s.minY},{x:s.minX,y:s.maxY}):Math.PI<=i&&i<1.5*Math.PI?(r={x:s.maxX,y:s.maxY},{x:s.minX,y:s.minY}):(r={x:s.minX,y:s.maxY},{x:s.maxX,y:s.minY}),i=Math.tan(i),n=i*i,d=(s.x-r.x+i*(s.y-r.y))/(1+n)+r.x,i=i*(s.x-r.x+i*(s.y-r.y))/(1+n)+r.y,s=e.createLinearGradient(r.x,r.y,d,i),w(o,s),s;if("r"===t[0]){var n=l;e=h;var r=O.exec(t),d=parseFloat(r[1]),i=parseFloat(r[2]),o=parseFloat(r[3]),r=r[4];if(0===o)return(a=r.match(E))[a.length-1].split(":")[1];var a=e.getBBox(),e=a.maxX-a.minX,s=a.maxY-a.minY,f=Math.sqrt(e*e+s*s)/2,n=n.createRadialGradient(a.minX+e*d,a.minY+s*i,0,a.minX+e/2,a.minY+s/2,o*f);return w(r,n),n;return}if("p"===t[0]){var p=l;var g=h;var y=t;if(g.get("patternSource")&&g.get("patternSource")===y)return g.get("pattern");var _,c,e=x.exec(y),u=e[1],e=e[2];function m(){_=p.createPattern(c,u),g.set("pattern",_),g.set("patternSource",y)}switch(u){case"a":u="repeat";break;case"x":u="repeat-x";break;case"y":u="repeat-y";break;default:u="no-repeat"}return c=new Image,e.match(/^data:/i)||(c.crossOrigin="Anonymous"),c.src=e,c.complete?m():(c.onload=m,c.src=c.src),_;return}}return t}return t instanceof CanvasPattern?t:void 0}function r(t){var e=0,n=0,r=0,i=0;return Object(v.g)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0);function i(t,e){return Object(r.isNumber)(t)&&Object(r.isNumber)(e)?t===e?"100%":0===t?"∞":0===e?"-∞":(100*e/t).toFixed(2)+"%":"-"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var e=n(19),n=n(2),r=Object(n.c)({},e.b.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var d=n(0);function f(t,e,n){if(1===n)return[0,e];n=Math.floor(t/e);return[e*n,e*(n+1)]}function r(t,r,e,i,o){var t=Object(d.clone)(t),n=(Object(d.sortBy)(t,r),Object(d.valuesOfKey)(t,r)),a=Object(d.getRange)(n),l=a.max-a.min,s=e,c=(!e&&i&&(s=1<i?l/(i-1):a.max),e||i||(s=l/(Math.ceil(Math.log(n.length)/Math.LN2)+1)),{}),u=Object(d.groupBy)(t,o),h=(Object(d.isEmpty)(u)?Object(d.each)(t,function(t){var t=f(t[r],s,i),e=t[0]+"-"+t[1];Object(d.hasKey)(c,e)||(c[e]={range:t,count:0}),c[e].count+=1}):Object.keys(u).forEach(function(n){Object(d.each)(u[n],function(t){var t=f(t[r],s,i),e=t[0]+"-"+t[1]+"-"+n;Object(d.hasKey)(c,e)||(c[e]={range:t,count:0},c[e][o]=n),c[e].count+=1})}),[]);return Object(d.each)(c,function(t){h.push(t)}),h}},function(a,t,e){"use strict";e.d(t,"a",function(){return p});var i=e(3),o=e(8),n=e(89),l=e(2),h=e(25),d=e(215),f=e(91);function r(t){var e=t.chart,n=t.options,r=n.data,i=n.binField,o=n.binNumber,a=n.binWidth,s=n.color,c=n.stackField,u=n.legend,n=n.columnStyle,r=Object(d.a)(r,i,a,o,c),i=(e.data(r),Object(l.c)({},t,{options:{xField:f.b,yField:f.c,seriesField:c,isStack:!0,interval:{color:s,style:n}}}));return Object(h.c)(i),u&&c&&e.legend(c,u),t}function s(t){var e,n=t.options,r=n.xAxis,n=n.yAxis;return Object(l.f)(Object(o.g)(((e={})[f.b]=r,e[f.c]=n,e)))(t)}function c(t){var e=t.chart,n=t.options,r=n.xAxis,n=n.yAxis;return!1===r?e.axis(f.b,!1):e.axis(f.b,r),!1===n?e.axis(f.c,!1):e.axis(f.c,n),t}function u(t){var e,n=t.chart,r=t.options.label,n=Object(l.d)(n,"interval");return r?(e=r.callback,r=Object(i.c)(r,["callback"]),n.label({fields:[f.c],callback:e,cfg:Object(l.A)(r)})):n.label(!1),t}function p(t){return Object(l.f)(o.k,Object(n.a)("columnStyle"),r,s,c,o.j,u,o.l,o.c,o.a)(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=["#FAAD14","#E8EDF3"],i={percent:.2,color:r,animation:{}}},function(t,e,n){"use strict";e.a=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},function(r,t,e){"use strict";e.d(t,"a",function(){return n});var c=e(152),u=e(240),l=e(116),h=e(0),d=e(75),f={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function n(t,e){var n,r=(e=Object(h.assign)({},f,e)).as;if(!Object(h.isArray)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=Object(d.e)(e)}catch(t){console.warn(t)}i=e.tile,o=e.ratio;var i,o="treemapSquarify"===i?c[i].ratio(o):c[i],o=(i=t,u.a().tile(o).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(l.c(i).sum(function(t){return e.ignoreParentValue&&t.children?0:t[n]}).sort(e.sort))),a=r[0],s=r[1];return o.each(function(e){e[a]=[e.x0,e.x1,e.x1,e.x0],e[s]=[e.y1,e.y1,e.y0,e.y0],["x0","x1","y0","y1"].forEach(function(t){-1===r.indexOf(t)&&delete e[t]})}),Object(d.d)(o)}},function(t,e,n){"use strict";function r(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}n.d(e,"b",function(){return r}),e.a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}},function(l,t,e){"use strict";e.d(t,"a",function(){return k});var i=e(0),o=e(2),t=e(101),n=e(155),r=e(96),a=e(154),s=e(153),c=e(160),u=e(157),h=e(158),d=e(95),f=e(159),p=e(139),g=e(119),y=e(216),_=e(223),m=e(198),v=e(176),b=e(204),O=e(203),x=e(202),E=e(200),w=e(177),M=e(206),P=e(205),C=e(207),A=e(179),S=e(199),j=e(178),e=e(150),D={line:t.a,pie:n.a,column:r.a,bar:a.a,area:s.a,gauge:c.a,"tiny-line":u.a,"tiny-column":h.a,"tiny-area":d.a,"ring-progress":f.a,progress:p.a,scatter:g.a,histogram:y.a,funnel:_.a},T={line:m.a,pie:v.a,column:O.a,bar:b.a,area:x.a,gauge:E.a,"tiny-line":w.a,"tiny-column":P.a,"tiny-area":M.a,"ring-progress":C.a,progress:A.a,scatter:S.a,histogram:j.a,funnel:e.a},I={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function k(t,e,n){var r=T[t];r?(0,D[t])({chart:e,options:Object(o.c)({},r.getDefaultOptions(),Object(i.get)(I,t,{}),n)}):console.error("could not find "+t+" plot")}},function(t,e,n){"use strict";function r(t){var e=t.animate,n=t.backgroundColor,r=t.backgroundOpacity,i=t.baseUrl,l=t.children,h=t.foregroundColor,d=t.foregroundOpacity,o=t.gradientRatio,a=t.uniqueKey,s=t.interval,c=t.rtl,u=t.speed,f=t.style,p=t.title,t=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),g=(a=a||Math.random().toString(36).substring(6))+"-diff",y=a+"-animated-diff",a=a+"-aria",c=c?{transform:"scaleX(-1)"}:null,s="0; "+s+"; 1",u=u+"s";return Object(_.createElement)("svg",m({"aria-labelledby":a,role:"img",style:m(m({},f),c)},t),p?Object(_.createElement)("title",{id:a},p):null,Object(_.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+i+"#"+g+")",style:{fill:"url("+i+"#"+y+")"}}),Object(_.createElement)("defs",{role:"presentation"},Object(_.createElement)("clipPath",{id:g},l),Object(_.createElement)("linearGradient",{id:y},Object(_.createElement)("stop",{offset:"0%",stopColor:n,stopOpacity:r},e&&Object(_.createElement)("animate",{attributeName:"offset",values:-o+"; "+-o+"; 1",keyTimes:s,dur:u,repeatCount:"indefinite"})),Object(_.createElement)("stop",{offset:"50%",stopColor:h,stopOpacity:d},e&&Object(_.createElement)("animate",{attributeName:"offset",values:-o/2+"; "+-o/2+"; "+(1+o/2),keyTimes:s,dur:u,repeatCount:"indefinite"})),Object(_.createElement)("stop",{offset:"100%",stopColor:n,stopOpacity:r},e&&Object(_.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+o),keyTimes:s,dur:u,repeatCount:"indefinite"})))))}function i(t){return Object(_.createElement)(o,m({viewBox:"0 0 476 124"},t),Object(_.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(_.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(_.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(_.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(_.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(_.createElement)("circle",{cx:"20",cy:"20",r:"20"}))}var _=n(6),m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=(r.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."},function(t){return t.children?Object(_.createElement)(r,m({},t)):Object(_.createElement)(i,m({},t))});e.a=o},function(e,n,t){"use strict";t.d(n,"a",function(){return I});var y=t(0),a=t(8),u=t(97),_=t(2),l=t(213),s=t(3),m=t(57),v=t(49),b=t(35);function O(r,t,e){var i=e.yField,n=e.maxSize,e=e.minSize,o=Object(y.get)(Object(y.maxBy)(t,i),[i]),a=Object(y.isNumber)(n)?n:1,s=Object(y.isNumber)(e)?e:0;return Object(y.map)(r,function(t,e){var n=(t[i]||0)/o;return t[b.d]=n,t[b.c]=(a-s)*n+s,t[b.b]=[Object(y.get)(r,[e-1,i]),t[i]],t})}function r(a){return function(t){var n,r=t.chart,i=t.options.conversionTag,o=r.getOptions().data;return i&&(n=i.formatter,o.forEach(function(t,e){e<=0||Number.isNaN(t[b.c])||(e=a(t,e,o,{top:!0,text:{content:Object(y.isFunction)(n)?n(t,o):n,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:Object(s.a)({textAlign:"start",textBaseline:"middle"},i.style)}}),r.annotation().line(e))})),t}}function i(t){var e=t.chart,n=t.options,r=n.data,r=void 0===r?[]:r,r=O(r,r,{yField:n.yField,maxSize:n.maxSize,minSize:n.minSize});return e.data(r),t}function o(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.color,a=n.tooltip,s=n.label,c=n.shape,c=void 0===c?"funnel":c,u=n.funnelStyle,n=n.state,a=Object(m.a)(a,[r,i]),i=a.fields,a=a.formatter;return Object(v.a)({chart:e,options:{type:"interval",xField:r,yField:b.c,colorField:r,tooltipFields:Object(y.isArray)(i)&&i.concat([b.d,b.b]),mapping:{shape:c,tooltip:a,color:o,style:u},label:s,state:n}}),Object(_.d)(t.chart,"interval").adjust("symmetric"),t}function c(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function h(t){var i=t.options.maxSize;return r(function(t,e,n,r){t=i-(i-t[b.c])/2;return Object(s.a)(Object(s.a)({},r),{start:[e-.5,t],end:[e-.5,.05+t]})})(t),t}function d(t){return Object(_.f)(i,o,c,h)(t)}function f(t){var e=t.chart,n=t.options,r=n.data,n=n.yField;return e.data(void 0===r?[]:r),e.scale(((r={})[n]={sync:!0},r)),t}function p(t){var e=t.chart,n=t.options,i=n.data,o=n.xField,a=n.yField,s=n.color,c=n.compareField,u=n.isTransposed,h=n.tooltip,d=n.maxSize,f=n.minSize,l=n.label,p=n.funnelStyle,g=n.state,n=n.showFacetTitle;return e.facet("mirror",{fields:[c],transpose:!u,padding:u?0:[32,0,0,0],showTitle:n,eachView:function(t,e){var n=u?e.rowIndex:e.columnIndex,e=(u||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]}),O(e.data,i,{yField:a,maxSize:d,minSize:f})),e=(t.data(e),Object(m.a)(h,[o,a,c])),r=e.fields,e=e.formatter,n=u?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};Object(v.a)({chart:t,options:{type:"interval",xField:o,yField:b.c,colorField:o,tooltipFields:Object(y.isArray)(r)&&r.concat([b.d,b.b]),mapping:{shape:"funnel",tooltip:e,color:s,style:p},label:!1!==l&&Object(_.c)({},n,l),state:g}})}}),t}function g(t){var e=t.chart,n=t.options,a=n.conversionTag,s=n.isTransposed;return e.once("beforepaint",function(){e.views.forEach(function(t,o){r(function(t,e,n,r){var i=0===o?-1:1;return Object(_.c)({},r,{start:[e-.5,t[b.c]],end:[e-.5,t[b.c]+.05],text:s?{style:{textAlign:"start"}}:{offsetX:!1!==a?i*a.offsetX:0,style:{textAlign:0===o?"end":"start"}}})})(Object(_.c)({},{chart:t,options:n}))})}),t}function x(t){var e=t.chart,n=t.options,r=n.data,n=n.yField;return e.data(void 0===r?[]:r),e.scale(((r={})[n]={sync:!0},r)),t}function E(n){var t=n.chart,e=n.options,r=e.seriesField,i=e.isTransposed,e=e.showFacetTitle;return t.facet("rect",{fields:[r],padding:[i?0:32,10,0,10],showTitle:e,eachView:function(t,e){d(Object(_.c)({},n,{chart:t,options:{data:e.data}}))}}),n}function w(t){var e=t.chart,n=t.options,r=n.data,a=void 0===r?[]:r,s=n.yField,c=Object(y.reduce)(a,function(t,e){return t+(e[s]||0)},0),u=Object(y.maxBy)(a,s)[s],r=Object(y.map)(a,function(t,e){var n,r,i=[],o=[];return t[b.e]=(t[s]||0)/c,e?(n=a[e-1][b.f],r=a[e-1][b.g],i[0]=n[3],o[0]=r[3],i[1]=n[2],o[1]=r[2]):(i[0]=-.5,i[o[0]=1]=.5,o[1]=1),o[2]=o[1]-t[b.e],i[2]=(o[2]+1)/4,o[3]=o[2],i[3]=-i[2],t[b.f]=i,t[b.g]=o,t[b.d]=(t[s]||0)/u,t[b.b]=[Object(y.get)(a,[e-1,s]),t[s]],t});return e.data(r),t}function M(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.color,a=n.tooltip,s=n.label,c=n.funnelStyle,n=n.state,a=Object(m.a)(a,[r,i]),i=a.fields,a=a.formatter;return Object(v.a)({chart:e,options:{type:"polygon",xField:b.f,yField:b.g,colorField:r,tooltipFields:Object(y.isArray)(i)&&i.concat([b.d,b.b]),label:s,state:n,mapping:{tooltip:a,color:o,style:c}}}),t}function P(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function C(t){return r(function(t,e,n,r){return Object(s.a)(Object(s.a)({},r),{start:[t[b.f][1],t[b.g][1]],end:[t[b.f][1]+.05,t[b.g][1]]})})(t),t}function A(t){var e,n=t.options,r=n.compareField,i=n.xField,o=n.yField,a=n.locale,s=n.funnelStyle,n=n.data,c=Object(u.a)(a),a={label:r?{fields:[i,o,r,b.d,b.b],formatter:function(t){return""+t[o]}}:{fields:[i,o,b.d,b.b],offset:0,position:"middle",formatter:function(t){return t[i]+" "+t[o]}},tooltip:{title:i,formatter:function(t){return{name:t[i],value:t[o]}}},conversionTag:{formatter:function(t){return c.get(["conversionTag","label"])+": "+l.a.apply(void 0,t[b.b])}}};return(r||s)&&(e=function(t){return Object(_.c)({},r&&{lineWidth:1,stroke:"#fff"},Object(y.isFunction)(s)?s(t):s)}),Object(_.c)({options:a},t,{options:{funnelStyle:e,data:Object(y.clone)(n)}})}function S(t){var e=t.options,n=e.compareField,r=e.dynamicHeight;return e.seriesField?(e=t,Object(_.f)(x,E)(e)):n?(e=t,Object(_.f)(f,p,g)(e)):r?(n=t,Object(_.f)(w,M,P,C)(n)):d(t)}function j(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return Object(_.f)(Object(a.g)(((e={})[o]=r,e[n]=i,e)))(t)}function D(t){return t.chart.axis(!1),t}function T(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}function I(t){return Object(_.f)(A,S,j,D,a.l,a.c,T,a.a,a.k,Object(a.b)())(t)}},function(l,t,e){"use strict";e.d(t,"a",function(){return f});var n,r=e(0),i=e(13),o=e(3),a=e(2),h={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},t=(n=i.a,Object(o.b)(s,n),s.prototype.getButtonCfg=function(){var t=this.context.view,t=Object(r.get)(t,["interactions","filter-action","cfg","buttonConfig"]);return Object(a.c)(this.buttonCfg,t,this.cfg)},s.prototype.drawButton=function(){var t=this.getButtonCfg(),t=this.context.view.foregroundGroup.addGroup({name:t.name}),e=this.drawText(t);this.drawBackground(t,e.getBBox()),this.buttonGroup=t},s.prototype.drawText=function(t){var e=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:Object(o.a)({text:e.text},null===(t=e.textStyle)||void 0===t?void 0:t.default)})},s.prototype.drawBackground=function(t,e){var n=this.getButtonCfg(),r=Object(a.s)(n.padding),i=t.addShape({type:"rect",name:"button-rect",attrs:Object(o.a)({x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2]},null===(e=n.buttonStyle)||void 0===e?void 0:e.default)});return i.toBack(),t.on("mouseenter",function(){var t;i.attr(null===(t=n.buttonStyle)||void 0===t?void 0:t.active)}),t.on("mouseleave",function(){var t;i.attr(null===(t=n.buttonStyle)||void 0===t?void 0:t.default)}),i},s.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),t=i.h.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(t)},s.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},s.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},s.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),n.prototype.destroy.call(this)},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg=Object(o.a)({name:"button"},h),t}function c(t){return t.isInPlot()}function u(t,e,n){var r=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:c,action:["brush:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null==n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:c,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:c,action:["brush:filter","brush:end",r+"-mask:end",r+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:[r+"-mask:start",r+"-mask:show"],arg:[{maskStyle:null==n?void 0:n.style}]},{trigger:"mask:dragstart",action:[r+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[r+"-mask:resize"]},{trigger:"mask:drag",action:[r+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[r+"-mask:end"]},{trigger:"mask:dragend",action:[r+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",r+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:c,action:["brush-x:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null==n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:c,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:c,action:["brush-x:filter","brush-x:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:[r+"-mask:start",r+"-mask:show"],arg:[{maskStyle:null==n?void 0:n.style}]},{trigger:"mask:dragstart",action:[r+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[r+"-mask:resize"]},{trigger:"mask:drag",action:[r+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[r+"-mask:end"]},{trigger:"mask:dragend",action:[r+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",r+"-mask:hide"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:c,action:["brush-y:start",r+"-mask:start",r+"-mask:show"],arg:[null,{maskStyle:null==n?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:c,action:[r+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:c,action:["brush-y:filter","brush-y:end",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:[r+"-mask:start",r+"-mask:show"],arg:[{maskStyle:null==n?void 0:n.style}]},{trigger:"mask:dragstart",action:[r+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[r+"-mask:resize"]},{trigger:"mask:drag",action:[r+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[r+"-mask:end"]},{trigger:"mask:dragend",action:[r+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear",r+"-mask:end",r+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",r+"-mask:hide"]}]};default:return{}}}Object(i.l)("brush-reset-button",t,{name:"brush-reset-button"}),Object(i.o)("filter-action",{}),Object(i.o)("brush",u("brush")),Object(i.o)("brush-highlight",u("brush-highlight")),Object(i.o)("brush-x",u("brush-x","x-rect")),Object(i.o)("brush-y",u("brush-y","y-rect")),Object(i.o)("brush-x-highlight",u("brush-x-highlight","x-rect")),Object(i.o)("brush-y-highlight",u("brush-y-highlight","y-rect"));var d=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function f(t){var e=t.options,i=e.brush,o=Object(r.filter)(e.interactions||[],function(t){return-1===d.indexOf(t.type)});return null!=i&&i.enabled&&(d.forEach(function(t){var e,n=!1;switch(i.type){case"x-rect":n=t===("highlight"===i.action?"brush-x-highlight":"brush-x");break;case"y-rect":n=t===("highlight"===i.action?"brush-y-highlight":"brush-y");break;default:n=t===("highlight"===i.action?"brush-highlight":"brush")}var r={type:t,enable:n};(null!==(e=i.mask)&&void 0!==e&&e.style||i.type)&&(r.cfg=u(t,i.type,i.mask)),o.push(r)}),"highlight"!==(null==i?void 0:i.action)&&o.push({type:"filter-action",cfg:{buttonConfig:i.button}})),Object(a.c)({},t,{options:{interactions:o}})}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var e=n(115),r=n.n(e);function i(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function o(t){t=r()(t,3);return t[0]+256*t[1]+65536*t[2]-1}n(4)},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(13),i=n(0),n=n(113);function o(t){t=Object(i.get)(t,["event","data","data"],{});return Object(i.isArray)(t.children)&&0<t.children.length}function a(t){var e,n,r,i=t.view.getCoordinate(),o=i.innerRadius;return!!o&&(e=(t=t.event).x,t=t.y,n=(r=i.center).x,r=r.y,i=i.getRadius()*o,Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))<i)}Object(r.l)("drill-down-action",n.a),Object(r.o)("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:o},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:a}],start:[{trigger:"element:click",isEnable:o,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:a,action:["drill-down-action:back"]}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MESSAGE=e.ALGORITHM=void 0,e.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},e.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var y=n(114),_=n(0),m=n(93);e.default=function(t,n,l,o){var e=t.nodes,a=void 0===e?[]:e,e=t.edges,h=void 0===e?[]:e,d=[],s={},c={},u={};a.forEach(function(t,e){t=t.id;d.push(t),c[t]=1/0,t===n&&(c[t]=0)});for(var f=a.length,p=0;p<f;p++)!function(){var r=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r}(c,a,s),i=r.id;if(s[i]=!0,c[i]===1/0)return;(l?(0,m.getOutEdgesNodeId):(0,m.getEdgesByNodeId))(i,h).forEach(function(t){var e=t.target,n=t.source,n=e===i?n:e,e=o&&t[o]?t[o]:1;c[n]>c[r.id]+e?(c[n]=c[r.id]+e,u[n]=[r.id]):c[n]===c[r.id]+e&&u[n].push(r.id)})}();u[n]=[n];var r={};for(i in c)c[i]!==1/0&&function l(t,e,n,r){if(t===e)return[t];if(r[e])return r[e];for(var i=[],o=0,a=n[e];o<a.length;o++){var s=l(t,a[o],n,r);if(!s)return;for(var c=0,h=s;c<h.length;c++){var u=h[c];(0,_.isArray)(u)?i.push((0,y.__spreadArray)((0,y.__spreadArray)([],u,!0),[e],!1)):i.push([u,e])}}return r[e]=i,r[e]}(n,i,u,r);var i,g={};for(i in r)g[i]=r[i][0];return{length:c,path:g,allPath:r}}},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.findMinMaxNodeXY=o.traverseTreeUp=o.scaleMatrix=o.getAdjMatrix=o.floydWarshall=o.getDegree=o.getEdgeTerminal=void 0;function r(t,e){if(t&&t.children)for(var n=t.children.length-1;0<=n;n--)if(!r(t.children[n],e))return;return!!e(t)}var n=e(294);o.getEdgeTerminal=function(t,e){t=t[e];return(0,n.isObject)(t)?t.cell:t},o.getDegree=function(t,n,e){for(var r=[],i=0;i<t;i++)r[i]=0;return e&&e.forEach(function(t){var e=(0,o.getEdgeTerminal)(t,"source"),t=(0,o.getEdgeTerminal)(t,"target");e&&(r[n[e]]+=1),t&&(r[n[t]]+=1)}),r},o.floydWarshall=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e},o.getAdjMatrix=function(t,n){var e=t.nodes,t=t.edges,r=[],i={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(t,e){i[t.id]=e,r.push([])}),t&&t.forEach(function(t){var e=(0,o.getEdgeTerminal)(t,"source"),t=(0,o.getEdgeTerminal)(t,"target"),e=i[e],t=i[t];r[e][t]=1,n||(r[t][e]=1)}),r},o.scaleMatrix=function(t,n){var r=[];return t.forEach(function(t){var e=[];t.forEach(function(t){e.push(t*n)}),r.push(e)}),r};o.traverseTreeUp=function(t,e){"function"==typeof e&&r(t,e)},o.findMinMaxNodeXY=function(t){var e=1/0,n=1/0,r=-1/0,i=-1/0;return t.forEach(function(t){e>t.x&&(e=t.x),n>t.y&&(n=t.y),r<t.x&&(r=t.x),i<t.y&&(i=t.y)}),{minX:e,minY:n,maxX:r,maxY:i}}},function(s,t,e){"use strict";var r,i,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},I=(Object.defineProperty(t,"__esModule",{value:!0}),t.DagreLayout=void 0,o(e(446))),k=e(62),o=(i=e(64).Base,n(a,i),a.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},a.prototype.execute=function(){var l,h,i,u,a,s,p,g,y,d,e,n,_,m,o,v,b,O,x,r,E,w,M,P,C,A=this,f=this,c=f.nodes,S=f.nodeSize,j=f.rankdir,t=f.combos,D=f.begin,T=f.radial;if(c)return l=f.edges||[],h=new I.default.graphlib.Graph({multigraph:!0,compound:!0}),i=S?(0,k.isArray)(S)?function(){return S}:function(){return[S,S]}:function(t){return t.size?(0,k.isArray)(t.size)?t.size:(0,k.isObject)(t.size)?[t.size.width||40,t.size.height||40]:[t.size,t.size]:[40,40]},u=(0,k.getFunc)(f.ranksep,50,f.ranksepFunc),a=(0,k.getFunc)(f.nodesep,50,f.nodesepFunc),s=a,p=u,"LR"!==j&&"RL"!==j||(s=u,p=a),h.setDefaultEdgeLabel(function(){return{}}),h.setGraph(f),g={},c.filter(function(t){return!1!==t.layout}).forEach(function(t){var e=i(t),n=p(t),r=s(t),r=e[0]+2*r,e=e[1]+2*n,n=t.layer;(0,k.isNumber)(n)?h.setNode(t.id,{width:r,height:e,layer:n}):h.setNode(t.id,{width:r,height:e}),A.sortByCombo&&t.comboId&&(g[t.comboId]||(g[t.comboId]=!0,h.setNode(t.comboId,{})),h.setParent(t.id,t.comboId))}),this.sortByCombo&&t&&t.forEach(function(t){t.parentId&&(g[t.parentId]||(g[t.parentId]=!0,h.setNode(t.parentId,{})),h.setParent(t.id,t.parentId))}),y=void l.forEach(function(t){var e=(0,k.getEdgeTerminal)(t,"source"),n=(0,k.getEdgeTerminal)(t,"target");A.layoutNode(e)&&A.layoutNode(n)&&h.setEdge(e,n,{weight:t.weight||1})}),f.preset&&(y=new I.default.graphlib.Graph({multigraph:!0,compound:!0}),f.preset.nodes.forEach(function(t){null==y||y.setNode(t.id,t)})),I.default.layout(h,{prevGraph:y,edgeLabelSpace:f.edgeLabelSpace,keepNodeOrder:Boolean(!!f.nodeOrder),nodeOrder:f.nodeOrder}),d=[0,0],D&&(n=e=1/0,h.nodes().forEach(function(t){t=h.node(t);e>t.x&&(e=t.x),n>t.y&&(n=t.y)}),h.edges().forEach(function(t){h.edge(t).points.forEach(function(t){e>t.x&&(e=t.x),n>t.y&&(n=t.y)})}),d[0]=D[0]-e,d[1]=D[1]-n),T?(t=this.focusNode,D=this.ranksep,_=this.getRadialPos,T=(0,k.isString)(t)?t:null==t?void 0:t.id,m=T?h.node(T)._rank:0,o=[],v=(t="LR"===j||"RL"===j)?"y":"x",b=t?"height":"width",O=1/0,x=-1/0,h.nodes().forEach(function(e){var t,n,r=h.node(e),i=c.findIndex(function(t){return t.id===e});c[i]&&(i=a(c[i]),0===m?(o[r._rank]||(o[r._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),o[r._rank].nodes.push(e),o[r._rank].totalWidth+=2*i+r[b],o[r._rank].maxSize<Math.max(r.width,r.height)&&(o[r._rank].maxSize=Math.max(r.width,r.height))):0==(t=r._rank-m)?(o[t]||(o[t]={nodes:[],totalWidth:0,maxSize:-1/0}),o[t].nodes.push(e),o[t].totalWidth+=2*i+r[b],o[t].maxSize<Math.max(r.width,r.height)&&(o[t].maxSize=Math.max(r.width,r.height))):(n=Math.abs(t),o[n]||(o[n]={left:[],right:[],totalWidth:0,maxSize:-1/0}),o[n].totalWidth+=2*i+r[b],o[n].maxSize<Math.max(r.width,r.height)&&(o[n].maxSize=Math.max(r.width,r.height)),(t<0?o[n].left:o[n].right).push(e)),t=r[v]-r[b]/2-i,n=r[v]+r[b]/2+i,t<O&&(O=t),x<n&&(x=n))}),r=D||50,E={},M=[.5*(O+x-(w=(x-O)/.9)),.5*(O+x+w)],P=function(t,o,e,a){void 0===a&&(a=[0,1]);var s=e=void 0===e?-1/0:e;return t.forEach(function(e){var t=h.node(e),n=(E[e]=o,_(t[v],M,w,o,a)),r=n.x,n=n.y,i=c.findIndex(function(t){return t.id===e});c[i]&&(c[i].x=r+d[0],c[i].y=n+d[1],c[i]._order=t._order,r=u(c[i]),s<r&&(s=r))}),s},C=!0,o.forEach(function(e){if(null!==(n=null==e?void 0:e.nodes)&&void 0!==n&&n.length||null!==(n=null==e?void 0:e.left)&&void 0!==n&&n.length||null!==(n=null==e?void 0:e.right)&&void 0!==n&&n.length){if(C&&1===e.nodes.length)return n=c.findIndex(function(t){return t.id===e.nodes[0]}),c[n].x=d[0],c[n].y=d[1],E[e.nodes[0]]=0,r=u(c[n]),void(C=!1);r=Math.max(r,e.totalWidth/(2*Math.PI));var t,n=-1/0;n=0===m||null!==(t=e.nodes)&&void 0!==t&&t.length?P(e.nodes,r,n,[0,1]):(t=(null===(t=e.left)||void 0===t?void 0:t.length)/((null===(t=e.left)||void 0===t?void 0:t.length)+(null===(t=e.right)||void 0===t?void 0:t.length)),n=P(e.left,r,n,[0,t]),P(e.right,r,n,[.05+t,1])),r+=n,C=!1,e.maxSize}}),h.edges().forEach(function(n){var t,r,i,o,a,s,c,e=h.edge(n),u=l.findIndex(function(t){var e=(0,k.getEdgeTerminal)(t,"source"),t=(0,k.getEdgeTerminal)(t,"target");return e===n.v&&t===n.w});f.edgeLabelSpace&&f.controlPoints&&"loop"!==l[u].type&&(r="x"===v?"y":"x",e=e.points.slice(1,e.points.length-1),i=[],o=null===(t=h.node(n.v))||void 0===t?void 0:t[r],a=o-(null===(t=h.node(n.w))||void 0===t?void 0:t[r]),s=E[n.v],c=s-E[n.w],e.forEach(function(t){var e=(t[r]-o)/a*c+s,t=_(t[v],M,w,e);i.push({x:t.x+d[0],y:t.y+d[1]})}),l[u].controlPoints=i)})):(h.nodes().forEach(function(e){var t=h.node(e),n=c.findIndex(function(t){return t.id===e});c[n]&&(c[n].x=t.x+d[0],c[n].y=t.y+d[1],c[n]._order=t._order)}),h.edges().forEach(function(n){var t=h.edge(n),e=l.findIndex(function(t){var e=(0,k.getEdgeTerminal)(t,"source"),t=(0,k.getEdgeTerminal)(t,"target");return e===n.v&&t===n.w});f.edgeLabelSpace&&f.controlPoints&&"loop"!==l[e].type&&(l[e].controlPoints=t.points.slice(1,t.points.length-1),l[e].controlPoints.forEach(function(t){t.x+=d[0],t.y+=d[1]}))})),f.onLayoutEnd&&f.onLayoutEnd(),{nodes:c,edges:l}},a.prototype.getRadialPos=function(t,e,n,r,i){t=2*((t-e[0])/n*((i=void 0===i?[0,1]:i)[1]-i[0])+i[0])*Math.PI;return{x:Math.cos(t)*r,y:Math.sin(t)*r}},a.prototype.getType=function(){return"dagre"},a);function a(t){var n=i.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(e){var t=n.nodes.find(function(t){return t.id===e});return!t||!1!==t.layout},n.updateCfg(t),n}t.DagreLayout=o},function(t,e,n){"use strict";var s=n(86);function r(t){this._isDirected=!s.has(t,"directed")||t.directed,this._isMultigraph=!!s.has(t,"multigraph")&&t.multigraph,this._isCompound=!!s.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=s.constant(void 0),this._defaultEdgeLabelFn=s.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function c(t,e){t[e]?t[e]++:t[e]=1}function i(t,e){--t[e]||delete t[e]}function u(t,e,n,r){e=""+e,n=""+n;return!t&&n<e&&(t=e,e=n,n=t),e+""+n+""+(s.isUndefined(r)?"\0":r)}function o(t,e){return u(t,e.v,e.w,e.name)}(t.exports=r).prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(t){return this._label=t,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(t){return s.isFunction(t)||(t=s.constant(t)),this._defaultNodeLabelFn=t,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return s.keys(this._nodes)},r.prototype.sources=function(){return s.filter(this.nodes(),s.bind(function(t){return s.isEmpty(this._in[t])},this))},r.prototype.sinks=function(){return s.filter(this.nodes(),s.bind(function(t){return s.isEmpty(this._out[t])},this))},r.prototype.setNodes=function(t,e){var n=arguments;return s.each(t,s.bind(function(t){1<n.length?this.setNode(t,e):this.setNode(t)},this)),this},r.prototype.setNode=function(t,e){return s.has(this._nodes,t)?1<arguments.length&&(this._nodes[t]=e):(this._nodes[t]=1<arguments.length?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this},r.prototype.node=function(t){return this._nodes[t]},r.prototype.hasNode=function(t){return s.has(this._nodes,t)},r.prototype.removeNode=function(t){var e,n=this;return s.has(this._nodes,t)&&(e=function(t){n.removeEdge(n._edgeObjs[t])},delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],s.each(this.children(t),s.bind(function(t){this.setParent(t)},this)),delete this._children[t]),s.each(s.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],s.each(s.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount),this},r.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(s.isUndefined(e))e="\0";else{for(var n=e+="";!s.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},r.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},r.prototype.parent=function(t){if(this._isCompound){t=this._parent[t];if("\0"!==t)return t}},r.prototype.children=function(t){if(s.isUndefined(t)&&(t="\0"),!this._isCompound)return"\0"===t?this.nodes():this.hasNode(t)?[]:void 0;t=this._children[t];return t?s.keys(t):void 0},r.prototype.predecessors=function(t){t=this._preds[t];if(t)return s.keys(t)},r.prototype.successors=function(t){t=this._sucs[t];if(t)return s.keys(t)},r.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return s.union(e,this.successors(t))},r.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},r.prototype.filterNodes=function(n){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound}),i=(r.setGraph(this.graph()),s.each(this._nodes,s.bind(function(t,e){n(e)&&r.setNode(e,t)},this)),s.each(this._edgeObjs,s.bind(function(t){r.hasNode(t.v)&&r.hasNode(t.w)&&r.setEdge(t,this.edge(t))},this)),this),o={};return this._isCompound&&s.each(r.nodes(),function(t){r.setParent(t,function t(e){var n=i.parent(e);return void 0===n||r.hasNode(n)?o[e]=n:n in o?o[n]:t(n)}(t))}),r},r.prototype.setDefaultEdgeLabel=function(t){return s.isFunction(t)||(t=s.constant(t)),this._defaultEdgeLabelFn=t,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return s.values(this._edgeObjs)},r.prototype.setPath=function(t,n){var r=this,i=arguments;return s.reduce(t,function(t,e){return 1<i.length?r.setEdge(t,e,n):r.setEdge(t,e),e}),this},r.prototype.setEdge=function(){var t,e=!1,n=arguments[0],n=("object"==typeof n&&null!==n&&"v"in n?(o=n.v,a=n.w,t=n.name,2===arguments.length&&(r=arguments[1],e=!0)):(o=n,a=arguments[1],t=arguments[3],2<arguments.length&&(r=arguments[2],e=!0)),o=""+o,a=""+a,s.isUndefined(t)||(t=""+t),u(this._isDirected,o,a,t));if(s.has(this._edgeLabels,n))return e&&(this._edgeLabels[n]=r),this;if(!s.isUndefined(t)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(o),this.setNode(a),this._edgeLabels[n]=e?r:this._defaultEdgeLabelFn(o,a,t);e=this._isDirected,r=""+(r=o),i=""+(i=a),!e&&i<r&&(e=r,r=i,i=e),e={v:r,w:i},(i=t)&&(e.name=i);var r,i=e,o=i.v,a=i.w;return Object.freeze(i),this._edgeObjs[n]=i,c(this._preds[a],o),c(this._sucs[o],a),this._in[a][n]=i,this._out[o][n]=i,this._edgeCount++,this},r.prototype.edge=function(t,e,n){t=1===arguments.length?o(this._isDirected,t):u(this._isDirected,t,e,n);return this._edgeLabels[t]},r.prototype.hasEdge=function(t,e,n){t=1===arguments.length?o(this._isDirected,t):u(this._isDirected,t,e,n);return s.has(this._edgeLabels,t)},r.prototype.removeEdge=function(t,e,n){var n=1===arguments.length?o(this._isDirected,arguments[0]):u(this._isDirected,t,e,n),r=this._edgeObjs[n];return r&&(t=r.v,e=r.w,delete this._edgeLabels[n],delete this._edgeObjs[n],i(this._preds[e],t),i(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},r.prototype.inEdges=function(t,e){var t=this._in[t];if(t)return t=s.values(t),e?s.filter(t,function(t){return t.v===e}):t},r.prototype.outEdges=function(t,e){var t=this._out[t];if(t)return t=s.values(t),e?s.filter(t,function(t){return t.w===e}):t},r.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.slack=e.longestPathWithLayer=e.longestPath=void 0;function r(n){function r(t){var e=n.node(t);return i.hasOwnProperty(t)?e.rank:(i[t]=!0,t=null===(t=n.outEdges(t))||void 0===t?void 0:t.map(function(t){return r(t.w)-n.edge(t).minlen||1/0}),(t=Math.min.apply(Math,t))!==Number.POSITIVE_INFINITY&&null!=t||(t=0),e.rank=t)}var t,i={};null===(t=n.sources())||void 0===t||t.forEach(r)}function i(i){function n(t){var e=i.node(t);return r.hasOwnProperty(t)||(r[t]=!0,t=null===(t=i.outEdges(t))||void 0===t?void 0:t.map(function(t){return n(t.w)-i.edge(t).minlen||1/0}),(t=Math.min.apply(Math,t))!==Number.POSITIVE_INFINITY&&null!=t||(t=0),e.rank=t,a=Math.min(e.rank,a)),e.rank}function o(t,e){var n=i.node(t),r=isNaN(n.layer)?e:n.layer;(void 0===n.rank||n.rank<r)&&(n.rank=r),null===(e=i.outEdges(t))||void 0===e||e.map(function(t){o(t.w,r+i.edge(t).minlen)})}var t,r={},a=0;null===(t=i.sources())||void 0===t||t.forEach(n),a+=1,i.nodes().forEach(function(t){var e=i.node(t);isNaN(e.layer)?e.rank-=a:o(t,e.layer)})}function o(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}e.longestPath=r,e.longestPathWithLayer=i;e.slack=o,e.default={longestPath:r,longestPathWithLayer:i,slack:o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var r=n(235);function i(t){this._binding=t}i.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},e.BindingOnSyntax=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var r=n(234),i=n(321);function o(t){this._binding=t}o.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},o.prototype.whenTargetNamed=function(t){return this._binding.constraint=i.namedConstraint(t),new r.BindingOnSyntax(this._binding)},o.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},o.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=i.taggedConstraint(t)(e),new r.BindingOnSyntax(this._binding)},o.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},o.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},o.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(t){return i.taggedConstraint(e)(n)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},o.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},o.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},o.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},o.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},o.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.taggedConstraint(e)(n))},new r.BindingOnSyntax(this._binding)},o.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.taggedConstraint(e)(n))},new r.BindingOnSyntax(this._binding)},o.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},o.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.BindingWhenSyntax=o},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}},function(n,t,e){"use strict";e.r(t),e.d(t,"forceCenter",function(){return r}),e.d(t,"forceCollide",function(){return u}),e.d(t,"forceLink",function(){return l}),e.d(t,"forceManyBody",function(){return S}),e.d(t,"forceRadial",function(){return j}),e.d(t,"forceSimulation",function(){return A}),e.d(t,"forceX",function(){return D}),e.d(t,"forceY",function(){return T});var r=function(o,a){var s,c=1;function e(){for(var t,e=s.length,n=0,r=0,i=0;i<e;++i)n+=(t=s[i]).x,r+=t.y;for(n=(n/e-o)*c,r=(r/e-a)*c,i=0;i<e;++i)(t=s[i]).x-=n,t.y-=r}return null==o&&(o=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(o=+t,e):o},e.y=function(t){return arguments.length?(a=+t,e):a},e.strength=function(t){return arguments.length?(c=+t,e):c},e};function d(t,e,n,l){if(isNaN(e)||isNaN(n))return t;var r,i,o,h,d,a,f,s,p,c=t._root,u={data:l},g=t._x0,y=t._y0,_=t._x1,m=t._y1;if(!c)return t._root=u,t;for(;c.length;)if((a=e>=(i=(g+_)/2))?g=i:_=i,(f=n>=(o=(y+m)/2))?y=o:m=o,!(c=(r=c)[s=f<<1|a]))return r[s]=u,t;if(h=+t._x.call(null,c.data),d=+t._y.call(null,c.data),e===h&&n===d)return u.next=c,r?r[s]=u:t._root=u,t;for(;r=r?r[s]=new Array(4):t._root=new Array(4),(a=e>=(i=(g+_)/2))?g=i:_=i,(f=n>=(o=(y+m)/2))?y=o:m=o,(s=f<<1|a)==(p=(o<=d)<<1|i<=h););return r[p]=c,r[s]=u,t}function _(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function s(t){return t[0]}function c(t){return t[1]}function y(t,e,n){e=new o(null==e?s:e,null==n?c:n,NaN,NaN,NaN,NaN);return null==t?e:e.addAll(t)}function o(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function a(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function m(t){return function(){return t}}function v(t){return 1e-6*(t()-.5)}t=y.prototype=o.prototype;t.copy=function(){var t,e,n=new o(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=a(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=a(e));return n},t.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return d(this.cover(e,n),e,n,t)},t.addAll=function(t){for(var e,n,r,i=t.length,l=new Array(i),h=new Array(i),o=1/0,a=1/0,s=-1/0,c=-1/0,u=0;u<i;++u)isNaN(n=+this._x.call(null,e=t[u]))||isNaN(r=+this._y.call(null,e))||((l[u]=n)<o&&(o=n),s<n&&(s=n),(h[u]=r)<a&&(a=r),c<r&&(c=r));if(s<o||c<a)return this;for(this.cover(o,a).cover(s,c),u=0;u<i;++u)d(this,l[u],h[u],t[u]);return this},t.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,c=i-n||1,u=this._root;t<n||i<=t||e<r||o<=e;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=u,u=a,c*=2,s){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},t.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},t.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},t.find=function(t,e,n){var r,i,l,h,o,a,s,d,f=this._x0,p=this._y0,g=this._x1,y=this._y1,c=[],u=this._root;for(u&&c.push(new _(u,f,p,g,y)),null==n?n=1/0:(f=t-n,p=e-n,g=t+n,y=e+n,n*=n);s=c.pop();)!(u=s.node)||(r=s.x0)>g||(i=s.y0)>y||(l=s.x1)<f||(h=s.y1)<p||(u.length?(c.push(new _(u[3],o=(r+l)/2,a=(i+h)/2,l,h),new _(u[2],r,a,o,h),new _(u[1],o,i,l,a),new _(u[0],r,i,o,a)),(a=(a<=e)<<1|o<=t)&&(s=c[c.length-1],c[c.length-1]=c[c.length-1-a],c[c.length-1-a]=s)):(s=(o=t-+this._x.call(null,u.data))*o+(a=e-+this._y.call(null,u.data))*a)<n&&(f=t-(s=Math.sqrt(n=s)),p=e-s,g=t+s,y=e+s,d=u.data));return d},t.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,h,c,d,u=this._root,f=this._x0,p=this._y0,g=this._x1,y=this._y1;if(!u)return this;if(u.length)for(;;){if((l=o>=(s=(f+g)/2))?f=s:g=s,(h=a>=(s=(p+y)/2))?p=s:y=s,!(u=(e=u)[c=h<<1|l]))return this;if(!u.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,d=c)}for(;u.data!==t;)if(!(u=(r=u).next))return this;return(i=u.next)&&delete u.next,r?i?r.next=i:delete r.next:e?(i?e[c]=i:delete e[c],(u=e[0]||e[1]||e[2]||e[3])&&u===(e[3]||e[2]||e[1]||e[0])&&!u.length&&(n?n[d]=u:this._root=u)):this._root=i,this},t.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},t.root=function(){return this._root},t.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},t.visit=function(t){var e,n,r,i,o,a,s,c=[],u=this._root;for(u&&c.push(new _(u,this._x0,this._y0,this._x1,this._y1));o=c.pop();)!t(u=o.node,n=o.x0,r=o.y0,i=o.x1,o=o.y1)&&u.length&&(a=(n+i)/2,s=(r+o)/2,(e=u[3])&&c.push(new _(e,a,s,i,o)),(e=u[2])&&c.push(new _(e,n,s,a,o)),(e=u[1])&&c.push(new _(e,a,r,i,s)),(e=u[0])&&c.push(new _(e,n,r,a,s)));return this},t.visitAfter=function(l){var t,e=[],h=[];for(this._root&&e.push(new _(this._root,this._x0,this._y0,this._x1,this._y1));t=e.pop();){var n,r,i,o,a,s,c,u=t.node;u.length&&(r=t.x0,i=t.y0,s=(r+(o=t.x1))/2,c=(i+(a=t.y1))/2,(n=u[0])&&e.push(new _(n,r,i,s,c)),(n=u[1])&&e.push(new _(n,s,i,o,c)),(n=u[2])&&e.push(new _(n,r,c,s,a)),(n=u[3])&&e.push(new _(n,s,c,o,a))),h.push(t)}for(;t=h.pop();)l(t.node,t.x0,t.y0,t.x1,t.y1);return this},t.x=function(t){return arguments.length?(this._x=t,this):this._x},t.y=function(t){return arguments.length?(this._y=t,this):this._y};function b(t){return t.x+t.vx}function O(t){return t.y+t.vy}var u=function(r){var o,a,d,f=1,p=1;function e(){for(var t,e,s,c,u,l,h,n=o.length,r=0;r<p;++r)for(e=y(o,b,O).visitAfter(g),t=0;t<n;++t)s=o[t],l=a[s.index],h=l*l,c=s.x+s.vx,u=s.y+s.vy,e.visit(i);function i(t,e,n,r,i){var o=t.data,t=t.r,a=l+t;if(!o)return c+a<e||r<c-a||u+a<n||i<u-a;o.index>s.index&&((n=(e=c-o.x-o.vx)*e+(r=u-o.y-o.vy)*r)<a*a&&(0===e&&(n+=(e=v(d))*e),0===r&&(n+=(r=v(d))*r),n=(a-(n=Math.sqrt(n)))/n*f,s.vx+=(e*=n)*(a=(t*=t)/(h+t)),s.vy+=(r*=n)*a,o.vx-=e*(a=1-a),o.vy-=r*a))}}function g(t){if(t.data)return t.r=a[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(o){var t,e,n=o.length;for(a=new Array(n),t=0;t<n;++t)e=o[t],a[e.index]=+r(e,t,o)}}return"function"!=typeof r&&(r=m(null==r?1:+r)),e.initialize=function(t,e){o=t,d=e,n()},e.iterations=function(t){return arguments.length?(p=+t,e):p},e.strength=function(t){return arguments.length?(f=+t,e):f},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:m(+t),n(),e):r},e};function x(t){return t.index}function E(t,e){t=t.get(e);if(!t)throw new Error("node not found: "+e);return t}var l=function(u){var l,h,o,a,d,f,s=x,n=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},r=m(30),p=1;function e(t){for(var e=0,n=u.length;e<p;++e)for(var r,i,o,a,s,c=0;c<n;++c)r=(i=u[c]).source,o=(i=i.target).x+i.vx-r.x-r.vx||v(f),a=i.y+i.vy-r.y-r.vy||v(f),o*=s=((s=Math.sqrt(o*o+a*a))-h[c])/s*t*l[c],a*=s,i.vx-=o*(s=d[c]),i.vy-=a*s,r.vx+=o*(s=1-s),r.vy+=a*s}function i(){if(o){var t,e=o.length,n=u.length,r=new Map(o.map((t,e)=>[s(t,e,o),t])),i=0;for(a=new Array(e);i<n;++i)(t=u[i]).index=i,"object"!=typeof t.source&&(t.source=E(r,t.source)),"object"!=typeof t.target&&(t.target=E(r,t.target)),a[t.source.index]=(a[t.source.index]||0)+1,a[t.target.index]=(a[t.target.index]||0)+1;for(i=0,d=new Array(n);i<n;++i)t=u[i],d[i]=a[t.source.index]/(a[t.source.index]+a[t.target.index]);l=new Array(n),c(),h=new Array(n),g()}}function c(){if(o)for(var t=0,e=u.length;t<e;++t)l[t]=+n(u[t],t,u)}function g(){if(o)for(var t=0,e=u.length;t<e;++t)h[t]=+r(u[t],t,u)}return null==u&&(u=[]),e.initialize=function(t,e){o=t,f=e,i()},e.links=function(t){return arguments.length?(u=t,i(),e):u},e.id=function(t){return arguments.length?(s=t,e):s},e.iterations=function(t){return arguments.length?(p=+t,e):p},e.strength=function(t){return arguments.length?(n="function"==typeof t?t:m(+t),c(),e):n},e.distance=function(t){return arguments.length?(r="function"==typeof t?t:m(+t),g(),e):r},e},h={value:()=>{}};function f(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function p(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=h,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}i.prototype=f.prototype={constructor:i,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=p(i[n],t.name,e);else if(null==e)for(n in i)i[n]=p(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(i[n],t.name)))return n},copy:function(){var t,e={},n=this._;for(t in n)e[t]=n[t].slice();return new i(e)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var g=f,w=e(584);function M(t){return t.x}function P(t){return t.y}var C=Math.PI*(3-Math.sqrt(5)),A=function(c){var o,a=1,e=.001,s=1-Math.pow(e,1/300),u=0,l=.6,h=new Map,t=Object(w.a)(i),n=g("tick","end"),r=function(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}();function i(){d(),n.call("tick",o),a<e&&(t.stop(),n.call("end",o))}function d(t){var e,n,r=c.length;void 0===t&&(t=1);for(var i=0;i<t;++i)for(a+=(u-a)*s,h.forEach(function(t){t(a)}),e=0;e<r;++e)null==(n=c[e]).fx?n.x+=n.vx*=l:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=l:(n.y=n.fy,n.vy=0);return o}function f(){for(var t,e,n,r=0,i=c.length;r<i;++r)(t=c[r]).index=r,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),(isNaN(t.x)||isNaN(t.y))&&(e=10*Math.sqrt(.5+r),n=r*C,t.x=e*Math.cos(n),t.y=e*Math.sin(n)),(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}function p(t){return t.initialize&&t.initialize(c,r),t}return null==c&&(c=[]),f(),o={tick:d,restart:function(){return t.restart(i),o},stop:function(){return t.stop(),o},nodes:function(t){return arguments.length?(c=t,f(),h.forEach(p),o):c},alpha:function(t){return arguments.length?(a=+t,o):a},alphaMin:function(t){return arguments.length?(e=+t,o):e},alphaDecay:function(t){return arguments.length?(s=+t,o):+s},alphaTarget:function(t){return arguments.length?(u=+t,o):u},velocityDecay:function(t){return arguments.length?(l=1-t,o):1-l},randomSource:function(t){return arguments.length?(r=t,h.forEach(p),o):r},force:function(t,e){return 1<arguments.length?(null==e?h.delete(t):h.set(t,p(e)),o):h.get(t)},find:function(t,e,n){var r,i,o,a=0,s=c.length;for(null==n?n=1/0:n*=n,a=0;a<s;++a)(r=(r=t-(i=c[a]).x)*r+(r=e-i.y)*r)<n&&(o=i,n=r);return o},on:function(t,e){return 1<arguments.length?(n.on(t,e),o):n.on(t)}}},S=function(){var i,c,u,l,h,r=m(-30),d=1,f=1/0,p=.81;function e(t){var e,n=i.length,r=y(i,M,P).visitAfter(o);for(l=t,e=0;e<n;++e)c=i[e],r.visit(a)}function n(){if(i){var t,e,n=i.length;for(h=new Array(n),t=0;t<n;++t)e=i[t],h[e.index]=+r(e,t,i)}}function o(t){var e,n,r,i,o,a=0,s=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else for((e=t).x=e.data.x,e.y=e.data.y;a+=h[e.data.index],e=e.next;);t.value=a}function a(t,e,n,r){if(!t.value)return!0;var i=t.x-c.x,o=t.y-c.y,a=r-e,s=i*i+o*o;if(a*a/p<s)return s<f&&(0===i&&(s+=(i=v(u))*i),0===o&&(s+=(o=v(u))*o),s<d&&(s=Math.sqrt(d*s)),c.vx+=i*t.value*l/s,c.vy+=o*t.value*l/s),!0;if(!(t.length||f<=s))for(t.data===c&&!t.next||(0===i&&(s+=(i=v(u))*i),0===o&&(s+=(o=v(u))*o),s<d&&(s=Math.sqrt(d*s)));t.data!==c&&(a=h[t.data.index]*l/s,c.vx+=i*a,c.vy+=o*a),t=t.next;);}return e.initialize=function(t,e){i=t,u=e,n()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:m(+t),n(),e):r},e.distanceMin=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e.distanceMax=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e.theta=function(t){return arguments.length?(p=t*t,e):Math.sqrt(p)},e},j=function(n,s,c){var u,l,h,r=m(.1);function e(t){for(var e=0,n=u.length;e<n;++e){var r=u[e],i=r.x-s||1e-6,o=r.y-c||1e-6,a=Math.sqrt(i*i+o*o),a=(h[e]-a)*l[e]*t/a;r.vx+=i*a,r.vy+=o*a}}function i(){if(u){var t,e=u.length;for(l=new Array(e),h=new Array(e),t=0;t<e;++t)h[t]=+n(u[t],t,u),l[t]=isNaN(h[t])?0:+r(u[t],t,u)}}return"function"!=typeof n&&(n=m(+n)),null==s&&(s=0),null==c&&(c=0),e.initialize=function(t){u=t,i()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:m(+t),i(),e):r},e.radius=function(t){return arguments.length?(n="function"==typeof t?t:m(+t),i(),e):n},e.x=function(t){return arguments.length?(s=+t,e):s},e.y=function(t){return arguments.length?(c=+t,e):c},e},D=function(n){var i,o,a,r=m(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vx+=(a[n]-e.x)*o[n]*t}function s(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=m(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:m(+t),s(),e):r},e.x=function(t){return arguments.length?(n="function"==typeof t?t:m(+t),s(),e):n},e},T=function(n){var i,o,a,r=m(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vy+=(a[n]-e.y)*o[n]*t}function s(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=m(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:m(+t),s(),e):r},e.y=function(t){return arguments.length?(n="function"==typeof t?t:m(+t),s(),e):n},e}},function(o,t,e){"use strict";e.d(t,"a",function(){return a}),e.d(t,"b",function(){return r});var n=new Map;function r(t,e){n.set(t,e)}function a(t){return n.get(t)}function i(t){return{x:(t=t.attr()).x,y:t.y,width:t.width,height:t.height}}function s(t){var e=(t=t.attr()).x,n=t.y,t=t.r;return{x:e-t,y:n-t,width:2*t,height:2*t}}var y=e(40);function l(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function u(t,e){var n=t.get("startArrowShape"),t=t.get("endArrowShape");return n&&(e=l(e,n.getCanvasBBox())),e=t?l(e,t.getCanvasBBox()):e}var c=e(124),h=e(59),_=e(0);function m(t,e){var n=t.prePoint,r=t.currentPoint,t=t.nextPoint,i=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2),n=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),n=Math.acos((i+o-n)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!n||0===Math.sin(n)||Object(_.isNumberEqual)(n,0))return{xExtra:0,yExtra:0};i=Math.abs(Math.atan2(t[1]-r[1],t[0]-r[0])),o=Math.abs(Math.atan2(t[0]-r[0],t[1]-r[1])),i=i>Math.PI/2?Math.PI-i:i,o=o>Math.PI/2?Math.PI-o:o;return{xExtra:Math.cos(n/2-i)*(e/2*(1/Math.sin(n/2)))-e/2||0,yExtra:Math.cos(o-n/2)*(e/2*(1/Math.sin(n/2)))-e/2||0}}r("rect",i),r("image",i),r("circle",s),r("marker",s),r("polyline",function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var a=y.f.getBBoxByArray(n,r),s=a.x,c=a.y;return{x:(t=u(t,{minX:s,minY:c,maxX:s+a.width,maxY:c+a.height})).minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY}}),r("polygon",function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return y.f.getBBoxByArray(n,r)}),r("text",function(t){var e,t=t.attr(),n=t.x,r=t.y,i=t.text,o=t.fontSize,a=t.lineHeight,s=(s=t.font)||Object(c.a)(t),s=Object(c.c)(i,s),a=s?(e=t.textAlign,t=t.textBaseline,o={x:n,y:r-(i=Object(c.b)(i,o,a))},e&&("end"===e||"right"===e?o.x-=s:"center"===e&&(o.x-=s/2)),t&&("top"===t?o.y+=i:"middle"===t&&(o.y+=i/2)),{x:o.x,y:o.y,width:s,height:i}):{x:n,y:r,width:0,height:0};return a}),r("path",function(t){var e=t.attr(),n=e.path,e=e.stroke?e.lineWidth:0,n=function(l,t){for(var e=[],h=[],d=[],n=0;n<l.length;n++){var r=(s=l[n]).currentPoint,i=s.params,f=s.prePoint,o=void 0;switch(s.command){case"Q":o=y.e.box(f[0],f[1],i[1],i[2],i[3],i[4]);break;case"C":o=y.b.box(f[0],f[1],i[1],i[2],i[3],i[4],i[5],i[6]);break;case"A":var a=s.arcParams,o=y.a.box(a.cx,a.cy,a.rx,a.ry,a.xRotation,a.startAngle,a.endAngle);break;default:e.push(r[0]),h.push(r[1])}o&&(s.box=o,e.push(o.x,o.x+o.width),h.push(o.y,o.y+o.height)),t&&("L"===s.command||"M"===s.command)&&s.prePoint&&s.nextPoint&&d.push(s)}var s,e=e.filter(function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}),h=h.filter(function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}),c=Object(_.min)(e),u=Object(_.min)(h),p=Object(_.max)(e),g=Object(_.max)(h);if(0===d.length)return{x:c,y:u,width:p-c,height:g-u};for(n=0;n<d.length;n++)(r=(s=d[n]).currentPoint)[0]===c?c-=m(s,t).xExtra:r[0]===p&&(p+=m(s,t).xExtra),r[1]===u?u-=m(s,t).yExtra:r[1]===g&&(g+=m(s,t).yExtra);return{x:c,y:u,width:p-c,height:g-u}}(t.get("segments")||Object(h.e)(n),e),e=n.x,r=n.y;return{x:(t=u(t,{minX:e,minY:r,maxX:e+n.width,maxY:r+n.height})).minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY}}),r("line",function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,e=e.y2;return{x:(t=u(t,{minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,e),maxY:Math.max(r,e)})).minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY}}),r("ellipse",function(t){var t=t.attr(),e=t.x,n=t.y,r=t.rx,t=t.ry;return{x:e-r,y:n-t,width:2*r,height:2*t}})},function(a,s,t){"use strict";var p=t(3),e=t(13),c=t(19),g=t(0),n=t(8),l=t(2),d=t(25);function h(t){return[{percent:t,type:"liquid"}]}function u(t){var e=t.chart,n=t.options,r=n.percent,i=n.liquidStyle,o=n.radius,a=n.outline,s=n.wave,c=n.shape,u=n.animation,r=(e.scale({percent:{min:0,max:1}}),e.data(h(r)),n.color||e.getTheme().defaultColor),n=Object(l.c)({},t,{options:{xField:"type",yField:"percent",widthRatio:o,interval:{color:r,style:i,shape:"liquid-fill-gauge"}}}),r=Object(d.c)(n).ext.geometry,i={radius:o,outline:a,wave:s,shape:c,background:e.getTheme().background,animation:u};return r.customInfo(i),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function r(t,e){var n=t.chart,r=t.options,i=r.statistic,o=r.percent,r=r.meta,r=(n.getController("annotation").clear(!0),Object(g.get)(r,["percent","formatter"])||function(t){return(100*t).toFixed(2)+"%"}),a=(a=i.content)&&Object(l.c)({},a,{content:Object(g.isNil)(a.content)?r(o):a.content});return Object(l.w)(n,{statistic:Object(p.a)(Object(p.a)({},i),{content:a}),plotType:"liquid"},{percent:o}),e&&n.render(!0),t}function f(t){return Object(l.f)(n.k,Object(n.f)("liquidStyle"),u,r,Object(n.g)({}),n.a,n.c)(t)}var y={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},v=t(156);function b(t,e,n){return t+(e-t)*n}function O(t,e,l,h,d,f,p){for(var g=4*Math.ceil(2*t/l*4),n=[],r=h;r<2*-Math.PI;)r+=2*Math.PI;for(;0<r;)r-=2*Math.PI;var i=f-t+(r=r/Math.PI/2*l)-2*t;n.push(["M",i,e]);for(var o,a,s,y=0,c=0;c<g;++c){o=c*l/4,a=l,s=d;var u=0===(u=c%4)?[[o+.5*a/Math.PI/2,s/2],[o+.5*a/Math.PI,s],[o+a/4,s]]:1===u?[[o+.5*a/Math.PI/2*(Math.PI-2),s],[o+.5*a/Math.PI/2*(Math.PI-1),s/2],[o+a/4,0]]:2===u?[[o+.5*a/Math.PI/2,-s/2],[o+.5*a/Math.PI,-s],[o+a/4,-s]]:[[o+.5*a/Math.PI/2*(Math.PI-2),-s],[o+.5*a/Math.PI/2*(Math.PI-1),-s/2],[o+a/4,0]];n.push(["C",u[0][0]+i,-u[0][1]+e,u[1][0]+i,-u[1][1]+e,u[2][0]+i,-u[2][1]+e]),c===g-1&&(y=u[2][0])}return n.push(["L",y+i,p+t]),n.push(["L",i,p+t]),n.push(["Z"]),n}var i,_={pin:function(t,e,n,r){var n=2*n/3,r=Math.max(n,r),n=n/2,i=t,o=n+e-r/2,a=Math.asin(n/(.85*(r-n))),s=Math.sin(a)*n,c=Math.cos(a)*n,i=i-c,s=o+s,u=t,o=o+n/Math.sin(a);return"\n      M "+i+" "+s+"\n      A "+n+" "+n+" 0 1 1 "+(i+2*c)+" "+s+"\n      Q "+u+" "+o+" "+t+" "+(e+r/2)+"\n      Q "+u+" "+o+" "+i+" "+s+"\n      Z \n    "},circle:function(t,e,n,r){n/=2,r/=2;return"\n      M "+t+" "+(e-r)+" \n      a "+n+" "+r+" 0 1 0 0 "+2*r+"\n      a "+n+" "+r+" 0 1 0 0 "+2*-r+"\n      Z\n    "},diamond:function(t,e,n,r){r/=2,n/=2;return"\n      M "+t+" "+(e-r)+"\n      L "+(t+n)+" "+e+"\n      L "+t+" "+(e+r)+"\n      L "+(t-n)+" "+e+"\n      Z\n    "},triangle:function(t,e,n,r){r/=2,n/=2;return"\n      M "+t+" "+(e-r)+"\n      L "+(t+n)+" "+(e+r)+"\n      L "+(t-n)+" "+(e+r)+"\n      Z\n    "},rect:function(t,e,n,r){r/=2,n=n/2*.618;return"\n      M "+(t-n)+" "+(e-r)+"\n      L "+(t+n)+" "+(e-r)+"\n      L "+(t+n)+" "+(e+r)+"\n      L "+(t-n)+" "+(e+r)+"\n      Z\n    "}};function o(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="liquid",t}Object(e.p)("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,r=n.radius,i=n.shape,l=n.background,h=n.animation,o=n.outline,n=n.wave,a=o.border,d=o.distance,f=n.count,n=n.length,s=Object(g.reduce)(t.points,function(t,e){return Math.min(t,e.x)},1/0),c=this.parsePoint({x:.5,y:.5}),s=this.parsePoint({x:s,y:.5}),u=c.x-s.x,u=Math.min(u,s.y*r),m=(s=t,r=Object(p.a)({opacity:1},s.style),s.color&&!r.fill&&(r.fill=s.color),r),o=(s=Object(g.mix)({},t,o),r=Object(g.mix)({},{fill:"#fff",fillOpacity:0,lineWidth:4},s.style),s.color&&!r.stroke&&(r.stroke=s.color),Object(g.isNumber)(s.opacity)&&(r.opacity=r.strokeOpacity=s.opacity),r),s=u-a/2,r=("function"==typeof i?i:_[i]||_.circle)(c.x,c.y,2*s,2*s),i=e.addGroup({name:"waves"}),s=i.setClip({type:"path",attrs:{path:r}});return function(t,e,n,r,i,l,h,o,d){for(var f=m.fill,p=m.opacity,a=l.getBBox(),g=a.maxX-a.minX,y=a.maxY-a.minY,s=0;s<r;s++){var c=r<=1?0:s/(r-1),u=i.addShape("path",{name:"waterwave-path",attrs:{path:O(h,a.minY+y*n,o,0,g/32,t,e),fill:f,opacity:b(.2,.9,c)*p}});try{if(!1===d)return;var _=Object(v.a)([["t",o,0]]);u.stopAnimate(),u.animate({matrix:_},{duration:b(2500,5e3,c),repeat:!0})}catch(t){console.warn("off-screen group animate error!")}}}(c.x,c.y,1-t.points[1].y,f,i,s,2*u,n,h),e.addShape("path",{name:"distance",attrs:{path:r,fill:"transparent",lineWidth:a+2*d,stroke:"transparent"===l?"#fff":l}}),e.addShape("path",{name:"wrap",attrs:Object(g.mix)(o,{path:r,fill:"transparent",lineWidth:a})}),e}}),i=c.b,Object(p.b)(o,i),o.getDefaultOptions=function(){return y},o.prototype.getDefaultOptions=function(){return o.getDefaultOptions()},o.prototype.changeData=function(t){this.chart.emit(e.i.BEFORE_CHANGE_DATA,e.d.fromData(this.chart,e.i.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(h(t)),r({chart:this.chart,options:this.options},!0),this.chart.emit(e.i.AFTER_CHANGE_DATA,e.d.fromData(this.chart,e.i.AFTER_CHANGE_DATA,null))},o.prototype.getSchemaAdaptor=function(){return f}},function(t,e,n){"use strict";var f=n(218),p=n(125),g=n(129),y=n(76);e.a=function(){var a=p.a,e=!1,n=1,r=1,s=[0],c=y.a,u=y.a,l=y.a,h=y.a,d=y.a;function i(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(o),s=[0],e&&t.eachBefore(f.a),t}function o(t){var e=s[t.depth],n=t.x0+e,r=t.y0+e,i=t.x1-e,o=t.y1-e;i<n&&(n=i=(n+i)/2),o<r&&(r=o=(r+o)/2),t.x0=n,t.y0=r,t.x1=i,t.y1=o,t.children&&(e=s[t.depth+1]=c(t)/2,n+=d(t)-e,r+=u(t)-e,(i-=l(t)-e)<n&&(n=i=(n+i)/2),(o-=h(t)-e)<r&&(r=o=(r+o)/2),a(t,n,r,i,o))}return i.round=function(t){return arguments.length?(e=!!t,i):e},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.tile=function(t){return arguments.length?(a=Object(g.b)(t),i):a},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(c="function"==typeof t?t:Object(y.b)(+t),i):c},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:Object(y.b)(+t),i):u},i.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:Object(y.b)(+t),i):l},i.paddingBottom=function(t){return arguments.length?(h="function"==typeof t?t:Object(y.b)(+t),i):h},i.paddingLeft=function(t){return arguments.length?(d="function"==typeof t?t:Object(y.b)(+t),i):d},i}},function(l,t,e){"use strict";e.d(t,"a",function(){return o});var n,s=e(13),t=e(3),c=e(0),u=e(156),h=(n=s.a,Object(t.b)(r,n),r.prototype.getActiveElements=function(){var t=s.h.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,r=t.item,i=n.get("field");if(i)return e.geometries[0].elements.filter(function(t){return t.getModel().data[i]===r.value})}return[]},r.prototype.getActiveElementLabels=function(){var t=this.context.view,n=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter(function(e){return n.find(function(t){return Object(c.isEqual)(t.getData(),e.get("data"))})})},r.prototype.transfrom=function(o){void 0===o&&(o=7.5);var t=this.getActiveElements(),a=this.getActiveElementLabels();t.forEach(function(t,e){var n,r,e=a[e],i=t.geometry.coordinate;i.isPolar&&i.isTransposed&&(i=((i=s.h.getAngle(t.getModel(),i)).startAngle+i.endAngle)/2,n=(r=o)*Math.cos(i),r=r*Math.sin(i),t.shape.setMatrix(Object(u.a)([["t",n,r]])),e.setMatrix(Object(u.a)([["t",n,r]])))})},r.prototype.active=function(){this.transfrom()},r.prototype.reset=function(){this.transfrom(0)},r),d=e(149);function r(){return null!==n&&n.apply(this,arguments)||this}i=s.a,Object(t.b)(a,i),a.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},a.prototype.getInitialAnnotation=function(){return this.initialAnnotation},a.prototype.init=function(){var e=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var t=e.getAnnotations(n);e.initialAnnotation=t})},a.prototype.change=function(t){var e,n,r=this.context,i=r.view,r=r.event,o=(this.initialAnnotation||(this.initialAnnotation=this.getAnnotations()),Object(c.get)(r,["data","data"]));r.type.match("legend-item")&&(r=s.h.getDelegationObject(this.context),e=i.getGroupedFields()[0],r&&e&&(n=r.item,o=i.getData().find(function(t){return t[e]===n.value}))),o&&(r=Object(c.get)(t,"annotations",[]),t=Object(c.get)(t,"statistic",{}),i.getController("annotation").clear(!0),Object(c.each)(r,function(t){"object"==typeof t&&i.annotation()[t.type](t)}),Object(d.b)(i,{statistic:t,plotType:"pie"},o),i.render(!0));var a;a=(r=this.context.event.target)?r.get("element"):a;a&&a.shape.toFront()},a.prototype.reset=function(){var e=this.context.view,t=(e.getController("annotation").clear(!0),this.getInitialAnnotation());Object(c.each)(t,function(t){e.annotation()[t.type](t)}),e.render(!0)};var i,e=a,o="pie-statistic";function a(){return null!==i&&i.apply(this,arguments)||this}Object(s.l)(o,e),Object(s.o)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Object(s.l)("pie-legend",h),Object(s.o)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdLine});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(564),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state","recentlyTooltipChangeRecord","recentlyPointClickRecord"],AntdLine=function(_Component){_inherits(AntdLine,_Component);var _super=_createSuper(AntdLine);function AntdLine(t){return _classCallCheck(this,AntdLine),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdLine,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _point$color,_point$shape,_point$style,_xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_slider$formatter,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,xField=_this$props.xField,yField=_this$props.yField,seriesField=_this$props.seriesField,smooth=_this$props.smooth,stepType=_this$props.stepType,connectNulls=_this$props.connectNulls,isStack=_this$props.isStack,color=_this$props.color,lineStyle=_this$props.lineStyle,point=_this$props.point,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,slider=_this$props.slider,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,padding:padding,appendPadding:appendPadding,xField:xField,yField:yField,seriesField:seriesField,smooth:smooth,stepType:stepType,connectNulls:connectNulls,isStack:isStack,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.lineStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(lineStyle),null!=lineStyle&&lineStyle.func&&(config.lineStyle=eval(lineStyle.func)),config.point=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(point),null!=point&&null!==(_point$color=point.color)&&void 0!==_point$color&&_point$color.func&&(config.point.color=eval(point.color.func)),null!=point&&null!==(_point$shape=point.shape)&&void 0!==_point$shape&&_point$shape.func&&(config.point.shape=eval(point.shape.func)),null!=point&&null!==(_point$style=point.style)&&void 0!==_point$style&&_point$style.func&&(config.point.style=eval(point.style.func)),config.xAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(xAxis),null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(yAxis),null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config.slider=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(slider),null!=slider&&null!==(_slider$formatter=slider.formatter)&&void 0!==_slider$formatter&&_slider$formatter.func&&(config.slider.formatter=eval(slider.formatter.func)),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef,onReady:function(t){var n;t.on("tooltip:change",function(t){n={timestamp:(new Date).valueOf(),data:t.data.items.map(function(t){return t.data})},setProps({recentlyTooltipChangeRecord:n})}),t.on("element:click",function(e){Array.isArray(e.data.data)?setProps({recentlyPointClickRecord:{timestamp:(new Date).valueOf(),data:n.data.filter(function(t){return t[seriesField]===e.data.data[0][seriesField]})[0]}}):setProps({recentlyPointClickRecord:{timestamp:(new Date).valueOf(),data:e.data.data}})})}},config))}}]),AntdLine}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdLine.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,xField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,yField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,seriesField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,smooth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,stepType:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,connectNulls:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isStack:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),lineStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.g,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),point:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),shape:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.i,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})])}),xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["auto"])]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["canvas","svg"]),locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["zh-CN","en-US"]),limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,slider:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.k,recentlyTooltipChangeRecord:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({timestamp:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object)}),recentlyPointClickRecord:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({timestamp:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object}),downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdLine.defaultProps={downloadTrigger:"download-trigger"}},function(t,e){},function(t,e){},function(t,l){var n,r,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function h(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}var a,s=[],c=!1,u=-1;function d(){c&&a&&(c=!1,a.length?s=a.concat(s):u=-1,s.length&&f())}function f(){if(!c){var t=h(d);c=!0;for(var e=s.length;e;){for(a=s,s=[];++u<e;)a&&a[u].run();u=-1,e=s.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return(r=clearTimeout)(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function e(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new p(t,e)),1!==s.length||c||h(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=e,t.addListener=e,t.once=e,t.off=e,t.removeListener=e,t.removeAllListeners=e,t.emit=e,t.prependListener=e,t.prependOnceListener=e,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e,n){"use strict";var i,r=n(90),n=(i=n(209).a,Object(r.a)(o,i),o.prototype.isGroup=function(){return!0},o.prototype.isEntityGroup=function(){return!1},o.prototype.clone=function(){for(var t=i.prototype.clone.call(this),e=this.getChildren(),n=0;n<e.length;n++){var r=e[n];t.add(r.clone())}return t},o);function o(){return null!==i&&i.apply(this,arguments)||this}e.a=n},function(t,e,n){"use strict";var r,i=n(90),o=n(210),u=n(78),n=(r=o.a,Object(i.a)(a,r),a.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},a.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},a.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},a.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},a.prototype.applyMatrix=function(t){r.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},a.prototype.calculateCanvasBBox=function(){var t,e,n,r=this.getBBox(),i=this.getTotalMatrix(),o=r.minX,a=r.minY,s=r.maxX,c=r.maxY,r=(i&&(e=Object(u.c)(i,[r.minX,r.minY]),t=Object(u.c)(i,[r.maxX,r.minY]),n=Object(u.c)(i,[r.minX,r.maxY]),i=Object(u.c)(i,[r.maxX,r.maxY]),o=Math.min(e[0],t[0],n[0],i[0]),s=Math.max(e[0],t[0],n[0],i[0]),a=Math.min(e[1],t[1],n[1],i[1]),c=Math.max(e[1],t[1],n[1],i[1])),this.attrs);return r.shadowColor&&(e=s+(t=void 0===(e=r.shadowBlur)?0:e)+(i=void 0===(n=r.shadowOffsetX)?0:n),n=a-t+(r=void 0===(n=r.shadowOffsetY)?0:n),r=c+t+r,o=Math.min(o,o-t+i),s=Math.max(s,e),a=Math.min(a,n),c=Math.max(c,r)),{x:o,y:a,minX:o,minY:a,maxX:s,maxY:c,width:s-o,height:c-a}},a.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},a.prototype.isClipShape=function(){return this.get("isClipShape")},a.prototype.isInShape=function(t,e){return!1},a.prototype.isOnlyHitBox=function(){return!1},a.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),e=(t=this.invertFromMatrix([t,e,1]))[0],t=t[1],i=this._isInBBox(e,t);if(this.isOnlyHitBox())return i;if(i&&!this.isClipped(e,t)){if(this.isInShape(e,t))return!0;if(n&&n.isHit(e,t))return!0;if(r&&r.isHit(e,t))return!0}return!1},a);function a(t){return r.call(this,t)||this}e.a=n},function(t,e){},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(i){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:60,a=null;return function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];clearTimeout(a),a=setTimeout(function(){i.apply(t,n)},o)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SensorTabIndex=e.SensorClassName=e.SizeSensorId=void 0,e.SizeSensorId="size-sensor-id",e.SensorClassName="size-sensor-object",e.SensorTabIndex="-1"},function(t,e,n){"use strict";n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263)},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n=n(13);Object(n.o)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},function(t,e,n){"use strict";var c=n(218),u=n(98);e.a=function(){var n=1,r=1,s=0,i=!1;function e(t){var o,a,e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=r/e,t.eachBefore((o=r,a=e,function(t){t.children&&Object(u.a)(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,r=t.x1-s,i=t.y1-s;r<e&&(e=r=(e+r)/2),i<n&&(n=i=(n+i)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=i})),i&&t.eachBefore(c.a),t}return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(s=+t,e):s},e}},function(n,t,e){"use strict";var c=e(180),a=e(129),s=e(76);function u(t){return Math.sqrt(t.value)}function l(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function h(a,s){return function(t){if(e=t.children){var e,n,r,i=e.length,o=a(t)*s||0;if(o)for(n=0;n<i;++n)e[n].r+=o;if(r=Object(c.b)(e),o)for(n=0;n<i;++n)e[n].r-=o;t.r=r+o}}}function d(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}t.a=function(){var e=null,n=1,r=1,i=s.a;function o(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(l(e)).eachAfter(h(i,.5)).eachBefore(d(1)):t.eachBefore(l(u)).eachAfter(h(s.a,1)).eachAfter(h(i,t.r/Math.min(n,r))).eachBefore(d(Math.min(n,r)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(e=Object(a.a)(t),o):e},o.size=function(t){return arguments.length?(n=+t[0],r=+t[1],o):[n,r]},o.padding=function(t){return arguments.length?(i="function"==typeof t?t:Object(s.b)(+t),o):i},o}},function(t,e,n){"use strict";var i,r=n(3),o=n(2);function a(t,e,n,r){t=i.call(this,t,Object(o.c)({},r,e))||this;return t.type="g2-plot",t.defaultOptions=r,t.adaptor=n,t}i=n(19).b,Object(r.b)(a,i),a.prototype.getDefaultOptions=function(){return this.defaultOptions},a.prototype.getSchemaAdaptor=function(){return this.adaptor}},function(t,e,n){"use strict";var r,i=n(132);(n=r=r||{}).DEV="DEV",n.BETA="BETA",n.STABLE="STABLE",Object.defineProperty(function(){},"MultiView",{get:function(){var t=r.STABLE,e="MultiView";return console.warn(t===r.DEV?"Plot '"+e+"' is in DEV stage, just give us issues.":t===r.BETA?"Plot '"+e+"' is in BETA stage, DO NOT use it in production env.":t===r.STABLE?"Plot '"+e+"' is in STABLE stage, import it by \"import { "+e+" } from '@antv/g2plot'\".":"invalid Stage type."),i.a},enumerable:!1,configurable:!0})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdArea});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(565),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdArea=function(_Component){_inherits(AntdArea,_Component);var _super=_createSuper(AntdArea);function AntdArea(t){return _classCallCheck(this,AntdArea),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdArea,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _line$color,_line$style,_point$color,_point$shape,_point$style,_xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_slider$formatter,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,xField=_this$props.xField,yField=_this$props.yField,seriesField=_this$props.seriesField,smooth=_this$props.smooth,isPercent=_this$props.isPercent,startOnZero=_this$props.startOnZero,isStack=_this$props.isStack,color=_this$props.color,areaStyle=_this$props.areaStyle,line=_this$props.line,point=_this$props.point,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,slider=_this$props.slider,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,meta:meta,padding:padding,appendPadding:appendPadding,xField:xField,yField:yField,seriesField:seriesField,smooth:smooth,isPercent:isPercent,startOnZero:startOnZero,isStack:isStack,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.areaStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(areaStyle),null!=areaStyle&&areaStyle.func&&(config.areaStyle=eval(areaStyle.func)),config.line=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(line),null!=line&&null!==(_line$color=line.color)&&void 0!==_line$color&&_line$color.func&&(config.line.color=eval(line.color.func)),null!=line&&null!==(_line$style=line.style)&&void 0!==_line$style&&_line$style.func&&(config.line.style=eval(line.style.func)),config.point=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(point),null!=point&&null!==(_point$color=point.color)&&void 0!==_point$color&&_point$color.func&&(config.point.color=eval(point.color.func)),null!=point&&null!==(_point$shape=point.shape)&&void 0!==_point$shape&&_point$shape.func&&(config.point.shape=eval(point.shape.func)),null!=point&&null!==(_point$style=point.style)&&void 0!==_point$style&&_point$style.func&&(config.point.style=eval(point.style.func)),config.xAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(xAxis),null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(yAxis),null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config.slider=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(slider),null!=slider&&null!==(_slider$formatter=slider.formatter)&&void 0!==_slider$formatter&&_slider$formatter.func&&(config.slider.formatter=eval(slider.formatter.func)),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,ref:this.chartRef,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0},config))}}]),AntdArea}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdArea.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,xField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,yField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,seriesField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,smooth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isPercent:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isStack:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,startOnZero:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,areaStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.b,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),line:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.g,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})])}),point:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),shape:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.i,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})])}),xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,slider:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.k,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdArea.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdBar});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(566),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdBar=function(_Component){_inherits(AntdBar,_Component);var _super=_createSuper(AntdBar);function AntdBar(t){return _classCallCheck(this,AntdBar),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdBar,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _conversionTag$text,_conversionTag$text$f,_xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,xField=_this$props.xField,yField=_this$props.yField,seriesField=_this$props.seriesField,groupField=_this$props.groupField,isStack=_this$props.isStack,isGroup=_this$props.isGroup,isRange=_this$props.isRange,isPercent=_this$props.isPercent,color=_this$props.color,intervalPadding=_this$props.intervalPadding,dodgePadding=_this$props.dodgePadding,minBarWidth=_this$props.minBarWidth,maxBarWidth=_this$props.maxBarWidth,barStyle=_this$props.barStyle,barBackground=_this$props.barBackground,barWidthRatio=_this$props.barWidthRatio,marginRatio=_this$props.marginRatio,scrollbar=_this$props.scrollbar,conversionTag=_this$props.conversionTag,connectedArea=_this$props.connectedArea,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,meta:meta,padding:padding,appendPadding:appendPadding,xField:xField,yField:yField,seriesField:seriesField,groupField:groupField,isStack:isStack,isGroup:isGroup,isRange:isRange,isPercent:isPercent,intervalPadding:intervalPadding,dodgePadding:dodgePadding,minBarWidth:minBarWidth,maxBarWidth:maxBarWidth,barBackground:barBackground,barWidthRatio:barWidthRatio,marginRatio:marginRatio,scrollbar:scrollbar,connectedArea:connectedArea,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.conversionTag=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(conversionTag),null!=conversionTag&&null!==(_conversionTag$text=conversionTag.text)&&void 0!==_conversionTag$text&&null!==(_conversionTag$text$f=_conversionTag$text.formatter)&&void 0!==_conversionTag$text$f&&_conversionTag$text$f.func&&(config.conversionTag.text.formatter=eval(conversionTag.text.formatter.func)),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.barStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(barStyle),null!=barStyle&&barStyle.func&&(config.barStyle=eval(barStyle.func)),config.xAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(xAxis),null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(yAxis),null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdBar}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdBar.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,xField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,yField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,seriesField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,groupField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,isStack:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isGroup:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isRange:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isPercent:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),intervalPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,dodgePadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,minBarWidth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,maxBarWidth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,barStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),barBackground:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({style:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.b}),barWidthRatio:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,marginRatio:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,scrollbar:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.j,conversionTag:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({size:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,spacing:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,offset:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,arrow:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({headSize:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number})]),text:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({formatter:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),style:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.l})])}),connectedArea:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({trigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string])}),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool]),xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdBar.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdColumn});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(567),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdColumn=function(_Component){_inherits(AntdColumn,_Component);var _super=_createSuper(AntdColumn);function AntdColumn(t){return _classCallCheck(this,AntdColumn),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdColumn,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _conversionTag$text,_conversionTag$text$f,_xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_slider$formatter,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,xField=_this$props.xField,yField=_this$props.yField,seriesField=_this$props.seriesField,groupField=_this$props.groupField,isStack=_this$props.isStack,isGroup=_this$props.isGroup,isRange=_this$props.isRange,isPercent=_this$props.isPercent,color=_this$props.color,intervalPadding=_this$props.intervalPadding,dodgePadding=_this$props.dodgePadding,minColumnWidth=_this$props.minColumnWidth,maxColumnWidth=_this$props.maxColumnWidth,columnStyle=_this$props.columnStyle,columnBackground=_this$props.columnBackground,columnWidthRatio=_this$props.columnWidthRatio,marginRatio=_this$props.marginRatio,scrollbar=_this$props.scrollbar,conversionTag=_this$props.conversionTag,connectedArea=_this$props.connectedArea,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,slider=_this$props.slider,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,meta:meta,padding:padding,appendPadding:appendPadding,xField:xField,yField:yField,seriesField:seriesField,groupField:groupField,isStack:isStack,isGroup:isGroup,isRange:isRange,isPercent:isPercent,intervalPadding:intervalPadding,dodgePadding:dodgePadding,minColumnWidth:minColumnWidth,maxColumnWidth:maxColumnWidth,columnBackground:columnBackground,columnWidthRatio:columnWidthRatio,marginRatio:marginRatio,scrollbar:scrollbar,connectedArea:connectedArea,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.conversionTag=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(conversionTag),null!=conversionTag&&null!==(_conversionTag$text=conversionTag.text)&&void 0!==_conversionTag$text&&null!==(_conversionTag$text$f=_conversionTag$text.formatter)&&void 0!==_conversionTag$text$f&&_conversionTag$text$f.func&&(config.conversionTag.text.formatter=eval(conversionTag.text.formatter.func)),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.columnStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(columnStyle),null!=columnStyle&&columnStyle.func&&(config.columnStyle=eval(columnStyle.func)),config.xAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(xAxis),null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(yAxis),null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config.slider=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(slider),null!=slider&&null!==(_slider$formatter=slider.formatter)&&void 0!==_slider$formatter&&_slider$formatter.func&&(config.slider.formatter=eval(slider.formatter.func)),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdColumn}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdColumn.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,xField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,yField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,seriesField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,groupField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,isStack:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isGroup:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isRange:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isPercent:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),slider:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.k,intervalPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,dodgePadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,minColumnWidth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,maxColumnWidth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,columnStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),columnBackground:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({style:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.b}),columnWidthRatio:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,marginRatio:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,scrollbar:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.j,conversionTag:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({size:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,spacing:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,offset:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,arrow:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({headSize:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number})]),text:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({formatter:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),style:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.l})])}),connectedArea:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({trigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string])}),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool]),xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdColumn.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdPie});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(568),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdPie=function(_Component){_inherits(AntdPie,_Component);var _super=_createSuper(AntdPie);function AntdPie(t){return _classCallCheck(this,AntdPie),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdPie,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _statistic$title,_statistic$title$form,_statistic$content,_statistic$content$fo,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,angleField=_this$props.angleField,colorField=_this$props.colorField,radius=_this$props.radius,innerRadius=_this$props.innerRadius,startAngle=_this$props.startAngle,endAngle=_this$props.endAngle,color=_this$props.color,statistic=_this$props.statistic,pieStyle=_this$props.pieStyle,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,theme=_this$props.theme,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,padding:padding,appendPadding:appendPadding,angleField:angleField,colorField:colorField,radius:radius,innerRadius:innerRadius,startAngle:startAngle,endAngle:endAngle,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.pieStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(pieStyle),null!=pieStyle&&pieStyle.func&&(config.pieStyle=eval(pieStyle.func)),config.statistic=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(statistic),null!=statistic&&null!==(_statistic$title=statistic.title)&&void 0!==_statistic$title&&null!==(_statistic$title$form=_statistic$title.formatter)&&void 0!==_statistic$title$form&&_statistic$title$form.func&&(config.title.formatter=eval(statistic.title.formatter.func)),null!=statistic&&null!==(_statistic$content=statistic.content)&&void 0!==_statistic$content&&null!==(_statistic$content$fo=_statistic$content.formatter)&&void 0!==_statistic$content$fo&&_statistic$content$fo.func&&(config.content.formatter=eval(statistic.content.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdPie}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdPie.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,angleField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,colorField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,radius:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,innerRadius:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,startAngle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,endAngle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),statistic:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({title:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,content:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,formatter:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),rotate:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,offsetX:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,offsetY:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number})]),content:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,content:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,formatter:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),rotate:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,offsetX:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,offsetY:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number})])}),pieStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdPie.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdScatter});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(569),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdScatter=function(_Component){_inherits(AntdScatter,_Component);var _super=_createSuper(AntdScatter);function AntdScatter(t){return _classCallCheck(this,AntdScatter),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdScatter,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_regressionLine$algor,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,xField=_this$props.xField,yField=_this$props.yField,colorField=_this$props.colorField,sizeField=_this$props.sizeField,shapeField=_this$props.shapeField,size=_this$props.size,shape=_this$props.shape,color=_this$props.color,pointStyle=_this$props.pointStyle,shapeLegend=_this$props.shapeLegend,sizeLegend=_this$props.sizeLegend,quadrant=_this$props.quadrant,regressionLine=_this$props.regressionLine,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,meta:meta,padding:padding,appendPadding:appendPadding,xField:xField,yField:yField,colorField:colorField,sizeField:sizeField,shapeField:shapeField,shapeLegend:shapeLegend,sizeLegend:sizeLegend,quadrant:quadrant,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.size=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(size),null!=size&&size.func&&(config.size=eval(size.func)),config.shape=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(shape),null!=shape&&shape.func&&(config.shape=eval(shape.func)),config.pointStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(pointStyle),null!=pointStyle&&pointStyle.func&&(config.pointStyle=eval(pointStyle.func)),config.xAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(xAxis),null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(yAxis),null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config.regressionLine=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(regressionLine),null!=regressionLine&&null!==(_regressionLine$algor=regressionLine.algorithm)&&void 0!==_regressionLine$algor&&_regressionLine$algor.func&&(config.regressionLine.algorithm=eval(regressionLine.algorithm.func)),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdScatter}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdScatter.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,xField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,yField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,colorField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,sizeField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,shapeField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),size:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),shape:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),pointStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.i,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),shapeLegend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,sizeLegend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,quadrant:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({xBaseline:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,yBaseline:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,lineStyle:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.g,regionStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d)]),labels:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({content:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,position:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),style:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.l}))}),regressionLine:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({type:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["exp","linear","loess","log","poly","pow","quad"]),style:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.g,algorithm:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),top:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool}),xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdScatter.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdStock});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(570),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdStock=function(_Component){_inherits(AntdStock,_Component);var _super=_createSuper(AntdStock);function AntdStock(t){return _classCallCheck(this,AntdStock),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdStock,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_slider$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,xField=_this$props.xField,yField=_this$props.yField,risingFill=_this$props.risingFill,fallingFill=_this$props.fallingFill,stockStyle=_this$props.stockStyle,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,slider=_this$props.slider,theme=_this$props.theme,loading_state=_this$props.loading_state,setProps=_this$props.setProps,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,padding:padding,appendPadding:appendPadding,xField:xField,yField:yField,risingFill:risingFill,fallingFill:fallingFill,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.stockStyle=stockStyle,null!=stockStyle&&stockStyle.func&&(config.stockStyle=eval(stockStyle.func)),config.xAxis=xAxis,null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=yAxis,null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=legend,null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=label,null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.annotations=annotations,config.slider=slider,null!=slider&&null!==(_slider$formatter=slider.formatter)&&void 0!==_slider$formatter&&_slider$formatter.func&&(config.slider.formatter=eval(slider.formatter.func)),config.tooltip=tooltip,null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.tooltip=_objectSpread(_objectSpread({},config.tooltip),{},{crosshairs:{line:{style:{lineWidth:.5,stroke:"rgba(0,0,0,0.25)"}},text:function(t,e,n){return{position:"y"===t?"start":"end",content:"x"===t?(t=n[0])?t.title:e:"".concat(e.toFixed(2)),style:{fill:"#dfdfdf"}}},textBackground:{padding:[4,8],style:{fill:"#363636"}}}}),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdStock}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdStock.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number]))).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,xField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,yField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string).isRequired,risingFill:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,fallingFill:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,stockStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["auto"])]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["auto"])]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["canvas","svg"]),locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["zh-CN","en-US"]),limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,slider:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.k,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdStock.defaultProps={risingFill:"#ef5350",fallingFill:"#26a69a",downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdRadar});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(571),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdRadar=function(_Component){_inherits(AntdRadar,_Component);var _super=_createSuper(AntdRadar);function AntdRadar(t){return _classCallCheck(this,AntdRadar),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdRadar,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _point$color,_point$shape,_point$style,_area$color,_area$style,_xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,xField=_this$props.xField,yField=_this$props.yField,seriesField=_this$props.seriesField,smooth=_this$props.smooth,radius=_this$props.radius,startAngle=_this$props.startAngle,endAngle=_this$props.endAngle,color=_this$props.color,lineStyle=_this$props.lineStyle,point=_this$props.point,area=_this$props.area,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,meta:meta,padding:padding,appendPadding:appendPadding,xField:xField,yField:yField,seriesField:seriesField,smooth:smooth,radius:radius,startAngle:startAngle,endAngle:endAngle,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.lineStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(lineStyle),null!=lineStyle&&lineStyle.func&&(config.lineStyle=eval(lineStyle.func)),config.point=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(point),null!=point&&null!==(_point$color=point.color)&&void 0!==_point$color&&_point$color.func&&(config.point.color=eval(point.color.func)),null!=point&&null!==(_point$shape=point.shape)&&void 0!==_point$shape&&_point$shape.func&&(config.point.shape=eval(point.shape.func)),null!=point&&null!==(_point$style=point.style)&&void 0!==_point$style&&_point$style.func&&(config.point.style=eval(point.style.func)),config.area=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(area),null!=area&&null!==(_area$color=area.color)&&void 0!==_area$color&&_area$color.func&&(config.area.color=eval(area.color.func)),null!=area&&null!==(_area$style=area.style)&&void 0!==_area$style&&_area$style.func&&(config.area.style=eval(area.style.func)),config.xAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(xAxis),null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(yAxis),null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdRadar}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdRadar.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,xField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,yField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,seriesField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,smooth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,radius:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,startAngle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,endAngle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),lineStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.g,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),point:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),shape:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.i,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})])}),area:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({smooth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.b,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})])}),xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdRadar.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdSunburst});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(572),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdSunburst=function(_Component){_inherits(AntdSunburst,_Component);var _super=_createSuper(AntdSunburst);function AntdSunburst(t){return _classCallCheck(this,AntdSunburst),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdSunburst,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _label$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,colorField=_this$props.colorField,rawFields=_this$props.rawFields,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,hierarchyConfig=_this$props.hierarchyConfig,drilldown=_this$props.drilldown,radius=_this$props.radius,innerRadius=_this$props.innerRadius,color=_this$props.color,sunburstStyle=_this$props.sunburstStyle,reflect=_this$props.reflect,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,colorField:colorField,rawFields:rawFields,width:width,height:height,autoFit:autoFit,padding:padding,appendPadding:appendPadding,renderer:renderer,locale:locale,limitInPlot:limitInPlot,radius:radius,innerRadius:innerRadius,drilldown:drilldown,theme:theme,reflect:reflect?"y":void 0}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.hierarchyConfig=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(hierarchyConfig),config.sunburstStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(sunburstStyle),null!=sunburstStyle&&sunburstStyle.func&&(config.sunburstStyle=eval(sunburstStyle.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdSunburst}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdSunburst.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,colorField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,rawFields:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["auto"])]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["canvas","svg"]),locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["zh-CN","en-US"]),limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,hierarchyConfig:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({field:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,ignoreParentValue:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool}),drilldown:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({enabled:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,breadCrumb:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({rootText:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,dividerText:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,textStyle:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.l,activeTextStyle:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.l,position:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["top-left","bottom-left"])})}),radius:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,innerRadius:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),sunburstStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.b,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),reflect:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdSunburst.defaultProps={reflect:!1,downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdChord});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(573),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdChord=function(_Component){_inherits(AntdChord,_Component);var _super=_createSuper(AntdChord);function AntdChord(t){return _classCallCheck(this,AntdChord),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdChord,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,sourceField=_this$props.sourceField,targetField=_this$props.targetField,weightField=_this$props.weightField,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,nodeStyle=_this$props.nodeStyle,edgeStyle=_this$props.edgeStyle,nodeWidthRatio=_this$props.nodeWidthRatio,nodePaddingRatio=_this$props.nodePaddingRatio,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,sourceField:sourceField,targetField:targetField,weightField:weightField,width:width,height:height,autoFit:autoFit,padding:padding,appendPadding:appendPadding,renderer:renderer,locale:locale,limitInPlot:limitInPlot,nodeWidthRatio:nodeWidthRatio,nodePaddingRatio:nodePaddingRatio,theme:theme}),config.nodeStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(nodeStyle),null!=nodeStyle&&nodeStyle.func&&(config.nodeStyle=eval(nodeStyle.func)),config.edgeStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(edgeStyle),null!=edgeStyle&&edgeStyle.func&&(config.edgeStyle=eval(edgeStyle.func)),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdChord}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdChord.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object),meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,sourceField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,targetField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,weightField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["auto"])]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["canvas","svg"]),locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["zh-CN","en-US"]),limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,nodeStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.b,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),edgeStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.b,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),nodeWidthRatio:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,nodePaddingRatio:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdChord.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdWordCloud});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(574),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state","recentlyWordClickRecord"],AntdWordCloud=function(_Component){_inherits(AntdWordCloud,_Component);var _super=_createSuper(AntdWordCloud);function AntdWordCloud(t){return _classCallCheck(this,AntdWordCloud),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdWordCloud,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,wordField=_this$props.wordField,weightField=_this$props.weightField,colorField=_this$props.colorField,spiral=_this$props.spiral,placementStrategy=_this$props.placementStrategy,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,wordStyle=_this$props.wordStyle,imageMask=_this$props.imageMask,color=_this$props.color,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,wordField:wordField,weightField:weightField,colorField:colorField,spiral:spiral,width:width,height:height,autoFit:autoFit,padding:padding,appendPadding:appendPadding,renderer:renderer,locale:locale,limitInPlot:limitInPlot,theme:theme,imageMask:imageMask}),config.placementStrategy=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(placementStrategy),null!=placementStrategy&&placementStrategy.func&&(config.placementStrategy=eval(placementStrategy.func)),config.wordStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(wordStyle),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef,onReady:function(t){t.on("element:click",function(t){setProps({recentlyWordClickRecord:{timestamp:(new Date).valueOf(),data:t.data.mappingData._origin.datum}})})}},config))}}]),AntdWordCloud}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdWordCloud.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object),meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,wordField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,weightField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,colorField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,spiral:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["archimedean","rectangular"]),placementStrategy:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["auto"])]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["canvas","svg"]),locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["zh-CN","en-US"]),limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,wordStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({fontFamily:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,fontWeight:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,fontSize:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)}),imageMask:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,recentlyWordClickRecord:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({timestamp:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object}),downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdWordCloud.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdSankey});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(575),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdSankey=function(_Component){_inherits(AntdSankey,_Component);var _super=_createSuper(AntdSankey);function AntdSankey(t){return _classCallCheck(this,AntdSankey),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdSankey,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,sourceField=_this$props.sourceField,targetField=_this$props.targetField,weightField=_this$props.weightField,rawFields=_this$props.rawFields,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,nodeStyle=_this$props.nodeStyle,edgeStyle=_this$props.edgeStyle,color=_this$props.color,nodeWidthRatio=_this$props.nodeWidthRatio,nodePaddingRatio=_this$props.nodePaddingRatio,nodeAlign=_this$props.nodeAlign,nodeDraggable=_this$props.nodeDraggable,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,sourceField:sourceField,targetField:targetField,weightField:weightField,rawFields:rawFields,width:width,height:height,autoFit:autoFit,padding:padding,appendPadding:appendPadding,renderer:renderer,locale:locale,limitInPlot:limitInPlot,nodeWidthRatio:nodeWidthRatio,nodePaddingRatio:nodePaddingRatio,nodeAlign:nodeAlign,nodeDraggable:nodeDraggable,theme:theme}),config.nodeStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(nodeStyle),null!=nodeStyle&&nodeStyle.func&&(config.nodeStyle=eval(nodeStyle.func)),config.edgeStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(edgeStyle),null!=edgeStyle&&edgeStyle.func&&(config.edgeStyle=eval(edgeStyle.func)),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdSankey}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdSankey.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object),meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,sourceField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,targetField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,weightField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,rawFields:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["auto"])]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["canvas","svg"]),locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["zh-CN","en-US"]),limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,nodeStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.b,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),edgeStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.b,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),nodeWidthRatio:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,nodePaddingRatio:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,nodeAlign:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["left","right","center","justify"]),nodeDraggable:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdSankey.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdRose});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(576),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdRose=function(_Component){_inherits(AntdRose,_Component);var _super=_createSuper(AntdRose);function AntdRose(t){return _classCallCheck(this,AntdRose),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdRose,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,xField=_this$props.xField,yField=_this$props.yField,seriesField=_this$props.seriesField,isGroup=_this$props.isGroup,isStack=_this$props.isStack,radius=_this$props.radius,innerRadius=_this$props.innerRadius,startAngle=_this$props.startAngle,endAngle=_this$props.endAngle,color=_this$props.color,sectorStyle=_this$props.sectorStyle,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,theme=_this$props.theme,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,padding:padding,appendPadding:appendPadding,xField:xField,yField:yField,seriesField:seriesField,isGroup:isGroup,isStack:isStack,radius:radius,innerRadius:innerRadius,startAngle:startAngle,endAngle:endAngle,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.sectorStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(sectorStyle),null!=sectorStyle&&sectorStyle.func&&(config.pieStyle=eval(sectorStyle.func)),config.xAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(xAxis),null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(yAxis),null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdRose}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdRose.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,xField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,yField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,seriesField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,isGroup:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,isStack:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,radius:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,innerRadius:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,startAngle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,endAngle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),sectorStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdRose.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdTreemap});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(577),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdTreemap=function(_Component){_inherits(AntdTreemap,_Component);var _super=_createSuper(AntdTreemap);function AntdTreemap(t){return _classCallCheck(this,AntdTreemap),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdTreemap,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,colorField=_this$props.colorField,rawFields=_this$props.rawFields,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,rectStyle=_this$props.rectStyle,color=_this$props.color,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,interactions=_this$props.interactions,animation=_this$props.animation,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,colorField:colorField,rawFields:rawFields,width:width,height:height,autoFit:autoFit,padding:padding,appendPadding:appendPadding,renderer:renderer,locale:locale,limitInPlot:limitInPlot,interactions:interactions,animation:animation,theme:theme}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.rectStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(rectStyle),null!=rectStyle&&rectStyle.func&&(config.pieStyle=eval(rectStyle.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdTreemap}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdTreemap.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,colorField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,rawFields:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["auto"])]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["canvas","svg"]),locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["zh-CN","en-US"]),limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,rectStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,interactions:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({type:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["treemap-drill-down","view-zoom","drag-move"]).isRequired})),animation:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdTreemap.defaultProps={downloadTrigger:"download-trigger",animation:{}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdHistogram});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(578),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdHistogram=function(_Component){_inherits(AntdHistogram,_Component);var _super=_createSuper(AntdHistogram);function AntdHistogram(t){return _classCallCheck(this,AntdHistogram),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdHistogram,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,binField=_this$props.binField,stackField=_this$props.stackField,binWidth=_this$props.binWidth,binNumber=_this$props.binNumber,color=_this$props.color,columnStyle=_this$props.columnStyle,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,meta:meta,padding:padding,appendPadding:appendPadding,binField:binField,stackField:stackField,binWidth:binWidth,binNumber:binNumber,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.columnStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(columnStyle),null!=columnStyle&&columnStyle.func&&(config.columnStyle=eval(columnStyle.func)),config.xAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(xAxis),null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(yAxis),null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdHistogram}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdHistogram.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,binField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,stackField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,binWidth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,binNumber:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),columnStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdHistogram.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdBox});var _ant_design_plots__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(579),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var preventUpdateProps=["loading_state"],AntdBox=function(_Component){_inherits(AntdBox,_Component);var _super=_createSuper(AntdBox);function AntdBox(t){return _classCallCheck(this,AntdBox),(t=_super.call(this,t)).chartRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef(),t}return _createClass(AntdBox,[{key:"shouldComponentUpdate",value:function(t){var e=Object.keys(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(this.props,t));if(0===e.length)return!1;if(0!==Object(lodash__WEBPACK_IMPORTED_MODULE_3__.intersection)(e,preventUpdateProps).length)return!1;var n=this.chartRef.current.getChart();return-1!==e.indexOf("data")&&1===e.length?(n.changeData(t.data),!1):-1===e.indexOf("downloadTrigger")||1!==e.length||(n.downloadImage(),!1)}},{key:"render",value:function render(){var _xAxis$label,_xAxis$label$formatte,_yAxis$label,_yAxis$label$formatte,_legend$itemName,_legend$itemName$form,_legend$itemValue,_legend$itemValue$for,_label$formatter,_tooltip$formatter,_tooltip$customItems,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,meta=_this$props.meta,xField=_this$props.xField,yField=_this$props.yField,groupField=_this$props.groupField,outliersField=_this$props.outliersField,color=_this$props.color,boxStyle=_this$props.boxStyle,outliersStyle=_this$props.outliersStyle,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,padding=_this$props.padding,appendPadding=_this$props.appendPadding,renderer=_this$props.renderer,locale=_this$props.locale,limitInPlot=_this$props.limitInPlot,legend=_this$props.legend,label=_this$props.label,tooltip=_this$props.tooltip,annotations=_this$props.annotations,theme=_this$props.theme,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},_meta$Object$keys$i,_meta$Object$keys$i$f;if(meta)for(var i in config.meta=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(meta),Object.keys(meta)){null!==(_meta$Object$keys$i=meta[Object.keys(meta)[i]])&&void 0!==_meta$Object$keys$i&&null!==(_meta$Object$keys$i$f=_meta$Object$keys$i.formatter)&&void 0!==_meta$Object$keys$i$f&&_meta$Object$keys$i$f.func&&(config.meta[Object.keys(meta)[i]].formatter=eval(meta[Object.keys(meta)[i]].formatter.func))}return config=_objectSpread(_objectSpread({},config),{},{data:data,meta:meta,padding:padding,appendPadding:appendPadding,xField:xField,yField:yField,groupField:groupField,outliersField:outliersField,width:width,height:height,autoFit:autoFit,renderer:renderer,theme:theme,locale:locale,limitInPlot:limitInPlot}),config.color=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(color),null!=color&&color.func&&(config.color=eval(color.func)),config.boxStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(boxStyle),null!=boxStyle&&boxStyle.func&&(config.boxStyle=eval(boxStyle.func)),config.outliersStyle=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(outliersStyle),null!=outliersStyle&&outliersStyle.func&&(config.outliersStyle=eval(outliersStyle.func)),config.xAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(xAxis),null!=xAxis&&null!==(_xAxis$label=xAxis.label)&&void 0!==_xAxis$label&&null!==(_xAxis$label$formatte=_xAxis$label.formatter)&&void 0!==_xAxis$label$formatte&&_xAxis$label$formatte.func&&(config.xAxis.label.formatter=eval(xAxis.label.formatter.func)),config.yAxis=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(yAxis),null!=yAxis&&null!==(_yAxis$label=yAxis.label)&&void 0!==_yAxis$label&&null!==(_yAxis$label$formatte=_yAxis$label.formatter)&&void 0!==_yAxis$label$formatte&&_yAxis$label$formatte.func&&(config.yAxis.label.formatter=eval(yAxis.label.formatter.func)),config.legend=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(legend),null!=legend&&null!==(_legend$itemName=legend.itemName)&&void 0!==_legend$itemName&&null!==(_legend$itemName$form=_legend$itemName.formatter)&&void 0!==_legend$itemName$form&&_legend$itemName$form.func&&(config.legend.itemName.formatter=eval(legend.itemName.formatter.func)),null!=legend&&null!==(_legend$itemValue=legend.itemValue)&&void 0!==_legend$itemValue&&null!==(_legend$itemValue$for=_legend$itemValue.formatter)&&void 0!==_legend$itemValue$for&&_legend$itemValue$for.func&&(config.legend.itemValue.formatter=eval(legend.itemValue.formatter.func)),config.label=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(label),null!=label&&null!==(_label$formatter=label.formatter)&&void 0!==_label$formatter&&_label$formatter.func&&(config.label.formatter=eval(label.formatter.func)),config.tooltip=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(tooltip),null!=tooltip&&null!==(_tooltip$formatter=tooltip.formatter)&&void 0!==_tooltip$formatter&&_tooltip$formatter.func&&(config.tooltip.formatter=eval(tooltip.formatter.func)),null!=tooltip&&null!==(_tooltip$customItems=tooltip.customItems)&&void 0!==_tooltip$customItems&&_tooltip$customItems.func&&(config.tooltip.customItems=eval(tooltip.customItems.func)),config.annotations=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(annotations),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_plots__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0,ref:this.chartRef},config))}}]),AntdBox}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdBox.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object).isRequired,meta:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.h,xField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,yField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string).isRequired,groupField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,outliersField:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,color:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),boxStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),outliersStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),xAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,yAxis:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.c,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),appendPadding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string]),renderer:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locale:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,limitInPlot:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,legend:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.f,label:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.e,tooltip:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.n,annotations:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.a,downloadTrigger:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,theme:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.m,loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdBox.defaultProps={downloadTrigger:"download-trigger"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AntdDecompositionTree});var _ant_design_graphs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(580),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var AntdDecompositionTree=function(_Component){_inherits(AntdDecompositionTree,_Component);var _super=_createSuper(AntdDecompositionTree);function AntdDecompositionTree(){return _classCallCheck(this,AntdDecompositionTree),_super.apply(this,arguments)}return _createClass(AntdDecompositionTree,[{key:"render",value:function render(){var _nodeCfg$style,_nodeCfg$title,_nodeCfg$title$style,_nodeCfg$label,_nodeCfg$label$style,_nodeCfg$items,_nodeCfg$items$style,_nodeCfg$badge,_nodeCfg$badge$style,_nodeCfg$percent,_nodeCfg$percent$styl,_edgeCfg$style,_edgeCfg$label,_edgeCfg$label$style,_this$props=this.props,id=_this$props.id,key=_this$props.key,className=_this$props.className,style=_this$props.style,data=_this$props.data,width=_this$props.width,height=_this$props.height,autoFit=_this$props.autoFit,nodeCfg=_this$props.nodeCfg,edgeCfg=_this$props.edgeCfg,level=_this$props.level,behaviors=_this$props.behaviors,markerCfg=_this$props.markerCfg,animate=_this$props.animate,minimapCfg=_this$props.minimapCfg,layout=_this$props.layout,setProps=_this$props.setProps,loading_state=_this$props.loading_state,config={},config=_objectSpread(_objectSpread({},config),{},{data:data,width:width,height:height,autoFit:autoFit,level:level,behaviors:behaviors,animate:animate,minimapCfg:minimapCfg,layout:layout});return config.nodeCfg=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(nodeCfg),null!=nodeCfg&&null!==(_nodeCfg$style=nodeCfg.style)&&void 0!==_nodeCfg$style&&_nodeCfg$style.func&&(config.nodeCfg.style=eval(nodeCfg.style.func)),null!=nodeCfg&&null!==(_nodeCfg$title=nodeCfg.title)&&void 0!==_nodeCfg$title&&null!==(_nodeCfg$title$style=_nodeCfg$title.style)&&void 0!==_nodeCfg$title$style&&_nodeCfg$title$style.func&&(config.nodeCfg.title.style=eval(nodeCfg.title.style.func)),null!=nodeCfg&&null!==(_nodeCfg$label=nodeCfg.label)&&void 0!==_nodeCfg$label&&null!==(_nodeCfg$label$style=_nodeCfg$label.style)&&void 0!==_nodeCfg$label$style&&_nodeCfg$label$style.func&&(config.nodeCfg.label.style=eval(nodeCfg.label.style.func)),null!=nodeCfg&&null!==(_nodeCfg$items=nodeCfg.items)&&void 0!==_nodeCfg$items&&null!==(_nodeCfg$items$style=_nodeCfg$items.style)&&void 0!==_nodeCfg$items$style&&_nodeCfg$items$style.func&&(config.nodeCfg.items.style=eval(nodeCfg.items.style.func)),null!=nodeCfg&&null!==(_nodeCfg$badge=nodeCfg.badge)&&void 0!==_nodeCfg$badge&&null!==(_nodeCfg$badge$style=_nodeCfg$badge.style)&&void 0!==_nodeCfg$badge$style&&_nodeCfg$badge$style.func&&(config.nodeCfg.badge.style=eval(nodeCfg.badge.style.func)),null!=nodeCfg&&null!==(_nodeCfg$percent=nodeCfg.percent)&&void 0!==_nodeCfg$percent&&null!==(_nodeCfg$percent$styl=_nodeCfg$percent.style)&&void 0!==_nodeCfg$percent$styl&&_nodeCfg$percent$styl.func&&(config.nodeCfg.percent.style=eval(nodeCfg.percent.style.func)),config.edgeCfg=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(edgeCfg),null!=edgeCfg&&null!==(_edgeCfg$style=edgeCfg.style)&&void 0!==_edgeCfg$style&&_edgeCfg$style.func&&(config.edgeCfg.style=eval(edgeCfg.style.func)),null!=edgeCfg&&null!==(_edgeCfg$label=edgeCfg.label)&&void 0!==_edgeCfg$label&&null!==(_edgeCfg$label$style=_edgeCfg$label.style)&&void 0!==_edgeCfg$label$style&&_edgeCfg$label$style.func&&(config.edgeCfg.label.style=eval(edgeCfg.label.style.func)),config.markerCfg=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(markerCfg),null!=markerCfg&&markerCfg.func&&(config.markerCfg=eval(markerCfg.func)),config=Object(lodash__WEBPACK_IMPORTED_MODULE_3__.omitBy)(config,lodash__WEBPACK_IMPORTED_MODULE_3__.isUndefined),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ant_design_graphs__WEBPACK_IMPORTED_MODULE_0__.a,_extends({id:id,key:key,className:className,style:style,"data-dash-is-loading":loading_state&&loading_state.is_loading||void 0},config))}}]),AntdDecompositionTree}(react__WEBPACK_IMPORTED_MODULE_1__.Component);AntdDecompositionTree.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,width:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,autoFit:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,nodeCfg:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({type:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["indicator-card"]),size:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),label:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.l,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})])}),anchorPoints:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)),title:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({containerStyle:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.l,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),autoEllipsis:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool}),items:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({containerStyle:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.l,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),layout:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["bundled","flex","follow"]),sort:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)])}),padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)]),badge:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({position:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["left","top","right","bottom"]),size:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number)]),style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})])}),percent:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({position:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["top","bottom"]),size:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),backgroundStyle:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d}),autoWidth:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,nodeStateStyles:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool])}),edgeCfg:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({type:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["line","polyline","arc","quadratic","cubic","cubic-vertical","cubic-horizontal","loop"]),label:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.l,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})])}),startArrow:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({type:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["vee","triangle"]),d:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,path:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,stroke:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,fill:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),endArrow:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({fill:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,show:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool}),edgeStateStyles:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool]),style:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})])}),level:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,behaviors:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["drag-canvas","scroll-canvas","zoom-canvas","drag-node"])),markerCfg:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({show:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,collapsed:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,position:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["left","right","top","bottom"]),style:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d}),prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({func:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string})]),animate:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,minimapCfg:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({show:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,viewportClassName:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,type:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["default","keyShape","delegate"]),size:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number),delegateStyle:_BasePropTypes_react__WEBPACK_IMPORTED_MODULE_4__.d,refresh:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,padding:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number}),layout:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.exact({direction:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["TB","BT","LR","RL"]),type:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(["indented"]),dropCap:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,indent:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number}),loading_state:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({is_loading:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,prop_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,component_name:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string}),setProps:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},AntdDecompositionTree.defaultProps={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(e?i:r)(t)},e.detectStrongConnectComponents=e.detectConnectedComponents=void 0;var p=n(93),r=function(t){for(var e=t.nodes,i=void 0===e?[]:e,e=t.edges,o=void 0===e?[]:e,n=[],a={},s=[],l=function n(t){s.push(t),a[t.id]=!0;for(var r=(0,p.getNeighbors)(t.id,o),e=0;e<r.length;++e)!function(t){var e=r[t];a[e]||0<(t=i.filter(function(t){return t.id===e})).length&&n(t[0])}(e)},r=0;r<i.length;r++){var c=i[r];if(!a[c.id]){l(c);for(var u=[];0<s.length;)u.push(s.pop());n.push(u)}}return n},i=(e.detectConnectedComponents=r,function(t){for(var e=t.nodes,a=void 0===e?[]:e,e=t.edges,d=void 0===e?[]:e,s=[],c={},u={},l={},f=[],h=0,i=function n(r){u[r.id]=h,l[r.id]=h,h+=1,s.push(r),c[r.id]=!0;for(var i=(0,p.getNeighbors)(r.id,d,"target").filter(function(t){return-1<a.map(function(t){return t.id}).indexOf(t)}),t=0;t<i.length;t++)!function(t){var e=i[t];u[e]||0===u[e]?c[e]&&(l[r.id]=Math.min(l[r.id],u[e])):(0<(t=a.filter(function(t){return t.id===e})).length&&n(t[0]),l[r.id]=Math.min(l[r.id],l[e]))}(t);if(l[r.id]===u[r.id]){for(var e=[];0<s.length;){var o=s.pop();if(c[o.id]=!1,e.push(o),o===r)break}0<e.length&&f.push(e)}},n=0,o=a;n<o.length;n++){var r=o[n];u[r.id]||0===u[r.id]||i(r)}return f});e.detectStrongConnectComponents=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOutDegree=e.getInDegree=e.default=void 0;function r(t){var e={},n=void 0===(n=t.nodes)?[]:n,t=void 0===(t=t.edges)?[]:t;return n.forEach(function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}}),t.forEach(function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++}),e}e.default=r,e.getInDegree=function(t,e){return r(t)[e]?r(t)[e].inDegree:0},e.getOutDegree=function(t,e){return r(t)[e]?r(t)[e].outDegree:0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){!function e(n,r,i,o){o.enter({current:r,previous:i});var t=n.edges;(0,a.getNeighbors)(r,void 0===t?[]:t,"target").forEach(function(t){o.allowTraversal({previous:i,current:r,next:t})&&e(n,t,r,o)}),o.leave({current:r,previous:i})}(t,e,"",function(t){function e(){}var n,r=t=void 0===t?{}:t;n={};return r.allowTraversal=t.allowTraversal||function(t){t=t.next;return!n[t]&&(n[t]=!0)},r.enter=t.enter||e,r.leave=t.leave||e,r}(n))};var a=n(93)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=(n=n(164))&&n.__esModule?n:{default:n};e.default=function(t,e){for(var n=(0,c.default)(t,e),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(0);function a(t){this.arr=t}a.prototype.getArr=function(){return this.arr||[]},a.prototype.add=function(t){var e=t.arr;if(null===(t=this.arr)||void 0===t||!t.length)return new a(e);if(null==e||!e.length)return new a(this.arr);if(this.arr.length===e.length){var n,r=[];for(n in this.arr)r[n]=this.arr[n]+e[n];return new a(r)}},a.prototype.subtract=function(t){var e=t.arr;if(null===(t=this.arr)||void 0===t||!t.length)return new a(e);if(null==e||!e.length)return new a(this.arr);if(this.arr.length===e.length){var n,r=[];for(n in this.arr)r[n]=this.arr[n]-e[n];return new a(r)}},a.prototype.avg=function(t){var e=[];if(0!==t)for(var n in this.arr)e[n]=this.arr[n]/t;return new a(e)},a.prototype.negate=function(){var t,e=[];for(t in this.arr)e[t]=-this.arr[t];return new a(e)},a.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length||null==n||!n.length)return 0;if(this.arr.length===n.length){var r,i=0;for(r in this.arr)i+=Math.pow(this.arr[r]-t.arr[r],2);return i}},a.prototype.euclideanDistance=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length||null==n||!n.length)return 0;if(this.arr.length===n.length){var r,i=0;for(r in this.arr)i+=Math.pow(this.arr[r]-t.arr[r],2);return Math.sqrt(i)}console.error("The two vectors are unequal in length.")},a.prototype.normalize=function(){var t,e=[],n=(0,o.clone)(this.arr),r=(n.sort(function(t,e){return t-e}),n[n.length-1]),i=n[0];for(t in this.arr)e[t]=(this.arr[t]-i)/(r-i);return new a(e)},a.prototype.norm2=function(){var t;if(null===(t=this.arr)||void 0===t||!t.length)return 0;var e,n=0;for(e in this.arr)n+=Math.pow(this.arr[e],2);return Math.sqrt(n)},a.prototype.dot=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length||null==n||!n.length)return 0;if(this.arr.length===n.length){var r,i=0;for(r in this.arr)i+=this.arr[r]*t.arr[r];return i}console.error("The two vectors are unequal in length.")},a.prototype.equal=function(t){var e,n=t.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null==n?void 0:n.length))return!1;for(e in this.arr)if(this.arr[e]!==n[e])return!1;return!0},e.default=a},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,u,e){var n,s=e(290),c={};for(n in s)s.hasOwnProperty(n)&&(c[s[n]]=n);var r,o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(r in o)if(o.hasOwnProperty(r)){if(!("channels"in o[r]))throw new Error("missing channels property: "+r);if(!("labels"in o[r]))throw new Error("missing channel labels property: "+r);if(o[r].labels.length!==o[r].channels)throw new Error("channel and label counts mismatch: "+r);var i=o[r].channels,a=o[r].labels;delete o[r].channels,delete o[r].labels,Object.defineProperty(o[r],"channels",{value:i}),Object.defineProperty(o[r],"labels",{value:a})}o.rgb.hsl=function(t){var e,n=t[0]/255,r=t[1]/255,t=t[2]/255,i=Math.min(n,r,t),o=Math.max(n,r,t),a=o-i;return o===i?e=0:n===o?e=(r-t)/a:r===o?e=2+(t-n)/a:t===o&&(e=4+(n-r)/a),(e=Math.min(60*e,360))<0&&(e+=360),t=(i+o)/2,[e,100*(o===i?0:t<=.5?a/(o+i):a/(2-o-i)),100*t]},o.rgb.hsv=function(t){function e(t){return(u-t)/6/l+.5}var n,r,i,o,a,s=t[0]/255,c=t[1]/255,t=t[2]/255,u=Math.max(s,c,t),l=u-Math.min(s,c,t);return 0==l?o=a=0:(a=l/u,n=e(s),r=e(c),i=e(t),s===u?o=i-r:c===u?o=1/3+n-i:t===u&&(o=2/3+r-n),o<0?o+=1:1<o&&--o),[360*o,100*a,100*u]},o.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[o.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,r))*100,100*(1-1/255*Math.max(e,Math.max(n,r)))]},o.rgb.cmyk=function(t){var e=t[0]/255,n=t[1]/255,t=t[2]/255;return[100*((1-e-(e=Math.min(1-e,1-n,1-t)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-t-e)/(1-e)||0),100*e]},o.rgb.keyword=function(t){var e=c[t];if(e)return e;var n,r,i,o,a=1/0;for(i in s)s.hasOwnProperty(i)&&(o=t,r=s[i],(o=Math.pow(o[0]-r[0],2)+Math.pow(o[1]-r[1],2)+Math.pow(o[2]-r[2],2))<a&&(a=o,n=i));return n},o.keyword.rgb=function(t){return s[t]},o.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,t=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(t=.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92)),100*(.2126*e+.7152*n+.0722*t),100*(.0193*e+.1192*n+.9505*t)]},o.rgb.lab=function(t){var t=o.rgb.xyz(t),e=t[0],n=t[1],t=t[2];return n/=100,t/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116))]},o.hsl.rgb=function(t){var e,n,r,i=t[0]/360,o=t[1]/100,t=t[2]/100;if(0==o)return[r=255*t,r,r];for(var a=2*t-(e=t<.5?t*(1+o):t+o-t*o),s=[0,0,0],c=0;c<3;c++)(n=i+1/3*-(c-1))<0&&n++,1<n&&n--,s[c]=255*(r=6*n<1?a+6*(e-a)*n:2*n<1?e:3*n<2?a+(e-a)*(2/3-n)*6:a);return s},o.hsl.hsv=function(t){var e=t[0],n=t[1]/100,t=t[2]/100,r=n,i=Math.max(t,.01);return n*=(t*=2)<=1?t:2-t,r*=i<=1?i:2-i,[e,100*(0==t?2*r/(i+r):2*n/(t+n)),(t+n)/2*100]},o.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,t=Math.floor(e)%6,e=e-Math.floor(e),i=255*r*(1-n),o=255*r*(1-n*e),a=255*r*(1-n*(1-e));switch(r*=255,t){case 0:return[r,a,i];case 1:return[o,r,i];case 2:return[i,r,a];case 3:return[i,o,r];case 4:return[a,i,r];case 5:return[r,i,o]}},o.hsv.hsl=function(t){var e=t[0],n=t[1]/100,t=t[2]/100,r=Math.max(t,.01),t=(2-n)*t;return[e,100*(n*r/((e=(2-n)*r)<=1?e:2-e)||0),100*(t/=2)]},o.hwb.rgb=function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,t=t[2]/100,c=s+t;switch(1<c&&(s/=c,t/=c),a=6*a-(c=Math.floor(6*a)),n=s+(a=0!=(1&c)?1-a:a)*((e=1-t)-s),c){default:case 6:case 0:r=e,i=n,o=s;break;case 1:r=n,i=e,o=s;break;case 2:r=s,i=e,o=n;break;case 3:r=s,i=n,o=e;break;case 4:r=n,i=s,o=e;break;case 5:r=e,i=s,o=n}return[255*r,255*i,255*o]},o.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,t=t[3]/100;return[255*(1-Math.min(1,e*(1-t)+t)),255*(1-Math.min(1,n*(1-t)+t)),255*(1-Math.min(1,r*(1-t)+t))]},o.xyz.rgb=function(t){var e=t[0]/100,n=t[1]/100,t=t[2]/100,r=-.9689*e+1.8758*n+.0415*t,i=.0557*e+-.204*n+1.057*t,e=.0031308<(e=3.2406*e+-1.5372*n+-.4986*t)?1.055*Math.pow(e,1/2.4)-.055:12.92*e;return r=.0031308<r?1.055*Math.pow(r,1/2.4)-.055:12.92*r,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1)),255*(i=Math.min(Math.max(0,i),1))]},o.xyz.lab=function(t){var e=t[0],n=t[1],t=t[2];return n/=100,t/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116))]},o.lab.xyz=function(t){var e=t[0],n=t[1]/500+(e=(e+16)/116),t=e-t[2]/200,r=Math.pow(e,3),i=Math.pow(n,3),o=Math.pow(t,3),e=.008856<r?r:(e-16/116)/7.787;return n=.008856<i?i:(n-16/116)/7.787,t=.008856<o?o:(t-16/116)/7.787,[n*=95.047,e*=100,t*=108.883]},o.lab.lch=function(t){var e,n=t[0],r=t[1],t=t[2];return(e=360*Math.atan2(t,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+t*t),e]},o.lch.lab=function(t){var e=t[0],n=t[1],t=t[2]/360*2*Math.PI;return[e,n*Math.cos(t),n*Math.sin(t)]},o.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],i=1 in arguments?arguments[1]:o.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;r=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===i&&(r+=60),r},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){var e=t[0],n=t[1],t=t[2];return e===n&&n===t?e<8?16:248<e?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(t/255*5)},o.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return 50<t&&(e+=3.5),[e=e/10.5*255,e,e];t=.5*(1+~~(50<t));return[(1&e)*t*255,(e>>1&1)*t*255,(e>>2&1)*t*255]},o.ansi256.rgb=function(t){var e;return 232<=t?[e=10*(t-232)+8,e,e]:(t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255])},o.rgb.hex=function(t){t=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(t){t=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var e=t[0],t=(3===t[0].length&&(e=e.split("").map(function(t){return t+t}).join("")),parseInt(e,16));return[t>>16&255,t>>8&255,255&t]},o.rgb.hcg=function(t){var e=t[0]/255,n=t[1]/255,t=t[2]/255,r=Math.max(Math.max(e,n),t),i=Math.min(Math.min(e,n),t),o=r-i;return[360*((o<=0?0:r===e?(n-t)/o%6:r===n?2+(t-e)/o:4+(e-n)/o+4)/6%1),100*o,100*(o<1?i/(1-o):0)]},o.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=0;return(e=n<.5?2*e*n:2*e*(1-n))<1&&(r=(n-.5*e)/(1-e)),[t[0],100*e,100*r]},o.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,e=e*n,n=e<1?(n-e)/(1-e):0;return[t[0],100*e,100*n]},o.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,t=t[2]/100;if(0==n)return[255*t,255*t,255*t];var r=[0,0,0],e=e%1*6,i=e%1,o=1-i;switch(Math.floor(e)){case 0:r[0]=1,r[1]=i,r[2]=0;break;case 1:r[0]=o,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=i;break;case 3:r[0]=0,r[1]=o,r[2]=1;break;case 4:r[0]=i,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=o}return[255*(n*r[0]+(e=(1-n)*t)),255*(n*r[1]+e),255*(n*r[2]+e)]},o.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),e=0<n?e/n:0;return[t[0],100*e,100*n]},o.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return 0<n&&n<.5?r=e/(2*n):.5<=n&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},o.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},o.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,e=n-e,n=e<1?(n-e)/(1-e):0;return[t[0],100*e,100*n]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=o.gray.hsv=function(t){return[0,0,t[0]]},o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){t=255&Math.round(t[0]/100*255),t=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=(Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0,n(64)),c=n(62),u=new Map;e.registerLayout=function(t,o){var a;function e(t){var e=a.call(this)||this,n=e,r={},i=n.getDefaultCfg();return Object.assign(r,i,o,t),Object.keys(r).forEach(function(t){n[t]=r[t]}),e}return u.get(t)&&console.warn("The layout with the name "+t+" exists already, it will be overridden"),(0,c.isObject)(o)?(a=s.Base,i(e,a),u.set(t,e)):u.set(t,o),u.get(t)},e.unRegisterLayout=function(t){u.has(t)&&u.delete(t)},e.getLayoutByName=function(t){return u.has(t)?u.get(t):null}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toNumber=n.isNaN=n.isNumber=void 0,n.isNumber=function(t){return"number"==typeof t},n.isNaN=function(t){return Number.isNaN(Number(t))},n.toNumber=function(t){var e=parseFloat(t);return(0,n.isNaN)(e)?t:e}},function(t,r,e){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.clone=r.isObject=void 0,r.isObject=function(t){return null!==t&&"object"==typeof t},r.clone=function(t){return null===t?t:t instanceof Date?new Date(t.getTime()):t instanceof Array?(e=[],t.forEach(function(t){e.push(t)}),e.map(function(t){return(0,r.clone)(t)})):"object"==typeof t&&t!=={}?(n=i({},t),Object.keys(n).forEach(function(t){n[t]=(0,r.clone)(n[t])}),n):t;var e,n}},function(l,t,e){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),n=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=t.ForceAtlas2Layout=t.ComboCombinedLayout=t.ComboForceLayout=t.GForceGPULayout=t.FruchtermanGPULayout=t.FruchtermanLayout=t.MDSLayout=t.ConcentricLayout=t.RadialLayout=t.DagreCompoundLayout=t.DagreLayout=t.CircularLayout=t.ForceLayout=t.GForceLayout=t.RandomLayout=t.GridLayout=t.Layouts=t.Layout=void 0,e(296)),o=(Object.defineProperty(t,"GridLayout",{enumerable:!0,get:function(){return i.GridLayout}}),e(297)),a=(Object.defineProperty(t,"RandomLayout",{enumerable:!0,get:function(){return o.RandomLayout}}),e(298)),s=(Object.defineProperty(t,"GForceLayout",{enumerable:!0,get:function(){return a.GForceLayout}}),e(299)),c=(Object.defineProperty(t,"ForceLayout",{enumerable:!0,get:function(){return s.ForceLayout}}),e(300)),h=(Object.defineProperty(t,"CircularLayout",{enumerable:!0,get:function(){return c.CircularLayout}}),e(231)),d=(Object.defineProperty(t,"DagreLayout",{enumerable:!0,get:function(){return h.DagreLayout}}),e(307)),f=(Object.defineProperty(t,"DagreCompoundLayout",{enumerable:!0,get:function(){return d.DagreCompoundLayout}}),e(308)),p=(Object.defineProperty(t,"RadialLayout",{enumerable:!0,get:function(){return f.RadialLayout}}),e(309)),g=(Object.defineProperty(t,"ConcentricLayout",{enumerable:!0,get:function(){return p.ConcentricLayout}}),e(310)),y=(Object.defineProperty(t,"MDSLayout",{enumerable:!0,get:function(){return g.MDSLayout}}),e(311)),_=(Object.defineProperty(t,"FruchtermanLayout",{enumerable:!0,get:function(){return y.FruchtermanLayout}}),e(312)),m=(Object.defineProperty(t,"FruchtermanGPULayout",{enumerable:!0,get:function(){return _.FruchtermanGPULayout}}),e(350)),v=(Object.defineProperty(t,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}}),e(351)),b=(Object.defineProperty(t,"ComboForceLayout",{enumerable:!0,get:function(){return v.ComboForceLayout}}),e(352)),O=(Object.defineProperty(t,"ComboCombinedLayout",{enumerable:!0,get:function(){return b.ComboCombinedLayout}}),e(353)),x=(Object.defineProperty(t,"ForceAtlas2Layout",{enumerable:!0,get:function(){return O.ForceAtlas2Layout}}),e(354)),u=(Object.defineProperty(t,"ERLayout",{enumerable:!0,get:function(){return x.ERLayout}}),e(562));Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return u.Layout}}),Object.defineProperty(t,"Layouts",{enumerable:!0,get:function(){return u.Layouts}}),n(e(563),t)},function(t,e,n){"use strict";var r,i,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=(Object.defineProperty(e,"__esModule",{value:!0}),e.GridLayout=void 0,n(62)),n=(i=n(64).Base,o(a,i),a.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},a.prototype.execute=function(){var r=this,t=r.nodes,l=r.edges,e=r.begin,h=t.length;if(0===h)return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:t,edges:l};if(1===h)return t[0].x=e[0],t[0].y=e[1],r.onLayoutEnd&&r.onLayoutEnd(),{nodes:t,edges:l};var d,f,p,n=r.sortBy,e=r.width,g=r.height,y=r.condense,_=r.preventOverlapPadding,m=r.preventOverlap,v=r.nodeSpacing,b=r.nodeSize,i=[],O=(t.forEach(function(t){i.push(t)}),{}),t=(i.forEach(function(t,e){O[t.id]=e}),"degree"!==n&&(0,w.isString)(n)&&void 0!==i[0][n]||(n="degree",!(0,w.isNaN)(t[0].degree))||(d=(0,w.getDegree)(i.length,O,l),i.forEach(function(t,e){t.degree=d[e]})),i.sort(function(t,e){return e[n]-t[n]}),e||"undefined"==typeof window||(e=window.innerWidth),g||"undefined"==typeof window||(g=window.innerHeight),r.rows),o=null!=r.cols?r.cols:r.columns;if(r.cells=h,null!=t&&null!=o?(r.rows=t,r.cols=o):null!=t&&null==o?(r.rows=t,r.cols=Math.ceil(r.cells/r.rows)):null==t&&null!=o?(r.cols=o,r.rows=Math.ceil(r.cells/r.cols)):(r.splits=Math.sqrt(r.cells*r.height/r.width),r.rows=Math.round(r.splits),r.cols=Math.round(r.width/r.height*r.splits)),r.cols*r.rows>r.cells)((s=r.small())-1)*(a=r.large())>=r.cells?r.small(s-1):(a-1)*s>=r.cells&&r.large(a-1);else for(;r.cols*r.rows<r.cells;){var a,s=r.small();((a=r.large())+1)*s>=r.cells?r.large(a+1):r.small(s+1)}r.cellWidth=e/r.cols,r.cellHeight=g/r.rows,y&&(r.cellWidth=0,r.cellHeight=0),(m||v)&&(f=(0,w.getFuncByUnknownType)(10,v),p=(0,w.getFuncByUnknownType)(30,b,!1),i.forEach(function(t){t.x&&t.y||(t.x=0,t.y=0);var e=p(t),n=e[0],n=void 0===n?30:n,e=e[1],e=void 0===e?30:e,t=void 0!==f?f(t):_,e=e+t;r.cellWidth=Math.max(r.cellWidth,n+t),r.cellHeight=Math.max(r.cellHeight,e)})),r.cellUsed={},r.row=0,r.col=0,r.id2manPos={};for(var x=0;x<i.length;x++){var E=i[x],c=void 0;if((c=r.position?r.position(E):c)&&(void 0!==c.row||void 0!==c.col)){var u={row:c.row,col:c.col};if(void 0===u.col)for(u.col=0;r.used(u.row,u.col);)u.col++;else if(void 0===u.row)for(u.row=0;r.used(u.row,u.col);)u.row++;r.id2manPos[E.id]=u,r.use(u.row,u.col)}r.getPos(E)}return r.onLayoutEnd&&r.onLayoutEnd(),{edges:l,nodes:i}},a.prototype.small=function(t){var e,n=this.rows||5,r=this.cols||5;return null==t?e=Math.min(n,r):Math.min(n,r)===this.rows?this.rows=t:this.cols=t,e},a.prototype.large=function(t){var e,n=this.rows||5,r=this.cols||5;return null==t?e=Math.max(n,r):Math.max(n,r)===this.rows?this.rows=t:this.cols=t,e},a.prototype.used=function(t,e){return this.cellUsed["c-"+t+"-"+e]||!1},a.prototype.use=function(t,e){this.cellUsed["c-"+t+"-"+e]=!0},a.prototype.moveToNextCell=function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)},a.prototype.getPos=function(t){var e,n,r=this.begin,i=this.cellWidth,o=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.col*i+i/2+r[0],n=a.row*o+o/2+r[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.col*i+i/2+r[0],n=this.row*o+o/2+r[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=n},a.prototype.getType=function(){return"grid"},a);function a(t){var e=i.call(this)||this;return e.begin=[0,0],e.preventOverlap=!0,e.preventOverlapPadding=10,e.condense=!1,e.sortBy="degree",e.nodes=[],e.edges=[],e.width=300,e.height=300,e.row=0,e.col=0,e.cellWidth=0,e.cellHeight=0,e.cellUsed={},e.id2manPos={},e.onLayoutEnd=function(){},e.updateCfg(t),e}e.GridLayout=n},function(t,e,n){"use strict";var r,i,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=(Object.defineProperty(e,"__esModule",{value:!0}),e.RandomLayout=void 0,i=n(64).Base,o(a,i),a.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},a.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;return e.width||"undefined"==typeof window||(e.width=window.innerWidth),e.height||"undefined"==typeof window||(e.height=window.innerHeight),t&&t.forEach(function(t){t.x=.9*(Math.random()-.5)*e.width+n[0],t.y=.9*(Math.random()-.5)*e.height+n[1]}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:this.edges}},a.prototype.getType=function(){return"random"},a);function a(t){var e=i.call(this)||this;return e.center=[0,0],e.width=300,e.height=300,e.nodes=[],e.edges=[],e.onLayoutEnd=function(){},e.updateCfg(t),e}e.RandomLayout=n},function(s,t,e){"use strict";function u(e,n){return e?(0,y.isNumber)(e)?function(t){return e}:e:function(t){return n||1}}var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.GForceLayout=void 0,e(64)),y=e(62),e=(n=o.Base,i(a,n),a.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},a.prototype.execute=function(){var n=this,t=n.nodes;if(void 0!==n.timeInterval&&"undefined"!=typeof window&&window.clearInterval(n.timeInterval),t&&0!==t.length){n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var e=n.center;if(1===t.length)return t[0].x=e[0],t[0].y=e[1],void(null===(e=n.onLayoutEnd)||void 0===e||e.call(n));var r={},i={};t.forEach(function(t,e){(0,y.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,y.isNumber)(t.y)||(t.y=Math.random()*n.height),r[t.id]=t,i[t.id]=e}),n.nodeMap=r,n.nodeIdxMap=i,n.linkDistance=u(n.linkDistance,1),n.nodeStrength=u(n.nodeStrength,1),n.edgeStrength=u(n.edgeStrength,1);var o,a,s,c=n.nodeSize,e=(n.preventOverlap&&(o=n.nodeSpacing,a=(0,y.isNumber)(o)?function(){return o}:(0,y.isFunction)(o)?o:function(){return 0},s=c?(0,y.isArray)(c)?function(t){return Math.max(c[0],c[1])+a(t)}:function(t){return c+a(t)}:function(t){return t.size?(0,y.isArray)(t.size)?Math.max(t.size[0],t.size[1])+a(t):(0,y.isObject)(t.size)?Math.max(t.size.width,t.size.height)+a(t):t.size+a(t):10+a(t)}),n.nodeSize=s,n.edges);n.degrees=(0,y.getDegree)(t.length,n.nodeIdxMap,e),n.getMass||(n.getMass=function(t){return t.mass||n.degrees[n.nodeIdxMap[t.id]]||1}),n.run()}else null===(s=n.onLayoutEnd)||void 0===s||s.call(n)},a.prototype.run=function(){var e,n=this,r=n.maxIteration,i=n.nodes,t=n.workerEnabled,o=n.minMovement,a=n.animate;if(i)if(t||!a){for(var s=0;s<r;s++){var c=n.runOneStep(s);if(n.reachMoveThreshold(i,c,o))break}null===(t=n.onLayoutEnd)||void 0===t||t.call(n)}else"undefined"!=typeof window&&(e=0,this.timeInterval=window.setInterval(function(){var t;i&&(t=n.runOneStep(e)||[],n.reachMoveThreshold(i,t,o)&&(null===(t=n.onLayoutEnd)||void 0===t||t.call(n),window.clearInterval(n.timeInterval)),++e>=r&&(null===(t=n.onLayoutEnd)||void 0===t||t.call(n),window.clearInterval(n.timeInterval)))},0))},a.prototype.reachMoveThreshold=function(t,r,e){var i=0;return t.forEach(function(t,e){var n=t.x-r[e].x,t=t.y-r[e].y;i+=Math.sqrt(n*n+t*t)}),(i/=t.length)<e},a.prototype.runOneStep=function(t){var e,n=this.nodes,r=this.edges,i=[],o=[];if(n)return n.forEach(function(t,e){i[2*e]=0,i[2*e+1]=0,o[2*e]=0,o[2*e+1]=0}),this.calRepulsive(i,n),r&&this.calAttractive(i,r),this.calGravity(i,n),r=Math.max(.02,this.interval-.002*t),this.updateVelocity(i,o,r,n),e=[],n.forEach(function(t){e.push({x:t.x,y:t.y})}),this.updatePosition(o,r,n),null===(t=this.tick)||void 0===t||t.call(this),e},a.prototype.calRepulsive=function(h,t){var d=this.getMass,f=this.factor,p=this.coulombDisScale,g=this.preventOverlap,e=this.collideStrength,y=void 0===e?1:e,_=this.nodeStrength,m=this.nodeSize;t.forEach(function(c,u){var l=d?d(c):1;t.forEach(function(t,e){var n,r,i,o,a,s;e<=u||(n=(i=c.x-t.x)*i+(o=c.y-t.y)*o+.01,s=((r=Math.sqrt(n))+.1)*p,i=i/r,o=o/r,s=.5*(_(c)+_(t))*f/(s*s),a=d?d(t):1,h[2*u]+=i*s,h[2*u+1]+=o*s,h[2*e]-=i*s,h[2*e+1]-=o*s,g&&(m(c)+m(t))/2>r&&(s=y*(_(c)+_(t))*.5/n,h[2*u]+=i*s/l,h[2*u+1]+=o*s/l,h[2*e]-=i*s/a,h[2*e+1]-=o*s/a))})})},a.prototype.calAttractive=function(u,t){var l=this.nodeMap,h=this.nodeIdxMap,d=this.linkDistance,f=this.edgeStrength,p=this.nodeSize,g=this.getMass;t.forEach(function(t,e){var n=(0,y.getEdgeTerminal)(t,"source"),r=(0,y.getEdgeTerminal)(t,"target"),i=l[n],o=l[r],a=o.x-i.x,s=o.y-i.y,c=Math.sqrt(a*a+s*s)+.01,a=a/c,s=s/c,c=((d(t,i,o)||1+(p(i)+p(i)||0)/2)-c)*f(t),t=h[n],n=h[r],r=g?g(i):1,i=g?g(o):1;u[2*t]-=a*c/r,u[2*t+1]-=s*c/r,u[2*n]+=a*c/i,u[2*n+1]+=s*c/i})},a.prototype.calGravity=function(t,e){for(var n=this.center,r=this.gravity,l=this.degrees,h=e.length,i=0;i<h;i++){var o,a=e[i],s=a.x-n[0],c=a.y-n[1],u=r;!this.getCenter||(o=this.getCenter(a,l[i]))&&(0,y.isNumber)(o[0])&&(0,y.isNumber)(o[1])&&(0,y.isNumber)(o[2])&&(s=a.x-o[0],c=a.y-o[1],u=o[2]),u&&(t[2*i]-=u*s,t[2*i+1]-=u*c)}},a.prototype.updateVelocity=function(o,a,t,e){var s=this,c=t*s.damping;e.forEach(function(t,e){var n=o[2*e]*c||.01,r=o[2*e+1]*c||.01,i=Math.sqrt(n*n+r*r);i>s.maxSpeed&&(n*=i=s.maxSpeed/i,r*=i),a[2*e]=n,a[2*e+1]=r})},a.prototype.updatePosition=function(r,i,t){t.forEach(function(t,e){if((0,y.isNumber)(t.fx)&&(0,y.isNumber)(t.fy))return t.x=t.fx,void(t.y=t.fy);var n=r[2*e]*i,e=r[2*e+1]*i;t.x+=n,t.y+=e})},a.prototype.stop=function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)},a.prototype.destroy=function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0},a.prototype.getType=function(){return"gForce"},a);function a(t){var e=n.call(this)||this;return e.maxIteration=500,e.workerEnabled=!1,e.edgeStrength=200,e.nodeStrength=1e3,e.coulombDisScale=.005,e.damping=.9,e.maxSpeed=1e3,e.minMovement=.5,e.interval=.02,e.factor=1,e.linkDistance=1,e.gravity=10,e.preventOverlap=!0,e.collideStrength=1,e.tick=function(){},e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.animate=!0,e.updateCfg(t),e}t.GForceLayout=e},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(444),e)},function(c,t,e){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.CircularLayout=void 0,e(64)),A=e(62);function o(t,e){t=t.degree,e=e.degree;return t<e?-1:e<t?1:0}a=i.Base,n(s,a),s.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},s.prototype.execute=function(){var t=this.nodes,e=this.edges,n=t.length;if(0!==n){this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var r=this.center;if(1===n)return t[0].x=r[0],t[0].y=r[1],void(this.onLayoutEnd&&this.onLayoutEnd());for(var l,h,i,d,o=this.radius,a=this.startRadius,s=this.endRadius,f=this.divisions,p=this.startAngle,g=this.endAngle,y=this.angleRatio,_=this.ordering,m=this.clockwise,v=this.nodeSpacing,b=this.nodeSize,O=(g-p)/n,x={},E=(t.forEach(function(t,e){x[t.id]=e}),this.nodeMap=x,(0,A.getDegree)(t.length,x,e)),w=(this.degrees=E,v?(l=(0,A.getFuncByUnknownType)(10,v),h=(0,A.getFuncByUnknownType)(10,b),i=-1/0,t.forEach(function(t){t=h(t);i<t&&(i=t)}),d=0,t.forEach(function(t,e){d+=0===e?i||10:(l(t)||0)+(i||10)}),o=d/(2*Math.PI)):o||a||s?!a&&s?a=s:a&&!s&&(s=a):o=this.height>this.width?this.width/2:this.height/2,O*y),M=[],M="topology"===_?this.topologyOrdering():"topology-directed"===_?this.topologyOrdering(!0):"degree"===_?this.degreeOrdering():t,P=Math.ceil(n/f),c=0;c<n;++c){var u=o,C=(u=(u=u||null===a||null===s?u:a+c*(s-a)/(n-1))||10+100*c/(n-1),p+c%P*w+2*Math.PI/f*Math.floor(c/P));m||(C=g-c%P*w-2*Math.PI/f*Math.floor(c/P)),M[c].x=r[0]+Math.cos(C)*u,M[c].y=r[1]+Math.sin(C)*u,M[c].weight=E[c]}return null===(e=this.onLayoutEnd)||void 0===e||e.call(this),{nodes:M,edges:this.edges}}this.onLayoutEnd&&this.onLayoutEnd()},s.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var i,e,o,s=this.degrees,p=this.edges,c=this.nodes,u=(0,A.clone)(c),l=this.nodeMap,h=[u[0]],d=[c[0]],f=[],g=c.length,y=(f[0]=!0,e=p,o=l,t=t,(i=u).forEach(function(t,e){i[e].children=[],i[e].parent=[]}),t?e.forEach(function(t){var e=(0,A.getEdgeTerminal)(t,"source"),t=(0,A.getEdgeTerminal)(t,"target"),n=0,e=(e&&(n=o[e]),0),t=(t&&(e=o[t]),i[n].children),r=i[e].parent;t.push(i[e].id),r.push(i[n].id)}):e.forEach(function(t){var e=(0,A.getEdgeTerminal)(t,"source"),t=(0,A.getEdgeTerminal)(t,"target"),n=0,e=(e&&(n=o[e]),0),t=(t&&(e=o[t]),i[n].children),r=i[e].children;t.push(i[e].id),r.push(i[n].id)}),0);return u.forEach(function(t,e){if(0!==e)if(e!==g-1&&s[e]===s[e+1]&&!function(t,e,n){for(var r=n.length,i=0;i<r;i++){var o=(0,A.getEdgeTerminal)(n[i],"source"),a=(0,A.getEdgeTerminal)(n[i],"target");if(t.id===o&&e.id===a||e.id===o&&t.id===a)return 1}}(h[y],t,p)||f[e]){for(var n=h[y].children,r=!1,i=0;i<n.length;i++){var o=l[n[i]];if(s[o]===s[e]&&!f[o]){h.push(u[o]),d.push(c[l[u[o].id]]),r=f[o]=!0;break}}for(var a=0;!r&&(f[a]||(h.push(u[a]),d.push(c[l[u[a].id]]),r=f[a]=!0),++a!==g););}else h.push(t),d.push(c[l[t.id]]),f[e]=!0,y++}),d},s.prototype.degreeOrdering=function(){var t=this.nodes,n=[],r=this.degrees;return t.forEach(function(t,e){t.degree=r[e],n.push(t)}),n.sort(o),n},s.prototype.getType=function(){return"circular"};var a,e=s;function s(t){var e=a.call(this)||this;return e.radius=null,e.nodeSize=void 0,e.startRadius=null,e.endRadius=null,e.startAngle=0,e.endAngle=2*Math.PI,e.clockwise=!0,e.divisions=1,e.ordering=null,e.angleRatio=1,e.nodes=[],e.edges=[],e.nodeMap={},e.degrees=[],e.width=300,e.height=300,e.updateCfg(t),e}t.CircularLayout=e},function(t,e,n){var r=n(86),f=n(302),p=(t.exports=function(e,t,n,r){var i=e,o=String(t),l=n||p,h=r||function(t){return e.outEdges(t)};function d(t){var e=t.v!==a?t.v:t.w,n=c[e],r=l(t),i=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+r);i<n.distance&&(n.distance=i,n.predecessor=a,u.decrease(e,i))}var a,s,c={},u=new f;for(i.nodes().forEach(function(t){var e=t===o?0:Number.POSITIVE_INFINITY;c[t]={distance:e},u.add(t,e)});0<u.size()&&(a=u.removeMin(),(s=c[a]).distance!==Number.POSITIVE_INFINITY);)h(a).forEach(d);return c},r.constant(1))},function(t,e,n){var o=n(86);function r(){this._arr=[],this._keyIndices={}}(t.exports=r).prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return o.has(this._keyIndices,t)},r.prototype.priority=function(t){t=this._keyIndices[t];if(void 0!==t)return this._arr[t].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,e){var n,r,i=this._keyIndices;return t=String(t),!o.has(i,t)&&(r=(n=this._arr).length,i[t]=r,n.push({key:t,priority:e}),this._decrease(r),!0)},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},r.prototype._heapify=function(t){var e=this._arr,n=2*t,r=1+n,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,(i=r<e.length?e[r].priority<e[i].priority?r:i:i)!==t&&(this._swap(t,i),this._heapify(i)))},r.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},r.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},function(t,e,n){var l=n(86);t.exports=function(o){var a=0,s=[],c={},u=[];return o.nodes().forEach(function(t){l.has(c,t)||function e(t){var n=c[t]={onStack:!0,lowlink:a,index:a++};if(s.push(t),o.successors(t).forEach(function(t){l.has(c,t)?c[t].onStack&&(n.lowlink=Math.min(n.lowlink,c[t].index)):(e(t),n.lowlink=Math.min(n.lowlink,c[t].lowlink))}),n.lowlink===n.index){for(var r,i=[];r=s.pop(),c[r].onStack=!1,i.push(r),t!==r;);u.push(i)}}(t)}),u}},function(t,e,n){var a=n(86);function r(n){var r={},i={},o=[];if(a.each(n.sinks(),function t(e){if(a.has(i,e))throw new s;a.has(r,e)||(i[e]=!0,r[e]=!0,a.each(n.predecessors(e),t),delete i[e],o.push(e))}),a.size(r)!==n.nodeCount())throw new s;return o}function s(){}(t.exports=r).CycleException=s},function(t,e,n){var s=n(86);t.exports=function(e,t,n){s.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return s.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(n,t,r,i,o,a){s.has(i,t)||(i[t]=!0,r||a.push(t),s.each(o(t),function(t){e(n,t,r,i,o,a)}),r&&a.push(t))}(e,t,"post"===n,o,r,i)}),i}},function(l,t,e){"use strict";function n(t){var e,n=new s({directed:!1}),r=t.nodes()[0],i=t.nodeCount();for(n.setNode(r,{});h(n,t)<i;)e=c(n,t),e=n.hasNode(e.v)?(0,a.slack)(t,e):-(0,a.slack)(t,e),u(n,t,e);return n}function r(t){var e,n=new s({directed:!1}),r=t.nodes()[0],i=t.nodeCount();for(n.setNode(r,{});d(n,t)<i;)e=c(n,t),e=n.hasNode(e.v)?(0,a.slack)(t,e):-(0,a.slack)(t,e),u(n,t,e);return n}var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.feasibleTreeWithLayer=t.feasibleTree=void 0,i(e(104))),a=e(233),o=e(87),s=i.default.Graph,h=(t.feasibleTree=n,function(r,i){function o(n){i.nodeEdges(n).forEach(function(t){var e=t.v,e=n===e?t.w:e;r.hasNode(e)||(0,a.slack)(i,t)||(r.setNode(e,{}),r.setEdge(n,e,{}),o(e))})}return r.nodes().forEach(o),r.nodeCount()}),d=(t.feasibleTreeWithLayer=r,function(r,i){function o(n){var t;null===(t=i.nodeEdges(n))||void 0===t||t.forEach(function(t){var e=t.v,e=n===e?t.w:e;r.hasNode(e)||void 0===i.node(e).layer&&(0,a.slack)(i,t)||(r.setNode(e,{}),r.setEdge(n,e,{}),o(e))})}return r.nodes().forEach(o),r.nodeCount()}),c=function(e,n){return(0,o.minBy)(n.edges(),function(t){return e.hasNode(t.v)!==e.hasNode(t.w)?(0,a.slack)(n,t):1/0})},u=function(t,e,n){t.nodes().forEach(function(t){e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=n})};t.default={feasibleTree:n,feasibleTreeWithLayer:r}},function(a,t,e){"use strict";var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=this&&this.__assign||function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},b=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.DagreCompoundLayout=void 0,e(64)),O=e(483),x=e(62),e=(n=s.Base,i(o,n),o.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},o.prototype.init=function(t){var e=t.hiddenNodes||[],n=t.hiddenEdges||[],r=t.hiddenCombos||[];this.nodes=this.getDataByOrder((t.nodes||[]).concat(e)),this.edges=this.getDataByOrder((t.edges||[]).concat(n)),this.combos=(t.combos||[]).concat(r.map(function(t){return v(v({},t),{collapsed:!0})}))},o.prototype.execute=function(){var t,e,n,r=this.nodes,i=this.edges;if(r)return e=(t=this.getLayoutConfig()).graphDef,n=t.graphOption,t=t.graphSettings,e=(0,O.buildGraph)(e,n,t),n=(0,O.flatGraph)(e,!0),this.updatePosition(n),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:r,edges:i}},o.prototype.getNodePath=function(e){var t=this.nodes,r=this.combos,t=t.find(function(t){return t.id===e}),i=function(e,t){void 0===t&&(t=[]);var n=r.find(function(t){return t.id===e});return n?(t.unshift(e),n.parentId?i(n.parentId,t):t):t};return t&&t.comboId?i(t.comboId,[e]):[e]},o.prototype.getLayoutConfig=function(){var i=this.nodes,t=this.edges,o=this.combos,e=this.nodeSize,n=this.rankdir,r=this.align,l=this.edgesep,h=this.nodesep,d=this.ranksep,f=this.settings,a=(o||[]).reduce(function(t,e){var n=i.filter(function(t){return t.comboId===e.id}).map(function(t){return t.id}),r=(o||[]).filter(function(t){return t.parentId===e.id}).map(function(t){return t.id});return(n.length||r.length)&&(t[e.id]=b(b([],n,!0),r,!0)),t},{}),p=e?(0,x.isArray)(e)?function(){return e}:function(){return[e,e]}:function(t){return t&&t.size?(0,x.isArray)(t.size)?t.size:(0,x.isObject)(t.size)?[t.size.width||40,t.size.height||40]:[t.size,t.size]:[40,40]},s=(s=null==o?void 0:o[0])&&s.size?(0,x.isArray)(s.size)?s.size:[s.size,s.size]:[80,40],g=s[0],s=s[1],c=null===(c=null===(c=this.graphSettings)||void 0===c?void 0:c.subScene)||void 0===c?void 0:c.meta,u=(null===(u=o.find(function(t){return!t.collapsed}))||void 0===u?void 0:u.padding)||[20,20,20,20],y=u[0],_=u[1],m=u[2],u=u[3],a={compound:a,nodes:b([],(i||[]).map(function(t){var e=p(t),n=e[0],e=e[1];return v(v({},t),{width:n,height:e})}),!0),edges:b([],(t||[]).map(function(t){return v(v({},t),{v:t.source,w:t.target})}),!0)},t={expanded:(o||[]).filter(function(t){return!t.collapsed}).map(function(t){return t.id})},r={graph:{meta:{align:r,rankDir:n,nodeSep:h,edgeSep:l,rankSep:d}},subScene:{meta:{paddingTop:y||(null==c?void 0:c.paddingTop)||20,paddingRight:_||(null==c?void 0:c.paddingRight)||20,paddingBottom:m||(null==c?void 0:c.paddingBottom)||20,paddingLeft:u||(null==c?void 0:c.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:g,height:s}}},n=(0,O.mergeConfig)(f,v({},(0,O.mergeConfig)(r,O.LAYOUT_CONFIG)));return{graphDef:a,graphOption:t,graphSettings:this.graphSettings=n}},o.prototype.updatePosition=function(t){var e=t.nodes,t=t.edges;this.updateNodePosition(e,t),this.updateEdgePosition(e,t)},o.prototype.getBegin=function(t,e){var n,r,i=this.begin,o=[0,0];return i&&(r=n=1/0,t.forEach(function(t){n>t.x&&(n=t.x),r>t.y&&(r=t.y)}),e.forEach(function(t){t.points.forEach(function(t){n>t.x&&(n=t.x),r>t.y&&(r=t.y)})}),o[0]=i[0]-n,o[1]=i[1]-r),o},o.prototype.updateNodePosition=function(t,u){var l=this.combos,h=this.nodes,d=this.edges,f=this.anchorPoint,p=this.graphSettings,g=this.getBegin(t,u);t.forEach(function(r){var i,t,e,o=r.x,a=r.y,n=r.id,s=r.type,c=r.coreBox;s===O.HierarchyNodeType.META&&n!==O.ROOT_NAME?(e=l.findIndex(function(t){return t.id===n}),t=null===(t=null==p?void 0:p.subScene)||void 0===t?void 0:t.meta,l[e].offsetX=o+g[0],l[e].offsetY=a+g[1],l[e].fixSize=[c.width,c.height],l[e].fixCollapseSize=[c.width,c.height],r.expanded?l[e].padding=[null==t?void 0:t.paddingTop,null==t?void 0:t.paddingRight,null==t?void 0:t.paddingBottom,null==t?void 0:t.paddingLeft]:l[e].padding=[0,0,0,0]):s===O.HierarchyNodeType.OP&&(e=h.findIndex(function(t){return t.id===n}),h[e].x=o+g[0],h[e].y=a+g[1],f&&(i=[],c=u.filter(function(t){return t.v===n}),t=u.filter(function(t){return t.w===n}),0<c.length&&c.forEach(function(t){var e=t.points[0],n=(e.x-o)/r.width+.5,e=(e.y-a)/r.height+.5;i.push([n,e]),t.baseEdgeList.forEach(function(e){var t=d.find(function(t){return t.source===e.v&&t.target===e.w});t&&(t.sourceAnchor=i.length-1)})}),0<t.length&&t.forEach(function(t){var e=t.points[t.points.length-1],n=(e.x-o)/r.width+.5,e=(e.y-a)/r.height+.5;i.push([n,e]),t.baseEdgeList.forEach(function(e){var t=d.find(function(t){return t.source===e.v&&t.target===e.w});t&&(t.targetAnchor=i.length-1)})}),h[e].anchorPoints=0<i.length?i:h[e].anchorPoints||[]))})},o.prototype.updateEdgePosition=function(l,t){var h=this,d=h.combos,e=h.edges,n=h.controlPoints,f=this.getBegin(l,t);n&&(d.forEach(function(t){t.inEdges=[],t.outEdges=[]}),e.forEach(function(e){var t,n,r,i,o,a=l.find(function(t){return t.id===e.source}),s=l.find(function(t){return t.id===e.target}),c=[],c=(c=(a&&s?(0,O.getEdges)(null==a?void 0:a.id,null==s?void 0:s.id,l):(n=h.getNodePath(e.source),r=h.getNodePath(e.target),i=n.reverse().slice(a?0:1).find(function(e){return l.find(function(t){return t.id===e})}),o=r.reverse().slice(s?0:1).find(function(e){return l.find(function(t){return t.id===e})}),a=l.find(function(t){return t.id===i}),s=l.find(function(t){return t.id===o}),(0,O.getEdges)(null==a?void 0:a.id,null==s?void 0:s.id,l,{v:e.source,w:e.target}))).reduce(function(t,e){return b(b([],t,!0),e.points.map(function(t){return v(v({},t),{x:t.x+f[0],y:t.y+f[1]})}),!0)},[])).slice(1,-1);if(e.controlPoints=c,(null==s?void 0:s.type)===O.NodeType.META){var u=d.findIndex(function(t){return t.id===(null==s?void 0:s.id)});if(!d[u]||null!==(n=d[u].inEdges)&&void 0!==n&&n.some(function(t){return t.source===a.id&&t.target===s.id}))return;null===(r=d[u].inEdges)||void 0===r||r.push({source:a.id,target:s.id,controlPoints:c})}(null==a?void 0:a.type)===O.NodeType.META&&(u=d.findIndex(function(t){return t.id===(null==a?void 0:a.id)}),!d[u]||null!==(n=d[u].outEdges)&&void 0!==n&&n.some(function(t){return t.source===a.id&&t.target===s.id})||null===(t=d[u].outEdges)||void 0===t||t.push({source:a.id,target:s.id,controlPoints:c}))}))},o.prototype.getType=function(){return"dagreCompound"},o.prototype.getDataByOrder=function(t){return t.every(function(t){return void 0!==t.layoutOrder})||t.forEach(function(t,e){t.layoutOrder=e}),t.sort(function(t,e){return t.layoutOrder-e.layoutOrder})},o);function o(t){var e=n.call(this)||this;return e.rankdir="TB",e.nodesep=50,e.edgesep=5,e.ranksep=50,e.controlPoints=!0,e.anchorPoint=!0,e.nodes=[],e.edges=[],e.combos=[],e.onLayoutEnd=function(){},e.updateCfg(t),e}t.DagreCompoundLayout=e},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(484),e)},function(t,e,n){"use strict";var r,i,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=(Object.defineProperty(e,"__esModule",{value:!0}),e.ConcentricLayout=void 0,n(62)),n=(i=n(64).Base,o(a,i),a.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},a.prototype.execute=function(){var i=this,t=i.nodes,l=i.edges,e=t.length;if(0!==e){i.width||"undefined"==typeof window||(i.width=window.innerWidth),i.height||"undefined"==typeof window||(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]);var h=i.center;if(1===e)return t[0].x=h[0],t[0].y=h[1],void(null===(e=i.onLayoutEnd)||void 0===e||e.call(i));var d,e=i.nodeSize,n=i.nodeSpacing,r=[],o=0,f=(0,b.isArray)(e)?Math.max(e[0],e[1]):e,p=((0,b.isArray)(n)?o=Math.max(n[0],n[1]):(0,b.isNumber)(n)&&(o=n),t.forEach(function(t){r.push(t);var e=f;(0,b.isArray)(t.size)?e=Math.max(t.size[0],t.size[1]):(0,b.isNumber)(t.size)?e=t.size:(0,b.isObject)(t.size)&&(e=Math.max(t.size.width,t.size.height)),f=Math.max(f,e),(0,b.isFunction)(n)&&(o=Math.max(n(t),o))}),i.clockwise=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,{}),g={},a=(r.forEach(function(t,e){p[t.id]=t,g[t.id]=e}),"degree"!==i.sortBy&&(0,b.isString)(i.sortBy)&&void 0!==r[0][i.sortBy]||(i.sortBy="degree",(0,b.isNumber)(t[0].degree))||(d=(0,b.getDegree)(t.length,g,l),r.forEach(function(t,e){t.degree=d[e]})),r.sort(function(t,e){return e[i.sortBy]-t[i.sortBy]}),i.maxValueNode=r[0],i.maxLevelDiff=i.maxLevelDiff||i.maxValueNode[i.sortBy]/4,[[]]),s=a[0],c=(r.forEach(function(t){var e;0<s.length&&(e=Math.abs(s[0][i.sortBy]-t[i.sortBy]),i.maxLevelDiff&&e>=i.maxLevelDiff&&(s=[],a.push(s))),s.push(t)}),f+(o||i.minNodeSpacing)),y=(i.preventOverlap||(e=0<a.length&&1<a[0].length,e=(Math.min(i.width,i.height)/2-c)/(a.length+(e?1:0)),c=Math.min(c,e)),0);if(a.forEach(function(t){var e,n=i.sweep,n=(void 0===n&&(n=2*Math.PI-2*Math.PI/t.length),t.dTheta=n/Math.max(1,t.length-1));1<t.length&&i.preventOverlap&&(e=Math.cos(n)-Math.cos(0),n=Math.sin(n)-Math.sin(0),e=Math.sqrt(c*c/(e*e+n*n)),y=Math.max(e,y)),t.r=y,y+=c}),i.equidistant){for(var _=0,u=0,m=0;m<a.length;m++)var v=a[m].r-u,_=Math.max(_,v);u=0,a.forEach(function(t,e){0===e&&(u=t.r),t.r=u,u+=_})}return a.forEach(function(t){var n=t.dTheta,r=t.r;t.forEach(function(t,e){e=i.startAngle+(i.clockwise?1:-1)*n*e;t.x=h[0]+r*Math.cos(e),t.y=h[1]+r*Math.sin(e)})}),i.onLayoutEnd&&i.onLayoutEnd(),{nodes:t,edges:l}}null===(e=i.onLayoutEnd)||void 0===e||e.call(i)},a.prototype.getType=function(){return"concentric"},a);function a(t){var e=i.call(this)||this;return e.nodeSize=30,e.minNodeSpacing=10,e.nodeSpacing=10,e.preventOverlap=!1,e.equidistant=!1,e.startAngle=1.5*Math.PI,e.clockwise=!0,e.sortBy="degree",e.nodes=[],e.edges=[],e.width=300,e.height=300,e.onLayoutEnd=function(){},e.updateCfg(t),e}e.ConcentricLayout=n},function(t,e,n){"use strict";var r,i,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=(Object.defineProperty(e,"__esModule",{value:!0}),e.MDSLayout=void 0,n(356)),s=n(62),n=(i=n(64).Base,o(c,i),c.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},c.prototype.execute=function(){var n=this.nodes,t=this.edges,t=void 0===t?[]:t,r=this.center;if(n&&0!==n.length){if(1===n.length)return n[0].x=r[0],n[0].y=r[1],void(this.onLayoutEnd&&this.onLayoutEnd());var e=this.linkDistance,i=(0,s.getAdjMatrix)({nodes:n,edges:t},!1),i=(0,s.floydWarshall)(i),i=(this.handleInfinity(i),(0,s.scaleMatrix)(i,e)),e=(this.scaledDistances=i,this.runMDS());return(this.positions=e).forEach(function(t,e){n[e].x=t[0]+r[0],n[e].y=t[1]+r[1]}),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:n,edges:t}}this.onLayoutEnd&&this.onLayoutEnd()},c.prototype.runMDS=function(){var t=this.scaledDistances,t=a.Matrix.mul(a.Matrix.pow(t,2),-.5),e=t.mean("row"),n=t.mean("column"),r=t.mean(),r=(t.add(r).subRowVector(e).subColumnVector(n),new a.SingularValueDecomposition(t)),i=a.Matrix.sqrt(r.diagonalMatrix).diagonal();return r.leftSingularVectors.toJSON().map(function(t){return a.Matrix.mul([t],[i]).toJSON()[0].splice(0,2)})},c.prototype.handleInfinity=function(r){var i=-999999;r.forEach(function(t){t.forEach(function(t){t!==1/0&&i<t&&(i=t)})}),r.forEach(function(t,n){t.forEach(function(t,e){t===1/0&&(r[n][e]=i)})})},c.prototype.getType=function(){return"mds"},c);function c(t){var e=i.call(this)||this;return e.center=[0,0],e.linkDistance=50,e.nodes=[],e.edges=[],e.onLayoutEnd=function(){},e.updateCfg(t),e}e.MDSLayout=n},function(t,e,n){"use strict";var r,i,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=(Object.defineProperty(e,"__esModule",{value:!0}),e.FruchtermanLayout=void 0,n(64)),f=n(62),n=(i=a.Base,o(s,i),s.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},s.prototype.execute=function(){var n=this,t=this.nodes;if(void 0!==this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),t&&0!==t.length){this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var e=this.center;if(1===t.length)return t[0].x=e[0],t[0].y=e[1],void(null===(e=this.onLayoutEnd)||void 0===e||e.call(this));var r={},i={};return t.forEach(function(t,e){(0,f.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,f.isNumber)(t.y)||(t.y=Math.random()*n.height),r[t.id]=t,i[t.id]=e}),this.nodeMap=r,this.nodeIdxMap=i,this.run()}null===(e=this.onLayoutEnd)||void 0===e||e.call(this)},s.prototype.run=function(){var e=this,t=e.nodes;if(t){var n=e.edges,r=e.maxIteration,i=e.workerEnabled,o=e.clustering,a=e.animate,s={};if(o&&t.forEach(function(t){void 0===s[t.cluster]&&(s[t.cluster]={name:t.cluster,cx:0,cy:0,count:0})}),i||!a){for(var c=0;c<r;c++)e.runOneStep(s);null===(o=e.onLayoutEnd)||void 0===o||o.call(e)}else{if("undefined"==typeof window)return;var u=0;this.timeInterval=window.setInterval(function(){var t;e.runOneStep(s),++u>=r&&(null===(t=e.onLayoutEnd)||void 0===t||t.call(e),window.clearInterval(e.timeInterval))},0)}return{nodes:t,edges:n}}},s.prototype.runOneStep=function(o){var t=this.nodes;if(t){var e=this.edges,r=this.center,i=this.gravity,a=this.speed,l=this.clustering,n=this.height*this.width,h=Math.sqrt(n)/10,n=n/(t.length+1),s=Math.sqrt(n),c=[];if(t.forEach(function(t,e){c[e]={x:0,y:0}}),this.applyCalculate(t,e,c,s,n),l){for(var u in o)o[u].cx=0,o[u].cy=0,o[u].count=0;for(var u in t.forEach(function(t){var e=o[t.cluster];(0,f.isNumber)(t.x)&&(e.cx+=t.x),(0,f.isNumber)(t.y)&&(e.cy+=t.y),e.count++}),o)o[u].cx/=o[u].count,o[u].cy/=o[u].count;var d=this.clusterGravity||i;t.forEach(function(t,e){var n,r,i;(0,f.isNumber)(t.x)&&(0,f.isNumber)(t.y)&&(n=o[t.cluster],r=Math.sqrt((t.x-n.cx)*(t.x-n.cx)+(t.y-n.cy)*(t.y-n.cy)),c[e].x-=(i=s*d)*(t.x-n.cx)/r,c[e].y-=i*(t.y-n.cy)/r)})}t.forEach(function(t,e){var n;(0,f.isNumber)(t.x)&&(0,f.isNumber)(t.y)&&(c[e].x-=(n=.01*s*i)*(t.x-r[0]),c[e].y-=n*(t.y-r[1]))}),t.forEach(function(t,e){if((0,f.isNumber)(t.fx)&&(0,f.isNumber)(t.fy))return t.x=t.fx,void(t.y=t.fy);var n,r;(0,f.isNumber)(t.x)&&(0,f.isNumber)(t.y)&&(0<(n=Math.sqrt(c[e].x*c[e].x+c[e].y*c[e].y))&&(r=Math.min(a/800*h,n),t.x+=c[e].x/n*r,t.y+=c[e].y/n*r))}),null===(e=this.tick)||void 0===e||e.call(this)}},s.prototype.applyCalculate=function(t,e,n,r,i){this.calRepulsive(t,n,i),e&&this.calAttractive(e,n,r)},s.prototype.calRepulsive=function(t,a,s){t.forEach(function(i,o){a[o]={x:0,y:0},t.forEach(function(t,e){var n,r;o!==e&&(0,f.isNumber)(i.x)&&(0,f.isNumber)(t.x)&&(0,f.isNumber)(i.y)&&(0,f.isNumber)(t.y)&&(0===(n=(r=i.x-t.x)*r+(t=i.y-t.y)*t)&&(n=1,t=r=.01*(e<o?1:-1)),a[o].x+=r*(e=s/n),a[o].y+=t*e)})})},s.prototype.calAttractive=function(t,a,s){var c=this;t.forEach(function(t){var e,n,r,i,o=(0,f.getEdgeTerminal)(t,"source"),t=(0,f.getEdgeTerminal)(t,"target");o&&t&&((e=c.nodeIdxMap[o])!==(n=c.nodeIdxMap[t])&&(o=c.nodeMap[o],t=c.nodeMap[t],(0,f.isNumber)(t.x)&&(0,f.isNumber)(o.x)&&(0,f.isNumber)(t.y)&&(0,f.isNumber)(o.y)&&(r=t.x-o.x,t=t.y-o.y,o=Math.sqrt(r*r+t*t),a[n].x-=r/o*(i=o*o/s),a[n].y-=t/o*i,a[e].x+=r/o*i,a[e].y+=t/o*i)))})},s.prototype.stop=function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)},s.prototype.destroy=function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0},s.prototype.getType=function(){return"fruchterman"},s);function s(t){var e=i.call(this)||this;return e.maxIteration=1e3,e.workerEnabled=!1,e.gravity=10,e.speed=5,e.clustering=!1,e.clusterGravity=10,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.onLayoutEnd=function(){},e.tick=function(){},e.animate=!0,e.updateCfg(t),e}e.FruchtermanLayout=n},function(o,t,e){"use strict";var r,n,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=this&&this.__awaiter||function(t,a,s,c){return new(s=s||Promise)(function(n,e){function r(t){try{o(c.next(t))}catch(t){e(t)}}function i(t){try{o(c.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,i)}o((c=c.apply(t,a||[])).next())})},M=this&&this.__generator||function(r,i){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){c=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){c.label=e[1];break}if(6===e[0]&&c.label<s[1]){c.label=s[1],s=e;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(e);break}s[2]&&c.ops.pop(),c.trys.pop();continue}e=i.call(r,c)}catch(t){e=[6,t],a=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanGPULayout=void 0,e(64)),P=e(62),C=e(355),A=e(349),S=e(553),j=e(165),e=(n=s.Base,a(i,n),i.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},i.prototype.execute=function(){return w(this,void 0,void 0,function(){var e,n,r,i,o,a=this;return M(this,function(t){switch(t.label){case 0:return(n=(e=this).nodes)&&0!==n.length?(e.width||"undefined"==typeof window||(e.width=window.innerWidth),e.height||"undefined"==typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),r=e.center,1===n.length?(n[0].x=r[0],n[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(i={},o={},n.forEach(function(t,e){(0,P.isNumber)(t.x)||(t.x=Math.random()*a.width),(0,P.isNumber)(t.y)||(t.y=Math.random()*a.height),i[t.id]=t,o[t.id]=e}),e.nodeMap=i,e.nodeIdxMap=o,[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return t.sent(),[2]}})})},i.prototype.executeWithWorker=function(s,c){return w(this,void 0,void 0,function(){var e,n,r,i,o,a=this;return M(this,function(t){switch(t.label){case 0:return n=(e=this).nodes,r=e.center,n&&0!==n.length?1===n.length?(n[0].x=r[0],n[0].y=r[1],[2]):(i={},o={},n.forEach(function(t,e){(0,P.isNumber)(t.x)||(t.x=Math.random()*a.width),(0,P.isNumber)(t.y)||(t.y=Math.random()*a.height),i[t.id]=t,o[t.id]=e}),e.nodeMap=i,e.nodeIdxMap=o,[4,e.run(s,c)]):[2];case 1:return t.sent(),[2]}})})},i.prototype.run=function(x,E){return w(this,void 0,void 0,function(){var e,n,h,d,f,r,p,g,i,o,a,s,y,c,u,_,m,v,l,b,O=this;return M(this,function(t){switch(t.label){case 0:for(n=(e=this).nodes,c=e.edges,h=e.maxIteration,d=e.center,r=e.height*e.width,f=Math.sqrt(r)/10,r=r/(n.length+1),p=Math.sqrt(r),g=e.speed,i=e.clustering,s=(0,A.attributesToTextureData)([e.clusterField],n),o=s.array,a=s.count,n.forEach(function(t,e){var n=0,r=0;(0,P.isNumber)(t.fx)&&(0,P.isNumber)(t.fy)&&(n=t.fx||.001,r=t.fy||.001),o[4*e+1]=n,o[4*e+2]=r}),s=n.length,c=(0,A.buildTextureData)(n,c),y=c.maxEdgePerVetex,c=c.array,u=e.workerEnabled,u=u?C.World.create({canvas:x,engineOptions:{supportCompute:!0}}):C.World.create({engineOptions:{supportCompute:!0}}),_=e.onLayoutEnd,m=[],v=0;v<a;v++)m.push(0,0,0,0);return l=u.createKernel(S.fruchtermanBundle).setDispatch([s,1,1]).setBinding({u_Data:c,u_K:p,u_K2:r,u_Gravity:e.gravity,u_ClusterGravity:e.clusterGravity||e.gravity||1,u_Speed:g,u_MaxDisplace:f,u_Clustering:i?1:0,u_Center:d,u_AttributeArray:o,u_ClusterCenters:m,MAX_EDGE_PER_VERTEX:y,VERTEX_COUNT:s}),i&&(b=u.createKernel(S.clusterBundle).setDispatch([a,1,1]).setBinding({u_Data:c,u_NodeAttributes:o,u_ClusterCenters:m,VERTEX_COUNT:s,CLUSTER_COUNT:a})),[4,w(O,void 0,void 0,function(){var e,r;return M(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<h?[4,l.execute()]:[3,6];case 2:return t.sent(),i?(b.setBinding({u_Data:l}),[4,b.execute()]):[3,4];case 3:t.sent(),l.setBinding({u_ClusterCenters:b}),t.label=4;case 4:l.setBinding({u_MaxDisplace:f*=.99}),t.label=5;case 5:return e++,[3,1];case 6:return[4,l.getOutput()];case 7:return r=t.sent(),x?E.postMessage({type:j.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:r}):n.forEach(function(t,e){var n=r[4*e],e=r[4*e+1];t.x=n,t.y=e}),_&&_(),[2]}})})];case 1:return t.sent(),[2]}})})},i.prototype.getType=function(){return"fruchterman-gpu"},i);function i(t){var e=n.call(this)||this;return e.maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterField="cluster",e.clusterGravity=10,e.workerEnabled=!1,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.updateCfg(t),e}t.FruchtermanGPULayout=e},function(t,e,n){!function(G,$){var K;K={},function(){var s,c,u,n,l,h,d,f,_,r,m,v,b,O,t="object"==typeof $?$:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),e=x(K);function x(n,r){return function(t,e){"function"!=typeof n[t]&&Object.defineProperty(n,t,{configurable:!0,writable:!0,value:e}),r&&r(t,e)}}function i(){this._key=E()}function E(){for(var t;t="@@WeakMap@@"+function(){var t="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):M(new Uint8Array(16),16):M(new Array(16),16);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",n=0;n<16;++n){var r=t[n];4!==n&&6!==n&&8!==n||(e+="-"),r<16&&(e+="0"),e+=r.toString(16).toLowerCase()}return e}(),r.has(s,t););return s[t]=!0,t}function w(t,e){if(!h.call(t,c)){if(!e)return;Object.defineProperty(t,c,{value:r.create()})}return t[c]}function M(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function o(){this._map=new v}function P(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}function a(){this._keys=[],this._values=[],this._cacheKey=u,this._cacheIndex=-2}function C(t,e){return t}function A(t,e){return e}function S(t,e){return[t,e]}function j(t,e,n){var r=O.get(t);if(p(r)){if(!n)return;r=new v,O.set(t,r)}t=r.get(e);if(p(t)){if(!n)return;t=new v,r.set(e,t)}return t}function D(t,e,n){e=j(e,n,!1);return!p(e)&&!!e.has(t)}function T(t,e,n){e=j(e,n,!1);if(!p(e))return e.get(t)}function I(t,e,n,r){j(n,r,!0).set(t,e)}function k(t,e){var n=[],e=j(t,e,!1);if(p(e))return n;for(var r,i,o=function(t){var e=U(t,f);if(!N(e))throw new TypeError;e=e.call(t);if(!g(e))throw new TypeError;return e}(e.keys()),a=0;;){var s=function(t){t=t.next();return!t.done&&t}(o);if(!s)return n.length=a,n;s=s.value;try{n[a]=s}catch(t){try{i=void 0,(i=(r=o).return)&&i.call(r)}finally{throw t}}a++}}function L(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function p(t){return void 0===t}function R(t){return null===t}function g(t){return"object"==typeof t?null!==t:"function"==typeof t}function y(t){t=function(t,e){switch(L(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var e=3===e?"string":5===e?"number":"default",n=U(t,d);if(void 0!==n){n=n.call(t,e);if(g(n))throw new TypeError;return n}if(n=t,"string"==("default"===e?"number":e)){var r=n.toString;if(N(r)&&!g(i=r.call(n)))return i;if(N(r=n.valueOf)&&!g(i=r.call(n)))return i}else{if(N(r=n.valueOf)&&!g(i=r.call(n)))return i;var i,r=n.toString;if(N(r)&&!g(i=r.call(n)))return i}throw new TypeError}(t,3);return"symbol"==typeof t?t:""+t}function B(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function N(t){return"function"==typeof t}function F(t){return"function"==typeof t}function U(t,e){t=t[e];if(null!=t){if(!N(t))throw new TypeError;return t}}function W(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===m)return e;if(e!==m)return e;var n=t.prototype,n=n&&Object.getPrototypeOf(n);if(null==n||n===Object.prototype)return e;n=n.constructor;return"function"!=typeof n||n===t?e:n}function z(t){return t.__=void 0,delete t.__,t}void 0===t.Reflect?t.Reflect=K:e=x(t.Reflect,e),t=e,h=Object.prototype.hasOwnProperty,e="function"==typeof Symbol,d=e&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",f=e&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",e="function"==typeof Object.create,_={__proto__:[]}instanceof Array,r={create:e?function(){return z(Object.create(null))}:_?function(){return z({__proto__:null})}:function(){return z({})},has:(_=!e&&!_)?function(t,e){return h.call(t,e)}:function(t,e){return e in t},get:_?function(t,e){return h.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},m=Object.getPrototypeOf(Function),e="object"==typeof G&&G.env&&"true"===G.env.REFLECT_METADATA_USE_MAP_POLYFILL,v=e||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?(u={},n=[],P.prototype["@@iterator"]=function(){return this},P.prototype[f]=function(){return this},P.prototype.next=function(){var t,e=this._index;return 0<=e&&e<this._keys.length?(t=this._selector(this._keys[e],this._values[e]),e+1>=this._keys.length?(this._index=-1,this._keys=n,this._values=n):this._index++,{value:t,done:!1}):{value:void 0,done:!0}},P.prototype.throw=function(t){throw 0<=this._index&&(this._index=-1,this._keys=n,this._values=n),t},P.prototype.return=function(t){return 0<=this._index&&(this._index=-1,this._keys=n,this._values=n),{value:t,done:!0}},l=P,Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),a.prototype.has=function(t){return 0<=this._find(t,!1)},a.prototype.get=function(t){t=this._find(t,!1);return 0<=t?this._values[t]:void 0},a.prototype.set=function(t,e){t=this._find(t,!0);return this._values[t]=e,this},a.prototype.delete=function(t){var e=this._find(t,!1);if(0<=e){for(var n=this._keys.length,r=e+1;r<n;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=u,this._cacheIndex=-2),!0}return!1},a.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=u,this._cacheIndex=-2},a.prototype.keys=function(){return new l(this._keys,this._values,C)},a.prototype.values=function(){return new l(this._keys,this._values,A)},a.prototype.entries=function(){return new l(this._keys,this._values,S)},a.prototype["@@iterator"]=function(){return this.entries()},a.prototype[f]=function(){return this.entries()},a.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},a):Map,b=e||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?(Object.defineProperty(o.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),o.prototype.has=function(t){return this._map.has(t)},o.prototype.add=function(t){return this._map.set(t,t),this},o.prototype.delete=function(t){return this._map.delete(t)},o.prototype.clear=function(){this._map.clear()},o.prototype.keys=function(){return this._map.keys()},o.prototype.values=function(){return this._map.values()},o.prototype.entries=function(){return this._map.entries()},o.prototype["@@iterator"]=function(){return this.keys()},o.prototype[f]=function(){return this.keys()},o):Set,O=new(e||"function"!=typeof WeakMap?(s=r.create(),c=E(),i.prototype.has=function(t){t=w(t,!1);return void 0!==t&&r.has(t,this._key)},i.prototype.get=function(t){t=w(t,!1);return void 0!==t?r.get(t,this._key):void 0},i.prototype.set=function(t,e){return w(t,!0)[this._key]=e,this},i.prototype.delete=function(t){t=w(t,!1);return void 0!==t&&delete t[this._key]},i.prototype.clear=function(){this._key=E()},i):WeakMap),t("decorate",function(t,e,n,r){if(p(n)){if(!B(t))throw new TypeError;if(!F(e))throw new TypeError;for(var l=t,i=e,o=l.length-1;0<=o;--o){var a=(0,l[o])(i);if(!p(a)&&!R(a)){if(!F(a))throw new TypeError;i=a}}return i}if(!B(t))throw new TypeError;if(!g(e))throw new TypeError;if(!g(r)&&!p(r)&&!R(r))throw new TypeError;R(r)&&(r=void 0);for(var h=t,d=e,f=n=y(n),s=r,c=h.length-1;0<=c;--c){var u=(0,h[c])(d,f,s);if(!p(u)&&!R(u)){if(!g(u))throw new TypeError;s=u}}return s}),t("metadata",function(n,r){return function(t,e){if(!g(t))throw new TypeError;if(!p(e)&&!function(){switch(L(e)){case 3:case 4:return 1;default:return}}())throw new TypeError;I(n,r,t,e)}}),t("defineMetadata",function(t,e,n,r){if(!g(n))throw new TypeError;return I(t,e,n,r=p(r)?r:y(r))}),t("hasMetadata",function(t,e,n){if(!g(e))throw new TypeError;return function t(e,n,r){if(D(e,n,r))return!0;n=W(n);return!R(n)&&t(e,n,r)}(t,e,n=p(n)?n:y(n))}),t("hasOwnMetadata",function(t,e,n){if(!g(e))throw new TypeError;return D(t,e,n=p(n)?n:y(n))}),t("getMetadata",function(t,e,n){if(!g(e))throw new TypeError;return function t(e,n,r){if(D(e,n,r))return T(e,n,r);n=W(n);return R(n)?void 0:t(e,n,r)}(t,e,n=p(n)?n:y(n))}),t("getOwnMetadata",function(t,e,n){if(!g(e))throw new TypeError;return T(t,e,n=p(n)?n:y(n))}),t("getMetadataKeys",function(t,e){if(!g(t))throw new TypeError;return function l(t,e){var n=k(t,e),t=W(t);if(null===t)return n;t=l(t,e);if(t.length<=0)return n;if(n.length<=0)return t;for(var r=new b,i=[],o=0,a=n;o<a.length;o++){var s=a[o];r.has(s)||(r.add(s),i.push(s))}for(var c=0,u=t;c<u.length;c++)s=u[c],r.has(s)||(r.add(s),i.push(s));return i}(t,e=p(e)?e:y(e))}),t("getOwnMetadataKeys",function(t,e){if(!g(t))throw new TypeError;return k(t,e=p(e)?e:y(e))}),t("deleteMetadata",function(t,e,n){if(!g(e))throw new TypeError;var r=j(e,n=p(n)?n:y(n),!1);if(p(r))return!1;if(!r.delete(t))return!1;if(0<r.size)return!0;t=O.get(e);return t.delete(n),0<t.size||O.delete(e),!0})}()}.call(this,n(245),n(226))},function(t,e,n){var r=n(315);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var r=n(65);function i(){}i.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},i.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},e.MetadataReader=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var r=n(80);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var o=n(80),a=n(65),s=n(94),c=n(108);function r(t){this._cb=t}r.prototype.unwrap=function(){return this._cb()},e.LazyServiceIdentifer=r,e.inject=function(i){return function(t,e,n){if(void 0===i)throw new Error(o.UNDEFINED_INJECT_ANNOTATION(t.name));var r=new s.Metadata(a.INJECT_TAG,i);"number"==typeof n?c.tagParameter(t,e,n,r):c.tagProperty(t,e,r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var i=n(65),o=n(122),a=n(94),s=n(498);function r(t,e,n,r){this.id=o.id(),this.type=t,this.serviceIdentifier=n,this.name=new s.QueryableString(e||""),this.metadata=new Array;t=null;"string"==typeof r?t=new a.Metadata(i.NAMED_TAG,r):r instanceof a.Metadata&&(t=r),null!==t&&this.metadata.push(t)}r.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++)if(n[e].key===t)return!0;return!1},r.prototype.isArray=function(){return this.hasTag(i.MULTI_INJECT_TAG)},r.prototype.matchesArray=function(t){return this.matchesTag(i.MULTI_INJECT_TAG)(t)},r.prototype.isNamed=function(){return this.hasTag(i.NAMED_TAG)},r.prototype.isTagged=function(){return this.metadata.some(function(e){return i.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})})},r.prototype.isOptional=function(){return this.matchesTag(i.OPTIONAL_TAG)(!0)},r.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===i.NAMED_TAG})[0]:null},r.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return i.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})}):null},r.prototype.matchesNamedTag=function(t){return this.matchesTag(i.NAMED_TAG)(t)},r.prototype.matchesTag=function(i){var o=this;return function(t){for(var e=0,n=o.metadata;e<n.length;e++){var r=n[e];if(r.key===i&&r.value===t)return!0}return!1}},e.Target=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var r=n(234),i=n(235);function o(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}o.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},o.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},o.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},o.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},o.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},o.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},o.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},o.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},o.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},o.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},o.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},o.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},o.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},o.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},o.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},o.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e.BindingWhenOnSyntax=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;function r(t,e){return null!==(t=t.parentRequest)&&(!!e(t)||r(t,e))}function i(n){return function(e){function t(t){return null!==t&&null!==t.target&&t.target.matchesTag(n)(e)}return t.metaData=new a.Metadata(n,e),t}}var o=n(65),a=n(94),n=(e.traverseAncerstors=r,(e.taggedConstraint=i)(o.NAMED_TAG));e.namedConstraint=n,e.typeConstraint=function(n){return function(t){if(null===t)return!1;if(e=t.bindings[0],"string"==typeof n)return e.serviceIdentifier===n;var e=t.bindings[0].implementationType;return n===e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n(4),u=n(136);function r(t){for(var e=new u.a,n=c.e.fromValues(t[0],t[1],t[2]),r=c.e.fromValues(t[0],t[1],t[2]),i=3;i<t.length;){var o=t[i++],a=t[i++],s=t[i++];o<n[0]&&(n[0]=o),a<n[1]&&(n[1]=a),s<n[2]&&(n[2]=s),o>r[0]&&(r[0]=o),a>r[1]&&(r[1]=a),s>r[2]&&(r[2]=s)}return e.setMinMax(n,r),e}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent)},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict"},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e,t[1]=n,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],e=e[1]-t[1];return Math.sqrt(n*n+e*e)}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],e=e[1]-t[1];return n*n+e*e}},function(t,e){t.exports=function(t){var e=t[0],t=t[1];return Math.sqrt(e*e+t*t)}},function(t,e){t.exports=function(t){var e=t[0],t=t[1];return e*e+t*t}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],n=n*n+r*r;return 0<n&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayToTextureData=e.attributesToTextureData=e.buildTextureDataWithTwoEdgeAttr=e.buildTextureData=e.proccessToFunc=void 0;var r=n(62),m=n(230);e.proccessToFunc=function(t,e){return t?(0,r.isNumber)(t)?function(){return t}:t:function(){return e||1}},e.buildTextureData=function(t,e){for(var n=[],r=[],i={},o=0,o=0;o<t.length;o++){var a=t[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){var s=e[o],l=(0,m.getEdgeTerminal)(s,"source"),s=(0,m.getEdgeTerminal)(s,"target");r[i[l]].push(i[s]),r[i[s]].push(i[l])}var h=0;for(o=0;o<t.length;o++){var d=n.length,c=r[o],f=c.length;n[4*o+2]=d,n[4*o+3]=c.length;for(var h=Math.max(h,c.length),u=0;u<f;++u){var p=c[u];n.push(+p)}}for(;n.length%4!=0;)n.push(0);return{maxEdgePerVetex:h,array:new Float32Array(n)}},e.buildTextureDataWithTwoEdgeAttr=function(t,l,h,d){for(var e=[],n=[],r={},i=0,i=0;i<t.length;i++){var o=t[i];r[o.id]=i,e.push(o.x),e.push(o.y),e.push(0),e.push(0),n.push([])}for(i=0;i<l.length;i++){var a=l[i],s=(0,m.getEdgeTerminal)(a,"source"),c=(0,m.getEdgeTerminal)(a,"target");n[r[s]].push(r[c]),n[r[s]].push(h(a)),n[r[s]].push(d(a)),n[r[s]].push(0),n[r[c]].push(r[s]),n[r[c]].push(h(a)),n[r[c]].push(d(a)),n[r[c]].push(0)}var f=0;for(i=0;i<t.length;i++){var p=e.length,g=n[i],u=g.length;e[4*i+2]=p+1048576*u/4,e[4*i+3]=0;for(var f=Math.max(f,u/4),y=0;y<u;++y){var _=g[y];e.push(+_)}}for(;e.length%4!=0;)e.push(0);return{maxEdgePerVetex:f,array:new Float32Array(e)}},e.attributesToTextureData=function(t,e){var r=[],i=t.length,o={};return e.forEach(function(n){t.forEach(function(t,e){if(void 0===o[n[t]]&&(o[n[t]]=Object.keys(o).length),r.push(o[n[t]]),e===i-1)for(;r.length%4!=0;)r.push(0)})}),{array:new Float32Array(r),count:Object.keys(o).length}},e.arrayToTextureData=function(t){for(var r=[],i=t.length,e=t[0].length,n=0;n<e;n++)!function(n){t.forEach(function(t,e){if(r.push(t[n]),e===i-1)for(;r.length%4!=0;)r.push(0)})}(n);return new Float32Array(r)}},function(o,t,e){"use strict";var r,n,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),C=this&&this.__awaiter||function(t,a,s,c){return new(s=s||Promise)(function(n,e){function r(t){try{o(c.next(t))}catch(t){e(t)}}function i(t){try{o(c.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,i)}o((c=c.apply(t,a||[])).next())})},A=this&&this.__generator||function(r,i){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){c=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){c.label=e[1];break}if(6===e[0]&&c.label<s[1]){c.label=s[1],s=e;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(e);break}s[2]&&c.ops.pop(),c.trys.pop();continue}e=i.call(r,c)}catch(t){e=[6,t],a=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.GForceGPULayout=void 0,e(64)),S=e(62),j=e(355),D=e(349),T=e(230),I=e(554),k=e(165),e=(n=s.Base,a(i,n),i.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},i.prototype.execute=function(){return C(this,void 0,void 0,function(){var n,e,r,i,o;return A(this,function(t){switch(t.label){case 0:return(e=(n=this).nodes)&&0!==e.length?(n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]),r=n.center,1===e.length?(e[0].x=r[0],e[0].y=r[1],n.onLayoutEnd&&n.onLayoutEnd(),[2]):(i={},o={},e.forEach(function(t,e){(0,S.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,S.isNumber)(t.y)||(t.y=Math.random()*n.height),i[t.id]=t,o[t.id]=e}),n.nodeMap=i,n.nodeIdxMap=o,n.nodeStrength=(0,D.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,D.proccessToFunc)(n.edgeStrength,1),[4,n.run()])):(n.onLayoutEnd&&n.onLayoutEnd(),[2]);case 1:return t.sent(),[2]}})})},i.prototype.executeWithWorker=function(t,e){var n=this,r=n.nodes,i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var o={},a={};r.forEach(function(t,e){(0,S.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,S.isNumber)(t.y)||(t.y=Math.random()*n.height),o[t.id]=t,a[t.id]=e}),n.nodeMap=o,n.nodeIdxMap=a,n.nodeStrength=(0,D.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,D.proccessToFunc)(n.edgeStrength,1),n.run(t,e)}},i.prototype.run=function(M,P){return C(this,void 0,void 0,function(){var i,o,h,e,d,n,f,p,g,y,_,r,a,m,v,s,b,c,O,u,x,l,E,w=this;return A(this,function(t){switch(t.label){case 0:for(o=(i=this).nodes,s=i.edges,h=i.maxIteration,i.width||"undefined"==typeof window||(i.width=window.innerWidth),i.height||"undefined"==typeof window||(i.height=window.innerHeight),e=o.length,i.linkDistance=(0,D.proccessToFunc)(i.linkDistance),i.edgeStrength=(0,D.proccessToFunc)(i.edgeStrength),n=(0,D.buildTextureDataWithTwoEdgeAttr)(o,s,i.linkDistance,i.edgeStrength),d=n.maxEdgePerVetex,n=n.array,i.degrees=(0,T.getDegree)(o.length,i.nodeIdxMap,s),f=[],p=[],g=[],y=[],_=[],r=[],a=[],i.getMass||(i.getMass=function(t){return i.degrees[i.nodeIdxMap[t.id]]||1}),m=i.gravity,v=i.center,o.forEach(function(t,e){f.push(i.getMass(t)),p.push(i.nodeStrength(t)),i.degrees[e]||(i.degrees[e]=0);var n=[v[0],v[1],m];!i.getCenter||(e=i.getCenter(t,i.degrees[e]))&&(0,S.isNumber)(e[0])&&(0,S.isNumber)(e[1])&&(0,S.isNumber)(e[2])&&(n=e),g.push(n[0]),y.push(n[1]),_.push(n[2]),(0,S.isNumber)(t.fx)&&(0,S.isNumber)(t.fy)?(r.push(t.fx||.001),a.push(t.fy||.001)):(r.push(0),a.push(0))}),s=(0,D.arrayToTextureData)([f,i.degrees,p,r]),b=(0,D.arrayToTextureData)([g,y,_,a]),c=i.workerEnabled,c=c?j.World.create({canvas:M,engineOptions:{supportCompute:!0}}):j.World.create({engineOptions:{supportCompute:!0}}),O=i.onLayoutEnd,u=[],n.forEach(function(t){u.push(t)}),x=0;x<4;x++)u.push(0);return l=c.createKernel(I.gForceBundle).setDispatch([e,1,1]).setBinding({u_Data:n,u_damping:i.damping,u_maxSpeed:i.maxSpeed,u_minMovement:i.minMovement,u_coulombDisScale:i.coulombDisScale,u_factor:i.factor,u_NodeAttributeArray1:s,u_NodeAttributeArray2:b,MAX_EDGE_PER_VERTEX:d,VERTEX_COUNT:e,u_AveMovement:u,u_interval:i.interval}),E=c.createKernel(I.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:n,VERTEX_COUNT:e,u_AveMovement:[0,0,0,0]}),[4,C(w,void 0,void 0,function(){var e,n,r;return A(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<h?[4,l.execute()]:[3,5];case 2:return t.sent(),E.setBinding({u_Data:l}),[4,E.execute()];case 3:t.sent(),n=Math.max(.02,i.interval-.002*e),l.setBinding({u_interval:n,u_AveMovement:E}),t.label=4;case 4:return e++,[3,1];case 5:return[4,l.getOutput()];case 6:return r=t.sent(),M?P.postMessage({type:k.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:r}):o.forEach(function(t,e){var n=r[4*e],e=r[4*e+1];t.x=n,t.y=e}),O&&O(),[2]}})})];case 1:return t.sent(),[2]}})})},i.prototype.getType=function(){return"gForce-gpu"},i);function i(t){var e=n.call(this)||this;return e.maxIteration=1e3,e.edgeStrength=200,e.nodeStrength=1e3,e.coulombDisScale=.005,e.damping=.9,e.maxSpeed=1e3,e.minMovement=.5,e.interval=.02,e.factor=1,e.linkDistance=1,e.gravity=10,e.workerEnabled=!1,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.updateCfg(t),e}t.GForceGPULayout=e},function(t,e,n){"use strict";var r,i,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=(Object.defineProperty(e,"__esModule",{value:!0}),e.ComboForceLayout=void 0,n(64)),O=n(62),n=(i=a.Base,o(s,i),s.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},s.prototype.execute=function(){var t=this.nodes,e=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=e[0],t[0].y=e[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()},s.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration,r=(t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center),i=t.velocityDecay,o=t.comboMap;t.previousLayouted||t.initPos(o);for(var a=0;a<n;a++)!function(){var n=[];e.forEach(function(t,e){n[e]={x:0,y:0}}),t.applyCalculate(n),t.applyComboCenterForce(n),e.forEach(function(t,e){(0,O.isNumber)(t.x)&&(0,O.isNumber)(t.y)&&(t.x+=n[e].x*i,t.y+=n[e].y*i)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()}();var s=[0,0],c=(e.forEach(function(t){(0,O.isNumber)(t.x)&&(0,O.isNumber)(t.y)&&(s[0]+=t.x,s[1]+=t.y)}),s[0]/=e.length,s[1]/=e.length,[r[0]-s[0],r[1]-s[1]]);e.forEach(function(t,e){(0,O.isNumber)(t.x)&&(0,O.isNumber)(t.y)&&(t.x+=c[0],t.y+=c[1])}),t.combos.forEach(function(t){var e=o[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)}),t.previousLayouted=!0},s.prototype.initVals=function(){var t=this.edges,e=this.nodes,n=this.combos,r={},l={},h={},d=(e.forEach(function(t,e){l[t.id]=t,h[t.id]=e}),this.nodeMap=l,this.indexMap=h,{}),e=(n.forEach(function(t){d[t.id]=t}),this.oriComboMap=d,this.comboMap=this.getComboMap(),this.preventOverlap),n=(this.preventComboOverlap=this.preventComboOverlap||e,this.preventNodeOverlap=this.preventNodeOverlap||e,this.collideStrength);n&&(this.comboCollideStrength=n,this.nodeCollideStrength=n),this.comboCollideStrength=this.comboCollideStrength||0,this.nodeCollideStrength=this.nodeCollideStrength||0;for(var i=0;i<t.length;++i){var o=(0,O.getEdgeTerminal)(t[i],"source"),a=(0,O.getEdgeTerminal)(t[i],"target");r[o]?r[o]++:r[o]=1,r[a]?r[a]++:r[a]=1}for(var f=[],i=0;i<t.length;++i)o=(0,O.getEdgeTerminal)(t[i],"source"),a=(0,O.getEdgeTerminal)(t[i],"target"),f[i]=r[o]/(r[o]+r[a]);this.bias=f;var p,g,s=this.nodeSize,c=this.nodeSpacing,e=(0,O.isNumber)(c)?function(){return c}:(0,O.isFunction)(c)?c:function(){return 0};this.nodeSpacing=e,n=s?(0,O.isFunction)(s)?function(t){return s(t)}:(0,O.isArray)(s)?(p=(s[0]>s[1]?s[0]:s[1])/2,function(t){return p}):(g=s/2,function(t){return g}):function(t){return t.size?(0,O.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:(0,O.isObject)(t.size)?(t.size.width>t.size.height?t.size.width:t.size.height)/2:t.size/2:10},this.nodeSize=n;var y=this.comboSpacing,e=(0,O.isNumber)(y)?function(){return y}:(0,O.isFunction)(y)?y:function(){return 0};this.comboSpacing=e;var u=this.comboPadding,n=(0,O.isNumber)(u)?function(){return u}:(0,O.isArray)(u)?function(){return Math.max.apply(null,u)}:(0,O.isFunction)(u)?u:function(){return 0};this.comboPadding=n;var _=(_=this.linkDistance)||10,e=(0,O.isNumber)(_)?function(t){return _}:_;this.linkDistance=e;var m=(m=this.edgeStrength)||1,n=(0,O.isNumber)(m)?function(t){return m}:m;this.edgeStrength=n;var v=(v=this.nodeStrength)||30,e=(0,O.isNumber)(v)?function(t){return v}:v;this.nodeStrength=e},s.prototype.initPos=function(i){this.nodes.forEach(function(t,e){var n=t.comboId,r=i[n];n&&r?(t.x=r.cx+100/(e+1),t.y=r.cy+100/(e+1)):(t.x=100/(e+1),t.y=100/(e+1))})},s.prototype.getComboMap=function(){var i=this,o=i.nodeMap,t=i.comboTrees,a=i.oriComboMap,s={};return(t||[]).forEach(function(t){var r=[];(0,O.traverseTreeUp)(t,function(t){if("node"===t.itemType)return!0;if(!a[t.id])return!0;void 0===s[t.id]&&(e={id:t.id,name:t.id,cx:0,cy:0,count:0,depth:i.oriComboMap[t.id].depth||0,children:[]},s[t.id]=e);var e=t.children,n=(e&&e.forEach(function(t){if(!s[t.id]&&!o[t.id])return!0;r.push(t)}),s[t.id]);return n.cx=0,(n.cy=0)===r.length&&(n.empty=!0,e=a[t.id],n.cx=e.x,n.cy=e.y),r.forEach(function(t){if(n.count++,"node"!==t.itemType)return e=s[t.id],(0,O.isNumber)(e.cx)&&(n.cx+=e.cx),void((0,O.isNumber)(e.cy)&&(n.cy+=e.cy));var e=o[t.id];e&&((0,O.isNumber)(e.x)&&(n.cx+=e.x),(0,O.isNumber)(e.y)&&(n.cy+=e.y))}),n.cx/=n.count||1,n.cy/=n.count||1,n.children=r,!0})}),s},s.prototype.applyComboCenterForce=function(u){var t=this.gravity,l=this.comboGravity||t,h=this.alpha,t=this.comboTrees,d=this.indexMap,f=this.nodeMap,p=this.comboMap;(t||[]).forEach(function(t){(0,O.traverseTreeUp)(t,function(t){if("node"===t.itemType)return!0;if(!p[t.id])return!0;var o=p[t.id],a=(o.depth+1)/10*.5,s=o.cx,c=o.cy;return o.cx=0,o.cy=0,o.children.forEach(function(t){if("node"!==t.itemType)return(e=p[t.id])&&(0,O.isNumber)(e.cx)&&(o.cx+=e.cx),void(e&&(0,O.isNumber)(e.cy)&&(o.cy+=e.cy));var e=f[t.id],t=e.x-s||.005,n=e.y-c||.005,r=Math.sqrt(t*t+n*n),i=d[e.id],r=l*h/r*a;u[i].x-=t*r,u[i].y-=n*r,(0,O.isNumber)(e.x)&&(o.cx+=e.x),(0,O.isNumber)(e.y)&&(o.cy+=e.y)}),o.cx/=o.count||1,o.cy/=o.count||1,!0})})},s.prototype.applyCalculate=function(t){var e=this.comboMap,n=this.nodes,s={};n.forEach(function(o,a){n.forEach(function(t,e){var n,r,i;a<e||(r=(e=o.x-t.x||.005)*e+(n=o.y-t.y||.005)*n,i=Math.sqrt(r),s[o.id+"-"+t.id]={vx:e,vy:n,vl2:r=r<1?i:r,vl:i},s[t.id+"-"+o.id]={vl2:r,vl:i,vx:-e,vy:-n})})}),this.updateComboSizes(e),this.calRepulsive(t,s),this.calAttractive(t,s),this.preventComboOverlap&&this.comboNonOverlapping(t,e)},s.prototype.updateComboSizes=function(r){var i=this,t=i.comboTrees,a=i.nodeMap,s=i.nodeSize,c=i.comboSpacing,u=i.comboPadding;(t||[]).forEach(function(t){var n=[];(0,O.traverseTreeUp)(t,function(t){if("node"===t.itemType)return!0;var o=r[t.id];if(!o)return!1;var e=t.children,e=(e&&e.forEach(function(t){(r[t.id]||a[t.id])&&n.push(t)}),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0,n.forEach(function(t){if("node"!==t.itemType)return!0;t=a[t.id];if(!t)return!0;var e=s(t),n=t.x-e,r=t.y-e,i=t.x+e,t=t.y+e;o.minX>n&&(o.minX=n),o.minY>r&&(o.minY=r),o.maxX<i&&(o.maxX=i),o.maxY<t&&(o.maxY=t)}),i.oriComboMap[t.id].size||10),t=((0,O.isArray)(e)&&(e=e[0]),Math.max(o.maxX-o.minX,o.maxY-o.minY,e));return o.r=t/2+c(o)/2+u(o),!0})})},s.prototype.comboNonOverlapping=function(y,_){var t=this.comboTree,m=this.comboCollideStrength,v=this.indexMap,b=this.nodeMap;(0,O.traverseTreeUp)(t,function(t){if(!_[t.id]&&!b[t.id]&&"comboTreeRoot"!==t.id)return!1;var e=t.children;return e&&1<e.length&&e.forEach(function(f,p){if("node"===f.itemType)return!1;var g=_[f.id];g&&e.forEach(function(t,e){if(p<=e)return!1;if("node"===t.itemType)return!1;e=_[t.id];if(!e)return!1;var n=g.cx-e.cx||.005,r=g.cy-e.cy||.005,i=n*n+r*r,o=g.r||1,e=e.r||1,a=o+e,e=e*e,o=o*o;if(i<a*a){var s=f.children;if(!s||0===s.length)return!1;var c=t.children;if(!c||0===c.length)return!1;var t=Math.sqrt(i),i=(a-t)/t*m,l=n*i,h=r*i,u=e/(o+e),d=1-u;s.forEach(function(t){if("node"!==t.itemType)return!1;var e;b[t.id]&&(e=v[t.id],c.forEach(function(t){if("node"!==t.itemType)return!1;if(!b[t.id])return!1;t=v[t.id];y[e].x+=l*u,y[e].y+=h*u,y[t].x-=l*d,y[t].y-=h*d}))})}})}),!0})},s.prototype.calRepulsive=function(d,f){var i=this,o=i.nodes,p=i.width*i.optimizeRangeFactor,g=i.nodeStrength,y=i.alpha,v=i.nodeCollideStrength,b=i.preventNodeOverlap,_=i.nodeSize,m=i.nodeSpacing,O=i.depthRepulsiveForceScale,a=i.center;o.forEach(function(l,h){var t,e,n,r;l.x&&l.y&&(a&&(t=i.gravity,e=l.x-a[0]||.005,n=l.y-a[1]||.005,r=Math.sqrt(e*e+n*n),d[h].x-=e*t*y/r,d[h].y-=n*t*y/r),o.forEach(function(t,e){var n,r,i,o,a,s,c,u;h!==e&&t.x&&t.y&&(u=(n=f[l.id+"-"+t.id]).vl2,n=n.vl,p<n||(r=(s=f[l.id+"-"+t.id]).vx,s=s.vy,a=(a=Math.log(Math.abs(t.depth-l.depth)/10)+1||1)<1?1:a,t.comboId!==l.comboId&&(a+=1),a=a?Math.pow(O,a):1,a=g(t)*y/u*a,d[h].x+=r*a,d[h].y+=s*a,h<e&&b&&u<(c=(i=_(l)+m(l)||1)+(o=_(t)+m(t)||1))*c&&(u=s*(a=(c-n)/n*v),d[h].x+=(t=r*a)*(c=(s=o*o)/(i*i+s)),d[h].y+=u*c,d[e].x-=t*(c=1-c),d[e].y-=u*c)))}))})},s.prototype.calAttractive=function(u,l){var h=this,t=h.edges,d=h.linkDistance,f=h.alpha,p=h.edgeStrength,g=h.bias,y=h.depthAttractiveForceScale;t.forEach(function(t,e){var n,r,i,o,a,s=(0,O.getEdgeTerminal)(t,"source"),c=(0,O.getEdgeTerminal)(t,"target");s&&c&&s!==c&&(n=h.indexMap[s],r=h.indexMap[c],a=h.nodeMap[s],o=h.nodeMap[c],a&&o&&(i=a.depth===o.depth?0:Math.log(Math.abs(a.depth-o.depth)/10),a.comboId===o.comboId&&(i/=2),i=i?Math.pow(y,i):1,a.comboId!==o.comboId&&1===i?i=y/2:a.comboId===o.comboId&&(i=2),(0,O.isNumber)(o.x)&&(0,O.isNumber)(a.x)&&(0,O.isNumber)(o.y)&&(0,O.isNumber)(a.y)&&(a=(o=l[c+"-"+s]).vl,c=o.vx,o=o.vy*(s=(a-d(t))/a*f*p(t)*i),a=g[e],u[r].x-=(t=c*s)*a,u[r].y-=o*a,u[n].x+=t*(1-a),u[n].y+=o*(1-a))))})},s.prototype.getType=function(){return"comboForce"},s);function s(t){var e=i.call(this)||this;return e.center=[0,0],e.maxIteration=100,e.gravity=10,e.comboGravity=10,e.linkDistance=10,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1/300),e.alphaTarget=0,e.velocityDecay=.6,e.edgeStrength=.6,e.nodeStrength=30,e.preventOverlap=!1,e.preventNodeOverlap=!1,e.preventComboOverlap=!1,e.collideStrength=void 0,e.nodeCollideStrength=.5,e.comboCollideStrength=.5,e.comboSpacing=20,e.comboPadding=10,e.optimizeRangeFactor=1,e.onTick=function(){},e.onLayoutEnd=function(){},e.depthAttractiveForceScale=1,e.depthRepulsiveForceScale=2,e.nodes=[],e.edges=[],e.combos=[],e.comboTrees=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.oriComboMap={},e.indexMap={},e.comboMap={},e.previousLayouted=!1,e.updateCfg(t),e}e.ComboForceLayout=n},function(a,t,e){"use strict";var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=this&&this.__assign||function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},m=(Object.defineProperty(t,"__esModule",{value:!0}),t.ComboCombinedLayout=void 0,e(165)),s=e(64),v=e(62),b=e(295),e=(n=s.Base,i(o,n),o.prototype.getDefaultCfg=function(){return{}},o.prototype.execute=function(){var t=this.nodes,e=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=e[0],t[0].y=e[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()},o.prototype.run=function(){var t,e,n,r=this.nodes,l=this.edges,h=this.combos,d=this.comboEdges,i=this.center,o=this.getInnerGraphs(),a={},s=(r.forEach(function(t){a[t.id]=t}),{}),c=(h.forEach(function(t){s[t.id]=t}),[]),u=[],f={},p=!0,g=(this.comboTrees.forEach(function(e){var t=o[e.id],t={id:e.id,x:t.x||s[e.id].x,y:t.y||s[e.id].y,fx:t.fx||s[e.id].fx,fy:t.fy||s[e.id].fy,mass:t.mass||s[e.id].mass,size:t.size};u.push(t),isNaN(t.x)||0===t.x||isNaN(t.y)||0===t.y?(t.x=100*Math.random(),t.y=100*Math.random()):p=!1,c.push(e.id),(0,v.traverseTreeUp)(e,function(t){return t.id!==e.id&&(f[t.id]=e.id),!0})}),r.forEach(function(t){var e;t.comboId&&s[t.comboId]||(e={id:t.id,x:t.x,y:t.y,fx:t.fx,fy:t.fy,mass:t.mass,size:t.size},u.push(e),isNaN(e.x)||0===e.x||isNaN(e.y)||0===e.y?(e.x=100*Math.random(),e.y=100*Math.random()):p=!1,c.push(t.id))}),[]);l.concat(d).forEach(function(t){var e=f[t.source]||t.source,t=f[t.target]||t.target;e!==t&&c.includes(e)&&c.includes(t)&&g.push({source:e,target:t})}),null!=u&&u.length&&(1===u.length?(u[0].x=i[0],u[0].y=i[1]):(t={nodes:u,edges:g},n=null===(n=(e=this.outerLayout||new b.GForceLayout({gravity:1,factor:2,linkDistance:function(t,e,n){n=(((null===(e=e.size)||void 0===e?void 0:e[0])||30)+((null===(e=n.size)||void 0===e?void 0:e[0])||30))/2;return Math.min(1.5*n,700)}})).getType)||void 0===n?void 0:n.call(e),e.updateCfg({center:i,kg:5,preventOverlap:!0,animate:!1}),p&&m.FORCE_LAYOUT_TYPE_MAP[n]&&(new(u.length<100?b.MDSLayout:b.GridLayout)).layout(t),e.layout(t)),u.forEach(function(e){var t=o[e.id];t?(t.visited=!0,t.x=e.x,t.y=e.y,t.nodes.forEach(function(t){t.x+=e.x,t.y+=e.y})):(t=a[e.id])&&(t.x=e.x,t.y=e.y)}));for(var y=Object.keys(o),_=y.length-1;0<=_;_--)!function(t){var t=y[t],e=o[t];if(!e)return;e.nodes.forEach(function(t){e.visited||(t.x+=e.x||0,t.y+=e.y||0),a[t.id]&&(a[t.id].x=t.x,a[t.id].y=t.y)}),s[t]&&(s[t].x=e.x,s[t].y=e.y)}(_);return{nodes:r,edges:l,combos:h,comboEdges:d}},o.prototype.getInnerGraphs=function(){var t=this.comboTrees,u=this.nodeSize,l=this.edges,h=this.comboPadding,e=this.spacing,d={},f=this.innerLayout||new b.ConcentricLayout({sortBy:"id"});return f.center=[0,0],f.preventOverlap=!0,f.nodeSpacing=e,(t||[]).forEach(function(t){(0,v.traverseTreeUp)(t,function(t){var e,n,r,i,o,a,s,c=(null==h?void 0:h(t))||10;return(0,v.isArray)(c)&&(c=Math.max.apply(Math,c)),null!==(e=t.children)&&void 0!==e&&e.length?(e=t.children.map(function(t){return"combo"===t.itemType?d[t.id]:p({},t)}),n=e.map(function(t){return t.id}),a={nodes:e,edges:l.filter(function(t){return n.includes(t.source)&&n.includes(t.target)})},r=1/0,e.forEach(function(t){var e;t.size||(t.size=(null===(e=d[t.id])||void 0===e?void 0:e.size)||(null==u?void 0:u(t))||[30,30]),(0,v.isNumber)(t.size)&&(t.size=[t.size,t.size]),(r=r>t.size[0]?t.size[0]:r)>t.size[1]&&(r=t.size[1])}),f.layout(a),i=(a=(0,v.findMinMaxNodeXY)(e)).minX,o=a.minY,s=a.maxX,a=a.maxY,s=Math.max(s-i,a-o,r)+2*c,d[t.id]={id:t.id,nodes:e,size:[s,s]}):"combo"===t.itemType&&(d[t.id]={id:t.id,nodes:[],size:c?[2*c,2*c]:[30,30]}),!0})}),d},o.prototype.initVals=function(){var e,n,r=this.nodeSize,t=this.spacing,i=(0,v.isNumber)(t)?function(){return t}:(0,v.isFunction)(t)?t:function(){return 0};this.spacing=i,a=r?(0,v.isFunction)(r)?function(t){var e=r(t),n=i(t);return(0,v.isArray)(t.size)?((t.size[0]>t.size[1]?t.size[0]:t.size[1])+n)/2:((e||10)+n)/2}:(0,v.isArray)(r)?(e=(r[0]>r[1]?r[0]:r[1])/2,function(t){return e+i(t)/2}):(n=r/2,function(t){return n+i(t)/2}):function(t){var e=i(t);return t.size?(0,v.isArray)(t.size)?((t.size[0]>t.size[1]?t.size[0]:t.size[1])+e)/2:(0,v.isObject)(t.size)?((t.size.width>t.size.height?t.size.width:t.size.height)+e)/2:(t.size+e)/2:10+e/2},this.nodeSize=a;var o=this.comboPadding,a=(0,v.isNumber)(o)?function(){return o}:(0,v.isArray)(o)?function(){return Math.max.apply(null,o)}:(0,v.isFunction)(o)?o:function(){return 0};this.comboPadding=a},o.prototype.getType=function(){return"comboCombined"},o);function o(t){var e=n.call(this)||this;return e.center=[0,0],e.nodes=[],e.edges=[],e.combos=[],e.comboEdges=[],e.comboPadding=10,e.comboTrees=[],e.updateCfg(t),e}t.ComboCombinedLayout=e},function(c,t,e){"use strict";var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.ForceAtlas2Layout=void 0,e(64)),v=e(62),b=o(e(555)),m=o(e(556)),O=o(e(557)),o=(n=a.Base,i(s,n),s.prototype.getDefaultCfg=function(){return{}},s.prototype.execute=function(){var t=this.nodes,e=this.onLayoutEnd,n=this.prune,r=this.maxIteration;this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight);for(var i=[],o=t.length,a=0;a<o;a+=1){var s=t[a],c=10,u=10,s=((0,v.isNumber)(s.size)&&(c=s.size,u=s.size),(0,v.isArray)(s.size)?(isNaN(s.size[0])||(c=s.size[0]),isNaN(s.size[1])||(u=s.size[1])):(0,v.isObject)(s.size)&&(c=s.size.width,u=s.size.height),this.getWidth&&!isNaN(this.getWidth(s))&&(u=this.getWidth(s)),this.getHeight&&!isNaN(this.getHeight(s))&&(c=this.getHeight(s)),Math.max(c,u));i.push(s)}void 0===this.barnesHut&&250<o&&(this.barnesHut=!0),void 0===this.prune&&100<o&&(this.prune=!0),0!==this.maxIteration||this.prune?0===this.maxIteration&&n&&(r=100,o<=200&&100<o?r=500:200<o&&(r=950),this.maxIteration=r):(r=250,o<=200&&100<o?r=1e3:200<o&&(r=1200),this.maxIteration=r),this.kr||(this.kr=50,100<o&&o<=500?this.kr=20:500<o&&(this.kr=1)),this.kg||(this.kg=20,100<o&&o<=500?this.kg=10:500<o&&(this.kg=1)),this.nodes=this.updateNodesByForces(i),e()},s.prototype.updateNodesByForces=function(l){for(var h=this.edges,d=this.maxIteration,t=this.nodes,e=h.filter(function(t){return(0,v.getEdgeTerminal)(t,"source")!==(0,v.getEdgeTerminal)(t,"target")}),f=t.length,n=e.length,r=[],i={},o={},p=[],a=0;a<f;a+=1)void(r[i[t[a].id]=a]=0)!==t[a].x&&!isNaN(t[a].x)||(t[a].x=1e3*Math.random()),void 0!==t[a].y&&!isNaN(t[a].y)||(t[a].y=1e3*Math.random()),p.push({x:t[a].x,y:t[a].y});for(a=0;a<n;a+=1){for(var s=void 0,c=void 0,g=0,y=0,u=0;u<f;u+=1){var _=(0,v.getEdgeTerminal)(e[a],"source"),m=(0,v.getEdgeTerminal)(e[a],"target");t[u].id===_?(s=t[u],g=u):t[u].id===m&&(c=t[u],y=u),o[a]={sourceIdx:g,targetIdx:y}}s&&(r[i[s.id]]+=1),c&&(r[i[c.id]]+=1)}t=this.iterate(d,i,o,n,r,l);if(this.prune){for(u=0;u<n;u+=1)r[o[u].sourceIdx]<=1?(t[o[u].sourceIdx].x=t[o[u].targetIdx].x,t[o[u].sourceIdx].y=t[o[u].targetIdx].y):r[o[u].targetIdx]<=1&&(t[o[u].targetIdx].x=t[o[u].sourceIdx].x,t[o[u].targetIdx].y=t[o[u].sourceIdx].y);this.prune=!1,this.barnesHut=!1,t=this.iterate(100,i,o,n,r,l)}return t},s.prototype.iterate=function(l,h,d,f,t,e){for(var n,r=this.nodes,p=this.kr,i=this.preventOverlap,o=this.barnesHut,g=r.length,y=0,a=l,s=[],c=[],_=[],u=0;u<g;u+=1)s[2*u]=0,s[2*u+1]=0,o&&(n={id:u,rx:r[u].x,ry:r[u].y,mass:1,g:p,degree:t[u]},_[u]=new b.default(n));for(;0<a;){for(u=0;u<g;u+=1)c[2*u]=s[2*u],c[2*u+1]=s[2*u+1],s[2*u]=0,s[2*u+1]=0;s=this.getAttrForces(a,50,f,h,d,t,e,s);var s=o&&(i&&50<a||!i)?this.getOptRepGraForces(s,_,t):this.getRepGraForces(a,50,s,100,e,t),m=this.updatePos(s,c,y,t),r=m.nodes,y=m.sg;a--,this.tick&&this.tick()}return r},s.prototype.getAttrForces=function(l,h,d,t,e,n,f,r){for(var p=this.nodes,g=this.preventOverlap,y=this.dissuadeHubs,_=this.mode,m=this.prune,i=0;i<d;i+=1){var o,a,s,c,u=p[e[i].sourceIdx],v=e[i].sourceIdx,b=p[e[i].targetIdx],O=e[i].targetIdx;m&&(n[v]<=1||n[O]<=1)||(o=[b.x-u.x,b.y-u.y],a=(a=Math.hypot(o[0],o[1]))<1e-4?1e-4:a,o[0]=o[0]/a,o[1]=o[1]/a,c=s=a=g&&l<h?a-f[v]-f[O]:a,"linlog"===_&&(c=s=Math.log(1+a)),y&&(s=a/n[v],c=a/n[O]),g&&l<h&&a<=0?c=s=0:g&&l<h&&0<a&&(c=s=a),r[2*t[u.id]]+=s*o[0],r[2*t[b.id]]-=c*o[0],r[2*t[u.id]+1]+=s*o[1],r[2*t[b.id]+1]-=c*o[1])}return r},s.prototype.getRepGraForces=function(t,l,e,h,d,n){for(var r=this.nodes,f=this.preventOverlap,p=this.kr,g=this.kg,y=this.center,_=this.prune,m=r.length,i=0;i<m;i+=1){for(var o,a,s,c=i+1;c<m;c+=1)_&&(n[i]<=1||n[c]<=1)||(o=[r[c].x-r[i].x,r[c].y-r[i].y],a=(a=Math.hypot(o[0],o[1]))<1e-4?1e-4:a,o[0]=o[0]/a,o[1]=o[1]/a,f&&t<l&&(a=a-d[i]-d[c]),s=p*(n[i]+1)*(n[c]+1)/a,f&&t<l&&a<0?s=h*(n[i]+1)*(n[c]+1):f&&t<l&&0===a?s=0:f&&t<l&&0<a&&(s=p*(n[i]+1)*(n[c]+1)/a),e[2*i]-=s*o[0],e[2*c]+=s*o[0],e[2*i+1]-=s*o[1],e[2*c+1]+=s*o[1]);var u=[r[i].x-y[0],r[i].y-y[1]],v=Math.hypot(u[0],u[1]),v=(u[0]=u[0]/v,u[1]=u[1]/v,g*(n[i]+1));e[2*i]-=v*u[0],e[2*i+1]-=v*u[1]}return e},s.prototype.getOptRepGraForces=function(t,e,n){for(var r=this.nodes,l=this.kg,h=this.center,d=this.prune,i=r.length,o=9e10,a=-9e10,f=9e10,p=-9e10,s=0;s<i;s+=1)d&&n[s]<=1||(e[s].setPos(r[s].x,r[s].y),r[s].x>=a&&(a=r[s].x),r[s].x<=o&&(o=r[s].x),r[s].y>=p&&(p=r[s].y),r[s].y<=f&&(f=r[s].y));for(var c,u,g={xmid:(a+o)/2,ymid:(p+f)/2,length:Math.max(a-o,p-f),massCenter:h,mass:i},y=new m.default(g),_=new O.default(y),s=0;s<i;s+=1)d&&n[s]<=1||e[s].in(y)&&_.insert(e[s]);for(s=0;s<i;s+=1)d&&n[s]<=1||(e[s].resetForce(),_.updateForce(e[s]),t[2*s]-=e[s].fx,t[2*s+1]-=e[s].fy,c=[r[s].x-h[0],r[s].y-h[1]],u=(u=Math.hypot(c[0],c[1]))<1e-4?1e-4:u,c[0]=c[0]/u,c[1]=c[1]/u,u=l*(n[s]+1),t[2*s]-=u*c[0],t[2*s+1]-=u*c[1]);return t},s.prototype.updatePos=function(t,e,n,r){for(var i,o,a=this.nodes,l=this.ks,h=this.tao,d=this.prune,f=this.ksmax,p=a.length,g=[],y=[],_=0,m=0,s=0;s<p;s+=1)d&&r[s]<=1||(i=[t[2*s]-e[2*s],t[2*s+1]-e[2*s+1]],i=Math.hypot(i[0],i[1]),o=[t[2*s]+e[2*s],t[2*s+1]+e[2*s+1]],o=Math.hypot(o[0],o[1]),g[s]=i,y[s]=o/2,_+=(r[s]+1)*g[s],m+=(r[s]+1)*y[s]);var c,u,v=n;for(n=h*m/_,0!==v&&(n=1.5*v<n?1.5*v:n),s=0;s<p;s+=1)d&&r[s]<=1||(u=l*n/(1+n*Math.sqrt(g[s])),c=(u=(c=f/(c=(c=Math.hypot(t[2*s],t[2*s+1]))<1e-4?1e-4:c))<u?c:u)*t[2*s],u=u*t[2*s+1],a[s].x+=c,a[s].y+=u);return{nodes:a,sg:n}},s);function s(t){var e=n.call(this)||this;return e.center=[0,0],e.width=300,e.height=300,e.nodes=[],e.edges=[],e.kr=5,e.kg=1,e.mode="normal",e.preventOverlap=!1,e.dissuadeHubs=!1,e.barnesHut=void 0,e.maxIteration=0,e.ks=.1,e.ksmax=10,e.tao=.1,e.onLayoutEnd=function(){},e.prune=void 0,e.updateCfg(t),e}t.ForceAtlas2Layout=o},function(u,t,e){"use strict";var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=void 0,e(64)),s=o(e(558)),o=(n=a.Base,i(c,n),c.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},c.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges;return null==e||e.forEach(function(t){t.size||(t.size=[50,50])}),(0,s.default)({nodes:e,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){t.onLayoutEnd&&t.onLayoutEnd()})},c.prototype.getType=function(){return"er"},c);function c(t){var e=n.call(this)||this;return e.width=300,e.height=300,e.nodeMinGap=50,e.onLayoutEnd=function(){},t&&e.updateCfg(t),e}t.ERLayout=o},function(s,c,t){"use strict";t.r(c),t.d(c,"World",function(){return In}),t.d(c,"Kernel",function(){return Q}),t.d(c,"Camera",function(){return C}),t.d(c,"Renderable",function(){return tt}),t.d(c,"Geometry",function(){return A}),t.d(c,"Material",function(){return J});var c=t(22),u=t.n(c),c=t(16),v=t.n(c),c=t(17),l=t.n(c),c=t(23),c=t.n(c),E=(t(58),t(5)),m=t(4),e=t(15);function h(t){return"number"==typeof t}function d(t){return void 0===t?0:360<t||t<-360?t%360:t}function f(t,e,n){return h(t)?m.e.fromValues(t,e,n):3===t.length?m.e.clone(t):m.e.fromValues(t[0],t[1],t[2])}l()(x,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(t){t.matrix=m.b.copy(t.matrix,this.matrix),t.right=m.e.copy(t.right,this.right),t.up=m.e.copy(t.up,this.up),t.forward=m.e.copy(t.forward,this.forward),t.position=m.e.copy(t.position,this.position),t.focalPoint=m.e.copy(t.focalPoint,this.focalPoint),t.distanceVector=m.e.copy(t.distanceVector,this.distanceVector),t.azimuth=this.azimuth,t.elevation=this.elevation,t.roll=this.roll,t.relAzimuth=this.relAzimuth,t.relElevation=this.relElevation,t.relRoll=this.relRoll,t.dollyingStep=this.dollyingStep,t.distance=this.distance}}]);var p,g,_,b,O=x;function x(t,e){v()(this,x),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=m.b.clone(e.matrix),this.right=m.e.clone(e.right),this.up=m.e.clone(e.up),this.forward=m.e.clone(e.forward),this.position=m.e.clone(e.position),this.focalPoint=m.e.clone(e.focalPoint),this.distanceVector=m.e.clone(e.distanceVector),this.azimuth=e.azimuth,this.elevation=e.elevation,this.roll=e.roll,this.relAzimuth=e.relAzimuth,this.relElevation=e.relElevation,this.relRoll=e.relRoll,this.dollyingStep=e.dollyingStep,this.distance=e.distance}(r=g=g||{}).ORBITING="ORBITING",r.EXPLORING="EXPLORING",r.TRACKING="TRACKING",(r=_=_||{}).DEFAULT="DEFAULT",r.ROTATIONAL="ROTATIONAL",r.TRANSLATIONAL="TRANSLATIONAL",r.CINEMATIC="CINEMATIC",(r=b=b||{}).ORTHOGRAPHIC="ORTHOGRAPHIC",r.PERSPECTIVE="PERSPECTIVE";var w,M=Math.PI/180,P=180/Math.PI,C=(r=Object(e.injectable)(),n=Object(e.inject)(E.IDENTIFIER.InteractorService),r((l()(I,[{key:"clone",value:function(){var t=new I;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(t,e){return this.type=t,this.type===g.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===g.TRACKING&&void 0!==e&&this.setTrackingMode(e),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==g.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){this.rotateWorld=t,this._getAngles()}},{key:"getViewTransform",value:function(){return m.b.invert(m.b.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setViewOffset",value:function(t,e,n,r,i,o){return this.aspect=t/e,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===b.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===b.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(t,e,n,r){return this.projectionMode=b.PERSPECTIVE,this.fov=n,this.near=t,this.far=e,this.aspect=r,m.b.perspective(this.perspective,this.fov*M,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(t,e,n,r,i,o){this.projectionMode=b.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=n,this.bottom=r,this.near=i,this.far=o;var a,e=(this.rright-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.rright+this.left)/2,r=(this.top+this.bottom)/2,s=n-e,n=n+e,e=r+t,r=r-t;return void 0!==this.view&&this.view.enabled&&(t=(this.rright-this.left)/this.view.fullWidth/this.zoom,a=(this.top-this.bottom)/this.view.fullHeight/this.zoom,n=(s+=t*this.view.offsetX)+t*this.view.width,r=(e-=a*this.view.offsetY)-a*this.view.height),m.b.ortho(this.perspective,s,n,e,r,i,o),this}},{key:"setPosition",value:function(t,e,n){return this._setPosition(t,e,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(t,e,n){var r,i=m.e.fromValues(0,1,0);return this.focalPoint=f(t,e,n),this.trackingMode===_.CINEMATIC&&(t=(r=m.e.subtract(m.e.create(),this.focalPoint,this.position))[0],e=r[1],n=r[2],r=m.e.length(r),e=Math.asin(e/r)*P,r=90+Math.atan2(n,t)*P,n=m.b.create(),m.b.rotateY(n,n,r*M),m.b.rotateX(n,n,e*M),i=m.e.transformMat4(m.e.create(),[0,1,0],n)),m.b.invert(this.matrix,m.b.lookAt(m.b.create(),this.position,this.focalPoint,i)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(t){var e,n,r;if(!(this.distance===t||t<0))return this.distance=t,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100,e=m.e.create(),t=this.distance,n=this.forward,r=this.focalPoint,e[0]=t*n[0]+r[0],e[1]=t*n[1]+r[1],e[2]=t*n[2]+r[2],this._setPosition(e),this}},{key:"setMaxDistance",value:function(t){return this.maxDistance=t,this}},{key:"setMinDistance",value:function(t){return this.minDistance=t,this}},{key:"changeAzimuth",value:function(t){return this.setAzimuth(this.azimuth+t),this}},{key:"changeElevation",value:function(t){return this.setElevation(this.elevation+t),this}},{key:"changeRoll",value:function(t){return this.setRoll(this.roll+t),this}},{key:"setAzimuth",value:function(t){return this.azimuth=d(t),this.computeMatrix(),this._getAxes(),this.type===g.ORBITING||this.type===g.EXPLORING?this._getPosition():this.type===g.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=d(t),this.computeMatrix(),this._getAxes(),this.type===g.ORBITING||this.type===g.EXPLORING?this._getPosition():this.type===g.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(t){return this.roll=d(t),this.computeMatrix(),this._getAxes(),this.type===g.ORBITING||this.type===g.EXPLORING?this._getPosition():this.type===g.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(t,e,n){if(this.type===g.EXPLORING){t=d(t),e=d(e),n=d(n);var r=m.c.setAxisAngle(m.c.create(),[1,0,0],(this.rotateWorld?1:-1)*e*M),i=m.c.setAxisAngle(m.c.create(),[0,1,0],(this.rotateWorld?1:-1)*t*M),o=m.c.setAxisAngle(m.c.create(),[0,0,1],n*M),i=m.c.multiply(m.c.create(),i,r),i=m.c.multiply(m.c.create(),i,o),r=m.b.fromQuat(m.b.create(),i);m.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),m.b.multiply(this.matrix,this.matrix,r),m.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(90<Math.abs(this.elevation+e))return;this.relElevation=d(e),this.relAzimuth=d(t),this.relRoll=d(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===g.ORBITING||this.type===g.EXPLORING?this._getPosition():this.type===g.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,e){t=f(t,e,0),e=m.e.clone(this.position);return m.e.add(e,e,m.e.scale(m.e.create(),this.right,t[0])),m.e.add(e,e,m.e.scale(m.e.create(),this.up,t[1])),this._setPosition(e),this}},{key:"dolly",value:function(t){var e=this.forward,n=m.e.clone(this.position),t=(this.dollyingStep,this.distance+t*this.dollyingStep),t=Math.max(Math.min(t,this.maxDistance),this.minDistance)-this.distance;return n[0]+=t*e[0],n[1]+=t*e[1],n[2]+=t*e[2],this._setPosition(n),this.type===g.ORBITING||this.type===g.EXPLORING?this._getDistance():this.type===g.TRACKING&&m.e.add(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(t,e){var n=this.clone(),e=(n.setPosition(e.position),n.setFocalPoint(e.focalPoint),void 0!==e.roll&&n.setRoll(e.roll),new O(t,n));return this.landmarks.push(e),e}},{key:"setLandmark",value:function(t){t=new O(t,this);return this.landmarks.push(t),this}},{key:"gotoLandmark",value:function(e){var o,a,s,c,u=this,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,t=this.landmarks.find(function(t){return t.name===e});t&&(0!==l?(void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect(),a=t.getPosition(),s=t.getFocalPoint(),c=t.getRoll(),window.requestAnimationFrame(function t(e){var e=e-(o=void 0===o?e:o),n=(1-Math.cos(e/l*Math.PI))/2,r=m.e.create(),i=m.e.create();if(m.e.lerp(r,u.focalPoint,s,n),m.e.lerp(i,u.position,a,n),n=u.roll*(1-n)+c*n,u.setFocalPoint(r),u.setPosition(i),u.setRoll(n),u.computeMatrix(),!(.01<m.e.dist(r,s)+m.e.dist(i,a)))return u.setFocalPoint(r),u.setPosition(i),u.setRoll(n),u.computeMatrix(),void u.interactor.connect();e<l&&(u.landmarkAnimationID=window.requestAnimationFrame(t))})):t.retrieve(this))}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var t=m.c.setAxisAngle(m.c.create(),[0,0,1],this.roll*M),e=(m.b.identity(this.matrix),n=m.c.setAxisAngle(m.c.create(),[1,0,0],(this.rotateWorld&&this.type!==g.TRACKING||this.type===g.TRACKING?1:-1)*this.elevation*M),e=m.c.setAxisAngle(m.c.create(),[0,1,0],(this.rotateWorld&&this.type!==g.TRACKING||this.type===g.TRACKING?1:-1)*this.azimuth*M),m.c.multiply(m.c.create(),e,n)),e=m.c.multiply(m.c.create(),e,t),n=m.b.fromQuat(m.b.create(),e);this.type===g.ORBITING||this.type===g.EXPLORING?(m.b.translate(this.matrix,this.matrix,this.focalPoint),m.b.multiply(this.matrix,this.matrix,n),m.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===g.TRACKING&&(m.b.translate(this.matrix,this.matrix,this.position),m.b.multiply(this.matrix,this.matrix,n))}},{key:"_setPosition",value:function(t,e,n){this.position=f(t,e,n);t=this.matrix;t[12]=this.position[0],t[13]=this.position[1],t[14]=this.position[2],t[15]=1}},{key:"_getAxes",value:function(){m.e.copy(this.right,f(m.f.transformMat4(m.f.create(),[1,0,0,0],this.matrix))),m.e.copy(this.up,f(m.f.transformMat4(m.f.create(),[0,1,0,0],this.matrix))),m.e.copy(this.forward,f(m.f.transformMat4(m.f.create(),[0,0,1,0],this.matrix))),m.e.normalize(this.right,this.right),m.e.normalize(this.up,this.up),m.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],e=this.distanceVector[1],n=this.distanceVector[2],r=m.e.length(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===g.TRACKING||this.rotateWorld?(this.elevation=Math.asin(e/r)*P,this.azimuth=Math.atan2(-t,-n)*P):(this.elevation=-Math.asin(e/r)*P,this.azimuth=-Math.atan2(-t,-n)*P)}},{key:"_getPosition",value:function(){m.e.copy(this.position,f(m.f.transformMat4(m.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){m.e.transformMat3(this.distanceVector,[0,0,-this.distance],m.a.fromMat4(m.a.create(),this.matrix)),m.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=m.e.subtract(m.e.create(),this.focalPoint,this.position),this.distance=m.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),I.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},r=I,p=c()(r.prototype,"interactor",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=r))||n),A=(r=Object(e.injectable)(),n=Object(e.inject)(E.IDENTIFIER.GeometryComponentManager),r((l()(T,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.component=this.geometry.create(t),this.component.entity=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),D=r=T,r.BOX="box",r.SPHERE="sphere",r.PLANE="plane",r.MERGED="merged",r=D,w=c()(r.prototype,"geometry",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r))||D),n=t(21),S=t.n(n),r=t(28),j=t.n(r),D=t(14),a=t.n(D),y=t(20);function T(){v()(this,T),this.config=void 0,u()(this,"geometry",w,this),this.entity=void 0,this.component=void 0}function I(){v()(this,I),this.matrix=m.b.create(),this.right=m.e.fromValues(1,0,0),this.up=m.e.fromValues(0,1,0),this.forward=m.e.fromValues(0,0,1),this.position=m.e.fromValues(0,0,1),this.focalPoint=m.e.fromValues(0,0,0),this.distanceVector=m.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,u()(this,"interactor",p,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=m.b.create(),this.view=void 0,this.following=void 0,this.type=g.EXPLORING,this.trackingMode=_.DEFAULT,this.projectionMode=b.PERSPECTIVE,this.frustum=new E.Frustum,this.landmarks=[],this.landmarkAnimationID=void 0}function k(){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function L(t){return!!(e=t)&&"object"===F()(e)&&("number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=9007199254740991)&&!!U[W.call(t)];var e}var R,B,N={}.toString,n=t(81),F=t.n(n),U={},W=(U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U["[object Arguments]"]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object Boolean]"]=U["[object DataView]"]=U["[object Date]"]=U["[object Error]"]=U["[object Function]"]=U["[object Map]"]=U["[object Number]"]=U["[object Object]"]=U["[object RegExp]"]=U["[object Set]"]=U["[object String]"]=U["[object WeakMap]"]=!1,Object.prototype.toString);function z(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}r=Object(e.injectable)(),D=Object(e.inject)(E.IDENTIFIER.RenderEngine),n=Object(e.inject)(E.IDENTIFIER.ConfigService);var $,K,V,X,Y,H,q,Z,Q=r((l()(wt,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,t=t.engineOptions;this.initPromise=this.engine.init(G({canvas:e||k(),swapChainFormat:y.TextureFormat.BGRA8Unorm,antialiasing:!1},t))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(e,t){var n=this;if("string"==typeof e){var r=h(t)||L(t)||(r=t,Array.isArray?Array.isArray(r):(i="Array",N.call(r)==="[object "+i+"]"));if(this.compiledBundle&&this.compiledBundle.context){var i=this.compiledBundle.context.defines.find(function(t){return t.name===e});if(i)return i.value=t,this;var o=this.compiledBundle.context.uniforms.find(function(t){return t.name===e});o&&(r?(o.data=t,o.isReferer=!1,o.storageClass===E.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(e,t):this.model&&this.model.updateBuffer(e,t)):(o.isReferer=!0,o.data=t))}}else Object.keys(e).forEach(function(t){n.setBinding(t,e[t])});return this}},{key:"execute",value:(Z=j()(S.a.mark(function t(){var e,n,r=this,i=arguments;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=0<i.length&&void 0!==i[0]?i[0]:1,this.dirty)return this.compiledBundle.context&&(1<e?this.compiledBundle.context.maxIteration=e:this.compiledBundle.context.maxIteration++),t.next=5,this.compile();t.next=6;break;case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(t){return t.isReferer}).forEach(function(t){var e=t.data,t=t.name;r.model.confirmInput(e.model,t)}),n=0;n<e;n++)this.model.run();return this.engine.endFrame(),t.abrupt("return",this);case 12:case"end":return t.stop()}},t,this)})),function(){return Z.apply(this,arguments)})},{key:"getOutput",value:(q=j()(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.model.readData());case 1:case"end":return t.stop()}},t,this)})),function(){return q.apply(this,arguments)})},{key:"compile",value:(H=j()(S.a.mark(function t(){var n,e,r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initPromise;case 2:return n=G({},this.compiledBundle.context),e=this.engine.supportWebGPU?this.engine.useWGSL?E.Target.WGSL:E.Target.GLSL450:E.Target.GLSL100,r=this.compiledBundle.shaders[e],n.defines.filter(function(t){return t.runtime}).forEach(function(t){var e="".concat(E.DefineValuePlaceholder).concat(t.name);r=r.replace(e,"".concat(t.value))}),n.shader=r,n.uniforms.forEach(function(t){var e;t.data||t.storageClass!==E.STORAGE_CLASS.StorageBuffer||(e=1,t.type===E.AST_TOKEN_TYPES.FloatArray?e=1:t.type===E.AST_TOKEN_TYPES.Vector4FloatArray&&(e=4),t.data=new Float32Array(n.output.length*e).fill(0))}),this.compiledBundle.context=n,t.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=t.sent;case 12:case"end":return t.stop()}},t,this)})),function(){return H.apply(this,arguments)})}]),r=wt,R=c()(r.prototype,"engine",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=c()(r.prototype,"configService",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r))||D,J=(n=Object(e.injectable)(),r=Object(e.inject)(E.IDENTIFIER.MaterialComponentManager),n((l()(Et,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t,e){this.entity=t,this.component=this.material.create(t),this.component.entity=t,this.component.type=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),Et.BASIC="basic",D=Et,$=c()(D.prototype,"material",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=D))||n),tt=(r=Object(e.injectable)(),D=Object(e.inject)(E.IDENTIFIER.MeshComponentManager),n=Object(e.inject)(E.IDENTIFIER.CullableComponentManager),wn=Object(e.inject)(E.IDENTIFIER.TransformComponentManager),En=Object(e.inject)(E.IDENTIFIER.Systems),i=Object(e.named)(E.IDENTIFIER.SceneGraphSystem),r((l()(xt,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.cullable.create(t),this.meshComponent=this.mesh.create(t),this.transformComponent=this.transform.create(t),this.onEntityCreated()}},{key:"setMaterial",value:function(t){return this.meshComponent.material=t,this}},{key:"setGeometry",value:function(t){return this.meshComponent.geometry=t,this}},{key:"setAttributes",value:function(e){var n=this;Object.keys(e).forEach(function(t){void 0!==e[t]&&e[t]!==n.attributes[t]&&(n.onAttributeChanged({name:t,data:e[t]}),n.attributes[t]=e[t])})}},{key:"setVisible",value:function(e){var n=this;return this.meshComponent.visible=e,this.meshComponent.children.forEach(function(t){t=n.mesh.getComponentByEntity(t);t&&(t.visible=e)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(t){return this.sceneGraphSystem.attach(this.entity,t.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(t){var e=t.name,t=t.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(e),t)}},{key:"convertAttributeName2UniformName",value:function(t){return t}}]),o=r=xt,r.POINT="point",r.LINE="line",r.GRID="grid",r=o,K=c()(r.prototype,"mesh",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=c()(r.prototype,"cullable",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=c()(r.prototype,"transform",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=c()(r.prototype,"sceneGraphSystem",[En,i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=r))||o),D=t(399),et=t.n(D),nt=(l()(Ot,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),Ot),rt=(n={},a()(n,E.gl.POINTS,"points"),a()(n,E.gl.LINES,"lines"),a()(n,E.gl.LINE_LOOP,"line loop"),a()(n,E.gl.LINE_STRIP,"line strip"),a()(n,E.gl.TRIANGLES,"triangles"),a()(n,E.gl.TRIANGLE_FAN,"triangle fan"),a()(n,E.gl.TRIANGLE_STRIP,"triangle strip"),n),it=(wn={},a()(wn,E.gl.STATIC_DRAW,"static"),a()(wn,E.gl.DYNAMIC_DRAW,"dynamic"),a()(wn,E.gl.STREAM_DRAW,"stream"),wn),ot=(En={},a()(En,E.gl.BYTE,"int8"),a()(En,E.gl.UNSIGNED_INT,"int16"),a()(En,E.gl.INT,"int32"),a()(En,E.gl.UNSIGNED_BYTE,"uint8"),a()(En,E.gl.UNSIGNED_SHORT,"uint16"),a()(En,E.gl.UNSIGNED_INT,"uint32"),a()(En,E.gl.FLOAT,"float"),En),at=(i={},a()(i,E.gl.ALPHA,"alpha"),a()(i,E.gl.LUMINANCE,"luminance"),a()(i,E.gl.LUMINANCE_ALPHA,"luminance alpha"),a()(i,E.gl.RGB,"rgb"),a()(i,E.gl.RGBA,"rgba"),a()(i,E.gl.RGBA4,"rgba4"),a()(i,E.gl.RGB5_A1,"rgb5 a1"),a()(i,E.gl.RGB565,"rgb565"),a()(i,E.gl.DEPTH_COMPONENT,"depth"),a()(i,E.gl.DEPTH_STENCIL,"depth stencil"),i),st=(r={},a()(r,E.gl.DONT_CARE,"dont care"),a()(r,E.gl.NICEST,"nice"),a()(r,E.gl.FASTEST,"fast"),r),ct=(o={},a()(o,E.gl.NEAREST,"nearest"),a()(o,E.gl.LINEAR,"linear"),a()(o,E.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),a()(o,E.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),a()(o,E.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),a()(o,E.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),o),ut=(D={},a()(D,E.gl.REPEAT,"repeat"),a()(D,E.gl.CLAMP_TO_EDGE,"clamp"),a()(D,E.gl.MIRRORED_REPEAT,"mirror"),D),lt=(n={},a()(n,E.gl.NONE,"none"),a()(n,E.gl.BROWSER_DEFAULT_WEBGL,"browser"),n),ht=(wn={},a()(wn,E.gl.NEVER,"never"),a()(wn,E.gl.ALWAYS,"always"),a()(wn,E.gl.LESS,"less"),a()(wn,E.gl.LEQUAL,"lequal"),a()(wn,E.gl.GREATER,"greater"),a()(wn,E.gl.GEQUAL,"gequal"),a()(wn,E.gl.EQUAL,"equal"),a()(wn,E.gl.NOTEQUAL,"notequal"),wn),dt=(En={},a()(En,E.gl.FUNC_ADD,"add"),a()(En,E.gl.MIN_EXT,"min"),a()(En,E.gl.MAX_EXT,"max"),a()(En,E.gl.FUNC_SUBTRACT,"subtract"),a()(En,E.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),En),ft=(i={},a()(i,E.gl.ZERO,"zero"),a()(i,E.gl.ONE,"one"),a()(i,E.gl.SRC_COLOR,"src color"),a()(i,E.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),a()(i,E.gl.SRC_ALPHA,"src alpha"),a()(i,E.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),a()(i,E.gl.DST_COLOR,"dst color"),a()(i,E.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),a()(i,E.gl.DST_ALPHA,"dst alpha"),a()(i,E.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),a()(i,E.gl.CONSTANT_COLOR,"constant color"),a()(i,E.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),a()(i,E.gl.CONSTANT_ALPHA,"constant alpha"),a()(i,E.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),a()(i,E.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),i),pt=(r={},a()(r,E.gl.NEVER,"never"),a()(r,E.gl.ALWAYS,"always"),a()(r,E.gl.LESS,"less"),a()(r,E.gl.LEQUAL,"lequal"),a()(r,E.gl.GREATER,"greater"),a()(r,E.gl.GEQUAL,"gequal"),a()(r,E.gl.EQUAL,"equal"),a()(r,E.gl.NOTEQUAL,"notequal"),r),gt=(o={},a()(o,E.gl.ZERO,"zero"),a()(o,E.gl.KEEP,"keep"),a()(o,E.gl.REPLACE,"replace"),a()(o,E.gl.INVERT,"invert"),a()(o,E.gl.INCR,"increment"),a()(o,E.gl.DECR,"decrement"),a()(o,E.gl.INCR_WRAP,"increment wrap"),a()(o,E.gl.DECR_WRAP,"decrement wrap"),o),yt=(D={},a()(D,E.gl.FRONT,"front"),a()(D,E.gl.BACK,"back"),D),_t=(l()(bt,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,t=t.offset;this.buffer.subdata(e,t)}}]),bt),n=t(54),mt=t.n(n),vt={};function bt(t,e){v()(this,bt),this.buffer=void 0;var n=e.data,r=e.usage,e=e.type;this.buffer=t.buffer({data:n,usage:it[r||E.gl.STATIC_DRAW],type:ot[e||E.gl.UNSIGNED_BYTE]})}function Ot(t,e){v()(this,Ot),this.attribute=void 0,this.buffer=void 0;var n=e.buffer,r=e.offset,i=e.stride,o=e.normalized,a=e.size,e=e.divisor;this.buffer=n,this.attribute={buffer:n.get(),offset:r||0,stride:i||0,normalized:o||!1,divisor:e||0},a&&(this.attribute.size=a)}function xt(){v()(this,xt),this.attributes={},this.config=void 0,u()(this,"mesh",K,this),u()(this,"cullable",V,this),u()(this,"transform",X,this),u()(this,"sceneGraphSystem",Y,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}function Et(){v()(this,Et),this.config=void 0,u()(this,"material",$,this),this.entity=void 0,this.component=void 0}function wt(){v()(this,wt),u()(this,"engine",R,this),u()(this,"configService",B,this),this.entity=Object(E.createEntity)(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var Mt=Object.prototype.toString,Pt=function(t){return!!(e=t)&&"object"===F()(e)&&("number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=9007199254740991)&&!!vt[Mt.call(t)];var e};function Ct(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var St,jt=0,Dt=(l()(Rt,[{key:"run",value:function(){var t=this;1<this.context.maxIteration&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){t.computeCommand()})}},{key:"readData",value:(St=j()(S.a.mark(function t(){var e,n,r,i,o,a,s=this;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){e=s.reGl.read()}),!e){t.next=6;break}if(i=this.getOuputDataTexture(),n=i.originalDataLength,r=i.elementsPerTexel,i=i.typedArrayConstructor,i=void 0===i?Float32Array:i,o=[],4!==r)for(a=0;a<e.length;a+=4)1===r?o.push(e[a]):2===r?o.push(e[a],e[a+1]):o.push(e[a],e[a+1],e[a+2]);else o=e;return t.abrupt("return",new i(o.slice(0,n)));case 6:return t.abrupt("return",new Float32Array);case 7:case"end":return t.stop()}},t,this)})),function(){return St.apply(this,arguments)})},{key:"confirmInput",value:function(t,e){t=this.entity===t.entity?(this.dynamicPingpong=!0,this):t;this.textureCache[e].id=t.getOuputDataTexture().id,this.textureCache[e].texture=t.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(e,t){var n=this.context.uniforms.find(function(t){return t.name===e});n&&(t=(n=this.calcDataTexture(e,n.type,t)).texture,n=n.data,this.textureCache[e].data=n,this.textureCache[e].texture=t)}},{key:"destroy",value:function(){}},{key:"swap",value:function(){this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong&&(t=this.context.output.name,this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture);var t=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=t}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,n=t.textureWidth;return At(At({},t),{},{id:jt++,texture:this.reGl.texture({width:n,height:n,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,n){var r=1;e===E.AST_TOKEN_TYPES.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var e=n.length,a=Math.ceil(e/r),s=Math.ceil(Math.sqrt(a)),c=s*s,c=(a<c&&i.push.apply(i,mt()(new Array(4*(c-a)).fill(0))),this.reGl.texture({width:s,height:s,data:i,type:"float"}));return{id:jt++,data:i,originalDataLength:e,typedArrayConstructor:Pt(n)?n.constructor:void 0,textureWidth:s,texture:c,texelCount:a,elementsPerTexel:r,isOutput:t===this.context.output.name}}}]),Rt),Tt=(l()(Lt,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){t=t.data;this.elements.subdata(t)}},{key:"destroy",value:function(){this.elements.destroy()}}]),Lt),It=(l()(kt,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,t=t.height;this.framebuffer.resize(e,t)}}]),kt);function kt(t,e){v()(this,kt),this.framebuffer=void 0;var n=e.width,r=e.height,i=e.color,o=e.colors,e=(e.depth,e.stencil,{width:n,height:r});Array.isArray(o)&&(e.colors=o.map(function(t){return t.get()})),i&&"boolean"!=typeof i&&(e.color=i.get()),this.framebuffer=t.framebuffer(e)}function Lt(t,e){v()(this,Lt),this.elements=void 0;var n=e.data,r=e.usage,i=e.type,e=e.count;this.elements=t.elements({data:n,usage:it[r||E.gl.STATIC_DRAW],type:ot[i||E.gl.UNSIGNED_BYTE],count:e})}function Rt(t,e){var s=this,c=(v()(this,Rt),this.reGl=t,this.context=e,this.entity=Object(E.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0,{}),t=(this.context.uniforms.forEach(function(t){var e,n=t.name,r=t.type,i=t.data,o=t.isReferer,a=t.storageClass;if(a===E.STORAGE_CLASS.StorageBuffer)o?(s.textureCache[n]={data:void 0},c["".concat(n,"Size")]=function(){return i.compiledBundle.context.output.textureSize}):(s.textureCache[n]=s.calcDataTexture(n,r,i),e=(o=s.textureCache[n]).textureWidth,o=o.isOutput,c["".concat(n,"Size")]=[e,e],o&&(s.outputTextureName=n,s.context.needPingpong&&(s.outputTextureName="".concat(n,"Output"),s.textureCache[s.outputTextureName]=s.calcDataTexture(n,r,i)))),c[n]=function(){return s.textureCache[n].texture};else if(a===E.STORAGE_CLASS.Uniform){if(i&&(Array.isArray(i)||Pt(i))&&16<i.length)throw new Error("invalid data type ".concat(r));c[n]=function(){return t.data}}}),this.getOuputDataTexture()),e=t.textureWidth,t=t.texelCount,t=(c.u_OutputTextureSize=[e,e],c.u_OutputTexelCount=t,this.context.output.textureSize=[e,e],{attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:c,vert:"attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",primitive:"triangle strip",count:4});this.computeCommand=this.reGl(t)}function Bt(e){var n={};return Object.keys(e).forEach(function(t){!function r(i,e,o,a){if(null===e||"number"==typeof e||"boolean"==typeof e||Array.isArray(e)&&"number"==typeof e[0]||Pt(e)||""===e||void 0!==e.resize)return o["".concat(a&&a+".").concat(i)]=e,0;var t=e,n=F()(t);null==t||"object"!==n&&"function"!==n||Object.keys(e).forEach(function(t){r(t,e[t],o,"".concat(a&&a+".").concat(i))}),Array.isArray(e)&&e.forEach(function(e,n){Object.keys(e).forEach(function(t){r(t,e[t],o,"".concat(a&&a+".").concat(i,"[").concat(n,"]"))})})}(t,e[t],n,"")}),n}function Nt(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}l()(Xt,[{key:"addUniforms",value:function(t){this.uniforms=Ft(Ft({},this.uniforms),Bt(t))}},{key:"draw",value:function(t){var n=Ft(Ft({},this.uniforms),Bt(t.uniforms||{})),r={};Object.keys(n).forEach(function(t){var e=F()(n[t]);"boolean"===e||"number"===e||Array.isArray(n[t])||n[t].BYTES_PER_ELEMENT?r[t]=n[t]:"string"===e||(r[t]=n[t].get())}),this.drawCommand(r)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){t=t.depth;t&&(e.depth={enable:void 0===t.enable||!!t.enable,mask:void 0===t.mask||!!t.mask,func:ht[t.func||E.gl.LESS],range:t.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var n,r,i,t=t.blend;t&&(n=t.enable,r=t.func,i=t.equation,t=t.color,e.blend={enable:!!n,func:{srcRGB:ft[r&&r.srcRGB||E.gl.SRC_ALPHA],srcAlpha:ft[r&&r.srcAlpha||E.gl.SRC_ALPHA],dstRGB:ft[r&&r.dstRGB||E.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:ft[r&&r.dstAlpha||E.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:dt[i&&i.rgb||E.gl.FUNC_ADD],alpha:dt[i&&i.alpha||E.gl.FUNC_ADD]},color:void 0===t?[0,0,0,0]:t})}},{key:"initStencilDrawParams",value:function(t,e){var n,r,i,o,t=t.stencil;t&&(n=t.enable,r=t.mask,i=void 0===(i=t.func)?{cmp:E.gl.ALWAYS,ref:0,mask:-1}:i,o=void 0===(o=t.opFront)?{fail:E.gl.KEEP,zfail:E.gl.KEEP,zpass:E.gl.KEEP}:o,t=void 0===(t=t.opBack)?{fail:E.gl.KEEP,zfail:E.gl.KEEP,zpass:E.gl.KEEP}:t,e.stencil={enable:!!n,mask:void 0===r?-1:r,func:Ft(Ft({},i),{},{cmp:pt[i.cmp]}),opFront:{fail:gt[o.fail],zfail:gt[o.zfail],zpass:gt[o.zpass]},opBack:{fail:gt[t.fail],zfail:gt[t.zfail],zpass:gt[t.zpass]}})}},{key:"initCullDrawParams",value:function(t,e){var n,t=t.cull;t&&(n=t.enable,t=void 0===(t=t.face)?E.gl.BACK:t,e.cull={enable:!!n,face:yt[t]})}},{key:"generateDefines",value:function(e){return Object.keys(e).map(function(t){return"#define ".concat(t," ").concat(Number(e[t]))}).join("\n")}}]);var Ut,Wt,zt=Xt,Gt=(l()(Vt,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,t=t.height;this.texture.resize(e,t),this.width=e,this.height=t}},{key:"destroy",value:function(){this.texture.destroy()}}]),Vt),$t=Object(e.injectable)()((l()(Kt,[{key:"init",value:(Wt=j()(S.a.mark(function t(e){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.inited)return t.abrupt("return");t.next=2;break;case 2:return this.$canvas=e.canvas,t.next=5,new Promise(function(n,r){et()({canvas:e.canvas,attributes:{alpha:!0,antialias:e.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,e){!t&&e||r(t),n(e)}})});case 5:this.gl=t.sent,this.inited=!0;case 7:case"end":return t.stop()}},t,this)})),function(t){return Wt.apply(this,arguments)})},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),wn=Kt))||wn;function Kt(){var e,n,i=this;v()(this,Kt),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=(n=j()(S.a.mark(function t(r){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.uniforms)return t.next=3,Promise.all(Object.keys(r.uniforms).map(function(){var e=j()(S.a.mark(function t(e){var n;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.uniforms[e]&&void 0!==r.uniforms[e].load)return t.next=3,r.uniforms[e].load();t.next=5;break;case 3:n=t.sent,r.uniforms[e]=n;case 5:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()));t.next=3;break;case 3:return t.abrupt("return",new zt(i.gl,r));case 4:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)}),this.createAttribute=function(t){return new nt(i.gl,t)},this.createBuffer=function(t){return new _t(i.gl,t)},this.createElements=function(t){return new Tt(i.gl,t)},this.createTexture2D=function(t){return new Gt(i.gl,t)},this.createFramebuffer=function(t){return new It(i.gl,t)},this.useFramebuffer=function(t,e){i.gl({framebuffer:t?t.get():null})(e)},this.createComputeModel=(e=j()(S.a.mark(function t(e){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Dt(i.gl,e));case 1:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)}),this.clear=function(t){var e=t.color,n=t.depth,r=t.stencil,t=t.framebuffer,t=void 0===t?null:t,e={color:e,depth:n,stencil:r};e.framebuffer=null===t?t:t.get(),i.gl.clear(e)},this.setScissor=function(t){i.gl&&i.gl._gl&&(t.enable&&t.box?(i.gl._gl.enable(E.gl.SCISSOR_TEST),i.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):i.gl._gl.disable(E.gl.SCISSOR_TEST),i.gl._refresh())},this.viewport=function(t){var e=t.x,n=t.y,r=t.width,t=t.height;i.gl&&i.gl._gl&&(i.gl._gl.viewport(e,n,r,t),i.gl._refresh())},this.readPixels=function(t){var e=t.framebuffer,t={x:t.x,y:t.y,width:t.width,height:t.height};return e&&(t.framebuffer=e.get()),i.gl.read(t)},this.getCanvas=function(){return i.$canvas},this.getGLContext=function(){return i.gl._gl},this.destroy=function(){i.gl&&(i.gl.destroy(),i.inited=!1)}}function Vt(l,t){v()(this,Vt),this.texture=void 0,this.width=void 0,this.height=void 0;var h=t.data,e=t.type,e=void 0===e?E.gl.UNSIGNED_BYTE:e,n=t.width,d=t.height,r=t.flipY,r=void 0!==r&&r,i=t.format,i=void 0===i?E.gl.RGBA:i,o=t.mipmap,o=void 0!==o&&o,a=t.wrapS,a=void 0===a?E.gl.CLAMP_TO_EDGE:a,s=t.wrapT,s=void 0===s?E.gl.CLAMP_TO_EDGE:s,c=t.aniso,c=void 0===c?0:c,u=t.alignment,u=void 0===u?1:u,f=t.premultiplyAlpha,f=void 0!==f&&f,p=t.mag,p=void 0===p?E.gl.NEAREST:p,g=t.min,g=void 0===g?E.gl.NEAREST:g,t=t.colorSpace,t=void 0===t?E.gl.BROWSER_DEFAULT_WEBGL:t,n={width:this.width=n,height:this.height=d,type:ot[e],format:at[i],wrapS:ut[a],wrapT:ut[s],mag:ct[p],min:ct[g],alignment:u,flipY:r,colorSpace:lt[t],premultiplyAlpha:f,aniso:c};h&&(n.data=h),"number"==typeof o?n.mipmap=st[o]:"boolean"==typeof o&&(n.mipmap=o),this.texture=l.texture(n)}function Xt(e,t){v()(this,Xt),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var l=t.vs,h=t.fs,n=t.defines,r=t.attributes,i=t.uniforms,o=t.primitive,a=t.count,s=t.elements,d=t.depth,f=t.blend,p=t.stencil,g=t.cull,c=t.instances,u=t.scissor,t=t.viewport,y={},_=(i&&(this.uniforms=Bt(i),Object.keys(i).forEach(function(t){y[t]=e.prop(t)})),{}),i=(Object.keys(r).forEach(function(t){_[t]=r[t].get()}),n&&this.generateDefines(n)||""),n={attributes:_,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(i,"\n").concat(h),uniforms:y,vert:"\n".concat(i,"\n").concat(l),primitive:rt[void 0===o?E.gl.TRIANGLES:o]};c&&(n.instances=c),a&&(n.count=a),s&&(n.elements=s.get()),u&&(n.scissor=u),t&&(n.viewport=t),this.initDepthDrawParams({depth:d},n),this.initBlendDrawParams({blend:f},n),this.initStencilDrawParams({stencil:p},n),this.initCullDrawParams({cull:g},n),this.drawCommand=e(n)}function Yt(c){return new Promise(function(t,n){var e,r,i,o,a,s;e=c,r=function(){t()},i=function(t,e){n(e)},"undefined"!=typeof window&&(a=document.getElementsByTagName("head")[0],(s=document.createElement("script")).setAttribute("type","text/javascript"),s.setAttribute("src",e),o&&(s.id=o),s.onload=function(){r&&r()},s.onerror=function(t){i&&i("Unable to load script '".concat(e,"'"),t)},a.appendChild(s))})}function Ht(){return(Ht=j()(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ut)return t.abrupt("return",Ut);t.next=2;break;case 2:return t.next=4,Yt("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Ut=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),t.abrupt("return",Ut);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}l()(Jt,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]);var qt=Jt,Zt=(l()(Qt,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,t=t.offset;this.setSubData(this.buffer,t,e instanceof Array?new Float32Array(e):e)}},{key:"createBuffer",value:function(t,e){var n=t.byteLength%4,n={size:t.byteLength+n,usage:e},e=this.engine.device.createBuffer(n);return this.setSubData(e,0,t),e}},{key:"setSubData",value:function(t,e,n){(E.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(t,e,n)}}]),Qt);function Qt(t,e){v()(this,Qt),this.engine=t,this.options=e,this.buffer=void 0;var t=e.data,n=e.usage;e.type,this.buffer=this.createBuffer(t instanceof Array?new Float32Array(t):t,n||y.BufferUsage.Vertex|y.BufferUsage.CopyDst)}function Jt(t,e){v()(this,Jt),this.engine=t,this.options=e,this.attribute=void 0,this.buffer=void 0;var t=e.buffer,n=e.offset,r=e.stride,i=e.normalized,o=e.size,a=e.divisor,s=e.arrayStride,c=e.attributes,e=e.stepMode;this.buffer=t,this.attribute={buffer:t.get(),offset:n||0,stride:r||0,normalized:i||!1,divisor:a||0,arrayStride:s||0,attributes:c,stepMode:e||"vertex"},o&&(this.attribute.size=o)}l()(ge,[{key:"init",value:(ne=j()(S.a.mark(function t(){var e,n,r,i,o,a,s=this;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:e=t.sent,e=e.computeStage,n=this.context.uniforms.filter(function(t){return t.storageClass===E.STORAGE_CLASS.StorageBuffer}),r=this.context.uniforms.filter(function(t){return t.storageClass===E.STORAGE_CLASS.Uniform}),i=r.length?1:0,this.bindGroupEntries=[],i&&(o=0,a=[],r.forEach(function(t){if("number"==typeof t.data)s.uniformGPUBufferLayout.push({name:t.name,offset:o}),o+=4,a.push(t.data);else{var e=(null===(e=t.data)||void 0===e?void 0:e.length)||1,n=(3===e&&(e=4,t.data.push(0)),o/4%4);if(0<n){var r=4-n;if(1<e&&e<=r)2===e&&(3==r&&(o+=4,a.push(0)),a.push.apply(a,mt()(t.data)),s.uniformGPUBufferLayout.push({name:t.name,offset:o}));else{for(var i=0;i<r;i++)o+=4,a.push(0);a.push.apply(a,mt()(t.data)),s.uniformGPUBufferLayout.push({name:t.name,offset:o})}}o+=4*e}}),this.uniformBuffer=new Zt(this.engine,{data:a instanceof Array?new Float32Array(a):a,usage:y.BufferUsage.Uniform|y.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),n.forEach(function(t){var e;null!==t.data&&(t.type!==E.AST_TOKEN_TYPES.Vector4FloatArray&&t.type!==E.AST_TOKEN_TYPES.FloatArray||(t.name===s.context.output.name?(e=new Zt(s.engine,{data:isFinite(Number(t.data))?[t.data]:t.data,usage:y.BufferUsage.Storage|y.BufferUsage.CopyDst|y.BufferUsage.CopySrc}),s.outputBuffer=e,s.context.output={name:t.name,length:isFinite(Number(t.data))?1:t.data.length,typedArrayConstructor:Float32Array,gpuBuffer:e.get()}):t.isReferer?t.data.model&&t.data.model.outputBuffer&&(e=t.data.model.outputBuffer):e=new Zt(s.engine,{data:isFinite(Number(t.data))?[t.data]:t.data,usage:y.BufferUsage.Storage|y.BufferUsage.CopyDst|y.BufferUsage.CopySrc}),s.vertexBuffers[t.name]=e,s.bindGroupEntries.push({binding:i,resource:{name:t.name,refer:e?void 0:t.data,buffer:e?e.get():void 0}}),i++))}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:e}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return t.stop()}},t,this)})),function(){return ne.apply(this,arguments)})},{key:"destroy",value:function(){var e=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(t){return e.vertexBuffers[t].destroy()})}},{key:"readData",value:(ee=j()(S.a.mark(function t(){var e,n,r,i,o;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.context.output)){t.next=16;break}if(o=i.length,e=i.typedArrayConstructor,i=i.gpuBuffer)return o=o*e.BYTES_PER_ELEMENT,n=this.engine.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(r=this.engine.device.createCommandEncoder()).copyBufferToBuffer(i,0,n,0,o),(E.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([r.finish()]),t.next=12,n.mapAsync(y.MapMode.Read);t.next=16;break;case 12:return i=n.getMappedRange(),o=new e(i.slice(0)),n.unmap(),t.abrupt("return",o);case 16:return t.abrupt("return",new Float32Array);case 17:case"end":return t.stop()}},t,this)})),function(){return ee.apply(this,arguments)})},{key:"run",value:function(){var t;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(t=this.engine.currentComputePass).dispatch.apply(t,mt()(this.context.dispatch)))}},{key:"updateBuffer",value:function(t,e){t=this.vertexBuffers[t];t&&t.subData({data:e,offset:2<arguments.length&&void 0!==arguments[2]?arguments[2]:0})}},{key:"updateUniform",value:function(e,t){var n=this.uniformGPUBufferLayout.find(function(t){return t.name===e});n&&this.uniformBuffer.subData({data:Number.isFinite(t)?new Float32Array([t]):new Float32Array(t),offset:n.offset})}},{key:"confirmInput",value:function(t,e){var n,e=this.vertexBuffers[e],r=t.outputBuffer;e&&r&&e!==r&&(n=this.engine.device.createCommandEncoder(),t=(t=t.context.output).length*t.typedArrayConstructor.BYTES_PER_ELEMENT,n.copyBufferToBuffer(r.get(),0,e.get(),0,t),(E.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([n.finish()]))}},{key:"compileShaderToSpirV",value:function(t,e,n){return this.compileRawShaderToSpirV(n+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"compileComputePipelineStageDescriptor",value:(te=j()(S.a.mark(function t(e){var n;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,this.engine.options.useWGSL){t.next=6;break}return t.next=5,this.compileShaderToSpirV(e,"compute","#version 450\n");case 5:n=t.sent;case 6:return t.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:E.isSafari}),entryPoint:"main"}});case 7:case"end":return t.stop()}},t,this)})),function(t){return te.apply(this,arguments)})}]);var te,ee,ne,re=ge,ie=(l()(pe,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),pe),oe=(l()(fe,[{key:"get",value:function(){var t;return{color:null===(t=this.colorTexture)||void 0===t?void 0:t.get(),depth:null===(t=this.depthTexture)||void 0===t?void 0:t.get()}}},{key:"destroy",value:function(){var t;null===(t=this.colorTexture)||void 0===t||t.destroy(),null===(t=this.depthTexture)||void 0===t||t.destroy()}},{key:"resize",value:function(t){var e,n=t.width,t=t.height;n===this.width&&t===this.height||(null===(e=this.colorTexture)||void 0===e||e.resize({width:n,height:t}),null===(e=this.depthTexture)||void 0===e||e.resize({width:n,height:t})),this.width=n,this.height=t}}]),fe),ae=(En={},a()(En,E.gl.POINTS,y.PrimitiveTopology.PointList),a()(En,E.gl.LINES,y.PrimitiveTopology.LineList),a()(En,E.gl.LINE_LOOP,y.PrimitiveTopology.LineList),a()(En,E.gl.LINE_STRIP,y.PrimitiveTopology.LineStrip),a()(En,E.gl.TRIANGLES,y.PrimitiveTopology.TriangleList),a()(En,E.gl.TRIANGLE_FAN,y.PrimitiveTopology.TriangleList),a()(En,E.gl.TRIANGLE_STRIP,y.PrimitiveTopology.TriangleStrip),En),se=(i={},a()(i,E.gl.NEVER,y.CompareFunction.Never),a()(i,E.gl.ALWAYS,y.CompareFunction.Always),a()(i,E.gl.LESS,y.CompareFunction.Less),a()(i,E.gl.LEQUAL,y.CompareFunction.LessEqual),a()(i,E.gl.GREATER,y.CompareFunction.Greater),a()(i,E.gl.GEQUAL,y.CompareFunction.GreaterEqual),a()(i,E.gl.EQUAL,y.CompareFunction.Equal),a()(i,E.gl.NOTEQUAL,y.CompareFunction.NotEqual),i),ce=(r={},a()(r,E.gl.FUNC_ADD,y.BlendOperation.Add),a()(r,E.gl.MIN_EXT,y.BlendOperation.Min),a()(r,E.gl.MAX_EXT,y.BlendOperation.Max),a()(r,E.gl.FUNC_SUBTRACT,y.BlendOperation.Subtract),a()(r,E.gl.FUNC_REVERSE_SUBTRACT,y.BlendOperation.ReverseSubtract),r),ue=(o={},a()(o,E.gl.ZERO,y.BlendFactor.Zero),a()(o,E.gl.ONE,y.BlendFactor.One),a()(o,E.gl.SRC_COLOR,y.BlendFactor.SrcColor),a()(o,E.gl.ONE_MINUS_SRC_COLOR,y.BlendFactor.OneMinusSrcColor),a()(o,E.gl.SRC_ALPHA,y.BlendFactor.SrcAlpha),a()(o,E.gl.ONE_MINUS_SRC_ALPHA,y.BlendFactor.OneMinusSrcAlpha),a()(o,E.gl.DST_COLOR,y.BlendFactor.DstColor),a()(o,E.gl.ONE_MINUS_DST_COLOR,y.BlendFactor.OneMinusDstColor),a()(o,E.gl.DST_ALPHA,y.BlendFactor.DstAlpha),a()(o,E.gl.ONE_MINUS_DST_ALPHA,y.BlendFactor.OneMinusDstAlpha),a()(o,E.gl.CONSTANT_COLOR,y.BlendFactor.BlendColor),a()(o,E.gl.ONE_MINUS_CONSTANT_COLOR,y.BlendFactor.OneMinusBlendColor),a()(o,E.gl.SRC_ALPHA_SATURATE,y.BlendFactor.SrcAlphaSaturated),o),le=(D={},a()(D,E.gl.ALPHA,"r8unorm"),a()(D,E.gl.RGBA,"rgba8unorm"),a()(D,E.gl.DEPTH_COMPONENT,"depth32float"),a()(D,E.gl.DEPTH_STENCIL,"depth24plus-stencil8"),D),he=(n={},a()(n,E.gl.NEAREST,"nearest"),a()(n,E.gl.LINEAR,"linear"),n),de=(wn={},a()(wn,E.gl.REPEAT,"repeat"),a()(wn,E.gl.CLAMP_TO_EDGE,"clamp-to-edge"),a()(wn,E.gl.MIRRORED_REPEAT,"mirror-repeat"),wn);function fe(t,e){v()(this,fe),this.engine=t,this.options=e,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;e.width,e.height;var t=e.color,n=(e.colors,e.depth);e.stencil,t&&(this.colorTexture=t),n&&(this.depthTexture=n)}function pe(t,e){v()(this,pe),this.engine=t,this.options=e,this.indexCount=void 0,this.buffer=void 0;var n=e.data,e=(e.usage,e.type,e.count);this.indexCount=e||0,this.buffer=new Zt(t,{data:n instanceof Array?new Uint16Array(n):n,usage:y.BufferUsage.Index|y.BufferUsage.CopyDst})}function ge(t,e){v()(this,ge),this.engine=t,this.context=e,this.entity=Object(E.createEntity)(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}function ye(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}l()(De,[{key:"init",value:(Oe=j()(S.a.mark(function t(){var a,r,i,o,s,c,f,p,u,l,h,d,g=this;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.options,l=u.vs,h=u.fs,a=u.attributes,r=u.uniforms,i=u.primitive,u.count,o=u.elements,s=u.depth,c=u.blend,f=u.stencil,p=u.cull,u.instances,t.next=3,this.compilePipelineStageDescriptor(l,h,null);case 3:u=t.sent,l=u.vertexStage,h=u.fragmentStage,r&&this.buildUniformBindGroup(r),o&&(this.indexBuffer=o.get(),this.indexCount=o.indexCount),d={vertexBuffers:Object.keys(a).map(function(t,e){var n=a[t],r=n.get(),i=r.arrayStride,o=r.stepMode,r=r.attributes;return g.attributeCache[t]=n,{arrayStride:i,stepMode:o,attributes:r}})},d={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:ae[i||E.gl.TRIANGLES],rasterizationState:_e(_e({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:(n=(n={cull:p}).cull)&&n.enable?n.face?n.face===E.gl.FRONT?y.CullMode.Front:y.CullMode.Back:void 0:y.CullMode.None}),depthStencilState:(n=void 0,n=(e={depth:s,stencil:f}).depth,e.stencil,e={compare:y.CompareFunction.Always,depthFailOp:y.StencilOperation.Keep,failOp:y.StencilOperation.Keep,passOp:y.StencilOperation.Keep},{depthWriteEnabled:n&&n.enable,depthCompare:se[(null==n?void 0:n.func)||E.gl.ALWAYS],format:y.TextureFormat.Depth24PlusStencil8,stencilFront:e,stencilBack:e,stencilReadMask:4294967295,stencilWriteMask:4294967295}),colorStates:(n={blend:c},e=this.engine.options.swapChainFormat,n=n.blend,[{format:e,alphaBlend:{srcFactor:ue[n&&n.func&&n.func.srcAlpha||E.gl.ONE],dstFactor:ue[n&&n.func&&n.func.dstAlpha||E.gl.ZERO],operation:ce[n&&n.equation&&n.equation.alpha||E.gl.FUNC_ADD]},colorBlend:{srcFactor:ue[n&&n.func&&n.func.srcRGB||E.gl.ONE],dstFactor:ue[n&&n.func&&n.func.dstRGB||E.gl.ZERO],operation:ce[n&&n.equation&&n.equation.rgb||E.gl.FUNC_ADD]},writeMask:y.ColorWrite.All}]),layout:this.pipelineLayout,vertexStage:l,fragmentStage:h,vertexState:d},this.renderPipeline=this.engine.device.createRenderPipeline(d);case 11:case"end":return t.stop()}var e,n},t,this)})),function(){return Oe.apply(this,arguments)})},{key:"addUniforms",value:function(t){this.uniforms=_e(_e({},this.uniforms),Bt(t))}},{key:"draw",value:function(t){var i=this,n=this.engine.getCurrentRenderPass(),o=_e(_e({},this.uniforms),Bt(t.uniforms||{})),a=[];Object.keys(o).forEach(function(e){var t,n,r=F()(o[e]);"boolean"===r||"number"===r||Array.isArray(o[e])||o[e].BYTES_PER_ELEMENT?null!==(r=null===(r=i.uniformGPUBufferLayout.find(function(t){return t.name===e}))||void 0===r?void 0:r.offset)&&i.uniformBuffer.subData({data:o[e],offset:r}):null!==(r=null===(r=i.uniformGPUBufferLayout.find(function(t){return t.name===e}))||void 0===r?void 0:r.offset)&&(t=(n=(n=o[e].get()).color||n).texture,(n=n.sampler)&&(a.push({binding:r,resource:n}),r++),a.push({binding:r,resource:t.createView()}))}),this.uniformBuffer&&(a[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:a}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),y.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(t,e){n.setVertexBuffer(0+e,i.attributeCache[t].get().buffer,0)}),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:(be=j()(S.a.mark(function t(e,n,r){var i,o,a;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i="#version 450\n",o=e,a=n,this.engine.options.useWGSL){t.next=10;break}return t.next=6,this.compileShaderToSpirV(e,"vertex",i);case 6:return o=t.sent,t.next=9,this.compileShaderToSpirV(n,"fragment",i);case 9:a=t.sent;case 10:return t.abrupt("return",this.createPipelineStageDescriptor(o,a));case 11:case"end":return t.stop()}},t,this)})),function(t,e,n){return be.apply(this,arguments)})},{key:"compileShaderToSpirV",value:function(t,e,n){return this.compileRawShaderToSpirV(n+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"createPipelineStageDescriptor",value:function(t,e){return{vertexStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:E.isSafari}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:E.isSafari}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:y.FrontFace.CCW,cullMode:y.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(e){var n=this,r=0,t=function(u){for(var t=0,e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++)t+=o[i].length;for(var a=new u(t),s=0,c=0,l=n;c<l.length;c++){var h=l[c];a.set(h,s),s+=h.length}return a}.apply(void 0,[Float32Array].concat(mt()(Object.keys(e).map(function(t){return e[t]?(n.uniformGPUBufferLayout.push({name:t,offset:r}),r+=4*(e[t].length||1),e[t]):[]})))),i=[],o=!1;t.length&&(o=!0,i.push({binding:0,visibility:y.ShaderStage.Fragment|y.ShaderStage.Vertex,type:y.BindingType.UniformBuffer})),Object.keys(e).filter(function(t){return null===e[t]}).forEach(function(t,e){n.uniformGPUBufferLayout.push({name:t,offset:2*e+(o?1:0)}),i.push({binding:2*e+(o?1:0),visibility:y.ShaderStage.Fragment,type:y.BindingType.Sampler},{binding:2*e+(o?1:0)+1,visibility:y.ShaderStage.Fragment,type:y.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:i}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),o&&(this.uniformBuffer=new Zt(this.engine,{data:t instanceof Array?new Float32Array(t):t,usage:y.BufferUsage.Uniform|y.BufferUsage.CopyDst}))}}]);var me,ve,be,Oe,xe=De,Ee=(l()(je,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(t){var e=t.width,t=t.height;e===this.width&&t===this.height||(this.destroy(),this.createTexture()),this.width=e,this.height=t}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var t=this.options;t.data;void 0===t.type&&E.gl.UNSIGNED_BYTE;var e=t.width,n=t.height,r=(t.flipY,t.format),r=void 0===r?E.gl.RGBA:r,i=(t.mipmap,t.wrapS),i=void 0===i?E.gl.CLAMP_TO_EDGE:i,o=t.wrapT,o=void 0===o?E.gl.CLAMP_TO_EDGE:o,a=t.aniso,a=void 0===a?0:a,s=(t.alignment,t.premultiplyAlpha,t.mag),s=void 0===s?E.gl.NEAREST:s,c=t.min,c=void 0===c?E.gl.NEAREST:c,t=(void 0===t.colorSpace&&E.gl.BROWSER_DEFAULT_WEBGL,t.usage);this.width=e,this.height=n,this.texture=this.engine.device.createTexture({size:[e,n,1],mipLevelCount:1,sampleCount:1,dimension:y.TextureDimension.E2d,format:le[r],usage:t||y.TextureUsage.Sampled|y.TextureUsage.CopyDst}),(!t||t&y.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:de[i],addressModeV:de[o],addressModeW:de[i],magFilter:he[s],minFilter:he[c],maxAnisotropy:a}))}}]),je),we=Object(e.injectable)()((l()(Se,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:(ve=j()(S.a.mark(function t(e){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.canvas=e.canvas,this.options=e,this.useWGSL=!!e.useWGSL,this.mainPassSampleCount=e.antialiasing?this.defaultSampleCount:1,t.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return t.stop()}},t,this)})),function(t){return ve.apply(this,arguments)})},{key:"setScissor",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(t){return t.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),E.isSafari?this.device.getQueue().submit(this.commandBuffers.filter(function(t){return t})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(t){return t}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:(me=j()(S.a.mark(function t(){var e,n;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(){return Ht.apply(this,arguments)}();case 2:return this.glslang=t.sent,t.next=5,null===(e=navigator)||void 0===e||null===(n=e.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=t.sent,t.next=8,this.adapter.requestDevice();case 8:this.device=t.sent;case 9:case"end":return t.stop()}},t,this)})),function(){return me.apply(this,arguments)})},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(E.isSafari?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:y.TextureUsage.OutputAttachment|y.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing?(t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:y.TextureDimension.E2d,format:y.TextureFormat.BGRA8Unorm,usage:y.TextureUsage.OutputAttachment},this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(t),this.mainColorAttachments=[{attachment:E.isSafari?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:y.StoreOp.Store}]):this.mainColorAttachments=[{attachment:E.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:y.StoreOp.Store}];var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:y.TextureDimension.E2d,format:E.isSafari?"depth32float-stencil8":y.TextureFormat.Depth24PlusStencil8,usage:y.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(t),this.mainDepthAttachment={attachment:E.isSafari?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:y.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:y.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=E.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=E.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(t,e,n){var r,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=null===(o=t.get().color)||void 0===o?void 0:o.texture;o&&(r=o.createView(this.currentRenderTargetViewDescriptor));var a,t=null===(o=t.get().depth)||void 0===o?void 0:o.texture,o=(t&&(a=t.createView()),this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:r,loadValue:null!==e?e:y.LoadOp.Load,storeOp:y.StoreOp.Store}],depthStencilAttachment:t&&a?{attachment:a,depthLoadValue:n?this.clearDepthValue:y.LoadOp.Load,depthStoreOp:y.StoreOp.Store,stencilLoadValue:i?this.clearStencilValue:y.LoadOp.Load,stencilStoreOp:y.StoreOp.Store}:void 0}));this.currentRenderPass=o,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(t){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),En=Se))||En,i=t(115),Me=t.n(i),r=t(46),Pe=t.n(r),o=t(47),Ce=t.n(o),D=t(33),Ae=t.n(D);function Se(){var e,n,i=this;v()(this,Se),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(t){t.framebuffer;var e=t.color,n=t.depth,t=t.stencil;i.options.supportCompute&&i.startComputePass(),i.currentRenderTarget?(i.currentRenderPass&&i.endRenderTargetRenderPass(),i.startRenderTargetRenderPass(i.currentRenderTarget,e||null,!!n,!!t)):(i.mainColorAttachments[0].loadValue=e||y.LoadOp.Load,i.mainDepthAttachment.depthLoadValue=n||y.LoadOp.Load,i.mainDepthAttachment.stencilLoadValue=t?i.clearStencilValue:y.LoadOp.Load,i.mainRenderPass&&i.endMainRenderPass(),i.startMainRenderPass())},this.createModel=(n=j()(S.a.mark(function t(e){var n;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new xe(i,e),t.next=3,n.init();case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)}),this.createAttribute=function(t){return new qt(i,t)},this.createBuffer=function(t){return new Zt(i,t)},this.createElements=function(t){return new ie(i,t)},this.createTexture2D=function(t){return new Ee(i,t)},this.createFramebuffer=function(t){return new oe(i,t)},this.useFramebuffer=function(t,e){i.currentRenderTarget&&i.unbindFramebuffer(i.currentRenderTarget),i.currentRenderTarget=t,i.currentRenderTargetViewDescriptor={dimension:y.TextureViewDimension.E2d,arrayLayerCount:1,aspect:y.TextureAspect.All},i.currentRenderPass=null,e()},this.createComputeModel=(e=j()(S.a.mark(function t(e){var n;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new re(i,e),t.next=3,n.init();case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)}),this.getCanvas=function(){return i.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(t){var e=t.x,n=t.y,r=t.width,t=t.height;i.currentRenderPass?i.transientViewport.x!==1/0?i.getCurrentRenderPass().setViewport(i.transientViewport.x,i.transientViewport.y,i.transientViewport.width,i.transientViewport.height,0,1):e===i.cachedViewport.x&&n===i.cachedViewport.y&&r===i.cachedViewport.width&&t===i.cachedViewport.height||(i.cachedViewport={x:e,y:n,width:r,height:t},i.getCurrentRenderPass().setViewport(e,n,r,t,0,1)):i.transientViewport={x:e,y:n,width:r,height:t}},this.readPixels=function(t){throw new Error("Method not implemented.")}}function je(t,e){v()(this,je),this.engine=t,this.options=e,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}function De(t,e){v()(this,De),this.engine=t,this.options=e,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}var Te=Object(e.injectable)()(n=function(t){Pe()(i,t);n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,e=function(){var t,e=Ae()(n);return t=r?(t=Ae()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),Ce()(this,t)};function i(){return v()(this,i),e.apply(this,arguments)}return l()(i,[{key:"onEntityCreated",value:function(){function t(t,e,n){for(var r,i=0;i<=e;i++)for(r=0;r<=n;r++){var o=m.e.create(),a=m.e.create(),s=m.e.create(),c=m.e.create();m.e.lerp(o,u[l[t][0]],u[l[t][1]],i/e),m.e.lerp(a,u[l[t][0]],u[l[t][2]],r/n),m.e.sub(s,a,u[l[t][0]]),m.e.add(c,o,s),a=i/e,o=r/n,f.push(c[0],c[1],c[2]),p.push(d[t][0],d[t][1],d[t][2]),g.push(a,o),a=a/3*.875+4/64,o=o/3*.875+4/64,a+=t%3/3,o+=Math.floor(t/3)/3,y.push(a,o),i<e&&r<n&&(_.push(h+n+1,h+1,h),_.push(h+n+1,h+n+2,h+1)),h++}}var e=this.config,n=e.widthSegments,n=void 0===n?1:n,r=e.heightSegments,r=void 0===r?1:r,i=e.depthSegments,i=void 0===i?1:i,e=e.halfExtents,e=void 0===e?m.e.fromValues(.5,.5,.5):e,e=Me()(e,3),o=e[0],a=e[1],e=e[2],u=[m.e.fromValues(-o,-a,e),m.e.fromValues(o,-a,e),m.e.fromValues(o,a,e),m.e.fromValues(-o,a,e),m.e.fromValues(o,-a,-e),m.e.fromValues(-o,-a,-e),m.e.fromValues(-o,a,-e),m.e.fromValues(o,a,-e)],l=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],d=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],f=[],p=[],g=[],y=[],_=[],h=0,o=(t(0,n,r),t(1,n,r),t(2,n,i),t(3,n,i),t(4,i,r),t(5,i,r),Object(E.generateAABBFromVertices)(f)),a=this.getComponent();a.indices=Uint32Array.from(_),a.aabb=o,a.vertexCount=h,a.attributes=[{dirty:!0,name:"position",data:Float32Array.from(f),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(p),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(g),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),i}(A))||n;var Ie=Object(e.injectable)()(wn=function(t){Pe()(i,t);n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,e=function(){var t,e=Ae()(n);return t=r?(t=Ae()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),Ce()(this,t)};function i(){return v()(this,i),e.apply(this,arguments)}return l()(i,[{key:"onEntityCreated",value:function(){var t=this.config.geometries,t=void 0===t?[]:t,i=this.getComponent(),o=(i.aabb=new E.AABB,[]),a=[],s=0;t.forEach(function(t){var e=t.aabb,n=t.indices,r=t.vertexCount,t=t.attributes;i.aabb.add(e),i.vertexCount+=r,n&&a.push.apply(a,mt()(n.map(function(t){return t+s}))),s+=r,t.forEach(function(t,e){o[e]?t.data&&(h(t.data)?o[e].push(t.data):L(t.data)?o[e].data=function(t,e){if(!t&&!e)throw new Error("Please specify valid arguments for parameters a and b.");if(!e||0===e.length)return t;if(!t||0===t.length)return e;if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}(o[e].data,t.data):o[e].data=o[e].data.concat(t.data)):(o[e]=t,o[e].dirty=!0)})}),i.attributes=o,i.indices=Uint32Array.from(a),i.dirty=!0}}]),i}(A))||wn;var ke=Object(e.injectable)()(En=function(t){Pe()(i,t);n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,e=function(){var t,e=Ae()(n);return t=r?(t=Ae()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),Ce()(this,t)};function i(){return v()(this,i),e.apply(this,arguments)}return l()(i,[{key:"onEntityCreated",value:function(){for(var t=this.config,e=t.halfExtents,n=void 0===e?[.5,.5]:e,e=t.widthSegments,r=void 0===e?5:e,e=t.lengthSegments,i=void 0===e?5:e,o=[],l=[],h=[],a=[],s=0,c=0;c<=r;c++)for(var u=0;u<=i;u++){var d=-n[0]+2*n[0]*c/r,f=-(-n[1]+2*n[1]*u/i),p=c/r,g=u/i;o.push(d,0,f),l.push(0,1,0),h.push(p,g),c<r&&u<i&&(a.push(s+i+1,s+1,s),a.push(s+i+1,s+i+2,s+1)),s++}t=Object(E.generateAABBFromVertices)(o),e=this.getComponent();e.indices=Uint32Array.from(a),e.aabb=t,e.vertexCount=s,e.attributes=[{dirty:!0,name:"position",data:Float32Array.from(o),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(l),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(h),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),i}(A))||En;var Le,Re,Be=Object(e.injectable)()(i=function(t){Pe()(i,t);n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,e=function(){var t,e=Ae()(n);return t=r?(t=Ae()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),Ce()(this,t)};function i(){return v()(this,i),e.apply(this,arguments)}return l()(i,[{key:"onEntityCreated",value:function(){for(var t=this.config,e=t.radius,n=void 0===e?.5:e,e=t.latitudeBands,r=void 0===e?16:e,e=t.longitudeBands,i=void 0===e?16:e,o=[],l=[],h=[],d=[],a=0;a<=r;a++)for(var f=a*Math.PI/r,p=Math.sin(f),g=Math.cos(f),s=0;s<=i;s++){var c=2*s*Math.PI/i-Math.PI/2,y=Math.sin(c),c=Math.cos(c)*p,_=g,y=y*p,m=1-s/i,v=1-a/r;o.push(c*n,_*n,y*n),l.push(c,_,y),h.push(m,v)}for(var b=0;b<r;++b)for(var O=0;O<i;++O){var u=b*(i+1)+O,x=u+i+1;d.push(u+1,x,u),d.push(u+1,x+1,x)}t=Object(E.generateAABBFromVertices)(o),e=this.getComponent();e.indices=Uint32Array.from(d),e.aabb=t,e.vertexCount=o.length/3,e.attributes=[{dirty:!0,name:"position",data:Float32Array.from(o),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(l),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(h),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),i}(A))||i,r=t(41),Ne=t.n(r);o=Object(e.injectable)(),D=Object(e.inject)(E.IDENTIFIER.RenderEngine),n=Object(e.inject)(E.IDENTIFIER.ShaderModuleService);var Fe,Ue,We,ze=o((wn=function(t){Pe()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=Ae()(n);return t=r?(t=Ae()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),Ce()(this,t)};function o(){var t;v()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=i.call.apply(i,[this].concat(n)),u()(t,"engine",Le,Ne()(t)),u()(t,"shaderModuleService",Re,Ne()(t)),t}return l()(o,[{key:"onEntityCreated",value:function(){var t=this.getComponent(),e=this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}":'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',n=this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}":'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}',e=(this.shaderModuleService.registerModule("material-basic",{vs:e,fs:n}),this.shaderModuleService.getModule("material-basic")),n=e.vs,r=e.fs,e=e.uniforms;t.vertexShaderGLSL=n,t.fragmentShaderGLSL=r,t.setUniform(e),this.config.map&&(t.setDefines({USE_UV:1,USE_MAP:1}),t.setUniform({map:this.config.map,uvTransform:m.a.create()}))}}]),o}(J),Le=c()(wn.prototype,"engine",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=c()(wn.prototype,"shaderModuleService",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=wn))||En;i=Object(e.injectable)(),r=Object(e.inject)(E.IDENTIFIER.Systems),o=Object(e.named)(E.IDENTIFIER.MaterialSystem),D=Object(e.inject)(E.IDENTIFIER.Systems),n=Object(e.named)(E.IDENTIFIER.GeometrySystem),wn=Object(e.inject)(E.IDENTIFIER.ShaderModuleService);var Ge,$e,Ke,Ve=i((En=function(t){Pe()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=Ae()(n);return t=r?(t=Ae()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),Ce()(this,t)};function o(){var t;v()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=i.call.apply(i,[this].concat(n)),u()(t,"materialSystem",Fe,Ne()(t)),u()(t,"geometrySystem",Ue,Ne()(t)),u()(t,"shaderModuleService",We,Ne()(t)),t}return l()(o,[{key:"onAttributeChanged",value:function(t){var e=t.name,t=t.data,n=this.getMeshComponent();n&&n.material&&("gridColor"===e?(n.material.setUniform("u_GridColor",t),n.material.setUniform("u_GridColor2",t)):"gridSize"===e&&(n.material.setUniform("u_GridSize",t),n.material.setUniform("u_GridSize2",t)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}",fs:"// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}"});var t=this.shaderModuleService.getModule("grid"),e=t.vs,n=t.fs,t=t.uniforms,e=this.materialSystem.createShaderMaterial({vertexShader:e,fragmentShader:n}),n=(this.setMaterial(e),this.geometrySystem.createBufferGeometry({vertexCount:4}));this.setGeometry(n),e.setCull({enable:!1,face:E.gl.BACK}).setDepth({enable:!0,func:E.gl.LESS}),e.setUniform(t),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),n.setIndex([0,3,2,2,1,0]),n.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),o}(tt),Fe=c()(En.prototype,"materialSystem",[r,o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=c()(En.prototype,"geometrySystem",[D,n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=c()(En.prototype,"shaderModuleService",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=En))||i,Xe=t(162),Ye=t(121);function He(t,e,n,r,i){qe(e,r,-i),qe(e,r,i),t.push(n),t.push(n)}function qe(t,e,n){t.push([[e[0],e[1]],n])}r=Object(e.injectable)(),o=Object(e.inject)(E.IDENTIFIER.Systems),D=Object(e.named)(E.IDENTIFIER.MaterialSystem),n=Object(e.inject)(E.IDENTIFIER.Systems),wn=Object(e.named)(E.IDENTIFIER.GeometrySystem),En=Object(e.inject)(E.IDENTIFIER.ShaderModuleService);var Ze,Qe,Je,tn=r((i=function(t){Pe()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=Ae()(n);return t=r?(t=Ae()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),Ce()(this,t)};function o(){var t;v()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=i.call.apply(i,[this].concat(n)),u()(t,"materialSystem",Ge,Ne()(t)),u()(t,"geometrySystem",$e,Ne()(t)),u()(t,"shaderModuleService",Ke,Ne()(t)),t.vertexCount=void 0,t}return l()(o,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,r=this.getMeshComponent();if(r&&r.material)switch(e){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var i=new Array(this.vertexCount).fill(void 0).map(function(){return n}).reduce(function(t,e){return[].concat(mt()(t),mt()(e))},[]);r.geometry.setAttribute("a_color",Float32Array.from(i),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var t=this,e=(this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n",fs:"uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}"}),this.shaderModuleService.getModule("line")),n=e.vs,r=e.fs,e=e.uniforms,n=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),r=function(t){for(var l=[0,0],h=[0,0],d=[0,0],f=[0,0],p=-1,g=!1,e=null,y=Object(Xe.create)(),_=0,n=[],r=[],i=[],m=[0,0],v=t.length,o=1;o<v;o++){var b,a=_,s=t[o-1],c=t[o],u=o<t.length-1?t[o+1]:null;m.push(o/v,o/v),Object(Ye.direction)(l,c,s),e||(e=[0,0],Object(Ye.normal)(e,l)),g||(g=!0,He(r,n,s,e,1)),i.push([a+0,a+1,a+2]),u?(Object(Ye.direction)(h,u,c),s=Object(Ye.computeMiter)(d,f,l,h,1),u=Object(Xe.dot)(d,e)<0?-1:1,b=3<s,p=(isFinite(s)?b?(s=3,m.push(o/v),qe(n,e,-u),r.push(c),qe(n,f,s*u),r.push(c),i.push(p!==-u?[a,a+2,a+3]:[a+2,a+1,a+3]),i.push([a+2,a+3,a+4]),Object(Ye.normal)(y,h),Object(Xe.copy)(e,y),qe(n,e,-u),r.push(c),_+=3):(He(r,n,c,f,s),i.push(1===p?[a,a+2,a+3]:[a+2,a+1,a+3]),u=-1,Object(Xe.copy)(e,f),_+=2):(Object(Ye.normal)(e,l),He(r,n,c,e,1),i.push(1===p?[a,a+2,a+3]:[a+2,a+1,a+3]),_+=2),u)):(Object(Ye.normal)(e,l),He(r,n,c,e,1),i.push(1===p?[a,a+2,a+3]:[a+2,a+1,a+3]),_+=2)}return{normals:n,attrIndex:i,attrPos:r,attrCounters:m}}(this.config.points),i=r.normals,l=r.attrIndex,o=r.attrPos,r=r.attrCounters,a=o.length,s=(this.vertexCount=a,this.geometrySystem.createBufferGeometry({vertexCount:a})),c=(this.setMaterial(n),this.setGeometry(s),n.setCull({enable:!1,face:E.gl.BACK}).setUniform(e),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness}),[]),u=[],n=(i.forEach(function(t){var e=t[0],t=t[1];c.push([e[0],e[1]]),u.push(t)}),s.setIndex(l.reduce(function(t,e){return[].concat(mt()(t),mt()(e))},[])),s.setAttribute("a_pos",Float32Array.from(o.reduce(function(t,e){return[].concat(mt()(t),mt()(e))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),new Array(a).fill(void 0).map(function(){return mt()(t.config.color)}).reduce(function(t,e){return[].concat(mt()(t),mt()(e))},[]));s.setAttribute("a_color",Float32Array.from(n),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),s.setAttribute("a_line_miter",Float32Array.from(u),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),s.setAttribute("a_line_normal",Float32Array.from(c.reduce(function(t,e){return[].concat(mt()(t),mt()(e))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),s.setAttribute("a_counters",Float32Array.from(r),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),o}(tt),Ge=c()(i.prototype,"materialSystem",[o,D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=c()(i.prototype,"geometrySystem",[n,wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=c()(i.prototype,"shaderModuleService",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t=i))||t;function en(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}var nn,rn,on,an=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],sn=(r=Object(e.injectable)(),o=Object(e.inject)(E.IDENTIFIER.Systems),D=Object(e.named)(E.IDENTIFIER.MaterialSystem),n=Object(e.inject)(E.IDENTIFIER.Systems),wn=Object(e.named)(E.IDENTIFIER.GeometrySystem),En=Object(e.inject)(E.IDENTIFIER.ShaderModuleService),r((i=function(t){Pe()(o,t);n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();var n,r,i=function(){var t,e=Ae()(n);return t=r?(t=Ae()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),Ce()(this,t)};function o(){var t;v()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=i.call.apply(i,[this].concat(n)),u()(t,"materialSystem",Ze,Ne()(t)),u()(t,"geometrySystem",Qe,Ne()(t)),u()(t,"shaderModuleService",Je,Ne()(t)),t}return l()(o,[{key:"onAttributeChanged",value:function(t){var e=t.name,t=t.data,n=this.getMeshComponent();n&&n.material&&("strokeWidth"===e?n.material.setUniform("u_stroke_width",t):"strokeColor"===e?n.material.setUniform("u_stroke_color",t):"strokeOpacity"===e?n.material.setUniform("u_stroke_opacity",t):"opacity"===e?n.material.setUniform("u_opacity",t):"blur"===e&&n.material.setUniform("u_blur",t))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',fs:"uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}"});var t=this.shaderModuleService.getModule("grid"),e=t.vs,n=t.fs,t=t.uniforms,e=this.materialSystem.createShaderMaterial({vertexShader:e,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:E.gl.SRC_ALPHA,dstRGB:E.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}}),n=(e.setUniform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({u_device_pixel_ratio:window.devicePixelRatio},t)),this.buildAttributes()),t=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:n.instancedOffsets.length/2,vertexCount:6});t.setIndex([0,2,1,0,3,2]),t.setAttribute("position",Float32Array.from(n.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),t.setAttribute("offset",Float32Array.from(n.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),t.setAttribute("color",Float32Array.from(n.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),t.setAttribute("size",Float32Array.from(n.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),t.setAttribute("shape",Float32Array.from(n.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),t.setAttribute("a_PickingColor",Float32Array.from(n.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(e),this.setGeometry(t)}},{key:"buildAttribute",value:function(t,e,n){var r;(r=e.instancedPickingColors).push.apply(r,mt()([(r=t.id||n)+1&255,r+1>>8&255,r+1>>8>>8&255])),e.instancedShapes.push(an.indexOf(t.shape||"circle")),(n=e.instancedColors).push.apply(n,mt()(t.color||[1,0,0,1])),(r=e.instancedOffsets).push.apply(r,mt()(t.position||[0,0])),(n=e.instancedSizes).push.apply(n,mt()(t.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var n=this,r={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(t,e){n.buildAttribute(t,r,e)}):this.buildAttribute(this.config,r,0),r}}]),o}(tt),Ze=c()(i.prototype,"materialSystem",[o,D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=c()(i.prototype,"geometrySystem",[n,wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=c()(i.prototype,"shaderModuleService",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t=i))||t);function cn(t,e){var n,r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return un(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?un(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function un(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}r=Object(e.injectable)(),o=Object(e.inject)(E.IDENTIFIER.RenderEngine),D=Object(e.inject)(E.IDENTIFIER.ShaderModuleService),n=Object(e.inject)(E.IDENTIFIER.ConfigService);var ln,hn,dn,fn,pn=r((l()(vn,[{key:"init",value:(fn=j()(S.a.mark(function t(){var e,n,r,i;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:"#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"}),this.shaderModule.registerModule("uv.vert.main",{vs:"#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif"}),this.shaderModule.registerModule("uv.frag.declaration",{fs:"#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif"}),this.shaderModule.registerModule("map.frag.declaration",{fs:"#ifdef USE_MAP\n  uniform sampler2D map;\n#endif"}),this.shaderModule.registerModule("map.frag.main",{fs:"#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif"}),e=this.container.getAll(E.IDENTIFIER.Systems),(r=this.configService.get()).canvas)return t.next=11,this.engine.init({canvas:r.canvas,swapChainFormat:y.TextureFormat.BGRA8Unorm,antialiasing:!1});t.next=30;break;case 11:n=cn(e),t.prev=12,n.s();case 14:if((r=n.n()).done){t.next=21;break}if((i=r.value).initialize)return t.next=19,i.initialize();t.next=19;break;case 19:t.next=14;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(12),n.e(t.t0);case 26:return t.prev=26,n.f(),t.finish(26);case 29:this.inited=!0;case 30:case"end":return t.stop()}},t,this,[[12,23,26,29]])})),function(){return fn.apply(this,arguments)})},{key:"render",value:(dn=j()(S.a.mark(function t(){var e,n,r,i,o,a=arguments;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inited||this.rendering)return t.abrupt("return");t.next=2;break;case 2:for(this.pendings.length&&this.pendings.forEach(function(t){t()}),this.rendering=!0,this.engine.beginFrame(),i=this.container.getAll(E.IDENTIFIER.Systems),e=a.length,n=new Array(e),r=0;r<e;r++)n[r]=a[r];i=cn(i),t.prev=8,i.s();case 10:if((o=i.n()).done){t.next=17;break}if((o=o.value).execute)return t.next=15,o.execute(n);t.next=15;break;case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),i.e(t.t0);case 22:return t.prev=22,i.f(),t.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return t.stop()}},t,this,[[8,19,22,25]])})),function(){return dn.apply(this,arguments)})},{key:"clear",value:function(t){var e=this;return this.inited?this.engine.clear(t):this.pendings.unshift(function(){e.engine.clear(t),e.pendings.shift()}),this}},{key:"setSize",value:function(t){var e=t.width,t=t.height,n=this.engine.getCanvas();return this.size={width:e,height:t},n.width=e,n.height=t,this}},{key:"getSize",value:function(){return this.size}}]),wn=vn,nn=c()(wn.prototype,"engine",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=c()(wn.prototype,"shaderModule",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=c()(wn.prototype,"configService",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=wn))||En,gn=Object(e.injectable)()((l()(mn,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(t){return this.addEntity(t.getEntity()),this}},{key:"removeRenderable",value:function(t){return this.removeEntity(t.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(t){return-1===this.entities.indexOf(t)&&this.entities.push(t),this}},{key:"removeEntity",value:function(t){t=this.entities.indexOf(t);return this.entities.splice(t,1),this}}]),i=mn))||i,yn=Object(e.injectable)()((l()(_n,[{key:"get",value:function(t){return this.cache[t]}},{key:"set",value:function(t,e){this.cache[t]=e}}]),t=_n))||t;function _n(){v()(this,_n),this.cache={}}function mn(){v()(this,mn),this.entities=[]}function vn(){v()(this,vn),this.container=void 0,u()(this,"engine",nn,this),u()(this,"shaderModule",rn,this),u()(this,"configService",on,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}function bn(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}r=Object(e.injectable)(),o=Object(e.inject)(yn),D=Object(e.inject)(E.IDENTIFIER.RenderEngine);var xn,En,wn,Mn,Pn,Cn=r((l()(jn,[{key:"setConfig",value:function(t){this.config=t}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:(Pn=j()(S.a.mark(function t(){var i=this;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.config.url)return t.abrupt("return",new Promise(function(e,t){var n,r=i.textureCache.get(i.config.url);r?e(r):((n=new Image).crossOrigin="Anonymous",n.src=i.config.url,n.onload=function(){var t=i.engine.createTexture2D(On(On({},i.config),{},{data:n,width:n.width,height:n.height,flipY:!0}));i.textureCache.set(i.config.url,t),i.texture=t,i.loaded=!0,e(t)},n.onerror=function(){t()})}));t.next=4;break;case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),t.abrupt("return",this.texture);case 7:case"end":return t.stop()}},t,this)})),function(){return Pn.apply(this,arguments)})}]),n=jn,ln=c()(n.prototype,"textureCache",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=c()(n.prototype,"engine",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn=n))||wn,An=(En=Object(e.injectable)(),i=Object(e.inject)(E.IDENTIFIER.Systems),t=Object(e.named)(E.IDENTIFIER.RendererSystem),En((l()(Sn,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(t){return this.camera=t,this}},{key:"setScene",value:function(t){return this.scene=t,this}},{key:"setViewport",value:function(t){return this.viewport=t,this}},{key:"setClearColor",value:function(t){return this.clearColor=t,this}},{key:"pick",value:function(t){return this.rendererSystem.pick(t,this)}}]),r=Sn,xn=c()(r.prototype,"rendererSystem",[i,t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=r))||o);function Sn(){v()(this,Sn),u()(this,"rendererSystem",xn,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}function jn(){v()(this,jn),u()(this,"textureCache",ln,this),u()(this,"engine",hn,this),this.config=void 0,this.loaded=!1,this.texture=void 0}function Dn(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}D=Object(e.injectable)(),n=Object(e.inject)(E.IDENTIFIER.ConfigService);var Tn,In=D((l()(kn,[{key:"getEngine",value:(Tn=j()(S.a.mark(function t(){var e,n,r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.container.get(E.IDENTIFIER.RenderEngine),r=this.configService.get(),n=r.canvas,r=r.engineOptions,t.next=4,e.init(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({canvas:n||k(),swapChainFormat:y.TextureFormat.BGRA8Unorm,antialiasing:!1},r));case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)})),function(){return Tn.apply(this,arguments)})},{key:"getTransformComponent",value:function(t){return this.container.get(E.IDENTIFIER.TransformComponentManager).getComponentByEntity(t)}},{key:"getMeshComponent",value:function(t){return this.container.get(E.IDENTIFIER.MeshComponentManager).getComponentByEntity(t)}},{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Object(E.createEntity)()}},{key:"createScene",value:function(){return this.container.get(gn)}},{key:"createCamera",value:function(){return this.container.get(C)}},{key:"createView",value:function(){return this.container.get(An)}},{key:"createRenderable",value:function(t,e){var t=t?this.container.getNamed(E.IDENTIFIER.Renderable,t):this.container.get(tt),n=Object(E.createEntity)();return t.setConfig(e||{}),t.setEntity(n),t}},{key:"createGeometry",value:function(t,e){var t=this.container.getNamed(E.IDENTIFIER.Geometry,t),n=Object(E.createEntity)();return t.setConfig(e||{}),t.setEntity(n),t.getComponent()}},{key:"createMaterial",value:function(t,e){var n=this.container.getNamed(E.IDENTIFIER.Material,t),r=Object(E.createEntity)();return n.setConfig(e||{}),n.setEntity(r,t),n.getComponent()}},{key:"createTexture2D",value:function(t){var e=this.container.get(Cn);return e.setConfig(t),e}},{key:"createBufferGeometry",value:function(t){return this.container.getNamed(E.IDENTIFIER.Systems,E.IDENTIFIER.GeometrySystem).createBufferGeometry(t)}},{key:"createInstancedBufferGeometry",value:function(t){return this.container.getNamed(E.IDENTIFIER.Systems,E.IDENTIFIER.GeometrySystem).createInstancedBufferGeometry(t)}},{key:"createShaderMaterial",value:function(t){return this.container.getNamed(E.IDENTIFIER.Systems,E.IDENTIFIER.MaterialSystem).createShaderMaterial(t)}},{key:"createKernel",value:function(t){var e=this.container.get(Q);return"string"==typeof t?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"createRenderer",value:function(){var t=this.container.get(pn);return t.container=this.container,t.init(),t}},{key:"destroy",value:function(){this.container.getAll(E.IDENTIFIER.Systems).forEach(function(t){t.tearDown&&t.tearDown()}),this.container.get(E.IDENTIFIER.RenderEngine).destroy(),this.container.get(E.IDENTIFIER.InteractorService).destroy()}}],[{key:"create",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Object(E.createWorldContainer)(),n=navigator.gpu?we:$t,n=(e.isBound(E.IDENTIFIER.RenderEngine)||e.bind(E.IDENTIFIER.RenderEngine).to(n).inSingletonScope(),e.bind(pn).toSelf(),e.bind(Q).toSelf(),e.bind(tt).toSelf(),e.bind(An).toSelf(),e.bind(C).toSelf(),e.bind(gn).toSelf(),e.bind(kn).toSelf(),e.bind(yn).toSelf(),e.bind(Cn).toSelf(),e.bind(E.IDENTIFIER.Geometry).to(Te).whenTargetNamed(A.BOX),e.bind(E.IDENTIFIER.Geometry).to(Be).whenTargetNamed(A.SPHERE),e.bind(E.IDENTIFIER.Geometry).to(ke).whenTargetNamed(A.PLANE),e.bind(E.IDENTIFIER.Geometry).to(Ie).whenTargetNamed(A.MERGED),e.bind(E.IDENTIFIER.Material).to(ze).whenTargetNamed(J.BASIC),e.bind(E.IDENTIFIER.Renderable).to(sn).whenTargetNamed(tt.POINT),e.bind(E.IDENTIFIER.Renderable).to(tn).whenTargetNamed(tt.LINE),e.bind(E.IDENTIFIER.Renderable).to(Ve).whenTargetNamed(tt.GRID),e.get(kn));return n.setContainer(e),n.setConfig(t),n}}]),wn=kn,Mn=c()(wn.prototype,"configService",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=wn))||En;function kn(){v()(this,kn),u()(this,"configService",Mn,this),this.container=void 0}},function(a,t,e){"use strict";e.r(t),e.d(t,"AbstractMatrix",function(){return A}),e.d(t,"default",function(){return R}),e.d(t,"Matrix",function(){return R}),e.d(t,"MatrixColumnView",function(){return O}),e.d(t,"MatrixColumnSelectionView",function(){return x}),e.d(t,"MatrixFlipColumnView",function(){return w}),e.d(t,"MatrixFlipRowView",function(){return M}),e.d(t,"MatrixRowView",function(){return P}),e.d(t,"MatrixRowSelectionView",function(){return C}),e.d(t,"MatrixSelectionView",function(){return S}),e.d(t,"MatrixSubView",function(){return j}),e.d(t,"MatrixTransposeView",function(){return D}),e.d(t,"wrap",function(){return I}),e.d(t,"WrapperMatrix1D",function(){return T}),e.d(t,"WrapperMatrix2D",function(){return B}),e.d(t,"solve",function(){return W}),e.d(t,"inverse",function(){return U}),e.d(t,"determinant",function(){return z}),e.d(t,"linearDependencies",function(){return G}),e.d(t,"pseudoInverse",function(){return $}),e.d(t,"covariance",function(){return K}),e.d(t,"correlation",function(){return V}),e.d(t,"SingularValueDecomposition",function(){return F}),e.d(t,"SVD",function(){return F}),e.d(t,"EigenvalueDecomposition",function(){return X}),e.d(t,"EVD",function(){return X}),e.d(t,"CholeskyDecomposition",function(){return H}),e.d(t,"CHO",function(){return H}),e.d(t,"LuDecomposition",function(){return k}),e.d(t,"LU",function(){return k}),e.d(t,"QrDecomposition",function(){return L}),e.d(t,"QR",function(){return L}),e.d(t,"Nipals",function(){return q}),e.d(t,"NIPALS",function(){return q});const s=Object.prototype.toString;function E(t){return s.call(t).endsWith("Array]")}function c(t,e){var n,e=1<arguments.length&&void 0!==e?e:{};if(!E(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==e.output){if(!E(e.output))throw new TypeError("output option must be an array if specified");n=e.output}else n=new Array(t.length);var r=function(t,e){if(e=1<arguments.length&&void 0!==e?e:{},!E(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=void 0===(n=e.fromIndex)?0:n,e=e.toIndex,r=void 0===e?t.length:e;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(r<=n||r>t.length||!Number.isInteger(r))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var i=t[n],o=n+1;o<r;o++)t[o]<i&&(i=t[o]);return i}(t),i=function(t,e){if(e=1<arguments.length&&void 0!==e?e:{},!E(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=void 0===(n=e.fromIndex)?0:n,e=e.toIndex,r=void 0===e?t.length:e;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(r<=n||r>t.length||!Number.isInteger(r))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var i=t[n],o=n+1;o<r;o++)t[o]>i&&(i=t[o]);return i}(t);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=e.min,a=void 0===o?e.autoMinMax?r:0:o,o=e.max,e=void 0===o?e.autoMinMax?i:1:o;if(e<=a)throw new RangeError("min option must be smaller than max option");for(var s=(e-a)/(i-r),c=0;c<t.length;c++)n[c]=(t[c]-r)*s+a;return n}const u=" ".repeat(2),l=" ".repeat(4);function h(t,e={}){var{maxRows:e=15,maxColumns:n=10,maxNumSize:r=8}=e;return""+t.constructor.name+` {
${u}[
${l}${function(r,t,e,i){const{rows:n,columns:o}=r,a=Math.min(n,t),s=Math.min(o,e),c=[];for(let n=0;n<a;n++){let e=[];for(let t=0;t<s;t++)e.push(function(t,e){const n=String(t);if(n.length<=e)return n.padEnd(e," ");var r=t.toPrecision(e-2);if(r.length<=e)return r;const i=t.toExponential(e-2),o=i.indexOf("e"),a=i.slice(o);return i.slice(0,e-a.length)+a}(r.get(n,t),i));c.push(""+e.join(" "))}return s!==o&&(c[c.length-1]+=` ... ${o-e} more columns`),a!==n&&c.push(`... ${n-t} more rows`),c.join("\n"+l)}(t,e,n,r)}
${u}]
${u}rows: ${t.rows}
${u}columns: ${t.columns}
}`}function i(t,e,n){n=n?t.rows:t.rows-1;if(e<0||n<e)throw new RangeError("Row index out of range")}function o(t,e,n){n=n?t.columns:t.columns-1;if(e<0||n<e)throw new RangeError("Column index out of range")}function d(t,e){if((e=e.to1DArray?e.to1DArray():e).length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function f(t,e){if((e=e.to1DArray?e.to1DArray():e).length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function p(e,n){if(!E(n))throw new TypeError("row indices must be an array");for(let t=0;t<n.length;t++)if(n[t]<0||n[t]>=e.rows)throw new RangeError("row indices are out of range")}function g(e,n){if(!E(n))throw new TypeError("column indices must be an array");for(let t=0;t<n.length;t++)if(n[t]<0||n[t]>=e.columns)throw new RangeError("column indices are out of range")}function y(t,e,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(m("startRow",e),m("endRow",n),m("startColumn",r),m("endColumn",i),n<e||i<r||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function _(e,n=0){let r=[];for(let t=0;t<e;t++)r.push(n);return r}function m(t,e){if("number"!=typeof e)throw new TypeError(t+" must be a number")}function v(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class A{static from1DArray(t,n,r){if(t*n!==r.length)throw new RangeError("data length does not match given dimensions");let i=new R(t,n);for(let e=0;e<t;e++)for(let t=0;t<n;t++)i.set(e,t,r[e*n+t]);return i}static rowVector(e){let n=new R(1,e.length);for(let t=0;t<e.length;t++)n.set(0,t,e[t]);return n}static columnVector(e){let n=new R(e.length,1);for(let t=0;t<e.length;t++)n.set(t,0,e[t]);return n}static zeros(t,e){return new R(t,e)}static ones(t,e){return new R(t,e).fill(1)}static rand(t,n,e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{random:r=Math.random}=e;let i=new R(t,n);for(let e=0;e<t;e++)for(let t=0;t<n;t++)i.set(e,t,r());return i}static randInt(t,n,e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:o=Math.random}=e;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(i<=r)throw new RangeError("min must be smaller than max");let a=i-r,s=new R(t,n);for(let e=0;e<t;e++)for(let t=0;t<n;t++){var c=r+Math.round(o()*a);s.set(e,t,c)}return s}static eye(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);let r=Math.min(t,e),i=this.zeros(t,e);for(let t=0;t<r;t++)i.set(t,t,n);return i}static diag(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);let i=Math.min(r,t,n),o=this.zeros(t,n);for(let t=0;t<i;t++)o.set(t,t,e[t]);return o}static min(n,r){n=this.checkMatrix(n),r=this.checkMatrix(r);let t=n.rows,i=n.columns,o=new R(t,i);for(let e=0;e<t;e++)for(let t=0;t<i;t++)o.set(e,t,Math.min(n.get(e,t),r.get(e,t)));return o}static max(n,r){n=this.checkMatrix(n),r=this.checkMatrix(r);let t=n.rows,i=n.columns,o=new this(t,i);for(let e=0;e<t;e++)for(let t=0;t<i;t++)o.set(e,t,Math.max(n.get(e,t),r.get(e,t)));return o}static checkMatrix(t){return A.isMatrix(t)?t:new R(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(n){if("function"!=typeof n)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)n.call(this,e,t);return this}to1DArray(){let n=[];for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)n.push(this.get(e,t));return n}to2DArray(){let n=[];for(let e=0;e<this.rows;e++){n.push([]);for(let t=0;t<this.columns;t++)n[e].push(this.get(e,t))}return n}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);t++}return r}isReducedEchelonForm(){let e=0,n=0,t=-1,r=!0,i=!1;for(;e<this.rows&&r;){for(n=0,i=!1;n<this.columns&&!1===i;)0===this.get(e,n)?n++:1===this.get(e,n)&&n>t?(i=!0,t=n):(r=!1,i=!0);for(let t=n+1;t<this.rows;t++)0!==this.get(e,t)&&(r=!1);e++}return r}echelonForm(){let n=this.clone(),r=0,i=0;for(;r<n.rows&&i<n.columns;){let e=r;for(let t=r;t<n.rows;t++)n.get(t,i)>n.get(e,i)&&(e=t);if(0===n.get(e,i))i++;else{n.swapRows(r,e);var o=n.get(r,i);for(let t=i;t<n.columns;t++)n.set(r,t,n.get(r,t)/o);for(let e=r+1;e<n.rows;e++){var a=n.get(e,i)/n.get(r,i);n.set(e,i,0);for(let t=i+1;t<n.columns;t++)n.set(e,t,n.get(e,t)-n.get(r,t)*a)}r++,i++}}return n}reducedEchelonForm(){let r=this.echelonForm(),i=r.columns,e=r.rows,o=e-1;for(;0<=o;)if(0===r.maxRow(o))o--;else{let n=0,t=!1;for(;n<e&&!1===t;)1===r.get(o,n)?t=!0:n++;for(let e=0;e<o;e++){var a=r.get(e,n);for(let t=n;t<i;t++){var s=r.get(e,t)-a*r.get(o,t);r.set(e,t,s)}}o--}return r}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");var{rows:n=1,columns:r=1}=t;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let i=new R(this.rows*n,this.columns*r);for(let e=0;e<n;e++)for(let t=0;t<r;t++)i.setSubMatrix(this,this.rows*e,this.columns*t);return i}fill(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,n);return this}neg(){return this.mulS(-1)}getRow(e){i(this,e);let n=[];for(let t=0;t<this.columns;t++)n.push(this.get(e,t));return n}getRowVector(t){return R.rowVector(this.getRow(t))}setRow(e,n){i(this,e),n=d(this,n);for(let t=0;t<this.columns;t++)this.set(e,t,n[t]);return this}swapRows(e,n){i(this,e),i(this,n);for(let t=0;t<this.columns;t++){var r=this.get(e,t);this.set(e,t,this.get(n,t)),this.set(n,t,r)}return this}getColumn(e){o(this,e);let n=[];for(let t=0;t<this.rows;t++)n.push(this.get(t,e));return n}getColumnVector(t){return R.columnVector(this.getColumn(t))}setColumn(e,n){o(this,e),n=f(this,n);for(let t=0;t<this.rows;t++)this.set(t,e,n[t]);return this}swapColumns(e,n){o(this,e),o(this,n);for(let t=0;t<this.rows;t++){var r=this.get(t,e);this.set(t,e,this.get(t,n)),this.set(t,n,r)}return this}addRowVector(n){n=d(this,n);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)+n[t]);return this}subRowVector(n){n=d(this,n);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)-n[t]);return this}mulRowVector(n){n=d(this,n);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*n[t]);return this}divRowVector(n){n=d(this,n);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)/n[t]);return this}addColumnVector(n){n=f(this,n);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)+n[e]);return this}subColumnVector(n){n=f(this,n);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)-n[e]);return this}mulColumnVector(n){n=f(this,n);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*n[e]);return this}divColumnVector(n){n=f(this,n);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)/n[e]);return this}mulRow(e,n){i(this,e);for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*n);return this}mulColumn(e,n){o(this,e);for(let t=0;t<this.rows;t++)this.set(t,e,this.get(t,e)*n);return this}max(){if(this.isEmpty())return NaN;let n=this.get(0,0);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.get(e,t)>n&&(n=this.get(e,t));return n}maxIndex(){v(this);let n=this.get(0,0),r=[0,0];for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.get(e,t)>n&&(n=this.get(e,t),r[0]=e,r[1]=t);return r}min(){if(this.isEmpty())return NaN;let n=this.get(0,0);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.get(e,t)<n&&(n=this.get(e,t));return n}minIndex(){v(this);let n=this.get(0,0),r=[0,0];for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.get(e,t)<n&&(n=this.get(e,t),r[0]=e,r[1]=t);return r}maxRow(e){if(i(this,e),this.isEmpty())return NaN;let n=this.get(e,0);for(let t=1;t<this.columns;t++)this.get(e,t)>n&&(n=this.get(e,t));return n}maxRowIndex(e){i(this,e),v(this);let n=this.get(e,0),r=[e,0];for(let t=1;t<this.columns;t++)this.get(e,t)>n&&(n=this.get(e,t),r[1]=t);return r}minRow(e){if(i(this,e),this.isEmpty())return NaN;let n=this.get(e,0);for(let t=1;t<this.columns;t++)this.get(e,t)<n&&(n=this.get(e,t));return n}minRowIndex(e){i(this,e),v(this);let n=this.get(e,0),r=[e,0];for(let t=1;t<this.columns;t++)this.get(e,t)<n&&(n=this.get(e,t),r[1]=t);return r}maxColumn(e){if(o(this,e),this.isEmpty())return NaN;let n=this.get(0,e);for(let t=1;t<this.rows;t++)this.get(t,e)>n&&(n=this.get(t,e));return n}maxColumnIndex(e){o(this,e),v(this);let n=this.get(0,e),r=[0,e];for(let t=1;t<this.rows;t++)this.get(t,e)>n&&(n=this.get(t,e),r[0]=t);return r}minColumn(e){if(o(this,e),this.isEmpty())return NaN;let n=this.get(0,e);for(let t=1;t<this.rows;t++)this.get(t,e)<n&&(n=this.get(t,e));return n}minColumnIndex(e){o(this,e),v(this);let n=this.get(0,e),r=[0,e];for(let t=1;t<this.rows;t++)this.get(t,e)<n&&(n=this.get(t,e),r[0]=t);return r}diag(){let e=Math.min(this.rows,this.columns),n=[];for(let t=0;t<e;t++)n.push(this.get(t,t));return n}norm(t="frobenius"){let n=0;if("max"===t)return this.max();if("frobenius"!==t)throw new RangeError("unknown norm type: "+t);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)n+=this.get(e,t)*this.get(e,t);return Math.sqrt(n)}cumulativeSum(){let n=0;for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)n+=this.get(e,t),this.set(e,t,n);return this}dot(e){A.isMatrix(e)&&(e=e.to1DArray());var n=this.to1DArray();if(n.length!==e.length)throw new RangeError("vectors do not have the same size");let r=0;for(let t=0;t<n.length;t++)r+=n[t]*e[t];return r}mmul(e){e=R.checkMatrix(e);let t=this.rows,i=this.columns,n=e.columns,o=new R(t,n),a=new Float64Array(i);for(let r=0;r<n;r++){for(let t=0;t<i;t++)a[t]=e.get(t,r);for(let n=0;n<t;n++){let e=0;for(let t=0;t<i;t++)e+=this.get(n,t)*a[t];o.set(n,r,e)}}return o}strassen2x2(t){t=R.checkMatrix(t);let e=new R(2,2);var n=this.get(0,0),r=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),c=this.get(1,1),t=t.get(1,1),l=(n+c)*(r+t),u=(a+c)*r,h=n*(o-t),d=c*(s-r),f=(n+i)*t,p=h+f,g=u+d,u=l-u+h+(a-n)*(r+o);return e.set(0,0,l+d-f+(i-c)*(s+t)),e.set(0,1,p),e.set(1,0,g),e.set(1,1,u),e}strassen3x3(t){t=R.checkMatrix(t);let e=new R(3,3);var n=this.get(0,0),l=this.get(0,1),r=this.get(0,2),h=this.get(1,0),i=this.get(1,1),d=this.get(1,2),f=this.get(2,0),o=this.get(2,1),p=this.get(2,2),a=t.get(0,0),g=t.get(0,1),y=t.get(0,2),_=t.get(1,0),s=t.get(1,1),c=t.get(1,2),u=t.get(2,0),m=t.get(2,1),t=t.get(2,2),v=(n-h)*(-g+s),b=(-n+h+i)*(a-g+s),O=(h+i)*(-a+g),x=n*a,E=(-n+f+o)*(a-y+c),w=(-n+f)*(y-c),M=(f+o)*(-a+y),P=(-r+o+p)*(s+u-m),C=(r-p)*(s-m),A=r*u,S=(o+p)*(-u+m),j=(-r+i+d)*(c+u-t),D=(r-d)*(c-t),T=(i+d)*(-u+t),I=(n+l+r-h-i-o-p)*s+b+O+x+P+A+S,n=x+E+M+(n+l+r-i-d-f-o)*c+A+j+T,r=v+i*(-a+g+_-s-c-u+t)+b+x+A+j+D,i=v+b+O+x+d*m,v=A+j+D+T+h*y,b=x+E+w+o*(-a+y+_-s-c-u+m)+P+C+A,O=P+C+A+S+f*g,d=x+E+w+M+p*t;return e.set(0,0,x+A+l*_),e.set(0,1,I),e.set(0,2,n),e.set(1,0,r),e.set(1,1,i),e.set(1,2,v),e.set(2,0,b),e.set(2,1,O),e.set(2,2,d),e}mmulStrassen(t){t=R.checkMatrix(t);var e=this.clone(),n=e.rows,r=e.columns,i=t.rows,o=t.columns;function C(e,n,r){var t=e.rows,i=e.columns;if(t===n&&i===r)return e;{let t=A.zeros(n,r);return t=t.setSubMatrix(e,0,0)}}r!==i&&console.warn(`Multiplying ${n} x ${r} and ${i} x ${o} matrix: dimensions do not match.`);n=Math.max(n,i),i=Math.max(r,o);return function t(e,n,r,i){if(r<=512||i<=512)return e.mmul(n);r%2==1&&i%2==1?(e=C(e,r+1,i+1),n=C(n,r+1,i+1)):r%2==1?(e=C(e,r+1,i),n=C(n,r+1,i)):i%2==1&&(e=C(e,r,i+1),n=C(n,r,i+1));let o=parseInt(e.rows/2,10),a=parseInt(e.columns/2,10),s=e.subMatrix(0,o-1,0,a-1),l=n.subMatrix(0,o-1,0,a-1),h=e.subMatrix(0,o-1,a,e.columns-1),d=n.subMatrix(0,o-1,a,n.columns-1),f=e.subMatrix(o,e.rows-1,0,a-1),p=n.subMatrix(o,n.rows-1,0,a-1),g=e.subMatrix(o,e.rows-1,a,e.columns-1),y=n.subMatrix(o,n.rows-1,a,n.columns-1),_=t(A.add(s,g),A.add(l,y),o,a),m=t(A.add(f,g),l,o,a),v=t(s,A.sub(d,y),o,a),b=t(g,A.sub(p,l),o,a),O=t(A.add(s,h),y,o,a),x=t(A.sub(f,s),A.add(l,d),o,a),E=t(A.sub(h,g),A.add(p,y),o,a),c=A.add(_,b),w=(c.sub(O),c.add(E),A.add(v,O)),M=A.add(m,b),P=A.sub(_,m),u=(P.add(v),P.add(x),A.zeros(2*c.rows,2*c.columns));return(u=(u=(u=(u=u.setSubMatrix(c,0,0)).setSubMatrix(w,c.rows,0)).setSubMatrix(M,0,c.columns)).setSubMatrix(P,c.rows,c.columns)).subMatrix(0,r-1,0,i-1)}(C(e,n,i),t=C(t,n,i),n,i)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");var{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(n<=e)throw new RangeError("min must be smaller than max");let r=new R(this.rows,this.columns);for(let t=0;t<this.rows;t++){var i=this.getRow(t);0<i.length&&c(i,{min:e,max:n,output:i}),r.setRow(t,i)}return r}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");var{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(n<=e)throw new RangeError("min must be smaller than max");let r=new R(this.rows,this.columns);for(let t=0;t<this.columns;t++){var i=this.getColumn(t);i.length&&c(i,{min:e,max:n,output:i}),r.setColumn(t,i)}return r}flipRows(){var n=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let t=0;t<n;t++){var r=this.get(e,t),i=this.get(e,this.columns-1-t);this.set(e,t,i),this.set(e,this.columns-1-t,r)}return this}flipColumns(){var n=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let t=0;t<n;t++){var r=this.get(t,e),i=this.get(this.rows-1-t,e);this.set(t,e,i),this.set(this.rows-1-t,e,r)}return this}kroneckerProduct(i){i=R.checkMatrix(i);let t=this.rows,e=this.columns,o=i.rows,a=i.columns,s=new R(t*o,e*a);for(let r=0;r<t;r++)for(let n=0;n<e;n++)for(let e=0;e<o;e++)for(let t=0;t<a;t++)s.set(o*r+e,a*n+t,this.get(r,n)*i.get(e,t));return s}kroneckerSum(t){if(t=R.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,n=t.rows,r=this.kroneckerProduct(R.eye(n,n)),i=R.eye(e,e).kroneckerProduct(t);return r.add(i)}transpose(){let n=new R(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)n.set(t,e,this.get(e,t));return n}sortRows(e=b){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=b){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(n,t,r,i){y(this,n,t,r,i);let o=new R(t-n+1,i-r+1);for(let e=n;e<=t;e++)for(let t=r;t<=i;t++)o.set(e-n,t-r,this.get(e,t));return o}subMatrixRow(n,r,i){if((i=void 0===i?this.columns-1:i)<(r=void 0===r?0:r)||r<0||r>=this.columns||i<0||i>=this.columns)throw new RangeError("Argument out of range");let o=new R(n.length,i-r+1);for(let e=0;e<n.length;e++)for(let t=r;t<=i;t++){if(n[e]<0||n[e]>=this.rows)throw new RangeError("Row index out of range: "+n[e]);o.set(e,t-r,this.get(n[e],t))}return o}subMatrixColumn(n,r,i){if((i=void 0===i?this.rows-1:i)<(r=void 0===r?0:r)||r<0||r>=this.rows||i<0||i>=this.rows)throw new RangeError("Argument out of range");let o=new R(i-r+1,n.length);for(let e=0;e<n.length;e++)for(let t=r;t<=i;t++){if(n[e]<0||n[e]>=this.columns)throw new RangeError("Column index out of range: "+n[e]);o.set(t-r,e,this.get(t,n[e]))}return o}setSubMatrix(n,r,i){if((n=R.checkMatrix(n)).isEmpty())return this;y(this,r,r+n.rows-1,i,i+n.columns-1);for(let e=0;e<n.rows;e++)for(let t=0;t<n.columns;t++)this.set(r+e,i+t,n.get(e,t));return this}selection(t,n){p(this,t),g(this,n);let r=new R(t.length,n.length);for(let e=0;e<t.length;e++){var i=t[e];for(let t=0;t<n.length;t++){var o=n[t];r.set(e,t,this.get(i,o))}}return r}trace(){let e=Math.min(this.rows,this.columns),n=0;for(let t=0;t<e;t++)n+=this.get(t,t);return n}clone(){let n=new R(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)n.set(e,t,this.get(e,t));return n}sum(t){switch(t){case"row":{var r=this;let n=_(r.rows);for(let e=0;e<r.rows;++e)for(let t=0;t<r.columns;++t)n[e]+=r.get(e,t);return n;return}case"column":{var i=this;let n=_(i.columns);for(let e=0;e<i.rows;++e)for(let t=0;t<i.columns;++t)n[t]+=i.get(e,t);return n;return}case void 0:{var o=this;let n=0;for(let e=0;e<o.rows;e++)for(let t=0;t<o.columns;t++)n+=o.get(e,t);return n;return}default:throw new Error("invalid option: "+t)}}product(t){switch(t){case"row":{var r=this;let n=_(r.rows,1);for(let e=0;e<r.rows;++e)for(let t=0;t<r.columns;++t)n[e]*=r.get(e,t);return n;return}case"column":{var i=this;let n=_(i.columns,1);for(let e=0;e<i.rows;++e)for(let t=0;t<i.columns;++t)n[t]*=i.get(e,t);return n;return}case void 0:{var o=this;let n=1;for(let e=0;e<o.rows;e++)for(let t=0;t<o.columns;t++)n*=o.get(e,t);return n;return}default:throw new Error("invalid option: "+t)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error("invalid option: "+t)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");var{unbiased:o=!0,mean:a=this.mean(t)}=e;if("boolean"!=typeof o)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!E(a))throw new TypeError("mean must be an array");{var s=this;var f=o;var p=a;const n=s.rows,u=s.columns,l=[];for(let i=0;i<n;i++){let e=0,n=0,r;for(let t=0;t<u;t++)r=s.get(i,t)-p[i],e+=r,n+=r*r;f?l.push((n-e*e/u)/(u-1)):l.push((n-e*e/u)/u)}return l;return}case"column":if(!E(a))throw new TypeError("mean must be an array");{var g=this;var y=o;var _=a;const h=g.rows,r=g.columns,d=[];for(let i=0;i<r;i++){let e=0,n=0,r;for(let t=0;t<h;t++)r=g.get(t,i)-_[i],e+=r,n+=r*r;y?d.push((n-e*e/h)/(h-1)):d.push((n-e*e/h)/h)}return d;return}case void 0:if("number"!=typeof a)throw new TypeError("mean must be a number");{var m=this;var v=o;var b=a;var O=m.rows,x=m.columns,c=O*x;let n=0,r=0,i;for(let e=0;e<O;e++)for(let t=0;t<x;t++)i=m.get(e,t)-b,n+=i,r+=i*i;return v?(r-n*n/c)/(c-1):(r-n*n/c)/c;return}default:throw new Error("invalid option: "+t)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(let t=0;t<n.length;t++)n[t]=Math.sqrt(n[t]);return n}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");var{center:n=this.mean(t)}=e;switch(t){case"row":if(!E(n))throw new TypeError("center must be an array");var r=this,i=n;for(let e=0;e<r.rows;e++)for(let t=0;t<r.columns;t++)r.set(e,t,r.get(e,t)-i[e]);return this;case"column":if(!E(n))throw new TypeError("center must be an array");var o=this,a=n;for(let e=0;e<o.rows;e++)for(let t=0;t<o.columns;t++)o.set(e,t,o.get(e,t)-a[t]);return this;case void 0:if("number"!=typeof n)throw new TypeError("center must be a number");var s=this,c=n;for(let e=0;e<s.rows;e++)for(let t=0;t<s.columns;t++)s.set(e,t,s.get(e,t)-c);return this;default:throw new Error("invalid option: "+t)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":if(void 0===n)n=function(r){const t=[];for(let n=0;n<r.rows;n++){let e=0;for(let t=0;t<r.columns;t++)e+=Math.pow(r.get(n,t),2)/(r.columns-1);t.push(Math.sqrt(e))}return t}(this);else if(!E(n))throw new TypeError("scale must be an array");var r=this,i=n;for(let e=0;e<r.rows;e++)for(let t=0;t<r.columns;t++)r.set(e,t,r.get(e,t)/i[e]);return this;case"column":if(void 0===n)n=function(r){const t=[];for(let n=0;n<r.columns;n++){let e=0;for(let t=0;t<r.rows;t++)e+=Math.pow(r.get(t,n),2)/(r.rows-1);t.push(Math.sqrt(e))}return t}(this);else if(!E(n))throw new TypeError("scale must be an array");var o=this,a=n;for(let e=0;e<o.rows;e++)for(let t=0;t<o.columns;t++)o.set(e,t,o.get(e,t)/a[t]);return this;case void 0:if(void 0===n)n=function(n){var r=n.size-1;let i=0;for(let e=0;e<n.columns;e++)for(let t=0;t<n.rows;t++)i+=Math.pow(n.get(t,e),2)/r;return Math.sqrt(i)}(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");var s=this,c=n;for(let e=0;e<s.rows;e++)for(let t=0;t<s.columns;t++)s.set(e,t,s.get(e,t)/c);return this;default:throw new Error("invalid option: "+t)}}toString(t){return h(this,t)}}function b(t,e){return t-e}A.prototype.klass="Matrix","undefined"!=typeof Symbol&&(A.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return h(this)}),A.random=A.rand,A.randomInt=A.randInt,A.diagonal=A.diag,A.prototype.diagonal=A.prototype.diag,A.identity=A.eye,A.prototype.negate=A.prototype.neg,A.prototype.tensorProduct=A.prototype.kroneckerProduct;class R extends A{constructor(e,n){if(super(),R.isMatrix(e))return e.clone();if(Number.isInteger(e)&&0<=e){if(this.data=[],!(Number.isInteger(n)&&0<=n))throw new TypeError("nColumns must be a positive integer");for(let t=0;t<e;t++)this.data.push(new Float64Array(n))}else{if(!E(e))throw new TypeError("First argument must be a positive number or an array");var r=e;if("number"!=typeof(n=(e=r.length)?r[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let t=0;t<e;t++){if(r[t].length!==n)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(r[t]))}}this.rows=e,this.columns=n}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){return i(this,t),this.data.splice(t,1),--this.rows,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),i(this,t,!0),e=Float64Array.from(d(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(n){o(this,n);for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let t=0;t<n;t++)r[t]=this.data[e][t];for(let t=n+1;t<this.columns;t++)r[t-1]=this.data[e][t];this.data[e]=r}return--this.columns,this}addColumn(n,r){void 0===r&&(r=n,n=this.columns),o(this,n,!0),r=f(this,r);for(let e=0;e<this.rows;e++){const i=new Float64Array(this.columns+1);let t=0;for(;t<n;t++)i[t]=this.data[e][t];for(i[t++]=r[e];t<this.columns+1;t++)i[t]=this.data[e][t-1];this.data[e]=i}return this.columns+=1,this}}var r=R;(e=A).prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},e.prototype.addS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)+n);return this},e.prototype.addM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)+n.get(e,t));return this},e.add=function(t,e){return new r(t).add(e)},e.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},e.prototype.subS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)-n);return this},e.prototype.subM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)-n.get(e,t));return this},e.sub=function(t,e){return new r(t).sub(e)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},e.prototype.mulS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*n);return this},e.prototype.mulM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*n.get(e,t));return this},e.mul=function(t,e){return new r(t).mul(e)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},e.prototype.divS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)/n);return this},e.prototype.divM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)/n.get(e,t));return this},e.div=function(t,e){return new r(t).div(e)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},e.prototype.modS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)%n);return this},e.prototype.modM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)%n.get(e,t));return this},e.mod=function(t,e){return new r(t).mod(e)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},e.prototype.andS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)&n);return this},e.prototype.andM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)&n.get(e,t));return this},e.and=function(t,e){return new r(t).and(e)},e.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},e.prototype.orS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)|n);return this},e.prototype.orM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)|n.get(e,t));return this},e.or=function(t,e){return new r(t).or(e)},e.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},e.prototype.xorS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)^n);return this},e.prototype.xorM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)^n.get(e,t));return this},e.xor=function(t,e){return new r(t).xor(e)},e.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},e.prototype.leftShiftS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)<<n);return this},e.prototype.leftShiftM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)<<n.get(e,t));return this},e.leftShift=function(t,e){return new r(t).leftShift(e)},e.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},e.prototype.signPropagatingRightShiftS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>n);return this},e.prototype.signPropagatingRightShiftM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>n.get(e,t));return this},e.signPropagatingRightShift=function(t,e){return new r(t).signPropagatingRightShift(e)},e.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},e.prototype.rightShiftS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>>n);return this},e.prototype.rightShiftM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>>n.get(e,t));return this},e.rightShift=function(t,e){return new r(t).rightShift(e)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},e.not=function(t){return new r(t).not()},e.prototype.abs=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},e.abs=function(t){return new r(t).abs()},e.prototype.acos=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},e.acos=function(t){return new r(t).acos()},e.prototype.acosh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},e.acosh=function(t){return new r(t).acosh()},e.prototype.asin=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},e.asin=function(t){return new r(t).asin()},e.prototype.asinh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},e.asinh=function(t){return new r(t).asinh()},e.prototype.atan=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},e.atan=function(t){return new r(t).atan()},e.prototype.atanh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},e.atanh=function(t){return new r(t).atanh()},e.prototype.cbrt=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},e.cbrt=function(t){return new r(t).cbrt()},e.prototype.ceil=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},e.ceil=function(t){return new r(t).ceil()},e.prototype.clz32=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},e.clz32=function(t){return new r(t).clz32()},e.prototype.cos=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},e.cos=function(t){return new r(t).cos()},e.prototype.cosh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},e.cosh=function(t){return new r(t).cosh()},e.prototype.exp=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},e.exp=function(t){return new r(t).exp()},e.prototype.expm1=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},e.expm1=function(t){return new r(t).expm1()},e.prototype.floor=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},e.floor=function(t){return new r(t).floor()},e.prototype.fround=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},e.fround=function(t){return new r(t).fround()},e.prototype.log=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},e.log=function(t){return new r(t).log()},e.prototype.log1p=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},e.log1p=function(t){return new r(t).log1p()},e.prototype.log10=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},e.log10=function(t){return new r(t).log10()},e.prototype.log2=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},e.log2=function(t){return new r(t).log2()},e.prototype.round=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},e.round=function(t){return new r(t).round()},e.prototype.sign=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},e.sign=function(t){return new r(t).sign()},e.prototype.sin=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},e.sin=function(t){return new r(t).sin()},e.prototype.sinh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},e.sinh=function(t){return new r(t).sinh()},e.prototype.sqrt=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},e.sqrt=function(t){return new r(t).sqrt()},e.prototype.tan=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},e.tan=function(t){return new r(t).tan()},e.prototype.tanh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},e.tanh=function(t){return new r(t).tanh()},e.prototype.trunc=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},e.trunc=function(t){return new r(t).trunc()},e.pow=function(t,e){return new r(t).pow(e)},e.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},e.prototype.powS=function(n){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.pow(this.get(e,t),n));return this},e.prototype.powM=function(n){if(n=r.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.pow(this.get(e,t),n.get(e,t)));return this};class n extends A{constructor(t,e,n){super(),this.matrix=t,this.rows=e,this.columns=n}}class O extends n{constructor(t,e){o(t,e),super(t,t.rows,1),this.column=e}set(t,e,n){return this.matrix.set(t,this.column,n),this}get(t){return this.matrix.get(t,this.column)}}class x extends n{constructor(t,e){g(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,n){return this.matrix.set(t,this.columnIndices[e],n),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class w extends n{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(t,this.columns-e-1,n),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}class M extends n{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(this.rows-t-1,e,n),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class P extends n{constructor(t,e){i(t,e),super(t,1,t.columns),this.row=e}set(t,e,n){return this.matrix.set(this.row,e,n),this}get(t,e){return this.matrix.get(this.row,e)}}class C extends n{constructor(t,e){p(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,n){return this.matrix.set(this.rowIndices[t],e,n),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class S extends n{constructor(t,e,n){p(t,e),g(t,n),super(t,e.length,n.length),this.rowIndices=e,this.columnIndices=n}set(t,e,n){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],n),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class j extends n{constructor(t,e,n,r,i){y(t,e,n,r,i),super(t,n-e+1,i-r+1),this.startRow=e,this.startColumn=r}set(t,e,n){return this.matrix.set(this.startRow+t,this.startColumn+e,n),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class D extends n{constructor(t){super(t,t.columns,t.rows)}set(t,e,n){return this.matrix.set(e,t,n),this}get(t,e){return this.matrix.get(e,t)}}class T extends A{constructor(t,e={}){var{rows:e=1}=e;if(t.length%e!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=e,this.columns=t.length/e,this.data=t}set(t,e,n){t=this._calculateIndex(t,e);return this.data[t]=n,this}get(t,e){t=this._calculateIndex(t,e);return this.data[t]}_calculateIndex(t,e){return t*this.columns+e}}class B extends A{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}function I(t,e){if(E(t))return t[0]&&E(t[0])?new B(t):new T(t,e);throw new Error("the argument is not an array")}class k{constructor(l){let t,e,n,r,i,h,d,o,f,a=(l=B.checkMatrix(l)).clone(),s=a.rows,p=a.columns,c=new Float64Array(s),u=1;for(t=0;t<s;t++)c[t]=t;for(o=new Float64Array(s),e=0;e<p;e++){for(t=0;t<s;t++)o[t]=a.get(t,e);for(t=0;t<s;t++){for(f=Math.min(t,e),i=0,n=0;n<f;n++)i+=a.get(t,n)*o[n];o[t]-=i,a.set(t,e,o[t])}for(r=e,t=e+1;t<s;t++)Math.abs(o[t])>Math.abs(o[r])&&(r=t);if(r!==e){for(n=0;n<p;n++)h=a.get(r,n),a.set(r,n,a.get(e,n)),a.set(e,n,h);d=c[r],c[r]=c[e],c[e]=d,u=-u}if(e<s&&0!==a.get(e,e))for(t=e+1;t<s;t++)a.set(t,e,a.get(t,e)/a.get(e,e))}this.LU=a,this.pivotVector=c,this.pivotSign=u}isSingular(){let e=this.LU,n=e.columns;for(let t=0;t<n;t++)if(0===e.get(t,t))return!0;return!1}solve(t){t=R.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n,r,i,o=t.columns,a=t.subMatrixRow(this.pivotVector,0,o-1),s=e.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i));for(i=s-1;0<=i;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/e.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i))}return a}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let n=this.pivotSign,r=e.columns;for(let t=0;t<r;t++)n*=e.get(t,t);return n}get lowerTriangularMatrix(){let n=this.LU,t=n.rows,r=n.columns,i=new R(t,r);for(let e=0;e<t;e++)for(let t=0;t<r;t++)e>t?i.set(e,t,n.get(e,t)):e===t?i.set(e,t,1):i.set(e,t,0);return i}get upperTriangularMatrix(){let n=this.LU,t=n.rows,r=n.columns,i=new R(t,r);for(let e=0;e<t;e++)for(let t=0;t<r;t++)e<=t?i.set(e,t,n.get(e,t)):i.set(e,t,0);return i}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function N(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class L{constructor(t){let e,n,r,i,o=(t=B.checkMatrix(t)).clone(),a=t.rows,s=t.columns,c=new Float64Array(s);for(r=0;r<s;r++){let t=0;for(e=r;e<a;e++)t=N(t,o.get(e,r));if(0!==t){for(o.get(r,r)<0&&(t=-t),e=r;e<a;e++)o.set(e,r,o.get(e,r)/t);for(o.set(r,r,o.get(r,r)+1),n=r+1;n<s;n++){for(i=0,e=r;e<a;e++)i+=o.get(e,r)*o.get(e,n);for(i=-i/o.get(r,r),e=r;e<a;e++)o.set(e,n,o.get(e,n)+i*o.get(e,r))}}c[r]=-t}this.QR=o,this.Rdiag=c}solve(t){t=R.checkMatrix(t);let e=this.QR,n=e.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let r,i,o,a,s=t.columns,c=t.clone(),u=e.columns;for(o=0;o<u;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=e.get(r,o)*c.get(r,i);for(a=-a/e.get(o,o),r=o;r<n;r++)c.set(r,i,c.get(r,i)+a*e.get(r,o))}for(o=u-1;0<=o;o--){for(i=0;i<s;i++)c.set(o,i,c.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)c.set(r,i,c.get(r,i)-c.get(o,i)*e.get(r,o))}return c.subMatrix(0,u-1,0,s-1)}isFullRank(){var e=this.QR.columns;for(let t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}get upperTriangularMatrix(){let t,e,n=this.QR,r=n.columns,i=new R(r,r);for(t=0;t<r;t++)for(e=0;e<r;e++)t<e?i.set(t,e,n.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,n,r,i=this.QR,o=i.rows,a=i.columns,s=new R(o,a);for(n=a-1;0<=n;n--){for(t=0;t<o;t++)s.set(t,n,0);for(s.set(n,n,1),e=n;e<a;e++)if(0!==i.get(n,n)){for(r=0,t=n;t<o;t++)r+=i.get(t,n)*s.get(t,e);for(r=-r/i.get(n,n),t=n;t<o;t++)s.set(t,e,s.get(t,e)+r*i.get(t,n))}}return s}}class F{constructor(t,n={}){if((t=B.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let c=t.rows,u=t.columns;const{computeLeftSingularVectors:g=!0,computeRightSingularVectors:y=!0,autoTranspose:_=!1}=n;let i,m=Boolean(g),v=Boolean(y),b=!1;c<u?_?(i=t.transpose(),c=i.rows,u=i.columns,b=!0,n=m,m=v,v=n):(i=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose")):i=t.clone();let l=Math.min(c,u),O=Math.min(c+1,u),h=new Float64Array(O),d=new R(c,l),f=new R(u,u),p=new Float64Array(u),o=new Float64Array(c),e=new Float64Array(O);for(let t=0;t<O;t++)e[t]=t;var a=Math.min(c-1,u),s=Math.max(0,Math.min(u-2,c)),x=Math.max(a,s);for(let r=0;r<x;r++){if(r<a){h[r]=0;for(let t=r;t<c;t++)h[r]=N(h[r],i.get(t,r));if(0!==h[r]){i.get(r,r)<0&&(h[r]=-h[r]);for(let t=r;t<c;t++)i.set(t,r,i.get(t,r)/h[r]);i.set(r,r,i.get(r,r)+1)}h[r]=-h[r]}for(let n=r+1;n<u;n++){if(r<a&&0!==h[r]){let e=0;for(let t=r;t<c;t++)e+=i.get(t,r)*i.get(t,n);e=-e/i.get(r,r);for(let t=r;t<c;t++)i.set(t,n,i.get(t,n)+e*i.get(t,r))}p[n]=i.get(r,n)}if(m&&r<a)for(let t=r;t<c;t++)d.set(t,r,i.get(t,r));if(r<s){p[r]=0;for(let t=r+1;t<u;t++)p[r]=N(p[r],p[t]);if(0!==p[r]){p[r+1]<0&&(p[r]=0-p[r]);for(let t=r+1;t<u;t++)p[t]/=p[r];p[r+1]+=1}if(p[r]=-p[r],r+1<c&&0!==p[r]){for(let t=r+1;t<c;t++)o[t]=0;for(let e=r+1;e<c;e++)for(let t=r+1;t<u;t++)o[e]+=p[t]*i.get(e,t);for(let e=r+1;e<u;e++){var E=-p[e]/p[r+1];for(let t=r+1;t<c;t++)i.set(t,e,i.get(t,e)+E*o[t])}}if(v)for(let t=r+1;t<u;t++)f.set(t,r,p[t])}}let r=Math.min(u,c+1);if(a<u&&(h[a]=i.get(a,a)),c<r&&(h[r-1]=0),s+1<r&&(p[s]=i.get(s,r-1)),p[r-1]=0,m){for(let e=a;e<l;e++){for(let t=0;t<c;t++)d.set(t,e,0);d.set(e,e,1)}for(let r=a-1;0<=r;r--)if(0!==h[r]){for(let n=r+1;n<l;n++){let e=0;for(let t=r;t<c;t++)e+=d.get(t,r)*d.get(t,n);e=-e/d.get(r,r);for(let t=r;t<c;t++)d.set(t,n,d.get(t,n)+e*d.get(t,r))}for(let t=r;t<c;t++)d.set(t,r,-d.get(t,r));d.set(r,r,1+d.get(r,r));for(let t=0;t<r-1;t++)d.set(t,r,0)}else{for(let t=0;t<c;t++)d.set(t,r,0);d.set(r,r,1)}}if(v)for(let r=u-1;0<=r;r--){if(r<s&&0!==p[r])for(let n=r+1;n<u;n++){let e=0;for(let t=r+1;t<u;t++)e+=f.get(t,r)*f.get(t,n);e=-e/f.get(r+1,r);for(let t=r+1;t<u;t++)f.set(t,n,f.get(t,n)+e*f.get(t,r))}for(let t=0;t<u;t++)f.set(t,r,0);f.set(r,r,1)}let w=r-1,M=0,P=Number.EPSILON;for(;0<r;){let s,e;for(s=r-2;-1<=s&&-1!==s;s--){const n=Number.MIN_VALUE+P*Math.abs(h[s]+Math.abs(h[s+1]));if(Math.abs(p[s])<=n||Number.isNaN(p[s])){p[s]=0;break}}if(s===r-2)e=4;else{let t;for(t=r-1;t>=s&&t!==s;t--){var C=(t!==r?Math.abs(p[t]):0)+(t!==s+1?Math.abs(p[t-1]):0);if(Math.abs(h[t])<=P*C){h[t]=0;break}}t===s?e=3:t===r-1?e=1:(e=2,s=t)}switch(s++,e){case 1:{let t=p[r-2];p[r-2]=0;for(let e=r-2;e>=s;e--){var A=N(h[e],t),S=h[e]/A,j=t/A;if(h[e]=A,e!==s&&(t=-j*p[e-1],p[e-1]=S*p[e-1]),v)for(let t=0;t<u;t++)A=S*f.get(t,e)+j*f.get(t,r-1),f.set(t,r-1,-j*f.get(t,e)+S*f.get(t,r-1)),f.set(t,e,A)}break}case 2:{let t=p[s-1];p[s-1]=0;for(let e=s;e<r;e++){var D=N(h[e],t),T=h[e]/D,I=t/D;if(h[e]=D,t=-I*p[e],p[e]=T*p[e],m)for(let t=0;t<c;t++)D=T*d.get(t,e)+I*d.get(t,s-1),d.set(t,s-1,-I*d.get(t,e)+T*d.get(t,s-1)),d.set(t,e,D)}break}case 3:{const n=Math.max(Math.abs(h[r-1]),Math.abs(h[r-2]),Math.abs(p[r-2]),Math.abs(h[s]),Math.abs(p[s])),g=h[r-1]/n,y=h[r-2]/n,_=p[r-2]/n,i=h[s]/n,b=p[s]/n,l=((y+g)*(y-g)+_*_)/2,O=g*_*(g*_);let t=0,o=(i+g)*(i-g)+(t=0==l&&0==O?t:O/(l+(t=l<0?0-Math.sqrt(l*l+O):Math.sqrt(l*l+O)))),a=i*b;for(let i=s;i<r-1;i++){let e=N(o,a),n=(0===e&&(e=Number.MIN_VALUE),o/e),r=a/e;if(i!==s&&(p[i-1]=e),o=n*h[i]+r*p[i],p[i]=n*p[i]-r*h[i],a=r*h[i+1],h[i+1]=n*h[i+1],v)for(let t=0;t<u;t++)e=n*f.get(t,i)+r*f.get(t,i+1),f.set(t,i+1,-r*f.get(t,i)+n*f.get(t,i+1)),f.set(t,i,e);if(0===(e=N(o,a))&&(e=Number.MIN_VALUE),n=o/e,r=a/e,h[i]=e,o=n*p[i]+r*h[i+1],h[i+1]=-r*p[i]+n*h[i+1],a=r*p[i+1],p[i+1]=n*p[i+1],m&&i<c-1)for(let t=0;t<c;t++)e=n*d.get(t,i)+r*d.get(t,i+1),d.set(t,i+1,-r*d.get(t,i)+n*d.get(t,i+1)),d.set(t,i,e)}p[r-2]=o,M+=1;break}case 4:if(h[s]<=0&&(h[s]=h[s]<0?-h[s]:0,v))for(let t=0;t<=w;t++)f.set(t,s,-f.get(t,s));for(;s<w&&!(h[s]>=h[s+1]);){let e=h[s];if(h[s]=h[s+1],h[s+1]=e,v&&s<u-1)for(let t=0;t<u;t++)e=f.get(t,s+1),f.set(t,s+1,f.get(t,s)),f.set(t,s,e);if(m&&s<c-1)for(let t=0;t<c;t++)e=d.get(t,s+1),d.set(t,s+1,d.get(t,s)),d.set(t,s,e);s++}M=0,r--}}b&&(n=f,f=d,d=n),this.m=c,this.n=u,this.s=h,this.U=d,this.V=f}solve(t){let e=t,n=this.threshold,i=this.s.length,r=R.zeros(i,i);for(let t=0;t<i;t++)Math.abs(this.s[t])<=n?r.set(t,t,0):r.set(t,t,1/this.s[t]);let o=this.U,a=this.rightSingularVectors,l=a.mmul(r),s=a.rows,c=o.rows,u=R.zeros(s,c);for(let r=0;r<s;r++)for(let n=0;n<c;n++){let e=0;for(let t=0;t<i;t++)e+=l.get(r,t)*o.get(n,t);u.set(r,n,e)}return u.mmul(e)}solveForDiagonal(t){return this.solve(R.diag(t))}inverse(){let n=this.V,r=this.threshold,t=n.rows,i=n.columns,o=new R(t,this.s.length);for(let e=0;e<t;e++)for(let t=0;t<i;t++)Math.abs(this.s[t])>r&&o.set(e,t,n.get(e,t)/this.s[t]);let a=this.U,e=a.rows,s=a.columns,c=new R(t,e);for(let r=0;r<t;r++)for(let n=0;n<e;n++){let e=0;for(let t=0;t<s;t++)e+=o.get(r,t)*a.get(n,t);c.set(r,n,e)}return c}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let n=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,i=this.s;for(let t=0,e=i.length;t<e;t++)i[t]>n&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return R.diag(this.s)}}function U(t,e=!1){return t=B.checkMatrix(t),e?new F(t).inverse():W(t,R.eye(t.rows))}function W(t,e,n=!1){return t=B.checkMatrix(t),e=B.checkMatrix(e),new(n?F:t.isSquare()?k:L)(t).solve(e)}function z(i){if((i=R.checkMatrix(i)).isSquare()){if(0===i.columns)return 1;let t,e,n,r;return 2===i.columns?(t=i.get(0,0),e=i.get(0,1),n=i.get(1,0),r=i.get(1,1),t*r-e*n):3===i.columns?(o=new S(i,[1,2],[1,2]),a=new S(i,[1,2],[0,2]),s=new S(i,[1,2],[0,1]),t=i.get(0,0),e=i.get(0,1),n=i.get(0,2),t*z(o)-e*z(a)+n*z(s)):new k(i).determinant;var o,a,s}throw Error("determinant can only be calculated for a square matrix")}function G(o,t={}){var{thresholdValue:a=1e-9,thresholdError:s=1e-9}=t;let c=(o=R.checkMatrix(o)).rows,u=new R(c,c);for(let i=0;i<c;i++){let t=R.columnVector(o.getRow(i)),e=o.subMatrixRow(function(e,n){let r=[];for(let t=0;t<e;t++)t!==n&&r.push(t);return r}(c,i)).transpose(),n=new F(e).solve(t),r=R.sub(t,e.mmul(n)).abs().max();u.setRow(i,function(t,n,r,i=1e-9,e=1e-9){if(e<t)return new Array(n.rows+1).fill(0);{let e=n.addRow(r,[0]);for(let t=0;t<e.rows;t++)Math.abs(e.get(t,0))<i&&e.set(t,0,0);return e.to1DArray()}}(r,n,i,a,s))}return u}function $(t,e=Number.EPSILON){if((t=R.checkMatrix(t)).isEmpty())return t.transpose();let n=new F(t,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal;for(let t=0;t<o.length;t++)Math.abs(o[t])>e?o[t]=1/o[t]:o[t]=0;return i.mmul(R.diag(o).mmul(r.transpose()))}function K(n,t=n,e={}){n=new R(n);let r=!1;if("object"!=typeof t||R.isMatrix(t)||E(t)?t=new R(t):(e=t,t=n,r=!0),n.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var{center:e=!0}=e;e&&(n=n.center("column"),r||(t=t.center("column")));const i=n.transpose().mmul(t);for(let e=0;e<i.rows;e++)for(let t=0;t<i.columns;t++)i.set(e,t,i.get(e,t)*(1/(n.rows-1)));return i}function V(n,t=n,e={}){n=new R(n);let r=!1;if("object"!=typeof t||R.isMatrix(t)||E(t)?t=new R(t):(e=t,t=n,r=!0),n.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var{center:e=!0,scale:i=!0}=e;e&&(n.center("column"),r||t.center("column")),i&&(n.scale("column"),r||t.scale("column"));const o=n.standardDeviation("column",{unbiased:!0}),a=r?o:t.standardDeviation("column",{unbiased:!0}),s=n.transpose().mmul(t);for(let e=0;e<s.rows;e++)for(let t=0;t<s.columns;t++)s.set(e,t,s.get(e,t)*(1/(o[e]*a[t]))*(1/(n.rows-1)));return s}class X{constructor(t,e={}){var{assumeSymmetric:e=!1}=e;if(!(t=B.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let n,r,C=t.columns,T=new R(C,C),I=new Float64Array(C),k=new Float64Array(C),i=t;if(!!e||t.isSymmetric()){for(n=0;n<C;n++)for(r=0;r<C;r++)T.set(n,r,i.get(n,r));{var h=C;var d=k;var c=I;var u=T;let t,e,n,r,i,o,a,s;for(i=0;i<h;i++)c[i]=u.get(h-1,i);for(r=h-1;0<r;r--){for(s=0,n=0,o=0;o<r;o++)s+=Math.abs(c[o]);if(0===s)for(d[r]=c[r-1],i=0;i<r;i++)c[i]=u.get(r-1,i),u.set(r,i,0),u.set(i,r,0);else{for(o=0;o<r;o++)c[o]/=s,n+=c[o]*c[o];for(t=c[r-1],e=Math.sqrt(n),0<t&&(e=-e),d[r]=s*e,n-=t*e,c[r-1]=t-e,i=0;i<r;i++)d[i]=0;for(i=0;i<r;i++){for(t=c[i],u.set(i,r,t),e=d[i]+u.get(i,i)*t,o=i+1;o<=r-1;o++)e+=u.get(o,i)*c[o],d[o]+=u.get(o,i)*t;d[i]=e}for(t=0,i=0;i<r;i++)d[i]/=n,t+=d[i]*c[i];for(a=t/(n+n),i=0;i<r;i++)d[i]-=a*c[i];for(i=0;i<r;i++){for(t=c[i],e=d[i],o=i;o<=r-1;o++)u.set(o,i,u.get(o,i)-(t*d[o]+e*c[o]));c[i]=u.get(r-1,i),u.set(r,i,0)}}c[r]=n}for(r=0;r<h-1;r++){if(u.set(h-1,r,u.get(r,r)),u.set(r,r,1),0!==(n=c[r+1])){for(o=0;o<=r;o++)c[o]=u.get(o,r+1)/n;for(i=0;i<=r;i++){for(e=0,o=0;o<=r;o++)e+=u.get(o,r+1)*u.get(o,i);for(o=0;o<=r;o++)u.set(o,i,u.get(o,i)-e*c[o])}}for(o=0;o<=r;o++)u.set(o,r+1,0)}for(i=0;i<h;i++)c[i]=u.get(h-1,i),u.set(h-1,i,0);u.set(h-1,h-1,1),d[0]=0}{var x=C;var b=k;var O=I;var E=T;let l,t,e,n,r,i,o,a,s,h,c,d,f,p,u,g,y;for(e=1;e<x;e++)b[e-1]=b[e];let _=b[x-1]=0,m=0,v=Number.EPSILON;for(i=0;i<x;i++){for(m=Math.max(m,Math.abs(O[i])+Math.abs(b[i])),o=i;o<x&&!(Math.abs(b[o])<=v*m);)o++;if(o>i){y=0;do{for(y+=1,l=O[i],a=(O[i+1]-l)/(2*b[i]),s=N(a,1),a<0&&(s=-s),O[i]=b[i]/(a+s),O[i+1]=b[i]*(a+s),h=O[i+1],t=l-O[i],e=i+2;e<x;e++)O[e]-=t;for(_+=t,a=O[o],c=1,d=c,f=c,p=b[i+1],u=0,g=0,e=o-1;e>=i;e--)for(f=d,d=c,g=u,l=c*b[e],t=c*a,s=N(a,b[e]),b[e+1]=u*s,u=b[e]/s,c=a/s,a=c*O[e]-u*l,O[e+1]=t+u*(c*l+u*O[e]),r=0;r<x;r++)t=E.get(r,e+1),E.set(r,e+1,u*E.get(r,e)+c*t),E.set(r,e,c*E.get(r,e)-u*t)}while(a=-u*g*f*p*b[i]/h,b[i]=u*a,O[i]=c*a,Math.abs(b[i])>v*m)}O[i]=O[i]+_,b[i]=0}for(e=0;e<x-1;e++){for(r=e,a=O[e],n=e+1;n<x;n++)O[n]<a&&(r=n,a=O[n]);if(r!==e)for(O[r]=O[e],O[e]=a,n=0;n<x;n++)a=E.get(n,e),E.set(n,e,E.get(n,r)),E.set(n,r,a)}}}else{let P=new R(C,C),c=new Float64Array(C);for(r=0;r<C;r++)for(n=0;n<C;n++)P.set(n,r,i.get(n,r));{var f=C;var p=P;var l=c;var g=T;let t,e,n,r,i,o,a,s=f-1;for(o=1;o<=s-1;o++){for(a=0,r=o;r<=s;r++)a+=Math.abs(p.get(r,o-1));if(0!==a){for(n=0,r=s;r>=o;r--)l[r]=p.get(r,o-1)/a,n+=l[r]*l[r];for(e=Math.sqrt(n),0<l[o]&&(e=-e),n-=l[o]*e,l[o]=l[o]-e,i=o;i<f;i++){for(t=0,r=s;r>=o;r--)t+=l[r]*p.get(r,i);for(t/=n,r=o;r<=s;r++)p.set(r,i,p.get(r,i)-t*l[r])}for(r=0;r<=s;r++){for(t=0,i=s;i>=o;i--)t+=l[i]*p.get(r,i);for(t/=n,i=o;i<=s;i++)p.set(r,i,p.get(r,i)-t*l[i])}l[o]=a*l[o],p.set(o,o-1,a*e)}}for(r=0;r<f;r++)for(i=0;i<f;i++)g.set(r,i,r===i?1:0);for(o=s-1;1<=o;o--)if(0!==p.get(o,o-1)){for(r=o+1;r<=s;r++)l[r]=p.get(r,o-1);for(i=o;i<=s;i++){for(e=0,r=o;r<=s;r++)e+=l[r]*g.get(r,i);for(e=e/l[o]/p.get(o,o-1),r=o;r<=s;r++)g.set(r,i,g.get(r,i)+e*l[r])}}}{var L=C;var A=k;var S=I;var j=T;var D=P;let t,e,n,l,h,d,f,r,p,g,y,_,m,v,b,i=L-1,O=L-1,x=Number.EPSILON,E=0,w=0,o=0,a=0,s=0,c=0,u=0,M=0;for(t=0;t<L;t++)for((t<0||t>O)&&(S[t]=D.get(t,t),A[t]=0),e=Math.max(t-1,0);e<L;e++)w+=Math.abs(D.get(t,e));for(;0<=i;){for(l=i;0<l&&(0===(c=Math.abs(D.get(l-1,l-1))+Math.abs(D.get(l,l)))&&(c=w),!(Math.abs(D.get(l,l-1))<x*c));)l--;if(l===i)D.set(i,i,D.get(i,i)+E),S[i]=D.get(i,i),A[i]=0,i--,M=0;else if(l===i-1){if(f=D.get(i,i-1)*D.get(i-1,i),o=(D.get(i-1,i-1)-D.get(i,i))/2,a=o*o+f,u=Math.sqrt(Math.abs(a)),D.set(i,i,D.get(i,i)+E),D.set(i-1,i-1,D.get(i-1,i-1)+E),r=D.get(i,i),0<=a){for(u=0<=o?o+u:o-u,S[i-1]=r+u,S[i]=S[i-1],0!==u&&(S[i]=r-f/u),A[i-1]=0,A[i]=0,r=D.get(i,i-1),c=Math.abs(r)+Math.abs(u),o=r/c,a=u/c,s=Math.sqrt(o*o+a*a),o/=s,a/=s,e=i-1;e<L;e++)u=D.get(i-1,e),D.set(i-1,e,a*u+o*D.get(i,e)),D.set(i,e,a*D.get(i,e)-o*u);for(t=0;t<=i;t++)u=D.get(t,i-1),D.set(t,i-1,a*u+o*D.get(t,i)),D.set(t,i,a*D.get(t,i)-o*u);for(t=0;t<=O;t++)u=j.get(t,i-1),j.set(t,i-1,a*u+o*j.get(t,i)),j.set(t,i,a*j.get(t,i)-o*u)}else S[i-1]=r+o,S[i]=r+o,A[i-1]=u,A[i]=-u;i-=2,M=0}else{if(r=D.get(i,i),p=0,f=0,l<i&&(p=D.get(i-1,i-1),f=D.get(i,i-1)*D.get(i-1,i)),10===M){for(E+=r,t=0;t<=i;t++)D.set(t,t,D.get(t,t)-r);c=Math.abs(D.get(i,i-1))+Math.abs(D.get(i-1,i-2)),r=p=.75*c,f=-.4375*c*c}if(30===M&&0<(c=(c=(p-r)/2)*c+f)){for(c=Math.sqrt(c),p<r&&(c=-c),c=r-f/((p-r)/2+c),t=0;t<=i;t++)D.set(t,t,D.get(t,t)-c);E+=c,r=p=f=.964}for(M+=1,h=i-2;h>=l&&(u=D.get(h,h),s=r-u,c=p-u,o=(s*c-f)/D.get(h+1,h)+D.get(h,h+1),a=D.get(h+1,h+1)-u-s-c,s=D.get(h+2,h+1),c=Math.abs(o)+Math.abs(a)+Math.abs(s),o/=c,a/=c,s/=c,h!==l)&&!(Math.abs(D.get(h,h-1))*(Math.abs(a)+Math.abs(s))<x*(Math.abs(o)*(Math.abs(D.get(h-1,h-1))+Math.abs(u)+Math.abs(D.get(h+1,h+1)))));)h--;for(t=h+2;t<=i;t++)D.set(t,t-2,0),t>h+2&&D.set(t,t-3,0);for(n=h;n<=i-1&&(v=n!==i-1,n!==h&&(o=D.get(n,n-1),a=D.get(n+1,n-1),s=v?D.get(n+2,n-1):0,0!==(r=Math.abs(o)+Math.abs(a)+Math.abs(s))&&(o/=r,a/=r,s/=r)),0!==r);n++)if(c=Math.sqrt(o*o+a*a+s*s),0!==(c=o<0?-c:c)){for(n!==h?D.set(n,n-1,-c*r):l!==h&&D.set(n,n-1,-D.get(n,n-1)),o+=c,r=o/c,p=a/c,u=s/c,a/=o,s/=o,e=n;e<L;e++)o=D.get(n,e)+a*D.get(n+1,e),v&&(o+=s*D.get(n+2,e),D.set(n+2,e,D.get(n+2,e)-o*u)),D.set(n,e,D.get(n,e)-o*r),D.set(n+1,e,D.get(n+1,e)-o*p);for(t=0;t<=Math.min(i,n+3);t++)o=r*D.get(t,n)+p*D.get(t,n+1),v&&(o+=u*D.get(t,n+2),D.set(t,n+2,D.get(t,n+2)-o*s)),D.set(t,n,D.get(t,n)-o),D.set(t,n+1,D.get(t,n+1)-o*a);for(t=0;t<=O;t++)o=r*j.get(t,n)+p*j.get(t,n+1),v&&(o+=u*j.get(t,n+2),j.set(t,n+2,j.get(t,n+2)-o*s)),j.set(t,n,j.get(t,n)-o),j.set(t,n+1,j.get(t,n+1)-o*a)}}}if(0!==w){for(i=L-1;0<=i;i--)if(o=S[i],0===(a=A[i]))for(l=i,D.set(i,i,1),t=i-1;0<=t;t--){for(f=D.get(t,t)-o,s=0,e=l;e<=i;e++)s+=D.get(t,e)*D.get(e,i);if(A[t]<0)u=f,c=s;else if(0===A[l=t]?D.set(t,i,0!==f?-s/f:-s/(x*w)):(r=D.get(t,t+1),p=D.get(t+1,t),a=(S[t]-o)*(S[t]-o)+A[t]*A[t],d=(r*c-u*s)/a,D.set(t,i,d),D.set(t+1,i,Math.abs(r)>Math.abs(u)?(-s-f*d)/r:(-c-p*d)/u)),1<x*(d=Math.abs(D.get(t,i)))*d)for(e=t;e<=i;e++)D.set(e,i,D.get(e,i)/d)}else if(a<0)for(l=i-1,Math.abs(D.get(i,i-1))>Math.abs(D.get(i-1,i))?(D.set(i-1,i-1,a/D.get(i,i-1)),D.set(i-1,i,-(D.get(i,i)-o)/D.get(i,i-1))):(b=Y(0,-D.get(i-1,i),D.get(i-1,i-1)-o,a),D.set(i-1,i-1,b[0]),D.set(i-1,i,b[1])),D.set(i,i-1,0),D.set(i,i,1),t=i-2;0<=t;t--){for(g=0,y=0,e=l;e<=i;e++)g+=D.get(t,e)*D.get(e,i-1),y+=D.get(t,e)*D.get(e,i);if(f=D.get(t,t)-o,A[t]<0)u=f,s=g,c=y;else if(0===A[l=t]?(b=Y(-g,-y,f,a),D.set(t,i-1,b[0]),D.set(t,i,b[1])):(r=D.get(t,t+1),p=D.get(t+1,t),_=(S[t]-o)*(S[t]-o)+A[t]*A[t]-a*a,m=2*(S[t]-o)*a,0===_&&0==m&&(_=x*w*(Math.abs(f)+Math.abs(a)+Math.abs(r)+Math.abs(p)+Math.abs(u))),b=Y(r*s-u*g+a*y,r*c-u*y-a*g,_,m),D.set(t,i-1,b[0]),D.set(t,i,b[1]),Math.abs(r)>Math.abs(u)+Math.abs(a)?(D.set(t+1,i-1,(-g-f*D.get(t,i-1)+a*D.get(t,i))/r),D.set(t+1,i,(-y-f*D.get(t,i)-a*D.get(t,i-1))/r)):(b=Y(-s-p*D.get(t,i-1),-c-p*D.get(t,i),u,a),D.set(t+1,i-1,b[0]),D.set(t+1,i,b[1]))),1<x*(d=Math.max(Math.abs(D.get(t,i-1)),Math.abs(D.get(t,i))))*d)for(e=t;e<=i;e++)D.set(e,i-1,D.get(e,i-1)/d),D.set(e,i,D.get(e,i)/d)}for(t=0;t<L;t++)if(t<0||t>O)for(e=t;e<L;e++)j.set(t,e,D.get(t,e));for(e=L-1;0<=e;e--)for(t=0;t<=O;t++){for(u=0,n=0;n<=Math.min(e,O);n++)u+=j.get(t,n)*D.get(n,e);j.set(t,e,u)}}}}this.n=C,this.e=k,this.d=I,this.V=T}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,n=this.n,r=this.e,i=this.d,o=new R(n,n);for(t=0;t<n;t++){for(e=0;e<n;e++)o.set(t,e,0);o.set(t,t,i[t]),0<r[t]?o.set(t,t+1,r[t]):r[t]<0&&o.set(t,t-1,r[t])}return o}}function Y(t,e,n,r){let i,o;return Math.abs(n)>Math.abs(r)?(i=r/n,o=n+i*r,[(t+i*e)/o,(e-i*t)/o]):(i=n/r,o=r+i*n,[(i*t+e)/o,(i*e-t)/o])}class H{constructor(t){if(!(t=B.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let n,r,i,o=t,a=o.rows,s=new R(a,a),c=!0;for(r=0;r<a;r++){let e=0;for(i=0;i<r;i++){let t=0;for(n=0;n<i;n++)t+=s.get(i,n)*s.get(r,n);t=(o.get(r,i)-t)/s.get(i,i),s.set(r,i,t),e+=t*t}for(e=o.get(r,r)-e,c&=0<e,s.set(r,r,Math.sqrt(Math.max(e,0))),i=r+1;i<a;i++)s.set(r,i,0)}this.L=s,this.positiveDefinite=Boolean(c)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=B.checkMatrix(t);let e=this.L,n=e.rows;if(t.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let r,i,o,a=t.columns,s=t.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(o,r));s.set(o,i,s.get(o,i)/e.get(o,o))}for(o=n-1;0<=o;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(r,o));s.set(o,i,s.get(o,i)/e.get(o,o))}return s}get lowerTriangularMatrix(){return this.L}}class q{constructor(i,t={}){i=B.checkMatrix(i);let o=t["Y"];var{scaleScores:t=!1,maxIterations:e=1e3,terminationCriteria:l=1e-10}=t;let a;if(o){if((o=E(o)&&"number"==typeof o[0]?R.columnVector(o):B.checkMatrix(o)).rows!==i.rows)throw new Error("Y should have the same number of rows as X");a=o.getColumnVector(0)}else a=i.getColumnVector(0);let s,c,u,n,r=1;for(let t=0;t<e&&r>l;t++)u=(u=i.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0))).div(u.norm()),s=i.mmul(u).div(u.transpose().mmul(u).get(0,0)),0<t&&(r=s.clone().sub(n).pow(2).sum()),n=s.clone(),a=o?(c=(c=o.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0))).div(c.norm()),o.mmul(c).div(c.transpose().mmul(c).get(0,0))):s;if(o){let t=i.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),e=(t=t.div(t.norm()),i.clone().sub(s.clone().mmul(t.transpose()))),n=a.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),r=o.clone().sub(s.clone().mulS(n.get(0,0)).mmul(c.transpose()));this.t=s,this.p=t.transpose(),this.w=u.transpose(),this.q=c,this.u=a,this.s=s.transpose().mmul(s),this.xResidual=e,this.yResidual=r,this.betas=n}else this.w=u.transpose(),this.s=s.transpose().mmul(s).sqrt(),this.t=t?s.clone().div(this.s.get(0,0)):s,this.xResidual=i.sub(s.mmul(u.transpose()))}}},function(s,c,t){"use strict";var E={},l=(t.r(E),t.d(E,"easeLinear",function(){return g}),t.d(E,"easeQuad",function(){return m}),t.d(E,"easeQuadIn",function(){return y}),t.d(E,"easeQuadOut",function(){return _}),t.d(E,"easeQuadInOut",function(){return m}),t.d(E,"easeCubic",function(){return O}),t.d(E,"easeCubicIn",function(){return v}),t.d(E,"easeCubicOut",function(){return b}),t.d(E,"easeCubicInOut",function(){return O}),t.d(E,"easePoly",function(){return P}),t.d(E,"easePolyIn",function(){return x}),t.d(E,"easePolyOut",function(){return M}),t.d(E,"easePolyInOut",function(){return P}),t.d(E,"easeSin",function(){return D}),t.d(E,"easeSinIn",function(){return S}),t.d(E,"easeSinOut",function(){return j}),t.d(E,"easeSinInOut",function(){return D}),t.d(E,"easeExp",function(){return k}),t.d(E,"easeExpIn",function(){return T}),t.d(E,"easeExpOut",function(){return I}),t.d(E,"easeExpInOut",function(){return k}),t.d(E,"easeCircle",function(){return B}),t.d(E,"easeCircleIn",function(){return L}),t.d(E,"easeCircleOut",function(){return R}),t.d(E,"easeCircleInOut",function(){return B}),t.d(E,"easeBounce",function(){return U}),t.d(E,"easeBounceIn",function(){return F}),t.d(E,"easeBounceOut",function(){return U}),t.d(E,"easeBounceInOut",function(){return W}),t.d(E,"easeBack",function(){return K}),t.d(E,"easeBackIn",function(){return G}),t.d(E,"easeBackOut",function(){return $}),t.d(E,"easeBackInOut",function(){return K}),t.d(E,"easeElastic",function(){return Y}),t.d(E,"easeElasticIn",function(){return X}),t.d(E,"easeElasticOut",function(){return Y}),t.d(E,"easeElasticInOut",function(){return H}),t(90)),h=t(211),d=t(209),f=t(39),w=t(0),p=t(584);function g(t){return+t}function y(t){return t*t}function _(t){return t*(2-t)}function m(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function v(t){return t*t*t}function b(t){return--t*t*t+1}function O(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var x=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),M=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),P=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),C=Math.PI,A=C/2;function S(t){return 1==+t?1:1-Math.cos(t*A)}function j(t){return Math.sin(t*A)}function D(t){return(1-Math.cos(C*t))/2}function o(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function T(t){return o(1-+t)}function I(t){return 1-o(t)}function k(t){return((t*=2)<=1?o(1-t):2-o(t-1))/2}function L(t){return 1-Math.sqrt(1-t*t)}function R(t){return Math.sqrt(1- --t*t)}function B(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var N=7.5625;function F(t){return 1-U(1-t)}function U(t){return(t=+t)<4/11?N*t*t:t<8/11?N*(t-=6/11)*t+.75:t<10/11?N*(t-=9/11)*t+.9375:N*(t-=21/22)*t+63/64}function W(t){return((t*=2)<=1?1-U(1-t):U(t-1)+1)/2}function z(t,e,n){(t.prototype=e.prototype=n).constructor=t}var G=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),$=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),K=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),V=2*Math.PI,X=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=V);function t(t){return n*o(- --t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*V)},t.period=function(t){return e(n,t)},t}(1,.3),Y=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=V);function t(t){return 1-n*o(t=+t)*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*V)},t.period=function(t){return e(n,t)},t}(1,.3),H=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=V);function t(t){return((t=2*t-1)<0?n*o(-t)*Math.sin((i-t)/r):2-n*o(t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*V)},t.period=function(t){return e(n,t)},t}(1,.3);function q(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function Z(){}var e="\\s*([+-]?\\d+)\\s*",Q="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",n="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J=/^#([0-9a-f]{3,8})$/,tt=new RegExp("^rgb\\("+[e,e,e]+"\\)$"),et=new RegExp("^rgb\\("+[n,n,n]+"\\)$"),nt=new RegExp("^rgba\\("+[e,e,e,Q]+"\\)$"),rt=new RegExp("^rgba\\("+[n,n,n,Q]+"\\)$"),it=new RegExp("^hsl\\("+[Q,n,n]+"\\)$"),ot=new RegExp("^hsla\\("+[Q,n,n,Q]+"\\)$"),at={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function st(){return this.rgb().formatHex()}function ct(){return this.rgb().formatRgb()}function ut(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=J.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?lt(e):3===n?new a(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ht(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ht(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=tt.exec(t))?new a(e[1],e[2],e[3],1):(e=et.exec(t))?new a(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=nt.exec(t))?ht(e[1],e[2],e[3],e[4]):(e=rt.exec(t))?ht(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=it.exec(t))?yt(e[1],e[2]/100,e[3]/100,1):(e=ot.exec(t))?yt(e[1],e[2]/100,e[3]/100,e[4]):at.hasOwnProperty(t)?lt(at[t]):"transparent"===t?new a(NaN,NaN,NaN,0):null}function lt(t){return new a(t>>16&255,t>>8&255,255&t,1)}function ht(t,e,n,r){return new a(t=r<=0?e=n=NaN:t,e,n,r)}function dt(t,e,n,r){return 1===arguments.length?(i=(i=t)instanceof Z?i:ut(i))?new a((i=i.rgb()).r,i.g,i.b,i.opacity):new a:new a(t,e,n,null==r?1:r);var i}function a(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ft(){return"#"+gt(this.r)+gt(this.g)+gt(this.b)}function pt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function gt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function yt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new u(t,e,n,r)}function _t(t){if(t instanceof u)return new u(t.h,t.s,t.l,t.opacity);if(!(t=t instanceof Z?t:ut(t)))return new u;if(t instanceof u)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=0<c&&c<1?0:a,new u(a,s,c,t.opacity)}function u(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function mt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}z(Z,ut,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:st,formatHex:st,formatHsl:function(){return _t(this).formatHsl()},formatRgb:ct,toString:ct}),z(a,dt,q(Z,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new a(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new a(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ft,formatHex:ft,formatRgb:pt,toString:pt})),z(u,function(t,e,n,r){return 1===arguments.length?_t(t):new u(t,e,n,null==r?1:r)},q(Z,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new u(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new u(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new a(mt(240<=t?t-240:120+t,n,e),mt(t,n,e),mt(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var vt=function(t){return function(){return t}};function bt(o){return 1==(o=+o)?Ot:function(t,e){return e-t?(r=e,i=o,n=Math.pow(t,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):vt(isNaN(t)?e:t);var n,r,i}}function Ot(t,e){var n,r,i=e-t;return i?(n=t,r=i,function(t){return n+t*r}):vt(isNaN(t)?e:t)}var xt=function t(e){var a=bt(e);function n(e,t){var n=a((e=dt(e)).r,(t=dt(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=Ot(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);var Et=function(e,n){n=n||[];var r,i=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(r=0;r<i;++r)o[r]=e[r]*(1-t)+n[r]*t;return o}};function wt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mt(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a=0;a<r;++a)i[a]=Tt(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(t){for(a=0;a<r;++a)o[a]=i[a](t);return o}}var Pt=function(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}},Ct=function(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}},At=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),e=null!==e&&"object"==typeof e?e:{})n in t?r[n]=Tt(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},St=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jt=new RegExp(St.source,"g"),Dt=function(t,r){var e,n,i,o,l,a=St.lastIndex=jt.lastIndex=0,s=-1,c=[],u=[];for(t+="",r+="";(e=St.exec(t))&&(n=jt.exec(r));)(i=n.index)>a&&(i=r.slice(a,i),c[s]?c[s]+=i:c[++s]=i),(e=e[0])===(n=n[0])?c[s]?c[s]+=n:c[++s]=n:(c[++s]=null,u.push({i:s,x:Ct(e,n)})),a=jt.lastIndex;return a<r.length&&(i=r.slice(a),c[s]?c[s]+=i:c[++s]=i),c.length<2?u[0]?(l=u[0].x,function(t){return l(t)+""}):(o=r,function(){return o}):(r=u.length,function(t){for(var e,n=0;n<r;++n)c[(e=u[n]).i]=e.x(t);return c.join("")})},Tt=function(t,e){var n=typeof e;return null==e||"boolean"==n?vt(e):("number"==n?Ct:"string"==n?(n=ut(e))?(e=n,xt):Dt:e instanceof ut?xt:e instanceof Date?Pt:wt(e)?Et:Array.isArray(e)?Mt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?At:Ct)(t,e)},It=t(103),kt=[1,0,0,0,1,0,0,0,1];Nt.prototype.initTimer=function(){var r,i,o,a=this;this.timer=p.a(function(t){if(a.current=t,0<a.animators.length){for(var e=a.animators.length-1;0<=e;e--)if((r=a.animators[e]).destroyed)a.removeAnimator(e);else{if(!r.isAnimatePaused())for(var n=(i=r.get("animations")).length-1;0<=n;n--)o=i[n],function(l,t,e){var n,h=t.startTime;if(!(e<h+t.delay||t._paused)){var d=t.duration,f=t.easing;if(e=e-h-t.delay,t.repeat)n=E[f](n=e%d/d);else{if(!((n=e/d)<1))return t.onFrame?l.attr(t.onFrame(1)):l.attr(t.toAttrs),1;n=E[f](n)}if(t.onFrame)h=t.onFrame(n),l.attr(h);else{var p,g,r,y,e=l,i=t,_=n,o={},m=i.fromAttrs,a=i.toAttrs;if(!e.destroyed){for(r in a)if(!Object(w.isEqual)(m[r],a[r]))if("path"===r){var s=a[r],c=m[r];s.length>c.length?(s=It.parsePathString(a[r]),c=It.parsePathString(m[r]),c=It.fillPathByDiff(c,s),c=It.formatPath(c,s),i.fromAttrs.path=c,i.toAttrs.path=s):i.pathFormatted||(s=It.parsePathString(a[r]),c=It.parsePathString(m[r]),c=It.formatPath(c,s),i.fromAttrs.path=c,i.toAttrs.path=s,i.pathFormatted=!0),o[r]=[];for(var v=0;v<s.length;v++){for(var b=s[v],O=c[v],x=[],u=0;u<b.length;u++)Object(w.isNumber)(b[u])&&O&&Object(w.isNumber)(O[u])?(p=Tt(O[u],b[u]),x.push(p(_))):x.push(b[u]);o[r].push(x)}}else"matrix"===r?(y=m[r]||kt,y=(wt(g=a[r]||kt)?Et:Mt)(y,g)(_),o[r]=y):["fill","stroke","fillStyle","strokeStyle"].includes(r)&&(g=a[r],/^[r,R,L,l]{1}[\s]*\(/.test(g))?o[r]=a[r]:Object(w.isFunction)(a[r])||(p=Tt(m[r],a[r]),o[r]=p(_));e.attr(o)}}}}(r,o,t)&&(i.splice(n,1),o.callback&&o.callback());0===i.length&&a.removeAnimator(e)}a.canvas.get("autoDraw")||a.canvas.draw()}})},Nt.prototype.addAnimator=function(t){this.animators.push(t)},Nt.prototype.removeAnimator=function(t){this.animators.splice(t,1)},Nt.prototype.isAnimating=function(){return!!this.animators.length},Nt.prototype.stop=function(){this.timer&&this.timer.stop()},Nt.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},Nt.prototype.getTime=function(){return this.current};var Lt=Nt,Rt=t(167),Bt=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Nt(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}function Ft(t,e,n){n.name=e,n.target=t,n.currentTarget=t,(n.delegateTarget=t).emit(e,n)}i.prototype.init=function(){this._bindEvents()},i.prototype._bindEvents=function(){var e=this,n=this.canvas.get("el");Object(f.a)(Bt,function(t){n.addEventListener(t,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},i.prototype._clearEvents=function(){var e=this,n=this.canvas.get("el");Object(f.a)(Bt,function(t){n.removeEventListener(t,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},i.prototype._getEventObj=function(t,e,n,r,i,o){t=new Rt.a(t,e);return t.fromShape=i,t.toShape=o,t.x=n.x,t.y=n.y,t.clientX=n.clientX,t.clientY=n.clientY,t.propagationPath.push(r),t},i.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},i.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),e=e.getPointByEvent(t);return{x:e.x,y:e.y,clientX:n.x,clientY:n.y}},i.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;i?i.call(this,n,r,e):(i=this.currentShape,"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,i&&this._emitEvent(t,e,n,i,i,null),this._emitEvent(t,e,n,null,i,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)),o||(this.currentShape=r),r&&!r.get("destroyed")&&((i=this.canvas).get("el").style.cursor=r.attr("cursor")||i.get("cursor"))},i.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},i.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},i.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},i.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},i.prototype._onmouseup=function(t,e,n){var r;0===n.button&&(r=this.draggingShape,this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null))},i.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},i.prototype._onmousemove=function(t,e,n){var r,i,o,a,s=this.canvas,c=this.currentShape,u=this.draggingShape;this.dragging?(u&&this._emitDragoverEvents(n,t,c,e,!1),this._emitEvent("drag",n,t,u)):(a=this.mousedownPoint)?(r=this.mousedownShape,i=n.timeStamp-this.mousedownTimeStamp,o=a.clientX-t.clientX,a=a.clientY-t.clientY,120<i||40<o*o+a*a?r&&r.get("draggable")?((u=this.mousedownShape).set("capture",!1),this.draggingShape=u,this.dragging=!0,this._emitEvent("dragstart",n,t,u),this.mousedownShape=null,this.mousedownPoint=null):!r&&s.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent("mousemove",n,t,e))):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent("mousemove",n,t,e))},i.prototype._emitEvent=function(t,e,l,n,h,d){var r=this._getEventObj(t,e,l,n,h,d);if(n){Ft(r.shape=n,t,r);for(var i,o,a=n.getParent();a;){a.emitDelegation(t,r);if(!r.propagationStopped){s=void 0;c=void 0;u=void 0;i=void 0;o=void 0;var s=a;var c=t;var u=r;if(u.bubbles)i=void 0,o=!1,"mouseenter"===c?(i=u.fromShape,o=!0):"mouseleave"===c&&(o=!0,i=u.toShape),s.isCanvas()&&o||(i&&Object(f.g)(s,i)?u.bubbles=!1:(u.name=c,u.currentTarget=s,(u.delegateTarget=s).emit(c,u)))}r.propagationPath.push(a),a=a.getParent()}}else Ft(this.canvas,t,r)},i.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null};var Ut,Wt=i,e=Object(h.a)(),zt=e&&"firefox"===e.name,n=(Ut=d.a,Object(l.a)(r,Ut),r.prototype.getDefaultCfg=function(){var t=Ut.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},r.prototype.initContainer=function(){var t=this.get("container");Object(f.h)(t)&&(t=document.getElementById(t),this.set("container",t))},r.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},r.prototype.initEvents=function(){var t=new Wt({canvas:this});t.init(),this.set("eventController",t)},r.prototype.initTimeline=function(){var t=new Lt(this);this.set("timeline",t)},r.prototype.setDOMSize=function(t,e){var n=this.get("el");f.c&&(n.style.width=t+"px",n.style.height=e+"px")},r.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},r.prototype.getRenderer=function(){return this.get("renderer")},r.prototype.getCursor=function(){return this.get("cursor")},r.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");f.c&&e&&(e.style.cursor=t)},r.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(zt&&!Object(f.e)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(f.e)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var t=this.getClientByEvent(t),e=t.x,t=t.y;return this.getPointByClient(e,t)},r.prototype.getClientByEvent=function(t){var e=t;return{x:(e=t.touches?("touchend"===t.type?t.changedTouches:t.touches)[0]:e).clientX,y:e.clientY}},r.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},r.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},r.prototype.draw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},r.prototype.clearEvents=function(){this.get("eventController").destroy()},r.prototype.isCanvas=function(){return!0},r.prototype.getParent=function(){return null},r.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),Ut.prototype.destroy.call(this))},r);function r(t){t=Ut.call(this,t)||this;return t.initContainer(),t.initDom(),t.initEvents(),t.initTimeline(),t}function i(t){var n=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var e=t.type;n._triggerEvent(e,t)},this._onDocumentMove=function(t){var e;n.canvas.get("el")!==t.target&&(n.dragging||n.currentShape)&&(e=n._getPointInfo(t),n.dragging&&n._emitEvent("drag",t,e,n.draggingShape))},this._onDocumentMouseUp=function(t){var e;n.canvas.get("el")!==t.target&&n.dragging&&(e=n._getPointInfo(t),n.draggingShape&&n._emitEvent("drop",t,e,null),n._emitEvent("dragend",t,e,n.draggingShape),n._afterDrag(n.draggingShape,e,t))},this.canvas=t.canvas}c.a=n},function(o,a,t){"use strict";var c=t(3),s=t(19),u=t(0),l=t(8),_=t(25),y=t(2),h=t(84),d={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return e<t?e:t},lighten:function(t,e){return e<t?t:e},dodge:function(t,e){return 255===t||255<(t=e/255*255/(1-t/255))?255:t},burn:function(t,e){return 255===e?255:0===t?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}};function f(t){var e,t=t.replace("/s+/g","");return"string"!=typeof t||t.startsWith("rgba")||t.startsWith("#")?(t.startsWith("rgba")&&(e=t.replace("rgba(","").replace(")","").split(",")),(e=t.startsWith("#")?h.a.rgb2arr(t).concat([1]):e).map(function(t,e){return 3===e?Number(t):0|t})):h.a.rgb2arr(h.a.toRGB(t)).concat([1])}var O=t(92);function g(i,t){var l=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=T(t[n],t[r]),o=0;o<i.length;++o){var a=i[o];a.parentIndex=[n,r],e.push(a)}return e}(i),e=l.filter(function(t){for(var e=t,n=i,r=0;r<n.length;++r)if(b(e,n[r])>n[r].radius+1e-10)return!1;return!0}),h=0,d=0,f=[];if(1<e.length){for(var p=E(e),n=0;n<e.length;++n){var g=e[n];g.angle=Math.atan2(g.x-p.x,g.y-p.y)}e.sort(function(t,e){return e.angle-t.angle});var r=e[e.length-1];for(n=0;n<e.length;++n){var o=e[n];d+=(r.x+o.x)*(o.y-r.y);for(var a,y,s,_={x:(o.x+r.x)/2,y:(o.y+r.y)/2},c=null,m=0;m<o.parentIndex.length;++m)-1<r.parentIndex.indexOf(o.parentIndex[m])&&(a=i[o.parentIndex[m]],s=Math.atan2(o.x-a.x,o.y-a.y),(s=(y=Math.atan2(r.x-a.x,r.y-a.y))-s)<0&&(s+=2*Math.PI),y=y-s/2,(s=b(_,{x:a.x+a.radius*Math.sin(y),y:a.y+a.radius*Math.cos(y)}))>2*a.radius&&(s=2*a.radius),(null===c||c.width>s)&&(c={circle:a,width:s,p1:o,p2:r}));null!==c&&(f.push(c),h+=x(c.circle.radius,c.width),r=o)}}else{var u=i[0];for(n=1;n<i.length;++n)i[n].radius<u.radius&&(u=i[n]);var v=!1;for(n=0;n<i.length;++n)if(b(i[n],u)>Math.abs(u.radius-i[n].radius)){v=!0;break}v?h=d=0:(h=u.radius*u.radius*Math.PI,f.push({circle:u,p1:{x:u.x,y:u.y+u.radius},p2:{x:u.x-1e-10,y:u.y+u.radius},width:2*u.radius}))}return d/=2,t&&(t.area=h+d,t.arcArea=h,t.polygonArea=d,t.arcs=f,t.innerPoints=e,t.intersectionPoints=l),h+d}function x(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function b(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function p(t,e,n){if(t+e<=n)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=e-(n*n-t*t+e*e)/(2*n);return x(t,t-(n*n-e*e+t*t)/(2*n))+x(e,r)}function T(t,e){var n=b(t,e),r=t.radius,i=e.radius;if(r+i<=n||n<=Math.abs(r-i))return[];var i=(r*r-i*i+n*n)/(2*n),r=Math.sqrt(r*r-i*i),o=t.x+i*(e.x-t.x)/n,i=t.y+i*(e.y-t.y)/n,a=-(e.y-t.y)*(r/n),e=-(e.x-t.x)*(r/n);return[{x:o+a,y:i-e},{x:o-a,y:i+e}]}function E(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function I(e,n,r){return Math.min(e,n)*Math.min(e,n)*Math.PI<=r+1e-10?Math.abs(e-n):Object(O.bisect)(function(t){return p(e,n,t)-r},0,e+n)}function m(t,D){var e,n=function(t){for(var l=D&&D.lossFunction?D.lossFunction:k,n={},e={},r=0;r<t.length;++r){var h=t[r];1==h.sets.length&&(a=h.sets[0],n[a]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:h.size,radius:Math.sqrt(h.size/Math.PI)},e[a]=[])}for(t=t.filter(function(t){return 2==t.sets.length}),r=0;r<t.length;++r){var i=t[r],d=i.hasOwnProperty("weight")?i.weight:1,f=i.sets[0],p=i.sets[1];i.size+1e-10>=Math.min(n[f].size,n[p].size)&&(d=0),e[f].push({set:p,size:i.size,weight:d}),e[p].push({set:f,size:i.size,weight:d})}var g=[];for(a in e)if(e.hasOwnProperty(a)){for(var y=0,r=0;r<e[a].length;++r)y+=e[a][r].size*e[a][r].weight;g.push({set:a,size:y})}function _(t,e){return e.size-t.size}g.sort(_);var m={};function v(t){return t.set in m}function b(t,e){n[e].x=t.x,n[e].y=t.y,m[e]=!0}for(b({x:0,y:0},g[0].set),r=1;r<g.length;++r){var O=g[r].set,o=e[O].filter(v),a=n[O];if(o.sort(_),0===o.length)throw"ERROR: missing pairwise overlap information";for(var s=[],c=0;c<o.length;++c){var u=n[o[c].set],x=I(a.radius,u.radius,o[c].size);s.push({x:u.x+x,y:u.y}),s.push({x:u.x-x,y:u.y}),s.push({y:u.y+x,x:u.x}),s.push({y:u.y-x,x:u.x});for(var E=c+1;E<o.length;++E)for(var w=n[o[E].set],M=I(a.radius,w.radius,o[E].size),P=T({x:u.x,y:u.y,radius:x},{x:w.x,y:w.y,radius:M}),C=0;C<P.length;++C)s.push(P[C])}for(var A=1e50,S=s[0],c=0;c<s.length;++c){n[O].x=s[c].x,n[O].y=s[c].y;var j=l(n,t);j<A&&(A=j,S=s[c])}b(S,O)}return n}(t),r=D.lossFunction||k;return 8<=t.length&&(r(e=function(u,t){for(var l=(t=D||{}).restarts||10,e=[],h={},n=0;n<u.length;++n){var d=u[n];1==d.sets.length&&(h[d.sets[0]]=e.length,e.push(d))}function f(l,h){for(var t=l,e=h,d=_,f=m,p=0,n=0;n<e.length;++n)e[n]=0;for(n=0;n<d.length;++n)for(var r=t[2*n],i=t[2*n+1],o=n+1;o<d.length;++o){var a=t[2*o],s=t[2*o+1],c=d[n][o],g=f[n][o],u=(a-r)*(a-r)+(s-i)*(s-i),y=Math.sqrt(u),u=u-c*c;0<g&&y<=c||g<0&&c<=y||(p+=2*u*u,e[2*n]+=4*u*(r-a),e[2*n+1]+=4*u*(i-s),e[2*o]+=4*u*(a-r),e[2*o+1]+=4*u*(s-i))}return p}s=u,i=e,p=h,o=Object(O.zerosM)(i.length,i.length),a=Object(O.zerosM)(i.length,i.length),s.filter(function(t){return 2==t.sets.length}).map(function(t){var e=p[t.sets[0]],n=p[t.sets[1]],r=I(Math.sqrt(i[e].size/Math.PI),Math.sqrt(i[n].size/Math.PI),t.size),r=(o[e][n]=o[n][e]=r,0);t.size+1e-10>=Math.min(i[e].size,i[n].size)?r=1:t.size<=1e-10&&(r=-1),a[e][n]=a[n][e]=r});var i,p,o,a,r,s={distances:o,constraints:a},_=s.distances,m=s.constraints,c=Object(O.norm2)(_.map(O.norm2))/_.length,_=_.map(function(t){return t.map(function(t){return t/c})});for(n=0;n<l;++n){var g=Object(O.zeros)(2*_.length).map(Math.random),g=Object(O.conjugateGradient)(f,g,t);(!r||g.fx<r.fx)&&(r=g)}var y=r.x,v={};for(n=0;n<e.length;++n){var b=e[n];v[b.sets[0]]={x:y[2*n]*c,y:y[2*n+1]*c,radius:Math.sqrt(b.size/Math.PI)}}if(t.history)for(n=0;n<t.history.length;++n)Object(O.scale)(t.history[n].x,c);return v}(t),t)+1e-8<r(n,t)&&(n=e)),n}function k(e,t){for(var n=0,r=0;r<t.length;++r){var i,o,a=t[r],s=void 0;1!=a.sets.length&&(s=2==a.sets.length?(i=e[a.sets[0]],o=e[a.sets[1]],p(i.radius,o.radius,b(i,o))):g(a.sets.map(function(t){return e[t]})),n+=(a.hasOwnProperty("weight")?a.weight:1)*(s-a.size)*(s-a.size))}return n}function v(t){function e(e){return{max:Math.max.apply(null,t.map(function(t){return t[e]+t.radius})),min:Math.min.apply(null,t.map(function(t){return t[e]-t.radius}))}}return{xRange:e("x"),yRange:e("y")}}function w(t,e,n){for(var r,i=e[0].radius-b(e[0],t),o=1;o<e.length;++o)(r=e[o].radius-b(e[o],t))<=i&&(i=r);for(o=0;o<n.length;++o)(r=b(n[o],t)-n[o].radius)<=i&&(i=r);return i}function M(t,e){for(var n={},l=function(t){var e,n={},r=[];for(e in t)r.push(e),n[e]=[];for(var i=0;i<r.length;i++)for(var o=t[r[i]],a=i+1;a<r.length;++a){var s=t[r[a]],c=b(o,s);c+s.radius<=o.radius+1e-10?n[r[a]].push(r[i]):c+o.radius<=s.radius+1e-10&&n[r[i]].push(r[a])}return n}(t),r=0;r<e.length;++r){for(var i=e[r].sets,o={},a={},s=0;s<i.length;++s){o[i[s]]=!0;for(var h=l[i[s]],c=0;c<h.length;++c)a[h[c]]=!0}var u,d=[],f=[];for(u in t)u in o?d.push(t[u]):u in a||f.push(t[u]);var p=function l(e,n){for(var t=[],r=0;r<e.length;++r){var i=e[r];t.push({x:i.x,y:i.y}),t.push({x:i.x+i.radius/2,y:i.y}),t.push({x:i.x-i.radius/2,y:i.y}),t.push({x:i.x,y:i.y+i.radius/2}),t.push({x:i.x,y:i.y-i.radius/2})}var o=t[0],a=w(t[0],e,n);for(r=1;r<t.length;++r){var h=w(t[r],e,n);a<=h&&(o=t[r],a=h)}var s=Object(O.nelderMead)(function(t){return-1*w({x:t[0],y:t[1]},e,n)},[o.x,o.y],{maxIterations:500,minErrorDelta:1e-10}).x,c={x:s[0],y:s[1]},u=!0;for(r=0;r<e.length;++r)if(b(c,e[r])>e[r].radius){u=!1;break}for(r=0;r<n.length;++r)if(b(c,n[r])<n[r].radius){u=!1;break}return c=u?c:1==e.length?{x:e[0].x,y:e[0].y}:(g(e,s={}),0===s.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==s.arcs.length?{x:s.arcs[0].circle.x,y:s.arcs[0].circle.y}:n.length?l(e,[]):E(s.arcs.map(function(t){return t.p1})))}(d,f);(n[i]=p).disjoint&&0<e[r].size&&console.log("WARNING: area "+i+" not represented on screen")}return n}var P={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]},C=Object(u.memoize)(function(n,t,l,r){var i=new Map,o=n.length;return t.forEach(function(t,e){1===t[r].length?i.set(t.id,n[(e+o)%o]):(e=t[r].map(function(t){return i.get(t)}),i.set(t.id,e.slice(1).reduce(function(t,e){return t=t,e=e,n=function(t){if(!d[t])throw new Error("unknown blend mode "+t);return d[t]}(n=void 0===(n=l)?"normal":n),o=f(t),r=f(e),(i=[])[0]=n(o[0],r[0]),i[1]=n(o[1],r[1]),i[2]=n(o[2],r[2]),n=i,r=(o=f(t))[0],i=o[1],t=o[2],o=o[3],a=(e=f(e))[0],s=e[1],c=e[2],e=e[3],u=Number((o+e*(1-o)).toFixed(2)),"rgba("+Math.round((o*(1-e)*(r/255)+o*e*(n[0]/255)+(1-o)*e*(a/255))/u*255)+", "+Math.round((o*(1-e)*(i/255)+o*e*(n[1]/255)+(1-o)*e*(s/255))/u*255)+", "+Math.round((o*(1-e)*(t/255)+o*e*(n[2]/255)+(1-o)*e*(c/255))/u*255)+", "+u+")";var n,r,i,o,a,s,c,u},e[0])))}),i},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)});function A(t,e,n,r){void 0===r&&(r=0);var i=t.data,o=t.setsField,a=t.sizeField;if(0===i.length)return Object(y.r)(y.a.WARN,!1,"warn: %s","数据不能为空"),[];var t=i.map(function(t){return Object(c.a)(Object(c.a)({},t),((t={sets:t[o]||[],size:t[a]}).path="",t.id="",t))}),h=(t.sort(function(t,e){return t.sets.length-e.sets.length}),function(t,e,n,r){var i,o=[],l=[];for(i in t)t.hasOwnProperty(i)&&(l.push(i),o.push(t[i]));e-=2*r,n-=2*r;var h=v(o),a=h.xRange,s=h.yRange;if(a.max==a.min||s.max==s.min)return console.log("not scaling solution: zero size detected"),t;for(var h=e/(a.max-a.min),d=n/(s.max-s.min),c=Math.min(d,h),f=(e-(a.max-a.min)*c)/2,p=(n-(s.max-s.min)*c)/2,g={},u=0;u<o.length;++u){var y=o[u];g[l[u]]={radius:c*y.radius,x:r+f+(y.x-a.min)*c,y:r+p+(y.y-s.min)*c}}return g}(function(i,t){(t={}).maxIterations=t.maxIterations||500;var e,n=t.initialLayout||m,o=t.lossFunction||k,a=n(i=function(t){t=t.slice();for(var e,n,r,i=[],o={},a=0;a<t.length;++a){var s=t[a];1==s.sets.length?i.push(s.sets[0]):2==s.sets.length&&(o[[n=s.sets[0],r=s.sets[1]]]=!0,o[[r,n]]=!0)}for(i.sort(function(t,e){return e<t?1:-1}),a=0;a<i.length;++a)for(n=i[a],e=a+1;e<i.length;++e)[n,r=i[e]]in o||t.push({sets:[n,r],size:0});return t}(i),t),r=[],s=[];for(e in a)a.hasOwnProperty(e)&&(r.push(a[e].x),r.push(a[e].y),s.push(e));for(var c=Object(O.nelderMead)(function(t){for(var e={},n=0;n<s.length;++n){var r=s[n];e[r]={x:t[2*n],y:t[2*n+1],radius:a[r].radius}}return o(e,i)},r,t).x,u=0;u<s.length;++u)e=s[u],a[e].x=c[2*u],a[e].y=c[2*u+1];return a}(t),e,n,r)),s=M(h,t);return t.forEach(function(t){var l=t.sets,e=l.join(","),n=(t.id=e,function(){var t,e,n,r={},i=(g(l.map(function(t){return h[t]}),r),r.arcs);if(0===i.length)return"M 0 0";if(1==i.length)return r=i[0].circle,t=r.x,e=r.y,r=r.radius,(n=[]).push("M",t-=r,e),n.push("A",r,r,0,1,0,t+2*r,e),n.push("A",r,r,0,1,0,t,e),n.join(" ");for(var o=["\nM",i[0].p2.x,i[0].p2.y],a=0;a<i.length;++a){var s=i[a],c=s.circle.radius,u=s.width>c;o.push("\nA",c,c,0,u?1:0,1,s.p1.x,s.p1.y)}return o.join(" ")}()),n=(/[zZ]$/.test(n)||(n+=" Z"),t.path=n,s[e]||{x:0,y:0});Object(u.assign)(t,n)}),t}var S,i=t(13),j=t(59),t=(Object(i.p)("schema","venn",{draw:function(t,e){var n=t.data,n=Object(j.c)(n.path),r=(r=t,Object(y.c)({},r.defaultStyle,{fill:r.color},r.style)),e=e.addGroup({name:"venn-shape"}),r=(e.addShape("path",{attrs:Object(c.a)(Object(c.a)({},r),{path:n}),name:"venn-path"}),t.customInfo),n=r.offsetX,t=r.offsetY,r=i.h.transform(null,[["t",n,t]]);return e.setMatrix(r),e},getMarker:function(t){t=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:t,fill:t,r:4}}}}),S=i.e,Object(c.b)(D,S),D.prototype.getLabelPoint=function(t,e,n){var r=t.data,i=r.x,r=r.y,o=t.customLabelInfo,a=o.offsetX,o=o.offsetY;return{content:t.content[n],x:i+a,y:r+o}},D);function D(){return null!==S&&S.apply(this,arguments)||this}function L(t){t&&t.geometries[0].elements.forEach(function(t){t.shape.toFront()})}Object(i.n)("venn",t);R=Object(i.j)("element-active"),Object(c.b)($,R),$.prototype.syncElementsPos=function(){L(this.context.view)},$.prototype.active=function(){R.prototype.active.call(this),this.syncElementsPos()},$.prototype.toggle=function(){R.prototype.toggle.call(this),this.syncElementsPos()},$.prototype.reset=function(){R.prototype.reset.call(this),this.syncElementsPos()};var e,n,r,R,B,t=$,N=(r=Object(i.j)("element-highlight"),Object(c.b)(G,r),G.prototype.syncElementsPos=function(){L(this.context.view)},G.prototype.highlight=function(){r.prototype.highlight.call(this),this.syncElementsPos()},G.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},G.prototype.clear=function(){r.prototype.clear.call(this),this.syncElementsPos()},G.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},G),F=Object(i.j)("element-selected"),U=Object(i.j)("element-single-selected"),F=(n=F,Object(c.b)(z,n),z.prototype.syncElementsPos=function(){L(this.context.view)},z.prototype.selected=function(){n.prototype.selected.call(this),this.syncElementsPos()},z.prototype.toggle=function(){n.prototype.toggle.call(this),this.syncElementsPos()},z.prototype.reset=function(){n.prototype.reset.call(this),this.syncElementsPos()},z),U=(e=U,Object(c.b)(W,e),W.prototype.syncElementsPos=function(){L(this.context.view)},W.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},W.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},W.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},W);function W(){return null!==e&&e.apply(this,arguments)||this}function z(){return null!==n&&n.apply(this,arguments)||this}function G(){return null!==r&&r.apply(this,arguments)||this}function $(){return null!==R&&R.apply(this,arguments)||this}function K(t,e,n){var r=t.chart,t=t.options,i=t.blendMode,o=t.setsField,t=r.getTheme(),r=t.colors10,t=t.colors20,a=n,s=(Object(u.isArray)(a)||(a=e.filter(function(t){return 1===t[o].length}).length<=10?r:t),C(a,e,i,o));return function(t){return s.get(t)||a[0]}}function V(t){var e=t.chart,n=t.options,r=n.legend,i=n.appendPadding,n=n.padding,o=Object(y.s)(i);return!1!==r&&(o=Object(y.g)(i,Object(u.get)(r,"position"),40)),e.appendPadding=Object(y.x)([o,n]),t}function X(t){var e=t.options.data,i=(e||(Object(y.r)(y.a.WARN,!1,"warn: %s","数据不能为空"),e=[]),e.filter(function(t){return 1===t.sets.length}).map(function(t){return t.sets[0]})),n=e.filter(function(t){for(var t=t.sets,e=i,n=t,r=0;r<n.length;r++)if(!e.includes(n[r]))return!1;return!0});return Object(u.isEqual)(n,e)||Object(y.r)(y.a.WARN,!1,"warn: %s","交集中不能出现不存在的集合, 请输入合法数据"),Object(u.deepMix)({},t,{options:{data:n}})}function Y(r){var e,t=r.chart,n=r.options,l=n.pointStyle,h=n.setsField,i=n.sizeField,o=Object(y.s)(t.appendPadding),a=o[0],d=o[1],f=o[2],o=o[3],p={offsetX:o,offsetY:a},s=t.viewBBox,c=s.width,s=s.height,u=A(n,Math.max(c-(d+o),0),Math.max(s-(a+f),0),0),n=(t.data(u),Object(_.g)(Object(y.c)({},r,{options:{xField:"x",yField:"y",sizeField:i,seriesField:"id",rawFields:[h,i],schema:{shape:"venn",style:l}}})).ext.geometry),g=(n.customInfo(p),"function"!=typeof(c=r.options.color)?(e=K(r,u,"string"==typeof c?[c]:c),function(t){return e(t.id)}):c);return"function"==typeof g&&n.color("id",function(e){var t=u.find(function(t){return t.id===e}),n=K(r,u)(e);return g(t,n)}),r}function H(t){var e=t.chart,n=t.options.label,r=Object(y.s)(e.appendPadding),i=r[0],r={offsetX:r[3],offsetY:i},i=Object(y.d)(e,"schema");return n?(e=n.callback,n=Object(c.c)(n,["callback"]),i.label({fields:["id"],callback:e,cfg:Object(u.deepMix)({},Object(y.A)(n),{type:"venn",customLabelInfo:r})})):i.label(!1),t}function q(t){var e=t.chart,n=t.options,r=n.legend,n=n.sizeField;return e.legend("id",r),e.legend(n,!1),t}function Z(t){return t.chart.axis(!1),t}function Q(t){var e,n=t.options,r=t.chart,n=n.interactions;return n&&(e={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"},Object(l.c)(Object(y.c)({},t,{options:{interactions:n.map(function(t){return Object(c.a)(Object(c.a)({},t),{type:e[t.type]||t.type})})}}))),r.removeInteraction("legend-active"),r.removeInteraction("legend-highlight"),t}function J(t){return Object(y.f)(V,l.k,X,Y,H,Object(l.g)({}),q,Z,l.l,Q,l.a)(t)}function tt(){var t=null!==B&&B.apply(this,arguments)||this;return t.type="venn",t}Object(i.l)("venn-element-active",t),Object(i.l)("venn-element-highlight",N),Object(i.l)("venn-element-selected",F),Object(i.l)("venn-element-single-selected",U),Object(i.o)("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),Object(i.o)("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),Object(i.o)("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),Object(i.o)("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),Object(i.o)("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),Object(i.o)("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]}),B=s.b,Object(c.b)(tt,B),tt.getDefaultOptions=function(){return P},tt.prototype.getDefaultOptions=function(){return tt.getDefaultOptions()},tt.prototype.getSchemaAdaptor=function(){return J},tt.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}},function(a,s,t){"use strict";t.d(s,"a",function(){return j});var y=t(3),_=t(0),s=t(19),m=t(2),c=t(8),d=t(25),v=t(110);function u(t){return t.target.depth}function b(t,e){return t.sourceLinks.length?t.depth:e-1}function n(t){return function(){return t}}function Ut(t,e){for(var n=0,r=0;r<t.length;r++)n+=e(t[r]);return n}function Wt(t,e){for(var n=-1/0,r=0;r<t.length;r++)n=Math.max(e(t[r]),n);return n}function zt(t,e){return Ft(t.source,e.source)||t.index-e.index}function Gt(t,e){return Ft(t.target,e.target)||t.index-e.index}function Ft(t,e){return t.y0-e.y0}function $t(t){return t.value}function l(t){return t.index}function h(t){return t.nodes}function f(t){return t.links}function Kt(t,e){t=t.get(e);if(!t)throw new Error("missing: "+e);return t}function Vt(l){for(var t=0,e=l.nodes;t<e.length;t++){for(var n=e[t],r=n.y0,i=r,o=0,a=n.sourceLinks;o<a.length;o++)(s=a[o]).y0=r+s.width/2,r+=s.width;for(var s,c=0,u=n.targetLinks;c<u.length;c++)(s=u[c]).y1=i+s.width/2,i+=s.width}}function O(){var xt,Et,wt,Mt,Pt=0,Ct=0,At=1,St=1,jt=24,Dt=8,Tt=l,It=b,kt=h,Lt=f,Rt=6;function e(t){var t={nodes:kt(t),links:Lt(t)},e=t.nodes,l=t.links,h=(e.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}),new Map(e.map(function(t){return[Tt(t),t]})));if(l.forEach(function(t,e){t.index=e;var e=t.source,n=t.target;"object"!=typeof e&&(e=t.source=Kt(h,e)),"object"!=typeof n&&(n=t.target=Kt(h,n)),e.sourceLinks.push(t),n.targetLinks.push(t)}),null!=Mt)for(var d=0,f=e;d<f.length;d++){var p=f[d],g=p.sourceLinks,p=p.targetLinks;g.sort(Mt),p.sort(Mt)}for(var y=0,_=t.nodes;y<_.length;y++){var n=_[y];n.value=void 0===n.fixedValue?Math.max(Ut(n.sourceLinks,$t),Ut(n.targetLinks,$t)):n.fixedValue}for(var r=t.nodes,m=r.length,v=new Set(r),b=new Set,O=0;v.size;){if(v.forEach(function(t){t.depth=O;for(var e=0,n=t.sourceLinks;e<n.length;e++){var r=n[e].target;b.add(r)}}),++O>m)throw new Error("circular link");v=b,b=new Set}if(Et)for(var x=Math.max(Wt(r,function(t){return t.depth})+1,0),E=void 0,w=0;w<r.length;w++)(E=r[w]).depth=Et.call(null,E,x);for(var l=t.nodes,M=l.length,P=new Set(l),C=new Set,A=0;P.size;){if(P.forEach(function(t){t.height=A;for(var e=0,n=t.targetLinks;e<n.length;e++){var r=n[e].source;C.add(r)}}),++A>M)throw new Error("circular link");P=C,C=new Set}for(var S=t,j=function(){for(var t=S.nodes,e=Math.max(Wt(t,function(t){return t.depth})+1,0),n=(At-Pt-jt)/(e-1),r=new Array(e).fill(0).map(function(){return[]}),i=0,o=t;i<o.length;i++){var a=o[i],s=Math.max(0,Math.min(e-1,Math.floor(It.call(null,a,e))));a.layer=s,a.x0=Pt+s*n,a.x1=a.x0+jt,r[s]?r[s].push(a):r[s]=[a]}if(wt)for(var c=0,u=r;c<u.length;c++)u[c].sort(wt);return r}(),e=(xt=Math.min(Dt,(St-Ct)/(Wt(j,function(t){return t.length})-1)),j),D=function(t){for(var e,n=1/0,r=0;r<t.length;r++)n=Math.min((e=t[r],(St-Ct-(e.length-1)*xt)/Ut(e,$t)),n);return n}(e),T=0,I=e;T<I.length;T++){for(var k=I[T],i=Ct,L=0,R=k;L<R.length;L++){(o=R[L]).y0=i,o.y1=i+o.value*D;for(var i=o.y1+xt,B=0,N=o.sourceLinks;B<N.length;B++){var F=N[B];F.width=F.value*D}}i=(St-i+xt)/(k.length+1);for(var o,U=0;U<k.length;++U)(o=k[U]).y0+=i*(U+1),o.y1+=i*(U+1);W=void 0;var W=k;if(($=K=$=G=z=void 0)===Mt)for(var z=0,G=W;z<G.length;z++){var $=G[z],K=$.sourceLinks,$=$.targetLinks;K.sort(Gt),$.sort(zt)}}for(var V=0;V<Rt;++V){for(var X=Math.pow(.99,V),Y=Math.max(1-X,(V+1)/Rt),H=(nt=s=st=s=at=ot=it=rt=a=et=tt=J=Q=Z=q=H=void 0,j),q=X,Z=Y,Q=H.length-2;0<=Q;--Q){for(var J=H[Q],tt=0,et=J;tt<et.length;tt++){for(var nt,a=et[tt],rt=0,it=0,ot=0,at=a.sourceLinks;ot<at.length;ot++){var s=at[ot],st=s.target,s=s.value*(st.layer-a.layer);rt+=function(t,e){for(var n=e.y0-(e.targetLinks.length-1)*xt/2,r=0,i=e.targetLinks;r<i.length;r++){var o=i[r],a=o.source,s=o.width;if(a===t)break;n+=s+xt}for(var c=0,u=t.sourceLinks;c<u.length;c++){var l=u[c];if(a=l.target,s=l.width,a===e)break;n-=s}return n}(a,st)*s,it+=s}0<it&&(nt=(rt/it-a.y0)*q,a.y0+=nt,a.y1+=nt,Nt(a))}void 0===wt&&J.sort(Ft),J.length&&Bt(J,Z)}yt=u=Ot=u=bt=vt=mt=_t=c=gt=pt=ft=dt=ht=lt=ut=ct=void 0;for(var ct=j,ut=X,lt=Y,ht=1,dt=ct.length;ht<dt;++ht){for(var ft=ct[ht],pt=0,gt=ft;pt<gt.length;pt++){for(var yt,c=gt[pt],_t=0,mt=0,vt=0,bt=c.targetLinks;vt<bt.length;vt++){var u=bt[vt],Ot=u.source,u=u.value*(c.layer-Ot.layer);_t+=function(t,e){for(var n=t.y0-(t.sourceLinks.length-1)*xt/2,r=0,i=t.sourceLinks;r<i.length;r++){var o=i[r],a=o.target,s=o.width;if(a===e)break;n+=s+xt}for(var c=0,u=e.targetLinks;c<u.length;c++){var l=u[c];if(a=l.source,s=l.width,a===t)break;n-=s}return n}(Ot,c)*u,mt+=u}0<mt&&(yt=(_t/mt-c.y0)*ut,c.y0+=yt,c.y1+=yt,Nt(c))}void 0===wt&&ft.sort(Ft),ft.length&&Bt(ft,lt)}}return Vt(t),t}function Bt(t,e){var n=t.length>>1,r=t[n];o(t,r.y0-xt,n-1,e),i(t,r.y1+xt,1+n,e),o(t,St,t.length-1,e),i(t,Ct,0,e)}function i(t,e,n,r){for(;n<t.length;++n){var i=t[n],o=(e-i.y0)*r;1e-6<o&&(i.y0+=o,i.y1+=o),e=i.y1+xt}}function o(t,e,n,r){for(;0<=n;--n){var i=t[n],o=(i.y1-e)*r;1e-6<o&&(i.y0-=o,i.y1-=o),e=i.y0-xt}}function Nt(t){var e=t.sourceLinks,t=t.targetLinks;if(void 0===Mt){for(var n=0,r=t;n<r.length;n++)r[n].source.sourceLinks.sort(Gt);for(var i=0,o=e;i<o.length;i++)o[i].target.targetLinks.sort(zt)}}return e.update=function(t){return Vt(t),t},e.nodeId=function(t){return arguments.length?(Tt="function"==typeof t?t:n(t),e):Tt},e.nodeAlign=function(t){return arguments.length?(It="function"==typeof t?t:n(t),e):It},e.nodeDepth=function(t){return arguments.length?(Et=t,e):Et},e.nodeSort=function(t){return arguments.length?(wt=t,e):wt},e.nodeWidth=function(t){return arguments.length?(jt=+t,e):jt},e.nodePadding=function(t){return arguments.length?(Dt=xt=+t,e):Dt},e.nodes=function(t){return arguments.length?(kt="function"==typeof t?t:n(t),e):kt},e.links=function(t){return arguments.length?(Lt="function"==typeof t?t:n(t),e):Lt},e.linkSort=function(t){return arguments.length?(Mt=t,e):Mt},e.size=function(t){return arguments.length?(Pt=Ct=0,At=+t[0],St=+t[1],e):[At-Pt,St-Ct]},e.extent=function(t){return arguments.length?(Pt=+t[0][0],At=+t[1][0],Ct=+t[0][1],St=+t[1][1],e):[[Pt,Ct],[At,St]]},e.iterations=function(t){return arguments.length?(Rt=+t,e):Rt},e}var x={left:function(t){return t.depth},right:function(t,e){return e-1-t.height},center:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(_.minBy)(t.sourceLinks,u)-1:0},justify:b},E={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function p(t,l,e){var n=t.dataType,r=t.data,i=t.sourceField,o=t.targetField,a=t.weightField,s=t.nodeAlign,h=t.nodeSort,c=t.nodePadding,u=t.nodePaddingRatio,d=t.nodeWidth,f=t.nodeWidthRatio,p=t.nodeDepth,t=t.rawFields,g=void 0===t?[]:t,t="node-link"===n?r:Object(v.c)(function(t,n,r){if(!Object(_.isArray)(t))return[];var e,i,l,h,o,d,f,a,s=[],c=(d=n,f=r,a=[],t.forEach(function(t){var e=t[d],t=t[f];a.includes(e)||a.push(e),a.includes(t)||a.push(t)}),a),p=(e=t,l=n,h=r,o={},(i=c).forEach(function(e){o[e]={},i.forEach(function(t){o[e][t]=0})}),e.forEach(function(t){o[t[l]][t[h]]=1}),o),u={};return c.forEach(function(t){u[t]=0}),c.forEach(function(t){-1!=u[t]&&function e(n){u[n]=1,c.forEach(function(t){0!=p[n][t]&&(1==u[t]?s.push(n+"_"+t):-1!=u[t]&&e(t))}),u[n]=-1}(t)}),0!==s.length&&console.warn("sankey data contains circle, "+s.length+" records removed.",s),t.filter(function(e){return s.findIndex(function(t){return t===e[n]+"_"+e[r]})<0})}(r,i,o),i,o,a,g),f=(c={nodeAlign:s,nodePadding:(n=c,r=u,i=e,Object(m.p)(n)?n/i:r),nodeWidth:(o=d,a=f,s=l,Object(m.p)(o)?o/s:a),nodeSort:h,nodeDepth:p},u=t,c=c,e=(c=Object(_.assign)({},E,c)).nodeId,n=c.nodeSort,i=c.nodeAlign,r=c.nodeWidth,d=c.nodePadding,c=c.nodeDepth,(r=O().nodeSort(n).nodeWidth(r).nodePadding(d).nodeDepth(c).nodeAlign((n=i,(Object(_.isString)(n)?x[n]:Object(_.isFunction)(n)?n:null)||b)).extent([[0,0],[1,1]]).nodeId(e)(u)).nodes.forEach(function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;t.x=[e,n,n,e],t.y=[r,r,i,i]}),r.links.forEach(function(t){var e=t.source,n=t.target,e=e.x1,n=n.x0,e=(t.x=[e,e,n,n],t.width/2);t.y=[t.y0+e,t.y0-e,t.y1+e,t.y1-e]}),r),l=f.nodes,o=f.links;return{nodes:l.map(function(t){return Object(y.a)(Object(y.a)({},Object(m.t)(t,Object(y.d)(["x","y","name"],g))),{isNode:!0})}),edges:o.map(function(t){return Object(y.a)(Object(y.a)({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},Object(m.t)(t,Object(y.d)(["x","y","value"],g))),{isNode:!1})})}}function g(t){var e=t.options.rawFields,e=void 0===e?[]:e;return Object(m.c)({},{options:{tooltip:{fields:Object(_.uniq)(Object(y.d)(["name","source","target","value","isNode"],e))},label:{fields:Object(_.uniq)(Object(y.d)(["x","name"],e))}}},t)}function w(t){var e=t.chart,n=t.options,r=n.color,i=n.nodeStyle,o=n.edgeStyle,a=n.label,s=n.tooltip,c=n.nodeState,l=n.edgeState,n=(e.legend(!1),e.tooltip(s),e.axis(!1),e.coordinate().reflect("y"),p(n,e.width,e.height)),h=n.nodes,n=n.edges,u=e.createView({id:"edges"}),n=(u.data(n),Object(d.b)({chart:u,options:{xField:"x",yField:"y",seriesField:"name",edge:{color:r,style:o,shape:"arc"},tooltip:s,state:l}}),e.createView({id:"nodes"}));return n.data(h),Object(d.f)({chart:n,options:{xField:"x",yField:"y",seriesField:"name",polygon:{color:r,style:i},label:a,tooltip:s,state:c}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function M(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),Object(y.d)(e.views[0].geometries,e.views[1].geometries).forEach(function(t){t.animate(n)}),t}function P(t){var e=t.chart;return t.options.nodeDraggable?e.interaction("sankey-node-draggable"):e.removeInteraction("sankey-node-draggable"),t}function C(t){var e=t.chart,n=t.options,r=n.interactions,r=void 0===r?[]:r,i=[].concat(r,n.nodeInteractions||[]),r=[].concat(r,n.edgeInteractions||[]),o=Object(m.e)(e,"nodes"),a=Object(m.e)(e,"edges");return i.forEach(function(t){!1===(null==t?void 0:t.enable)?o.removeInteraction(t.type):o.interaction(t.type,t.cfg||{})}),r.forEach(function(t){!1===(null==t?void 0:t.enable)?a.removeInteraction(t.type):a.interaction(t.type,t.cfg||{})}),t}function A(t){return Object(m.f)(g,w,C,P,M,c.k)(t)}var e,t=t(13),S=(e=t.a,Object(y.b)(r,e),r.prototype.isNodeElement=function(){var t=Object(_.get)(this.context,"event.target");return!!t&&((t=t.get("element"))&&t.getModel().data.isNode)},r.prototype.getNodeView=function(){return Object(m.e)(this.context.view,"nodes")},r.prototype.getEdgeView=function(){return Object(m.e)(this.context.view,"edges")},r.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},r.prototype.start=function(){var t;this.isNodeElement()&&(this.prevPoint={x:Object(_.get)(this.context,"event.x"),y:Object(_.get)(this.context,"event.y")},t=this.context.event.target.get("element"),-1!==(t=this.getCurrentDatumIdx(t))&&(this.currentElementIdx=t,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)))},r.prototype.translate=function(){var l,t,e,n,r,i,o,a,s,c,u;this.isDragging&&(l=this.context.view,o=(t={x:Object(_.get)(this.context,"event.x"),y:Object(_.get)(this.context,"event.y")}).x-this.prevPoint.x,a=t.y-this.prevPoint.y,(n=(e=this.getNodeView()).geometries[0].elements[this.currentElementIdx])&&n.getModel()&&(n=n.getModel().data,u=e.getOptions().data,c=e.getCoordinate(),r=o/c.getWidth(),i=a/c.getHeight(),o=Object(y.a)(Object(y.a)({},n),{x:n.x.map(function(t){return t+r}),y:n.y.map(function(t){return t+i})}),(a=Object(y.d)(u))[this.currentElementIdx]=o,e.data(a),s=n.name,(u=(c=this.getEdgeView()).getOptions().data).forEach(function(t){t.source===s&&(t.x[0]+=r,t.x[1]+=r,t.y[0]+=i,t.y[1]+=i),t.target===s&&(t.x[2]+=r,t.x[3]+=r,t.y[2]+=i,t.y[3]+=i)}),c.data(u),this.prevPoint=t,l.render(!0)))},r.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},r);function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDragging=!1,t}Object(t.l)("sankey-node-drag",S),Object(t.o)("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});i=s.b,Object(y.b)(o,i),o.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){t=1===t[1];return{style:{fill:"#545454",textAlign:t?"end":"start"},offsetX:t?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!Object(_.get)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},o.prototype.changeData=function(t){this.updateOption({data:t});var t=p(this.options,this.chart.width,this.chart.height),e=t.nodes,t=t.edges,n=Object(m.e)(this.chart,"nodes"),r=Object(m.e)(this.chart,"edges");n.changeData(e),r.changeData(t)},o.prototype.getSchemaAdaptor=function(){return A},o.prototype.getDefaultOptions=function(){return o.getDefaultOptions()};var i,j=o;function o(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="sankey",t}},function(a,t,e){"use strict";e.r(t),e.d(t,"Line",function(){return E}),e.d(t,"Text",function(){return w}),e.d(t,"Arc",function(){return M}),e.d(t,"Region",function(){return P}),e.d(t,"Image",function(){return C}),e.d(t,"DataMarker",function(){return A}),e.d(t,"DataRegion",function(){return S}),e.d(t,"RegionFilter",function(){return j}),e.d(t,"Shape",function(){return D}),e.d(t,"Html",function(){return I});var f=e(11),p=e(0),t=e(37),_=e(85),g=e(55),y=e(27);function m(t,e){var n=e.x,r=e.y,i=e.content,o=e.style,a=e.id,s=e.name,l=e.rotate,c=e.maxLength,u=e.autoEllipsis,h=e.isVertical,d=e.ellipsisPosition,e=e.background,t=t.addGroup({id:a+"-group",name:s+"-group",attrs:{x:n,y:r}}),s=t.addShape({type:"text",id:a,name:s,attrs:Object(f.a)({x:0,y:0,text:i},o)}),i=Object(y.c)(Object(p.get)(e,"padding",0));c&&u&&(o=c-(i[1]+i[3]),Object(_.a)(!h,s,o,d)),e&&(u=Object(p.get)(e,"style",{}),h=(c=s.getCanvasBBox()).minX,o=c.minY,d=c.width,e=c.height,t.addShape("rect",{id:a+"-bg",name:a+"-bg",attrs:Object(f.a)({x:h-i[3],y:o-i[0],width:d+i[1]+i[3],height:e+i[0]+i[2]},u)}).toBack()),Object(g.c)(t,n,r),Object(g.b)(t,l,n,r)}var s,c,u,l,h,d,v,b,O,x,n=e(29),E=(x=t.a,Object(f.b)(o,x),o.prototype.getDefaultCfg=function(){var t=x.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:n.a.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:n.a.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:n.a.lineColor,lineWidth:1}}}})},o.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},o.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(f.a)({x1:e.x,y1:e.y,x2:n.x,y2:n.y},r)})},o.prototype.getLabelPoint=function(t,e,n){return(1<(n="start"===n?0:"center"===n?.5:Object(p.isString)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:Object(p.isNumber)(n)?n:1)||n<0)&&(n=1),{x:Object(y.g)(t.x,e.x,n),y:Object(y.g)(t.y,e.y,n)}},o.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),r=this.get("end"),i=e.position,o=e.content,a=e.style,s=e.offsetX,c=e.offsetY,u=e.autoRotate,l=e.maxLength,h=e.autoEllipsis,d=e.ellipsisPosition,f=e.background,e=e.isVertical,e=void 0!==e&&e,i=this.getLabelPoint(n,r,i),s=i.x+s,i=i.y+c,c={id:this.getElementId("line-text"),name:"annotation-line-text",x:s,y:i,content:o,style:a,maxLength:l,autoEllipsis:h,ellipsisPosition:d,background:f,isVertical:e};u&&(s=[r.x-n.x,r.y-n.y],c.rotate=Math.atan2(s[1],s[0])),m(t,c)},o),w=(O=t.a,Object(f.b)(U,O),U.prototype.getDefaultCfg=function(){var t=O.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:n.a.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:n.a.fontFamily}}})},U.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},U.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,e=e.y,r=this.get("content"),i=this.get("style");m(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:e,content:r,style:i,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},U.prototype.resetLocation=function(){var t,e,n,r=this.getElementByLocalId("text-group");r&&(t=(e=this.getLocation()).x,e=e.y,n=this.get("rotate"),Object(g.c)(r,t,e),Object(g.b)(r,n,t,e))},U),M=(b=t.a,Object(f.b)(F,b),F.prototype.getDefaultCfg=function(){var t=b.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},F.prototype.renderInner=function(t){this.renderArc(t)},F.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,t=t.endAngle,i=Object(y.e)(e,n,r),o=Object(y.e)(e,n,t),a=t-r>Math.PI?1:0,i=[["M",i.x,i.y]];return t-r==2*Math.PI&&(t=Object(y.e)(e,n,r+Math.PI),i.push(["A",n,n,0,a,1,t.x,t.y])),i.push(["A",n,n,0,a,1,o.x,o.y]),i},F.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(f.a)({path:e},n)})},F),P=(v=t.a,Object(f.b)(N,v),N.prototype.getDefaultCfg=function(){var t=v.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:n.a.regionColor,opacity:.4}}})},N.prototype.renderInner=function(t){this.renderRegion(t)},N.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style"),e=Object(y.k)({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(f.a)({x:e.x,y:e.y,width:e.width,height:e.height},r)})},N),C=(d=t.a,Object(f.b)(i,d),i.prototype.getDefaultCfg=function(){var t=d.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},i.prototype.renderInner=function(t){this.renderImage(t)},i.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),t=Object(y.k)({start:t,end:e}),e=this.get("src");return Object(f.a)({x:t.x,y:t.y,img:e,width:t.width,height:t.height},n)},i.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},i),A=(h=t.a,Object(f.b)(r,h),r.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:n.a.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:n.a.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:n.a.fontFamily}}}})},r.prototype.renderInner=function(t){Object(p.get)(this.get("line"),"display")&&this.renderLine(t),Object(p.get)(this.get("text"),"display")&&this.renderText(t),Object(p.get)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},r.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},r.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},r.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,r=e.y,i=e.text,e=Object(f.c)(e,["x","y","text"]),o=this.get("text"),a=o.background,s=o.maxLength,c=o.autoEllipsis,u=o.isVertival,o=o.ellipsisPosition;m(t,{x:n,y:r,id:this.getElementId("text"),name:"annotation-text",content:i,style:e,background:a,maxLength:s,autoEllipsis:c,isVertival:u,ellipsisPosition:o})},r.prototype.autoAdjust=function(t){var e,n=this.get("direction"),r=this.get("x"),i=this.get("y"),o=Object(p.get)(this.get("line"),"length",0),a=this.get("coordinateBBox"),s=t.getBBox(),c=s.minX,l=s.maxX,h=s.minY,s=s.maxY,u=t.findById(this.getElementId("text-group")),d=t.findById(this.getElementId("text")),t=t.findById(this.getElementId("line"));a&&(u&&(r+c<=a.minX&&(e=a.minX-(r+c),Object(g.c)(u,u.attr("x")+e,u.attr("y"))),r+l>=a.maxX&&(e=r+l-a.maxX,Object(g.c)(u,u.attr("x")-e,u.attr("y")))),("upward"===n&&i+h<=a.minY||"upward"!==n&&i+s>=a.maxY)&&(r=c=void 0,r="upward"===n&&i+h<=a.minY?(c="top",1):(c="bottom",-1),d.attr("textBaseline",c),t&&t.attr("path",[["M",0,0],["L",0,o*r]]),Object(g.c)(u,u.attr("x"),(o+2)*r)))},r.prototype.getShapeAttrs=function(){var t=Object(p.get)(this.get("line"),"display"),e=Object(p.get)(this.get("point"),"style",{}),n=Object(p.get)(this.get("line"),"style",{}),r=Object(p.get)(this.get("text"),"style",{}),i=this.get("direction"),t=t?Object(p.get)(this.get("line"),"length",0):0,o="upward"===i?-1:1;return{point:Object(f.a)({x:0,y:0},e),line:Object(f.a)({path:[["M",0,0],["L",0,t*o]]},n),text:Object(f.a)({x:0,y:(t+2)*o,text:Object(p.get)(this.get("text"),"content",""),textBaseline:"upward"===i?"bottom":"top"},r)}},r),S=(l=t.a,Object(f.b)(B,l),B.prototype.getDefaultCfg=function(){var t=l.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:n.a.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:n.a.textColor,fontFamily:n.a.fontFamily}}}})},B.prototype.renderInner=function(t){var e,n,r=Object(p.get)(this.get("region"),"style",{}),i=(Object(p.get)(this.get("text"),"style",{}),this.get("lineLength")||0),o=this.get("points");o.length&&(e=Object(y.j)(o),(n=[]).push(["M",o[0].x,e.minY-i]),o.forEach(function(t){n.push(["L",t.x,t.y])}),n.push(["L",o[o.length-1].x,o[o.length-1].y-i]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(f.a)({path:n},r)}),m(t,Object(f.a)({id:this.getElementId("text"),name:"annotation-text",x:(e.minX+e.maxX)/2,y:e.minY-i},this.get("text"))))},B),j=(u=t.a,Object(f.b)(R,u),R.prototype.getDefaultCfg=function(){var t=u.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},R.prototype.renderInner=function(t){var r=this,e=this.get("start"),n=this.get("end"),i=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1}),t=(Object(p.each)(this.get("shapes"),function(t,e){var n=t.get("type"),t=Object(p.clone)(t.attr());r.adjustShapeAttrs(t),r.addShape(i,{id:r.getElementId("shape-"+n+"-"+e),capture:!1,type:n,attrs:t})}),Object(y.k)({start:e,end:n}));i.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},R.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},R),D=(c=t.a,Object(f.b)(L,c),L.prototype.getDefaultCfg=function(){var t=c.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"shape",draw:p.noop})},L.prototype.renderInner=function(t){var e=this.get("render");Object(p.isFunction)(e)&&e(t)},L),T=e(18),I=(s=e(109).a,Object(f.b)(k,s),k.prototype.getDefaultCfg=function(){var t=s.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},k.prototype.render=function(){var t=this.getContainer(),e=this.get("html"),e=(Object(y.a)(t),Object(p.isFunction)(e)?e(t):e);Object(p.isElement)(e)?t.appendChild(e):!Object(p.isString)(e)&&!Object(p.isNumber)(e)||(e=Object(T.b)(""+e))&&t.appendChild(e),this.resetPosition()},k.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,e=e.y,r=this.get("alignX"),i=this.get("alignY"),o=this.get("offsetX"),a=this.get("offsetY"),s=Object(T.d)(t),c=Object(T.c)(t),n={x:n,y:e};"middle"===r?n.x-=Math.round(s/2):"right"===r&&(n.x-=Math.round(s)),"middle"===i?n.y-=Math.round(c/2):"bottom"===i&&(n.y-=Math.round(c)),o&&(n.x+=o),a&&(n.y+=a),Object(T.e)(t,{position:"absolute",left:n.x+"px",top:n.y+"px",zIndex:this.get("zIndex")})},k);function k(){return null!==s&&s.apply(this,arguments)||this}function L(){return null!==c&&c.apply(this,arguments)||this}function R(){return null!==u&&u.apply(this,arguments)||this}function B(){return null!==l&&l.apply(this,arguments)||this}function r(){return null!==h&&h.apply(this,arguments)||this}function i(){return null!==d&&d.apply(this,arguments)||this}function N(){return null!==v&&v.apply(this,arguments)||this}function F(){return null!==b&&b.apply(this,arguments)||this}function U(){return null!==O&&O.apply(this,arguments)||this}function o(){return null!==x&&x.apply(this,arguments)||this}},function(r,i,t){"use strict";var c,s,y=t(3),o=t(19),_=t(2),m=t(0),u=t(8),b=t(82),v=t(51),e=((e=c=c||{}).Left="Left",e.Right="Right",(e=s=s||{}).Line="line",{nice:!0,label:{autoHide:!0,autoRotate:!(e.Column="column")}}),a=Object(y.a)(Object(y.a)({},e),{position:"left"}),l=Object(y.a)(Object(y.a)({},e),{position:"right",grid:null});function O(t){return Object(m.get)(t,"geometry")===s.Line}function x(t){return Object(m.get)(t,"geometry")===s.Column}function h(t,e,n){return x(n)?Object(_.c)({},{geometry:s.Column,label:n.label&&n.isRange?{content:function(t){return null===(t=t[e])||void 0===t?void 0:t.join("-")}}:void 0},n):Object(y.a)({geometry:s.Line},n)}function d(t,e){var n=t[0],t=t[1];return Object(m.isArray)(e)?[e[0],e[1]]:[Object(m.get)(e,n),Object(m.get)(e,t)]}function f(t,e){return e===c.Left?!1!==t&&Object(_.c)({},a,t):e===c.Right?!1!==t&&Object(_.c)({},l,t):t}var p=t(13);function g(t){var e,n=t.view,r=t.geometryOption,i=t.yField,t=t.legend,o=Object(m.get)(t,"marker"),a=Object(_.d)(n,O(r)?"line":"interval");if(!r.seriesField)return t=Object(m.get)(n,"options.scales."+i+".alias")||i,s=a.getAttribute("color"),e=n.getTheme().defaultColor,s&&(e=p.h.getMappingValue(s,t,Object(m.get)(s,["values",0],e))),[{value:i,name:t,marker:(Object(m.isFunction)(o)?o:!Object(m.isEmpty)(o)&&Object(_.c)({},{style:{stroke:e,fill:e}},o))||(O(r)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:e}}:{symbol:"square",style:{fill:e}}),isGeometry:!0,viewId:n.id}];var s=a.getGroupAttributes();return Object(m.reduce)(s,function(t,e){e=p.h.getLegendItems(n,a,e,n.getTheme(),o);return t.concat(e)},[])}var n,E=t(25),w=t(96),M=function(t,e){var n,r,i,o=e[0],e=e[1],a=t.getOptions().data,s=t.getXScale(),c=Object(m.size)(a);s&&c&&(n=Object(m.valuesOfKey)(a,s.field),c=Object(m.size)(n),r=Math.floor(o*(c-1)),i=Math.floor(e*(c-1)),t.filter(s.field,function(t){t=n.indexOf(t);return!(-1<t)||Object(_.o)(t,r,i)}),t.getRootView().render(!0))};function P(t){var e,n=t.options,r=n.geometryOptions,r=void 0===r?[]:r,i=n.xField,o=n.yField,a=Object(m.every)(r,function(t){t=t.geometry;return t===s.Line||void 0===t});return Object(_.c)({},{options:{geometryOptions:[],meta:((e={})[i]={type:"cat",sync:!0,range:a?[0,1]:void 0},e),tooltip:{showMarkers:a,showCrosshairs:a,shared:!0,crosshairs:{type:"x"}},interactions:a?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:d(o,n.yAxis),geometryOptions:[h(0,o[0],r[0]),h(0,o[1],r[1])],annotations:d(o,n.annotations)}})}function C(t){var e,n=t.chart,r=t.options.geometryOptions,i={line:0,column:1};return[{type:null===(e=r[0])||void 0===e?void 0:e.geometry,id:"left-axes-view"},{type:null===(e=r[1])||void 0===e?void 0:e.geometry,id:"right-axes-view"}].sort(function(t,e){return-i[t.type]+i[e.type]}).forEach(function(t){return n.createView({id:t.id})}),t}function A(t){var f=t.chart,e=t.options,p=e.xField,n=e.yField,r=e.geometryOptions,i=e.data,g=e.tooltip;return[Object(y.a)(Object(y.a)({},r[0]),{id:"left-axes-view",data:i[0],yField:n[0]}),Object(y.a)(Object(y.a)({},r[1]),{id:"right-axes-view",data:i[1],yField:n[1]})].forEach(function(e){var n,t,r,i,l,h,d,o,a=e.id,s=e.data,c=e.yField,u=x(e)&&e.isPercent,s=u?Object(b.c)(s,c,p,c):s,a=Object(v.a)(f,a).data(s),s=u?Object(y.a)({formatter:function(t){return{name:t[e.seriesField]||c,value:(100*Number(t[c])).toFixed(2)+"%"}}},g):g;a=(u={chart:a,options:{xField:p,yField:c,tooltip:s,geometryOption:e}}).chart,t=(s=u.options).geometryOption,r=t.isStack,i=t.color,l=t.seriesField,h=t.groupField,d=t.isGroup,o=["xField","yField"],O(t)&&(Object(E.d)(Object(_.c)({},u,{options:Object(y.a)(Object(y.a)(Object(y.a)({},Object(_.t)(s,o)),t),{line:{color:t.color,style:t.lineStyle}})})),Object(E.e)(Object(_.c)({},u,{options:Object(y.a)(Object(y.a)(Object(y.a)({},Object(_.t)(s,o)),t),{point:t.point&&Object(y.a)({color:i,shape:"circle"},t.point)})})),n=[],d&&n.push({type:"dodge",dodgeBy:h||l,customOffset:0}),r&&n.push({type:"stack"}),n.length&&Object(m.each)(a.geometries,function(t){t.adjust(n)})),x(t)&&Object(w.a)(Object(_.c)({},u,{options:Object(y.a)(Object(y.a)(Object(y.a)({},Object(_.t)(s,o)),t),{widthRatio:t.columnWidthRatio,interval:Object(y.a)(Object(y.a)({},Object(_.t)(t,["color"])),{style:t.columnStyle})})}))}),t}function S(t){var e,o=t.chart,n=t.options.geometryOptions,a=(null===(e=o.getTheme())||void 0===e?void 0:e.colors10)||[],s=0;return o.once("beforepaint",function(){Object(m.each)(n,function(e,t){var n,r,i=Object(v.a)(o,0===t?"left-axes-view":"right-axes-view");e.color||(n=i.getGroupScales(),n=Object(m.get)(n,[0,"values","length"],1),r=a.slice(s,s+n).concat(0===t?[]:a),i.geometries.forEach(function(t){e.seriesField?t.color(e.seriesField,r):t.color(r[0])}),s+=n)}),o.render(!0)}),t}function j(t){var e,n=t.chart,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,r=r.yField;return Object(u.g)(((e={})[a]=i,e[r[0]]=o[0],e))(Object(_.c)({},t,{chart:Object(v.a)(n,"left-axes-view")})),Object(u.g)(((e={})[a]=i,e[r[1]]=o[1],e))(Object(_.c)({},t,{chart:Object(v.a)(n,"right-axes-view")})),t}function D(t){var e=t.chart,n=t.options,r=Object(v.a)(e,"left-axes-view"),i=Object(v.a)(e,"right-axes-view"),o=n.xField,a=n.yField,s=n.xAxis,n=n.yAxis;return e.axis(o,!1),e.axis(a[0],!1),e.axis(a[1],!1),r.axis(o,s),r.axis(a[0],f(n[0],c.Left)),i.axis(o,!1),i.axis(a[1],f(n[1],c.Right)),t}function T(t){var e=t.chart,n=t.options.tooltip,r=Object(v.a)(e,"left-axes-view"),i=Object(v.a)(e,"right-axes-view");return e.tooltip(n),r.tooltip({shared:!0}),i.tooltip({shared:!0}),t}function I(t){var e=t.chart;return Object(u.c)(Object(_.c)({},t,{chart:Object(v.a)(e,"left-axes-view")})),Object(u.c)(Object(_.c)({},t,{chart:Object(v.a)(e,"right-axes-view")})),t}function k(t){var e=t.chart,n=t.options.annotations,r=Object(m.get)(n,[0]),n=Object(m.get)(n,[1]);return Object(u.b)(r)(Object(_.c)({},t,{chart:Object(v.a)(e,"left-axes-view"),options:{annotations:r}})),Object(u.b)(n)(Object(_.c)({},t,{chart:Object(v.a)(e,"right-axes-view"),options:{annotations:n}})),t}function L(t){var e=t.chart;return Object(u.k)(Object(_.c)({},t,{chart:Object(v.a)(e,"left-axes-view")})),Object(u.k)(Object(_.c)({},t,{chart:Object(v.a)(e,"right-axes-view")})),Object(u.k)(t),t}function R(t){var e=t.chart;return Object(u.a)(Object(_.c)({},t,{chart:Object(v.a)(e,"left-axes-view")})),Object(u.a)(Object(_.c)({},t,{chart:Object(v.a)(e,"right-axes-view")})),t}function B(t){var e=t.chart,n=t.options.yAxis;return Object(u.e)(Object(_.c)({},t,{chart:Object(v.a)(e,"left-axes-view"),options:{yAxis:n[0]}})),Object(u.e)(Object(_.c)({},t,{chart:Object(v.a)(e,"right-axes-view"),options:{yAxis:n[1]}})),t}function N(t){var n,r,o=t.chart,e=t.options,i=e.legend,a=e.geometryOptions,s=e.yField,c=e.data,u=Object(v.a)(o,"left-axes-view"),l=Object(v.a)(o,"right-axes-view");return!1===i?o.legend(!1):Object(m.isObject)(i)&&!0===i.custom?o.legend(i):(n=Object(m.get)(a,[0,"legend"],i),r=Object(m.get)(a,[1,"legend"],i),o.once("beforepaint",function(){var t=c[0].length?g({view:u,geometryOption:a[0],yField:s[0],legend:n}):[],e=c[1].length?g({view:l,geometryOption:a[1],yField:s[1],legend:r}):[];o.legend(Object(_.c)({},i,{custom:!0,items:t.concat(e)}))}),a[0].seriesField&&u.legend(a[0].seriesField,n),a[1].seriesField&&l.legend(a[1].seriesField,r),o.on("legend-item:click",function(t){var n,e,r,i=Object(m.get)(t,"gEvent.delegateObject",{});i&&i.item&&(t=i.item,n=t.value,e=t.isGeometry,t=t.viewId,e?-1<Object(m.findIndex)(s,function(t){return t===n})&&(e=Object(m.get)(Object(v.a)(o,t),"geometries"),Object(m.each)(e,function(t){t.changeVisible(!i.item.unchecked)})):(r=Object(m.get)(o.getController("legend"),"option.items",[]),Object(m.each)(o.views,function(e){var t=e.getGroupScales();Object(m.each)(t,function(t){t.values&&-1<t.values.indexOf(n)&&e.filter(t.field,function(e){return!Object(m.find)(r,function(t){return t.value===e}).unchecked})}),o.render(!0)})))})),t}function F(t){var e=t.chart,n=t.options.slider,r=Object(v.a)(e,"left-axes-view"),i=Object(v.a)(e,"right-axes-view");return n&&(r.option("slider",n),r.on("slider:valuechanged",function(t){var t=t.event,e=t.value,t=t.originValue;Object(m.isEqual)(e,t)||M(i,e)}),e.once("afterpaint",function(){var t,e;Object(m.isBoolean)(n)||(t=n.start,e=n.end,(t||e)&&M(i,[t,e]))})),t}function U(t){return Object(_.f)(P,C,L,A,j,D,B,T,I,k,R,S,N,F)(t)}function W(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dual-axes",t}n=o.b,Object(y.b)(W,n),W.prototype.getDefaultOptions=function(){return Object(_.c)({},n.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},W.prototype.getSchemaAdaptor=function(){return U}},function(c,h,t){"use strict";t.r(h),t.d(h,"Line",function(){return W}),t.d(h,"Circle",function(){return z}),t.d(h,"Base",function(){return _});var d,e={},n=(t.r(e),t.d(e,"getDefault",function(){return b}),t.d(e,"ellipsisHead",function(){return O}),t.d(e,"ellipsisTail",function(){return x}),t.d(e,"ellipsisMiddle",function(){return E}),{}),f=(t.r(n),t.d(n,"getDefault",function(){return S}),t.d(n,"reserveFirst",function(){return j}),t.d(n,"reserveLast",function(){return D}),t.d(n,"reserveBoth",function(){return T}),t.d(n,"equidistance",function(){return I}),t.d(n,"equidistanceWithReverseBoth",function(){return k}),{}),u=(t.r(f),t.d(f,"getDefault",function(){return R}),t.d(f,"fixedAngle",function(){return B}),t.d(f,"unfixedAngle",function(){return N}),{}),a=(t.r(u),t.d(u,"autoHide",function(){return n}),t.d(u,"autoRotate",function(){return f}),t.d(u,"autoEllipsis",function(){return e}),t(11)),p=t(12),l=t(0),h=t(37),g=t(55),y=t(130),i=t(29),_=(d=h.a,Object(a.b)(r,d),r.prototype.getDefaultCfg=function(){var t=d.prototype.getDefaultCfg.call(this);return Object(a.a)(Object(a.a)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:i.a.lineColor}},tickLine:{style:{lineWidth:1,stroke:i.a.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:i.a.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:i.a.textColor,fontFamily:i.a.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:i.a.textColor,textBaseline:"middle",fontFamily:i.a.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:i.a.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},r.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("ticks")},r.prototype.setItems=function(t){this.update({ticks:t})},r.prototype.updateItem=function(t,e){Object(l.mix)(t,e),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},r.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},r.prototype.hasState=function(t,e){return!!t[e]},r.prototype.getItemStates=function(n){var t=this.get("tickStates"),r=[];return Object(l.each)(t,function(t,e){n[e]&&r.push(e)}),r},r.prototype.clearItemsState=function(e){var n=this,t=this.getItemsByState(e);Object(l.each)(t,function(t){n.setItemState(t,e,!1)})},r.prototype.getItemsByState=function(e){var n=this,t=this.getItems();return Object(l.filter)(t,function(t){return n.hasState(t,e)})},r.prototype.getSidePoint=function(t,e){e=this.getSideVector(e,t);return{x:t.x+e[0],y:t.y+e[1]}},r.prototype.getTextAnchor=function(t){var e;return Object(l.isNumberEqual)(t[0],0)?e="center":0<t[0]?e="start":t[0]<0&&(e="end"),e},r.prototype.getTextBaseline=function(t){var e;return Object(l.isNumberEqual)(t[1],0)?e="middle":0<t[1]?e="top":t[1]<0&&(e="bottom"),e},r.prototype.processOverlap=function(t){},r.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(l.mix)({path:e},n.style)})},r.prototype.getTickLineItems=function(t){var r=this,i=[],e=this.get("tickLine"),o=e.alignTick,a=e.length,s=1;return 2<=t.length&&(s=t[1].value-t[0].value),Object(l.each)(t,function(t){var e=t.point,n=(o||(e=r.getTickPoint(t.value-s/2)),r.getSidePoint(e,a));i.push({startPoint:e,tickValue:t.value,endPoint:n,tickId:t.id,id:"tickline-"+t.id})}),i},r.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),r=n.count,i=t.length;if(2<=i)for(var o=0;o<i-1;o++)for(var a=t[o],l=t[o+1],s=0;s<r;s++){var c=(s+1)/(r+1),c=(1-c)*a.tickValue+c*l.tickValue,u=this.getTickPoint(c),h=this.getSidePoint(u,n.length);e.push({startPoint:u,endPoint:h,tickValue:c,id:"sub-"+a.id+"-"+s})}return e},r.prototype.getTickLineAttrs=function(t,e,n,r){var e=this.get(e).style,i={points:[t.startPoint,t.endPoint]},o=Object(l.get)(this.get("theme"),["tickLine","style"],{}),e=Object(l.isFunction)(e)?Object(l.mix)({},o,e(i,n,r)):e,o=t.startPoint,i=t.endPoint;return Object(a.a)({x1:o.x,y1:o.y,x2:i.x,y2:i.y},e)},r.prototype.drawTick=function(t,e,n,r,i){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,r,i)})},r.prototype.drawTickLines=function(r){var n,i=this,t=this.get("ticks"),e=this.get("subTickLine"),o=this.getTickLineItems(t),a=this.addGroup(r,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),s=this.get("tickLine");Object(l.each)(o,function(t,e){var n;s.displayWithLabel?(n=i.getElementId("label-"+t.tickId),r.findById(n)&&i.drawTick(t,a,"tickLine",e,o)):i.drawTick(t,a,"tickLine",e,o)}),e&&(n=this.getSubTickLineItems(o),Object(l.each)(n,function(t,e){i.drawTick(t,a,"subTickLine",e,n)}))},r.prototype.processTicks=function(){var e=this,t=this.get("ticks");Object(l.each)(t,function(t){t.point=e.getTickPoint(t.value),Object(l.isNil)(t.id)&&(t.id=t.name)})},r.prototype.drawTicks=function(e){var n=this,t=(this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(e),this.get("tickLine")&&this.drawTickLines(e),this.get("ticks"));Object(l.each)(t,function(t){n.applyTickStates(t,e)})},r.prototype.optimizeTicks=function(){var n,t,e=this.get("optimize"),r=this.get("ticks");e&&e.enable&&0<e.threshold&&((t=Object(l.size)(r))>e.threshold&&(n=Math.ceil(t/e.threshold),t=r.filter(function(t,e){return e%n==0}),this.set("ticks",t),this.set("originalTicks",r)))},r.prototype.getLabelAttrs=function(t,e,u){var n=this.get("label"),r=n.offset,i=n.offsetX,o=n.offsetY,a=n.rotate,s=n.formatter,c=this.getSidePoint(t.point,r),r=this.getSideVector(r,c),s=s?s(t.name,t,e):t.name,e=n.style,e=Object(l.isFunction)(e)?Object(l.get)(this.get("theme"),["label","style"],{}):e,t=Object(l.mix)({x:c.x+i,y:c.y+o,text:s,textAlign:this.getTextAnchor(r),textBaseline:this.getTextBaseline(r)},e);return a&&(t.matrix=Object(g.e)(c,a)),t},r.prototype.drawLabels=function(t){var r,n=this,i=this.get("ticks"),o=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")}),t=(Object(l.each)(i,function(t,e){n.addShape(o,{type:"text",name:"axis-label",id:n.getElementId("label-"+t.id),attrs:n.getLabelAttrs(t,e,i),delegateObject:{tick:t,item:t,index:e}})}),this.processOverlap(o),o.getChildren()),a=Object(l.get)(this.get("theme"),["label","style"],{}),e=this.get("label"),s=e.style,c=e.formatter;Object(l.isFunction)(s)&&(r=t.map(function(t){return Object(l.get)(t.get("delegateObject"),"tick")}),Object(l.each)(t,function(t,e){var n=t.get("delegateObject").tick,n=c?c(n.name,n,e):n.name,n=Object(l.mix)({},a,s(n,e,r));t.attr(n)}))},r.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,r=t.offset,i=t.spacing,i=void 0===i?0:i,o=t.autoRotate,a=e.fontSize,s=.5,n=("start"===n?s=0:"end"===n&&(s=1),this.getTickPoint(s)),s=this.getSidePoint(n,r||i+a/2),r=Object(l.mix)({x:s.x,y:s.y,text:t.text},e),i=t.rotate,a=i;return Object(l.isNil)(i)&&o&&(e=this.getAxisVector(n),a=p.a.angleTo(e,[1,0],!0)),a&&(t=Object(g.e)(s,a),r.matrix=t),r},r.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},r.prototype.applyTickStates=function(t,e){var n,r,i;this.getItemStates(t).length&&(n=this.get("tickStates"),r=this.getElementId("label-"+t.id),!(r=e.findById(r))||(i=Object(y.a)(t,"label",n))&&r.attr(i),r=this.getElementId("tickline-"+t.id),!(i=e.findById(r))||(e=Object(y.a)(t,"tickLine",n))&&i.attr(e))},r.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),r=this.get("label"),i=this.getElementByLocalId("label-"+t.id),o=this.get("tickLine"),a=this.getElementByLocalId("tickline-"+t.id);e.length?(!i||(e=Object(y.a)(t,"label",n))&&i.attr(e),!a||(e=Object(y.a)(t,"tickLine",n))&&a.attr(e)):(i&&i.attr(r.style),a&&a.attr(o.style))},r),m=t(85);function r(){return null!==d&&d.apply(this,arguments)||this}function v(e,t,n,r){var t=t.getChildren(),i=!1;return Object(l.each)(t,function(t){t=Object(m.a)(e,t,n,r);i=i||t}),i}function b(){return x}function O(t,e,n){return v(t,e,n,"head")}function x(t,e,n){return v(t,e,n,"tail")}function E(t,e,n){return v(t,e,n,"middle")}var w=t(27);function M(t){return((e=t.attr("matrix"))&&1!==e[0]?Object(g.d)(t.attr("matrix")):0)%360;var e}function P(t,e,n,r){var i=M(e),o=t?Math.abs(n.attr("y")-e.attr("y")):Math.abs(n.attr("x")-e.attr("x")),e=((t?n.attr("y")>e.attr("y"):n.attr("x")>e.attr("x"))?e:n).getBBox(),n=t?Math.abs(Math.cos(i)):Math.abs(Math.sin(i));return Object(w.i)(n,0,Math.PI/180)?e.width+r>o:e.height/n+r>o}function C(t,e,n,r){var i=(null==r?void 0:r.minGap)||0,o=e.getChildren().slice().filter(function(t){return t.get("visible")});if(!o.length)return!1;var a=!1;n&&o.reverse();for(var l=o.length,s=o[0],c=1;c<l;c++){var u=o[c];u.getBBox(),P(t,s,u,i)?(u.hide(),a=!0):s=u}return a}function A(t,e,n){var n=(null==n?void 0:n.minGap)||0,r=e.getChildren().slice();if(r.length<2)return!1;var i=!1,e=r[0],o=e.getBBox(),a=r[1],l=r.length,s=M(e),a=t?Math.abs(a.attr("y")-e.attr("y")):Math.abs(a.attr("x")-e.attr("x")),c=0,e=t?Math.abs(Math.cos(s)):Math.abs(Math.sin(s));if(1<(c=Object(w.i)(e,0,Math.PI/180)?(Object(m.b)(r)+n)/a:(o.height/e+n)/a)){c=Math.ceil(c);for(var u=0;u<l;u++)u%c!=0&&(r[u].hide(),i=!0)}return i}function S(){return I}function j(t,e,n,r){return C(t,e,!1,r)}function D(t,e,n,r){return C(t,e,!0,r)}function T(t,e,l,n){var r=(null==n?void 0:n.minGap)||0,i=e.getChildren().slice();if(i.length<=2)return!1;for(var o=!1,a=i.length,n=i[0],e=i[a-1],s=n,c=1;c<a-1;c++){var u=i[c];u.getBBox(),P(t,s,u,r)?(u.hide(),o=!0):s=u}return P(t,s,e,r)&&(s.hide(),o=!0),o}function I(t,e,n,r){r=A(t,e,r);return r=C(t,e,!1)?!0:r}function k(t,e,n,r){var i,o=e.getChildren().slice(),a=A(t,e,r);return 2<o.length&&(i=o[0],o=o[o.length-1],i.get("visible")||(i.show(),C(t,e,!1,r)&&(a=!0)),o.get("visible")||(o.show(),C(t,e,!0,r)&&(a=!0))),a}function L(t,e,n,r){e=e.getChildren();if(!e.length)return!1;if(!t&&e.length<2)return!1;var i,o=Object(m.b)(e),a=!1;return(a=t?!!n&&n<o:o>Math.abs(e[1].attr("x")-e[0].attr("x")))&&(t=e,i=r(n,o),Object(l.each)(t,function(t){var e=t.attr("x"),n=t.attr("y"),e=Object(g.e)({x:e,y:n},i);t.attr("matrix",e)})),a}function R(){return B}function B(t,e,n,r){return L(t,e,n,function(){return Object(l.isNumber)(r)?r:t?i.a.verticalAxisRotate:i.a.horizontalAxisRotate})}function N(r,t,e){return L(r,t,e,function(t,e){if(!t)return r?i.a.verticalAxisRotate:i.a.horizontalAxisRotate;if(r)return-Math.acos(t/e);var n=0;return n=e<t||(n=Math.asin(t/e))>Math.PI/4?Math.PI/4:n})}U=_,Object(a.b)(s,U),s.prototype.getDefaultCfg=function(){var t=U.prototype.getDefaultCfg.call(this);return Object(a.a)(Object(a.a)({},t),{type:"line",locationType:"region",start:null,end:null})},s.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},s.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),e=this.get("end"),n=U.prototype.getInnerLayoutBBox.call(this),r=Math.min(t.x,e.x,n.x),i=Math.min(t.y,e.y,n.y),o=Math.max(t.x,e.x,n.maxX),t=Math.max(t.y,e.y,n.maxY);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:t,width:o-r,height:t-i}},s.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return Object(l.isNumberEqual)(t.x,e.x)},s.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return Object(l.isNumberEqual)(t.y,e.y)},s.prototype.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,n=n.y-e.y;return{x:e.x+r*t,y:e.y+n*t}},s.prototype.getSideVector=function(t){var e=this.getAxisVector(),e=p.c.normalize([0,0],e),n=this.get("verticalFactor"),e=[e[1],-1*e[0]];return p.c.scale([0,0],e,t*n)},s.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},s.prototype.processOverlap=function(e){var n,t,r,i,o,a,s=this,c=this.isVertical(),u=this.isHorizontal();(c||u)&&(n=this.get("label"),u=this.get("title"),i=this.get("verticalLimitLength"),t=n.offset,r=i,o=i=0,u&&(i=u.style.fontSize,o=u.spacing),r=r&&r-t-o-i,a=this.get("overlapOrder"),Object(l.each)(a,function(t){n[t]&&s.canProcessOverlap(t)&&s.autoProcessOverlap(t,n[t],e,r)}),u&&Object(l.isNil)(u.offset)&&(a=e.getCanvasBBox(),c=c?a.width:a.height,u.offset=t+c+o+i/2))},s.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||Object(l.isNil)(e.rotate)},s.prototype.autoProcessOverlap=function(t,e,n,r){var i,o=this,a=this.isVertical(),s=!1,c=u[t];!0===e?(this.get("label"),s=c.getDefault()(a,n,r)):Object(l.isFunction)(e)?s=e(a,n,r):Object(l.isObject)(e)?c[e.type]&&(s=c[e.type](a,n,r,e.cfg)):c[e]&&(s=c[e](a,n,r)),"autoRotate"===t?s&&(c=n.getChildren(),i=this.get("verticalFactor"),Object(l.each)(c,function(t){"center"===t.attr("textAlign")&&t.attr("textAlign",0<i?"end":"start")})):"autoHide"===t&&(e=n.getChildren().slice(0),Object(l.each)(e,function(t){t.get("visible")||(o.get("isRegister")&&o.unregisterElement(t),t.remove())}))};var F,U,W=s,z=(F=_,Object(a.b)(o,F),o.prototype.getDefaultCfg=function(){var t=F.prototype.getDefaultCfg.call(this);return Object(a.a)(Object(a.a)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},o.prototype.getLinePath=function(){var t,e,n,r=this.get("center"),i=r.x,r=r.y,o=this.get("radius"),a=o,s=this.get("startAngle"),c=this.get("endAngle");return Math.abs(c-s)===2*Math.PI?[["M",i,r-a],["A",o,a,0,1,1,i,r+a],["A",o,a,0,1,1,i,r-a],["Z"]]:(t=this.getCirclePoint(s),e=this.getCirclePoint(c),n=Math.abs(c-s)>Math.PI?1:0,[["M",i,r],["L",t.x,t.y],["A",o,a,0,n,c<s?0:1,e.x,e.y],["L",i,r]])},o.prototype.getTickPoint=function(t){var e=this.get("startAngle"),e=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(e)},o.prototype.getSideVector=function(t,e){var n=this.get("center"),e=[e.x-n.x,e.y-n.y],n=this.get("verticalFactor"),r=p.c.length(e);return p.c.scale(e,e,n*t/r),e},o.prototype.getAxisVector=function(t){var e=this.get("center"),t=[t.x-e.x,t.y-e.y];return[t[1],-1*t[0]]},o.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},o.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||Object(l.isNil)(e.rotate)},o.prototype.processOverlap=function(e){var n=this,r=this.get("label"),t=this.get("title"),i=this.get("verticalLimitLength"),o=r.offset,a=i,i=0,s=0,c=(t&&(i=t.style.fontSize,s=t.spacing),a=a&&a-o-s-i,this.get("overlapOrder"));Object(l.each)(c,function(t){r[t]&&n.canProcessOverlap(t)&&n.autoProcessOverlap(t,r[t],e,a)}),t&&Object(l.isNil)(t.offset)&&(c=e.getCanvasBBox().height,t.offset=o+c+s+i/2)},o.prototype.autoProcessOverlap=function(t,e,n,r){var i,o=this,a=!1,s=u[t];0<r&&(!0===e?a=s.getDefault()(!1,n,r):Object(l.isFunction)(e)?a=e(!1,n,r):Object(l.isObject)(e)?s[e.type]&&(a=s[e.type](!1,n,r,e.cfg)):s[e]&&(a=s[e](!1,n,r))),"autoRotate"===t?a&&(s=n.getChildren(),i=this.get("verticalFactor"),Object(l.each)(s,function(t){"center"===t.attr("textAlign")&&t.attr("textAlign",0<i?"end":"start")})):"autoHide"===t&&(e=n.getChildren().slice(0),Object(l.each)(e,function(t){t.get("visible")||(o.get("isRegister")&&o.unregisterElement(t),t.remove())}))},o);function o(){return null!==F&&F.apply(this,arguments)||this}function s(){return null!==U&&U.apply(this,arguments)||this}},function(c,u,t){"use strict";var e=t(34),d=t(36),f=t(31),p=t(128),o=t(71),l=t(53),g=t(137),y=t(135),h=t(0),_=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,m=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,v=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function b(t){t=t.match(v);if(!t)return"";var e="";return t.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),Object(h.each)(t,function(t){t=t.split(":"),e+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),e}T.prototype.match=function(t,e){return this.cfg===e};var n,O=T,x={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},E={x:"-40%",y:"-40%",width:"200%",height:"200%"},w=(s.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return Object(h.each)(Object.keys(r),function(t){if(r[t]!==e[t])return n=!1}),n},s.prototype.update=function(t,e){var n=this.cfg;return n[x[t]]=e,this._parseShadow(n,this.el),this},s.prototype._parseShadow=function(t,e){t='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color||"#000")+'"\n      flood-opacity="'+(t.opacity||1)+'"\n      />';e.innerHTML=t},s),M=(a.prototype.match=function(){return!1},a.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},a.prototype._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;Object(h.isArray)(r)&&(r=r.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",""+i/t)},a.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},a),P=(D.prototype.match=function(){return!1},D.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},D),C=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,A=(j.prototype.match=function(t,e){return this.cfg===e},j),S=(i.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},i.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},i.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},i.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;t=new M(t,e);return this.defaultArrow[n]=t,this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addGradient=function(t){t=new O(t);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(t,e){t=new M(t,e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addShadow=function(t){t=new w(t);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(t){t=new A(t);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(t){t=new P(t);return this.el.appendChild(t.el),this.add(t),t.id},i),t=(n=d.AbstractCanvas,Object(e.b)(r,n),r.prototype.getShapeBase=function(){return g},r.prototype.getGroupBase=function(){return y.a},r.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!f.a[r.tagName]){for(var i=r.parentNode;i&&!f.a[i.tagName];)i=i.parentNode;r=i}return this.find(function(t){return t.get("el")===r})},r.prototype.createDom=function(){var t=Object(l.b)("svg"),e=new S(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var n,e,r=this.get("context"),i=this.get("el");"sort"===t?(n=this.get("children"))&&n.length&&Object(l.d)(this,function(t,e){return n.indexOf(t)-n.indexOf(e)?1:0}):"clear"===t?i&&(i.innerHTML="",(e=r.el).innerHTML="",i.appendChild(e)):"matrix"===t?Object(o.c)(this):"clip"===t?Object(o.a)(this,r):"changeSize"===t&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Object(o.a)(this,t),e.length&&Object(p.a)(t,e)},r);function r(t){return n.call(this,Object(e.a)(Object(e.a)({},t),{autoDraw:!0,renderer:"svg"}))||this}function i(t){var e=Object(l.b)("defs"),n=Object(h.uniqueId)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}function j(t){this.cfg={};var e=Object(l.b)("pattern"),n=(e.setAttribute("patternUnits","userSpaceOnUse"),Object(l.b)("image")),r=(e.appendChild(n),Object(h.uniqueId)("pattern_")),r=(e.id=r,this.el=e,this.id=r,this.cfg=t,C.exec(t)[2]),i=(n.setAttribute("href",r),new Image);function o(){e.setAttribute("width",""+i.width),e.setAttribute("height",""+i.height)}return r.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=r,i.complete?o():(i.onload=o,i.src=i.src),this}function D(t){this.type="clip",this.cfg={};var e=Object(l.b)("clipPath"),n=(this.el=e,this.id=Object(h.uniqueId)("clip_"),e.id=this.id,t.cfg.el);return e.appendChild(n),this.cfg=t,this}function a(t,e){this.cfg={};var n=Object(l.b)("marker"),r=Object(h.uniqueId)("marker_"),i=(n.setAttribute("id",r),Object(l.b)("path")),n=(i.setAttribute("stroke",t.stroke||"none"),i.setAttribute("fill",t.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r,t["marker-start"===e?"startArrow":"endArrow"]);return this.stroke=t.stroke||"#000",!0===n?this._setDefaultPath(e,i):(this.cfg=n,this._setMarker(t.lineWidth,i)),this}function s(t){this.type="filter",this.cfg={},this.type="filter";var n=Object(l.b)("filter");return Object(h.each)(E,function(t,e){n.setAttribute(e,t)}),this.el=n,this.id=Object(h.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,n),this}function T(t){this.cfg={};var e,n,r,i,o,a,s,c=null,u=Object(h.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?(e=t,n=c=Object(l.b)("linearGradient"),e=_.exec(e),i=Object(h.mod)(Object(h.toRadian)(parseFloat(e[1])),2*Math.PI),e=e[2],o=0<=i&&i<.5*Math.PI?(r={x:0,y:0},{x:1,y:1}):.5*Math.PI<=i&&i<Math.PI?(r={x:1,y:0},{x:0,y:1}):Math.PI<=i&&i<1.5*Math.PI?(r={x:1,y:1},{x:0,y:0}):(r={x:0,y:1},{x:1,y:0}),i=Math.tan(i),a=i*i,s=(o.x-r.x+i*(o.y-r.y))/(1+a)+r.x,i=i*(o.x-r.x+i*(o.y-r.y))/(1+a)+r.y,n.setAttribute("x1",r.x),n.setAttribute("y1",r.y),n.setAttribute("x2",s),n.setAttribute("y2",i),n.innerHTML=b(e)):(o=t,a=c=Object(l.b)("radialGradient"),o=m.exec(o),r=parseFloat(o[1]),s=parseFloat(o[2]),i=parseFloat(o[3]),o=o[4],a.setAttribute("cx",r),a.setAttribute("cy",s),a.setAttribute("r",i),a.innerHTML=b(o)),c.setAttribute("id",u),this.el=c,this.id=u,this.cfg=t,this}u.a=t},function(l,t,e){"use strict";e.r(t),e.d(t,"Line",function(){return _}),e.d(t,"Circle",function(){return m}),e.d(t,"Base",function(){return y}),e.d(t,"Html",function(){return b});var n,h,d,f,a=e(11),s=e(27),p=e(0),t=e(37),g=e(55),r=e(29),y=(f=t.a,Object(a.b)(u,f),u.prototype.getDefaultCfg=function(){var t=f.prototype.getDefaultCfg.call(this);return Object(a.a)(Object(a.a)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:r.a.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:r.a.textColor,textAlign:"center",textBaseline:"middle",fontFamily:r.a.fontFamily}},textBackground:{padding:5,style:{stroke:r.a.lineColor}}}})},u.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},u.prototype.renderText=function(t){var e,n,r=this.get("text"),i=r.style,o=r.autoRotate,r=r.content;Object(p.isNil)(r)||(e=this.getTextPoint(),n=null,o&&(o=this.getRotateAngle(),n=Object(g.e)(e,o)),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(a.a)(Object(a.a)(Object(a.a)({},e),{text:r,matrix:n}),i)}))},u.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(a.a)({path:e},n)})},u.prototype.renderBackground=function(t){var e,n,r=this.getElementId("text"),r=t.findById(r),i=this.get("textBackground");i&&r&&(e=r.getBBox(),n=Object(s.c)(i.padding),i=i.style,this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(a.a)({x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],matrix:r.attr("matrix")},i)}).toBack())},u),_=(d=y,Object(a.b)(O,d),O.prototype.getDefaultCfg=function(){var t=d.prototype.getDefaultCfg.call(this);return Object(a.a)(Object(a.a)({},t),{type:"line",locationType:"region",start:null,end:null})},O.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,t=t.end,n=this.get("text").position,t=Math.atan2(t.y-e.y,t.x-e.x);return"start"===n?t-Math.PI/2:t+Math.PI/2},O.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,t=t.end,n=this.get("text"),r=n.position,n=n.offset;return Object(s.f)(e,t,r,n)},O.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,t=t.end;return[["M",e.x,e.y],["L",t.x,t.y]]},O),m=(h=y,Object(a.b)(c,h),c.prototype.getDefaultCfg=function(){var t=h.prototype.getDefaultCfg.call(this);return Object(a.a)(Object(a.a)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},c.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,t=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:t-Math.PI/2},c.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,t=t.offset,n=this.getLocation(),r=n.center,i=n.radius,o=n.startAngle,n=n.endAngle,e="start"===e?o:n,o=this.getRotateAngle()-Math.PI,n=Object(s.e)(r,i,e),r=Math.cos(o)*t,i=Math.sin(o)*t;return{x:n.x+r,y:n.y+i}},c.prototype.getLinePath=function(){var t,e,n=this.getLocation(),r=n.center,i=n.radius,o=n.startAngle,n=n.endAngle;return n-o==2*Math.PI?[["M",t=r.x,(e=r.y)-i],["A",i,i,0,1,1,t,e+i],["A",i,i,0,1,1,t,e-i],["Z"]]:(t=Object(s.e)(r,i,o),e=Object(s.e)(r,i,n),r=Math.abs(n-o)>Math.PI?1:0,[["M",t.x,t.y],["A",i,i,0,r,n<o?0:1,e.x,e.y]])},c),o=e(18),t=e(109),v=((e={})["g2-crosshair"]={position:"relative"},e["g2-crosshair-line"]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},e["g2-crosshair-text"]={position:"absolute",color:r.a.textColor,fontFamily:r.a.fontFamily},e),b=(n=t.a,Object(a.b)(i,n),i.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Object(a.a)(Object(a.a)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="g2-crosshair"></div>',crosshairTpl:'<div class="g2-crosshair-line"></div>',textTpl:'<span class="g2-crosshair-text">{content}</span>',domStyles:null,containerClassName:"g2-crosshair",defaultStyles:v,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},i.prototype.render=function(){this.resetText(),this.resetPosition()},i.prototype.initCrossHair=function(){var t=this.getContainer(),e=this.get("crosshairTpl"),e=Object(o.b)(e);t.appendChild(e),this.applyStyle("g2-crosshair-line",e),this.set("crosshairEl",e)},i.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,t=t.end,n=this.get("text"),r=n.position,n=n.offset;return Object(s.f)(e,t,r,n)},i.prototype.resetText=function(){var t,e,n=this.get("text"),r=this.get("textEl");n?(t=n.content,r||(e=this.getContainer(),n=Object(p.substitute)(this.get("textTpl"),n),r=Object(o.b)(n),e.appendChild(r),this.applyStyle("g2-crosshair-text",r),this.set("textEl",r)),r.innerHTML=t):r&&r.remove()},i.prototype.isVertical=function(t,e){return t.x===e.x},i.prototype.resetPosition=function(){var t=this.get("crosshairEl"),e=(t||(this.initCrossHair(),t=this.get("crosshairEl")),this.get("start")),n=this.get("end"),r=Math.min(e.x,n.x),i=Math.min(e.y,n.y);this.isVertical(e,n)?Object(o.e)(t,{width:"1px",height:Object(s.l)(Math.abs(n.y-e.y))}):Object(o.e)(t,{height:"1px",width:Object(s.l)(Math.abs(n.x-e.x))}),Object(o.e)(t,{top:Object(s.l)(i),left:Object(s.l)(r)}),this.alignText()},i.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,r=this.getTextPoint();switch(e){case"center":r.x=r.x-n/2;break;case"right":r.x=r.x-n}Object(o.e)(t,{top:Object(s.l)(r.y),left:Object(s.l)(r.x)})}},i.prototype.updateInner=function(t){Object(p.hasKey)(t,"text")&&this.resetText(),n.prototype.updateInner.call(this,t)},i);function i(){return null!==n&&n.apply(this,arguments)||this}function c(){return null!==h&&h.apply(this,arguments)||this}function O(){return null!==d&&d.apply(this,arguments)||this}function u(){return null!==f&&f.apply(this,arguments)||this}},function(c,t,e){"use strict";e.d(t,"a",function(){return w});var f=e(11),p=e(0),t=e(37),u={opacity:0},l={stroke:"#C5C5C5",strokeOpacity:.85},h={fill:"#CACED4",opacity:.85},g=e(59),y=e(69);function _(t){return t=t,Object(p.map)(t,function(t,e){return[0===e?"M":"L",t[0],t[1]]})}i=t.a,Object(f.b)(s,i),s.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:u,lineStyle:l,areaStyle:h})},s.prototype.renderInner=function(t){var n,r,l,h,e=this.cfg,i=e.width,o=e.height,d=e.data,a=e.smooth,s=e.isArea,c=e.backgroundStyle,u=e.lineStyle,e=e.areaStyle,a=(this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(f.a)({x:0,y:0,width:i,height:o},c)}),c=d,n=i,r=o,void 0===(a=a)&&(a=!0),l=new y.b({values:c}),h=new y.a({values:Object(p.map)(c,function(t,e){return e})}),c=Object(p.map)(c,function(t,e){return[h.scale(e)*n,r-l.scale(t)*r]}),(a?function(t){if(t.length<=2)return _(t);var e=[],n=(Object(p.each)(t,function(t){Object(p.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])}),Object(g.a)(e,!1)),t=Object(p.head)(t),r=t[0],t=t[1];return n.unshift(["M",r,t]),n}:_)(c));this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Object(f.a)({path:a},u)}),s&&(c=a,u=i,s=o,a=d,c=Object(f.d)(c),s=s,a=new y.b({values:a}),i=a.max<0?a.max:Math.max(0,a.min),a=s-a.scale(i)*s,c.push(["L",u,a]),c.push(["L",0,a]),c.push(["Z"]),o=c,this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Object(f.a)({path:o},e)}))},s.prototype.applyOffset=function(){var t=this.cfg,e=t.x,t=t.y;this.moveElementTo(this.get("group"),{x:e,y:t})};var r,n,i,d=s,m={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},v=(n=t.a,Object(f.b)(a,n),a.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:m})},a.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,e=e.style,i=e.fill,o=e.stroke,a=e.radius,s=e.opacity,e=e.cursor,i=(this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:r,fill:i,stroke:o,radius:a,opacity:s,cursor:e}}),1/3*n),a=2/3*n,s=.25*r,n=.75*r;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:i,y1:s,x2:i,y2:n,stroke:o,cursor:e}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:a,y1:s,x2:a,y2:n,stroke:o,cursor:e}})},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.bindEvents=function(){var e=this;this.get("group").on("mouseenter",function(){var t=e.get("style").highLightFill;e.getElementByLocalId("background").attr("fill",t),e.draw()}),this.get("group").on("mouseleave",function(){var t=e.get("style").fill;e.getElementByLocalId("background").attr("fill",t),e.draw()})},a.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},a),b={fill:"#416180",opacity:.05},O={fill:"#5B8FF9",opacity:.15,cursor:"move"},x={width:10,height:24},E={textBaseline:"middle",fill:"#000",opacity:.45},w=(r=t.a,Object(f.b)(o,r),o.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),r=this.get("end"),i=Object(p.clamp)(n,t,e),t=Object(p.clamp)(r,t,e);this.get("isInit")||n===i&&r===t||this.setValue([i,t])},o.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},o.prototype.setValue=function(t){var e,n=this.getRange();Object(p.isArray)(t)&&2===t.length&&(e=[this.get("start"),this.get("end")],this.update({start:Object(p.clamp)(t[0],n.min,n.max),end:Object(p.clamp)(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:e,value:t}))},o.prototype.getValue=function(){return[this.get("start"),this.get("end")]},o.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:b,foregroundStyle:O,handlerStyle:x,textStyle:E}})},o.prototype.update=function(t){var e=t.start,n=t.end,t=Object(f.a)({},t);Object(p.isNil)(e)||(t.start=Object(p.clamp)(e,0,1)),Object(p.isNil)(n)||(t.end=Object(p.clamp)(n,0,1)),r.prototype.update.call(this,t),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},o.prototype.init=function(){this.set("start",Object(p.clamp)(this.get("start"),0,1)),this.set("end",Object(p.clamp)(this.get("end"),0,1)),r.prototype.init.call(this)},o.prototype.render=function(){r.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},o.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),r=e.height,i=e.trendCfg,i=void 0===i?{}:i,o=e.minText,a=e.maxText,s=e.backgroundStyle,s=void 0===s?{}:s,c=e.foregroundStyle,c=void 0===c?{}:c,e=e.textStyle,e=void 0===e?{}:e,u=Object(p.deepMix)({},m,this.cfg.handlerStyle),i=(Object(p.size)(Object(p.get)(i,"data"))&&(this.trend=this.addComponent(t,Object(f.a)({component:d,id:this.getElementId("trend"),x:0,y:0,width:n,height:r},i))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(f.a)({x:0,y:0,width:n,height:r},s)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Object(f.a)({y:r/2,textAlign:"right",text:o,silent:!1},e)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Object(f.a)({y:r/2,textAlign:"left",text:a,silent:!1},e)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(f.a)({y:0,height:r},c)}),Object(p.get)(u,"width",10)),n=Object(p.get)(u,"height",24);this.minHandler=this.addComponent(t,{component:v,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(r-n)/2,width:i,height:n,cursor:"ew-resize",style:u}),this.maxHandler=this.addComponent(t,{component:v,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(r-n)/2,width:i,height:n,cursor:"ew-resize",style:u})},o.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},o.prototype.initEvent=function(){this.bindEvents()},o.prototype.updateUI=function(t,n,r){var e=this.cfg,i=e.start,o=e.end,a=e.width,s=e.minText,c=e.maxText,u=e.handlerStyle,e=e.height,i=i*a,o=o*a,a=(this.trend&&(this.trend.update({width:a,height:e}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",i),t.attr("width",o-i),Object(p.get)(u,"width",10)),e=(n.attr("text",s),r.attr("text",c),this._dodgeText([i,o],n,r)),t=e[0],u=e[1];this.minHandler&&(this.minHandler.update({x:i-a/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(p.each)(t,function(t,e){return n.attr(e,t)}),this.maxHandler&&(this.maxHandler.update({x:o-a/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(p.each)(u,function(t,e){return r.attr(e,t)})},o.prototype.bindEvents=function(){var t=this.get("group"),t=(t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler")),t.findById(this.getElementId("foreground")));t.on("mousedown",this.onMouseDown("foreground")),t.on("touchstart",this.onMouseDown("foreground"))},o.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":var i=0-n,o=1-n;return Math.min(o,Math.max(i,t));case"maxHandler":return i=0-r,o=1-r,Math.min(o,Math.max(i,t));case"foreground":return i=0-n,o=1-r,Math.min(o,Math.max(i,t))}},o.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":r+=t;break;case"foreground":n+=t,r+=t}this.set("start",n),this.set("end",r)},o.prototype._dodgeText=function(t,e,n){var r=this.cfg,i=r.handlerStyle,r=r.width,i=Object(p.get)(i,"width",10),o=t[0],t=t[1],a=!1,s=(t<o&&(o=(s=[t,o])[0],t=s[1],e=(s=[n,e])[0],n=s[1],a=!0),e.getBBox()),e=n.getBBox(),n=s.width>o-2?{x:o+i/2+2,textAlign:"left"}:{x:o-i/2-2,textAlign:"right"},s=e.width>r-t-2?{x:t-i/2-2,textAlign:"right"}:{x:t+i/2+2,textAlign:"left"};return a?[s,n]:[n,s]},o.prototype.draw=function(){var t=this.get("container"),t=t&&t.get("canvas");t&&t.draw()},o.prototype.getContainerDOM=function(){var t=this.get("container"),t=t&&t.get("canvas");return t&&t.get("container")},o);function o(){var o=null!==r&&r.apply(this,arguments)||this;return o.onMouseDown=function(e){return function(t){o.currentTarget=e;t=t.originalEvent,t.stopPropagation(),t.preventDefault(),o.prevX=Object(p.get)(t,"touches.0.pageX",t.pageX),o.prevY=Object(p.get)(t,"touches.0.pageY",t.pageY),t=o.getContainerDOM();t.addEventListener("mousemove",o.onMouseMove),t.addEventListener("mouseup",o.onMouseUp),t.addEventListener("mouseleave",o.onMouseUp),t.addEventListener("touchmove",o.onMouseMove),t.addEventListener("touchend",o.onMouseUp),t.addEventListener("touchcancel",o.onMouseUp)}},o.onMouseMove=function(t){var e=o.cfg.width,n=[o.get("start"),o.get("end")],r=(t.stopPropagation(),t.preventDefault(),Object(p.get)(t,"touches.0.pageX",t.pageX)),t=Object(p.get)(t,"touches.0.pageY",t.pageY),i=r-o.prevX,i=o.adjustOffsetRange(i/e);o.updateStartEnd(i),o.updateUI(o.getElementByLocalId("foreground"),o.getElementByLocalId("minText"),o.getElementByLocalId("maxText")),o.prevX=r,o.prevY=t,o.draw(),o.emit("sliderchange",[o.get("start"),o.get("end")].sort()),o.delegateEmit("valuechanged",{originValue:n,value:[o.get("start"),o.get("end")]})},o.onMouseUp=function(){o.currentTarget&&(o.currentTarget=void 0);var t=o.getContainerDOM();t&&(t.removeEventListener("mousemove",o.onMouseMove),t.removeEventListener("mouseup",o.onMouseUp),t.removeEventListener("mouseleave",o.onMouseUp),t.removeEventListener("touchmove",o.onMouseMove),t.removeEventListener("touchend",o.onMouseUp),t.removeEventListener("touchcancel",o.onMouseUp))},o}function a(){return null!==n&&n.apply(this,arguments)||this}function s(){return null!==i&&i.apply(this,arguments)||this}},function(i,t,e){"use strict";e.d(t,"a",function(){return E});var w=e(3),t=e(19),D=e(0),n=e(8),M=e(2),a=e(25),P=e(77),s={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function C(t,e){return t=t,n=e=Object(D.assign)({},s,e),x=[256,256],y=u,_=h,O=l,w=d,M=f,P=p,E=Math.random,m=[],C=1/0,A=c,S=l,j=g,(v={}).start=function(){for(var t,e,n,r,i,o=x[0],a=x[1],l=((t=j()).width=t.height=1,e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2),t.width=2048/e,t.height=2048/e,(t=t.getContext("2d")).fillStyle=t.strokeStyle="red",t.textAlign="center",{context:t,ratio:e}),h=v.board||k((x[0]>>5)*x[1]),d=m.length,f=[],p=m.map(function(t,e,n){return t.text=A.call(this,t,e,n),t.font=y.call(this,t,e,n),t.style=S.call(this,t,e,n),t.weight=O.call(this,t,e,n),t.rotate=w.call(this,t,e,n),t.size=~~_.call(this,t,e,n),t.padding=M.call(this,t,e,n),t}).sort(function(t,e){return e.size-t.size}),s=-1,c=v.board?[{x:0,y:0},{x:o,y:a}]:null,g=Date.now();Date.now()-g<C&&++s<d;){var u=p[s];u.x=o*(E()+.5)>>1,u.y=a*(E()+.5)>>1,function(l,t,h,d){if(!t.sprite){var e=l.context,n=l.ratio,r=(e.clearRect(0,0,2048/n,2048/n),0),i=0,f=0,p=h.length;for(--d;++d<p;){t=h[d],e.save(),e.font=t.style+" "+t.weight+" "+~~((t.size+1)/n)+"px "+t.font;var g,y,o,a,s=e.measureText(t.text+"m").width*n,c=t.size<<1;if(t.rotate?(a=Math.sin(t.rotate*T),o=Math.cos(t.rotate*T),g=s*o,y=s*a,o=c*o,a=c*a,s=Math.max(Math.abs(g+a),Math.abs(g-a))+31>>5<<5,c=~~Math.max(Math.abs(y+o),Math.abs(y-o))):s=s+31>>5<<5,f<c&&(f=c),2048<=r+s&&(i+=f,f=r=0),2048<=i+c)break;e.translate((r+(s>>1))/n,(i+(c>>1))/n),t.rotate&&e.rotate(t.rotate*T),e.fillText(t.text,0,0),t.padding&&(e.lineWidth=2*t.padding,e.strokeText(t.text,0,0)),e.restore(),t.width=s,t.height=c,t.xoff=r,t.yoff=i,t.x1=s>>1,t.y1=c>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,r+=s}for(var _=e.getImageData(0,0,2048/n,2048/n).data,m=[];0<=--d;)if((t=h[d]).hasText){for(var v=(s=t.width)>>5,u=(c=t.y1-t.y0,0);u<c*v;u++)m[u]=0;if(null==(r=t.xoff))return;i=t.yoff;for(var b=0,O=-1,x=0;x<c;x++){for(u=0;u<s;u++){var E=v*x+(u>>5),w=_[2048*(i+x)+(r+u)<<2]?1<<31-u%32:0;m[E]|=w,b|=w}b?O=x:(t.y0++,c--,x--,i++)}t.y1=t.y0+O,t.sprite=m.slice(0,(t.y1-t.y0)*v)}}}(l,u,p,s),u.hasText&&b(h,u,c)&&(f.push(u),c?v.hasImage||(r=u,i=void 0,i=(n=c)[0],n=n[1],r.x+r.x0<i.x&&(i.x=r.x+r.x0),r.y+r.y0<i.y&&(i.y=r.y+r.y0),r.x+r.x1>n.x&&(n.x=r.x+r.x1),r.y+r.y1>n.y&&(n.y=r.y+r.y1)):c=[{x:u.x+u.x0,y:u.y+u.y0},{x:u.x+u.x1,y:u.y+u.y1}],u.x-=x[0]>>1,u.y-=x[1]>>1)}return v._tags=f,v._bounds=c,v},v.createMask=function(t){var e=document.createElement("canvas"),n=x[0],r=x[1];if(n&&r){var i=n>>5,o=k((n>>5)*r),e=(e.width=n,e.height=r,e.getContext("2d"));e.drawImage(t,0,0,t.width,t.height,0,0,n,r);for(var a=e.getImageData(0,0,n,r).data,s=0;s<r;s++)for(var c=0;c<n;c++){var u=s*n+c<<2,u=250<=a[u]&&250<=a[1+u]&&250<=a[2+u]?1<<31-c%32:0;o[i*s+(c>>5)]|=u}v.board=o,v.hasImage=!0}},v.timeInterval=function(t){C=null==t?1/0:t},v.words=function(t){m=t},v.size=function(t){x=[+t[0],+t[1]]},v.font=function(t){y=I(t)},v.fontWeight=function(t){O=I(t)},v.rotate=function(t){w=I(t)},v.spiral=function(t){P=L[t]||t},v.fontSize=function(t){_=I(t)},v.padding=function(t){M=I(t)},v.random=function(t){E=I(t)},r=v,["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(t){Object(D.isNil)(n[t])||r[t](n[t])}),r.words(t),n.imageMask&&r.createMask(n.imageMask),(t=r.start()._tags).forEach(function(t){t.x+=n.size[0]/2,t.y+=n.size[1]/2}),e=n.size,i=e[0],e=e[1],t.push({text:"",value:0,x:0,y:0,opacity:0}),t.push({text:"",value:0,x:i,y:e,opacity:0}),t;function b(t,e,n){for(var r,i,l=e.x,h=e.y,d=Math.sqrt(x[0]*x[0]+x[1]*x[1]),f=P(x),o=E()<.5?1:-1,p=-o;(s=f(p+=o))&&(r=~~s[0],i=~~s[1],!(Math.min(Math.abs(r),Math.abs(i))>=d));)if(e.x=l+r,e.y=h+i,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>x[0]||e.y+e.y1>x[1]||n&&function(t,e,n){n>>=5;for(var r,l=t.sprite,i=t.width>>5,o=t.x-(i<<4),a=127&o,h=32-a,d=t.y1-t.y0,s=(t.y+t.y0)*n+(o>>5),c=0;c<d;c++){for(var u=r=0;u<=i;u++)if((r<<h|(u<i?(r=l[c*i+u])>>>a:0))&e[s+u])return!0;s+=n}return!1}(e,t,x[0])||n&&!(e.x+e.x1>n[0].x&&e.x+e.x0<n[1].x&&e.y+e.y1>n[0].y&&e.y+e.y0<n[1].y))){for(var g=e.sprite,a=e.width>>5,y=x[0]>>5,s=e.x-(a<<4),_=127&s,m=32-_,v=e.y1-e.y0,b=void 0,O=(e.y+e.y0)*y+(s>>5),c=0;c<v;c++){for(var b=0,u=0;u<=a;u++)t[O+u]|=b<<m|(u<a?(b=g[c*a+u])>>>_:0);O+=y}return delete e.sprite,1}}var n,x,y,_,O,w,M,P,E,m,C,A,S,j,v,r,i}var T=Math.PI/180;function c(t){return t.text}function u(){return"serif"}function l(){return"normal"}function h(t){return t.value}function d(){return 90*~~(2*Math.random())}function f(){return 1}function p(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function k(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function g(){return document.createElement("canvas")}function I(t){return Object(D.isFunction)(t)?t:function(){return t}}var L={archimedean:p,rectangular:function(t){var n=4*t[0]/t[1],r=0,i=0;return function(t){var e=t<0?-1:1;switch(Math.sqrt(1+4*e*t)-e&3){case 0:r+=n;break;case 1:i+=4;break;case 2:r-=n;break;default:i-=4}return[r,i]}}};function y(t){var e=t.options,r=t.chart,t=r.width,l=r.height,h=r.padding,d=r.appendPadding,f=r.ele,n=e.data,i=e.imageMask,p=e.wordField,o=e.weightField,g=e.colorField,a=e.wordStyle,y=e.timeInterval,_=e.random,m=e.spiral,s=e.autoFit,s=void 0===s||s,v=e.placementStrategy;if(!n||!n.length)return[];var b,O=a.fontFamily,x=a.fontWeight,E=a.padding,a=a.fontSize,c=(b=o,n.map(function(t){return t[b]}).filter(function(t){return"number"==typeof t&&!isNaN(t)})),c=[Math.min.apply(Math,c),Math.max.apply(Math,c)],n=n.map(function(t){return{text:t[p],value:t[o],color:t[g],datum:t}}),u={imageMask:i,font:O,fontSize:function(t,e){if(Object(D.isFunction)(t))return t;if(Object(D.isArray)(t)){var n=t[0],r=t[1];if(!e)return function(){return(r+n)/2};var i=e[0],o=e[1];return o===i?function(){return(r+n)/2}:function(t){t=t.value;return(r-n)/(o-i)*(t-i)+n}}return function(){return t}}(a,c),fontWeight:x,size:function(t){var e=t.width,n=t.height,r=t.container,i=t.autoFit,o=t.padding,t=t.appendPadding;i&&(i=Object(M.k)(r),e=i.width,n=i.height);e=e||400,n=n||400;r=function(t){var e=Object(P.b)(t.padding),t=Object(P.b)(t.appendPadding);return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3]]}({padding:o,appendPadding:t}),i=r[0],o=r[1],t=r[2];return[e-(r[3]+o),n-(i+t)]}({width:t,height:l,padding:h,appendPadding:d,autoFit:s,container:f}),padding:E,timeInterval:y,random:_,spiral:m,rotate:function(t){var t=function(t){var e=t.wordStyle.rotationSteps;return e<1&&(Object(M.r)(M.a.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1),{rotation:t.wordStyle.rotation,rotationSteps:e}}(t),e=t.rotation,n=t.rotationSteps;if(!Object(D.isArray)(e))return e;var r=e[0],i=e[1],o=1===n?0:(i-r)/(n-1);return function(){return i===r?i:Math.floor(Math.random()*n)*o}}(e)};return Object(D.isFunction)(v)?((i=n.map(function(t,e,n){return Object(w.a)(Object(w.a)(Object(w.a)({},t),{hasText:!!t.text,font:I(u.font)(t,e,n),weight:I(u.fontWeight)(t,e,n),rotate:I(u.rotate)(t,e,n),size:I(u.fontSize)(t,e,n),style:"normal"}),v.call(r,t,e,n))})).push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:u.size[0],y:u.size[1],opacity:0}),i):C(n,u)}var _=Object(M.c)({},t.b.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});function m(t){var e=t.chart,n=t.options,r=n.colorField,i=n.color,o=y(t),o=(e.data(o),Object(M.c)({},t,{options:{xField:"x",yField:"y",seriesField:r&&"color",rawFields:Object(D.isFunction)(i)&&Object(w.d)(Object(D.get)(n,"rawFields",[]),["datum"]),point:{color:i,shape:"word-cloud"}}}));return Object(a.e)(o).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function v(t){return Object(M.f)(Object(n.g)({x:{nice:!1},y:{nice:!1}}))(t)}function b(t){var e=t.chart,n=t.options,r=n.legend,n=n.colorField;return!1===r?e.legend(!1):n&&e.legend("color",r),t}function O(t){Object(M.f)(m,v,n.l,b,n.c,n.a,n.k,n.j)(t)}var x=e(13);Object(x.p)("point","word-cloud",{draw:function(t,e){var n=t.x,r=t.y,e=e.addShape("text",{attrs:Object(w.a)(Object(w.a)({},{fontSize:(e=t).data.size,text:e.data.text,textAlign:"center",fontFamily:e.data.font,fontWeight:e.data.weight,fill:e.color||e.defaultStyle.stroke,textBaseline:"alphabetic"}),{x:n,y:r})}),n=t.data.rotate;return"number"==typeof n&&x.h.rotate(e,n*Math.PI/180),e}});o=t.b,Object(w.b)(r,o),r.getDefaultOptions=function(){return _},r.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(y({chart:this.chart,options:this.options}))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){var i=this;return new Promise(function(e){var t=i.options.imageMask;if(!t)return o.prototype.render.call(i),void e();function n(t){i.options=Object(w.a)(Object(w.a)({},i.options),{imageMask:t||null}),o.prototype.render.call(i),e()}var r=t;new Promise(function(t,e){if(r instanceof HTMLImageElement)t(r);else{var n;if(Object(D.isString)(r))return(n=new Image).crossOrigin="anonymous",n.src=r,n.onload=function(){t(n)},void(n.onerror=function(){Object(M.r)(M.a.ERROR,!1,"image %s load failed !!!",r),e()});Object(M.r)(M.a.WARN,void 0===r,"The type of imageMask option must be String or HTMLImageElement."),e()}}).then(n).catch(n)})},r.prototype.getSchemaAdaptor=function(){return O},r.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){o.prototype.triggerResize.call(t)}))};var o,E=r;function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="word-cloud",t}},function(i,t,e){"use strict";e.d(t,"a",function(){return S});var d=e(3),t=e(19),s=e(75),f=e(0),u=e(25),a=e(8),p=e(2),l=e(77),h=["path",s.c,s.b,s.a,"name","depth","height"],o=Object(p.c)({},t.b.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),g=e(113),y=e(265),_=e(116),m={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function v(t,e){var n,r=(e=Object(f.assign)({},m,e)).as;if(!Object(f.isArray)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=Object(s.e)(e)}catch(t){console.warn(t)}i=t;var i=y.a().size(e.size).round(e.round).padding(e.padding)(_.c(i).sum(function(t){return Object(f.size)(t.children)?e.ignoreParentValue?0:t[n]-Object(f.reduce)(t.children,function(t,e){return t+e[n]},0):t[n]}).sort(e.sort)),o=r[0],a=r[1];return i.each(function(e){var t;e[o]=[e.x0,e.x1,e.x1,e.x0],e[a]=[e.y1,e.y1,e.y0,e.y0],e.name=e.name||(null===(t=e.data)||void 0===t?void 0:t.name)||(null===(t=e.data)||void 0===t?void 0:t.label),e.data.name=e.name,["x0","x1","y0","y1"].forEach(function(t){-1===r.indexOf(t)&&delete e[t]})}),Object(s.d)(i)}var b=e(219);function c(t){var e=t.data,a=t.colorField,s=t.rawFields,n=t.hierarchyConfig,c=void 0===n?{}:n,u=c.activeDepth,n={partition:v,treemap:b.a},l=t.seriesField,t=t.type||"partition",n=n[t](e,Object(d.a)(Object(d.a)({field:l||"value"},Object(f.omit)(c,["activeDepth"])),{type:"hierarchy."+t,as:["x","y"]})),h=[];return n.forEach(function(t){var e,n;if(0===t.depth)return null;if(0<u&&t.depth>u)return null;for(var r=t.data.name,i=Object(d.a)({},t);1<i.depth;)r=(null===(e=i.parent.data)||void 0===e?void 0:e.name)+" / "+r,i=i.parent;var o=Object(d.a)(Object(d.a)(Object(d.a)({},Object(p.t)(t.data,Object(d.d)(s||[],[c.field]))),((o={}).path=r,o["ancestor-node"]=i.data.name,o)),t);l&&(o[l]=t.data[l]||(null===(n=null===(n=t.parent)||void 0===n?void 0:n.data)||void 0===n?void 0:n[l])),a&&(o[a]=t.data[a]||(null===(t=null===(n=t.parent)||void 0===n?void 0:n.data)||void 0===t?void 0:t[a])),o.ext=c,o[g.b]={hierarchyConfig:c,colorField:a,rawFields:s},h.push(o)}),h}function O(t){var e,n=t.chart,r=t.options,i=r.color,o=r.colorField,o=void 0===o?"ancestor-node":o,a=r.sunburstStyle,s=r.rawFields,s=void 0===s?[]:s,r=c(r);return n.data(r),a&&(e=function(t){return Object(p.c)({},{fillOpacity:Math.pow(.85,t.depth)},Object(f.isFunction)(a)?a(t):a)}),Object(u.f)(Object(p.c)({},t,{options:{xField:"x",yField:"y",seriesField:o,rawFields:Object(f.uniq)(Object(d.d)(h,s)),polygon:{color:i,style:e}}})),t}function x(t){return t.chart.axis(!1),t}function E(t){var e,n,r=t.chart,i=t.options.label,r=Object(p.d)(r,"polygon");return i?(e=void 0===(e=i.fields)?["name"]:e,n=i.callback,i=Object(d.c)(i,["fields","callback"]),r.label({fields:e,callback:n,cfg:Object(p.A)(i)})):r.label(!1),t}function w(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius,n=n.reflect,e=e.coordinate({type:"polar",cfg:{innerRadius:r,radius:i}});return n&&e.reflect(n),t}function M(t){var e,n=t.options,r=n.hierarchyConfig,n=n.meta;return Object(p.f)(Object(a.g)({},((e={}).value=Object(f.get)(n,Object(f.get)(r,["field"],"value")),e)))(t)}function P(t){var e,r=t.chart,n=t.options.tooltip;return!1===n?r.tooltip(!1):(e=n,Object(f.get)(n,"fields")||(e=Object(p.c)({},{customItems:function(t){return t.map(function(t){var e=Object(f.get)(r.getOptions(),"scales"),n=Object(f.get)(e,["path","formatter"],function(t){return t}),e=Object(f.get)(e,["value","formatter"],function(t){return t});return Object(d.a)(Object(d.a)({},t),{name:n(t.data.path),value:e(t.data.value)})})}},e)),r.tooltip(e)),t}function C(t){var e,n,r=t.chart,i=t.options,o=i.drilldown;return Object(a.c)({chart:r,options:(e=(i=i).drilldown,n=void 0===(n=i.interactions)?[]:n,null!=e&&e.enabled?Object(p.c)({},i,{interactions:Object(d.d)(n,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:c}}])}):i)}),null!=o&&o.enabled&&(r.appendPadding=Object(l.a)(r.appendPadding,Object(f.get)(o,["breadCrumb","position"]))),t}function A(t){return Object(p.f)(a.k,Object(a.f)("sunburstStyle"),O,x,M,a.d,w,P,E,C,a.a,Object(a.b)())(t)}e(227);n=t.b,Object(d.b)(r,n),r.getDefaultOptions=function(){return o},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return A},r.SUNBURST_ANCESTOR_FIELD="ancestor-node",r.SUNBURST_PATH_FIELD="path",r.NODE_ANCESTORS_FIELD=s.b;var n,S=r;function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="sunburst",t}},function(r,o,t){"use strict";var f=t(3),a=t(19),c=t(0),y=t(174),i=t(8),p=t(2),s=t(77),l=t(266),h=t(116),u=t(75),d={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}},_=t(113);function g(t){var e=t.data,i=t.hierarchyConfig,n=t.rawFields,o=void 0===n?[]:n,a=t.enableDrillDown,n=function(t,e){var n,r=(e=Object(c.assign)({},d,e)).as;if(!Object(c.isArray)(r)||3!==r.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=Object(u.e)(e)}catch(t){console.warn(t)}i=t;var i=l.a().size(e.size).padding(e.padding)(h.c(i).sum(function(t){return t[n]}).sort(e.sort)),o=r[0],a=r[1],s=r[2];return i.each(function(t){t[o]=t.x,t[a]=t.y,t[s]=t.r}),Object(u.d)(i)}(e,Object(f.a)(Object(f.a)({},i),{field:"value",as:["x","y","r"]})),s=[];return n.forEach(function(t){for(var e,n=t.data.name,r=Object(f.a)({},t);1<r.depth;)n=(null===(e=r.parent.data)||void 0===e?void 0:e.name)+" / "+n,r=r.parent;if(a&&2<t.depth)return null;t=Object(p.c)({},t.data,Object(f.a)(Object(f.a)(Object(f.a)({},Object(p.t)(t.data,o)),{path:n}),t));t.ext=i,t[_.b]={hierarchyConfig:i,rawFields:o,enableDrillDown:a},s.push(t)}),s}function m(t,e,n){var t=Object(s.c)([t,e]),e=t[0],r=t[1],i=t[2],t=t[3],o=n.width-(t+r),n=n.height-(e+i),a=Math.min(o,n),o=(o-a)/2,n=(n-a)/2;return{finalPadding:[e+n,r+o,i+n,t+o],finalSize:a<0?0:a}}var e,v=["x","y","r","name","value","path","depth"],b={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};function O(t){var e=t.chart,n=Math.min(e.viewBBox.width,e.viewBBox.height);return Object(p.c)({options:{size:function(t){return t.r*n}}},t)}function x(t){var e=t.options,n=t.chart,r=n.viewBBox,i=e.padding,o=e.appendPadding,e=e.drilldown,a=o,e=(null!=e&&e.enabled&&(e=Object(s.a)(n.appendPadding,Object(c.get)(e,["breadCrumb","position"])),a=Object(s.c)([e,o])),m(i,a,r).finalPadding);return n.padding=e,n.appendPadding=0,t}function E(t){var e=t.chart,n=t.options,r=e.padding,i=e.appendPadding,l=n.color,h=n.colorField,d=n.pointStyle,o=n.hierarchyConfig,a=n.sizeField,s=n.rawFields,s=void 0===s?[]:s,c=n.drilldown,n=g({data:n.data,hierarchyConfig:o,enableDrillDown:null==c?void 0:c.enabled,rawFields:s}),u=(e.data(n),m(r,i,e.viewBBox).finalSize),o=a?function(t){return t[a]*u}:function(t){return t.r*u};return Object(y.a)(Object(p.c)({},t,{options:{xField:"x",yField:"y",seriesField:h,sizeField:a,rawFields:Object(f.d)(v,s),point:{color:l,style:d,shape:"circle",size:o}}})),t}function w(t){return Object(p.f)(Object(i.g)({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function M(t){var e,r=t.chart,n=t.options.tooltip;return!1===n?r.tooltip(!1):(e=n,Object(c.get)(n,"fields")||(e=Object(p.c)({},{customItems:function(t){return t.map(function(t){var e=Object(c.get)(r.getOptions(),"scales"),n=Object(c.get)(e,["name","formatter"],function(t){return t}),e=Object(c.get)(e,["value","formatter"],function(t){return t});return Object(f.a)(Object(f.a)({},t),{name:n(t.data.name),value:e(t.data.value)})})}},e)),r.tooltip(e)),t}function P(t){return t.chart.axis(!1),t}function C(t){var e,n=t.chart,r=t.options;return Object(i.c)({chart:n,options:(r=(n=r).drilldown,e=void 0===(e=n.interactions)?[]:e,null!=r&&r.enabled?Object(p.c)({},n,{interactions:Object(f.d)(e,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:g,enableDrillDown:!0}}])}):n)}),t}function A(t){return Object(p.f)(Object(i.f)("pointStyle"),O,x,i.k,w,E,P,i.d,M,C,i.a,Object(i.b)())(t)}function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle-packing",t}t(227),e=a.b,Object(f.b)(n,e),n.getDefaultOptions=function(){return b},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return A},n.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}},function(i,o,t){"use strict";var s=t(3),e=t(19),g=t(0),y=t(2),a=t(8),_=t(49),m=t(57);function c(t){var e=t.chart,n=t.options,r=n.data,i=n.type,l=n.xField,h=n.yField,o=n.colorField,a=n.sizeField,s=n.sizeRatio,c=n.shape,d=n.color,f=n.tooltip,n=n.heatmapStyle,p=(e.data(r),"polygon"),i=("density"===i&&(p="heatmap"),Object(m.a)(f,[l,h,o])),f=i.fields,l=i.formatter,u=1;return!s&&0!==s||(c||a?s<0||1<s?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):u=s:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),Object(_.a)(Object(y.c)({},t,{options:{type:p,colorField:o,tooltipFields:f,shapeField:a||"",label:void 0,mapping:{tooltip:l,shape:c&&(a?function(t){var e=r.map(function(t){return t[a]}),n=Math.min.apply(Math,e),e=Math.max.apply(Math,e);return[c,(Object(g.get)(t,a)-n)/(e-n),u]}:function(){return[c,1,u]}),color:d||o&&e.getTheme().sequenceColors.join("-"),style:n}}})),t}function u(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return Object(y.f)(Object(a.g)(((e={})[o]=r,e[n]=i,e)))(t)}function l(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(n,!1):e.axis(n,i),t}function h(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.sizeField,n=n.sizeLegend,a=!1!==r;return i&&e.legend(i,!!a&&r),o&&e.legend(o,void 0===n?r:n),a||n||e.legend(!1),t}function d(t){var e=t.chart,n=t.options,r=n.label,i=n.colorField,n=n.type,e=Object(y.d)(e,"density"===n?"heatmap":"polygon");return r?i&&(n=r.callback,r=Object(s.c)(r,["callback"]),e.label({fields:[i],callback:n,cfg:Object(y.A)(r)})):e.label(!1),t}function f(t){var e=t.chart,n=t.options,r=n.coordinate,n=n.reflect;return r&&e.coordinate({type:r.type||"rect",cfg:r.cfg}),n&&e.coordinate().reflect(n),t}function p(t){return Object(y.f)(a.k,Object(a.f)("heatmapStyle"),u,f,c,l,h,a.l,d,Object(a.b)(),a.c,a.a,a.j)(t)}var n,v=Object(y.c)({},e.b.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}}),t=t(13);function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="heatmap",t}Object(t.p)("polygon","circle",{draw:function(t,e){var n=t.x,r=t.y,i=this.parsePoints(t.points),o=Math.abs(i[2].x-i[1].x),i=Math.abs(i[1].y-i[0].y),o=Math.min(o,i)/2,i=Number(t.shape[1]),a=Number(t.shape[2]),o=o*Math.sqrt(a)*Math.sqrt(i),a=(null===(a=t.style)||void 0===a?void 0:a.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("circle",{attrs:Object(s.a)(Object(s.a)(Object(s.a)({x:n,y:r,r:o},t.defaultStyle),t.style),{fill:a})})}}),Object(t.p)("polygon","square",{draw:function(t,e){var n=t.x,r=t.y,i=this.parsePoints(t.points),o=Math.abs(i[2].x-i[1].x),i=Math.abs(i[1].y-i[0].y),o=Math.min(o,i),i=Number(t.shape[1]),a=Number(t.shape[2]),o=o*Math.sqrt(a)*Math.sqrt(i),a=(null===(a=t.style)||void 0===a?void 0:a.fill)||t.color||(null===(i=t.defaultStyle)||void 0===i?void 0:i.fill);return e.addShape("rect",{attrs:Object(s.a)(Object(s.a)(Object(s.a)({x:n-o/2,y:r-o/2,width:o,height:o},t.defaultStyle),t.style),{fill:a})})}}),n=e.b,Object(s.b)(r,n),r.getDefaultOptions=function(){return v},r.prototype.getSchemaAdaptor=function(){return p},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()}},function(i,s,t){"use strict";var u=t(3),d=t(19),l=t(0),n=t(8),c=t(25),o=t(2),a=t(60),f=t(396),p=t.n(f);function g(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||1<e)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function h(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r){for(n=n||0,r=r||t.length-1;n<r;){600<r-n&&(i=r-n+1,o=e-n+1,s=Math.log(i),a=.5*Math.exp(2*s/3),s=.5*Math.sqrt(s*a*(i-a)/i),o-i/2<0&&(s*=-1),y(t,e,Math.max(n,Math.floor(e-o*a/i+s)),Math.min(r,Math.floor(e+(i-o)*a/i+s))));var i,o,a,s,l=t[e],c=n,u=r;for(h(t,n,e),t[r]>l&&h(t,n,r);c<u;){for(h(t,c,u),c++,u--;t[c]<l;)c++;for(;t[u]>l;)u--}t[n]===l?h(t,n,u):h(t,++u,r),u<=e&&(n=u+1),e<=u&&(r=u-1)}}function e(l,t){var e=l.slice();if(Array.isArray(t)){for(var n=e,h=t,r=[0],i=0;i<h.length;i++)r.push(v(n.length,h[i]));r.push(n.length-1),r.sort(m);for(var o=[0,r.length-1];o.length;){var a,s=Math.ceil(o.pop()),c=Math.floor(o.pop());s-c<=1||(_(n,r[a=Math.floor((c+s)/2)],Math.floor(r[c]),Math.ceil(r[s])),o.push(c,a,a,s))}for(var d=[],u=0;u<t.length;u++)d[u]=g(e,t[u]);return d}return _(e,v(e.length,t),0,e.length-1),g(e,t)}function _(t,e,n,r){e%1==0?y(t,e,n,r):(y(t,e=Math.floor(e),n,r),y(t,e+1,e+1,r))}function m(t,e){return t-e}function v(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}function b(t){return{low:Object(l.min)(t),high:Object(l.max)(t),q1:e(t,.25),q3:e(t,.75),median:e(t,[.5]),minMax:[Object(l.min)(t),Object(l.max)(t)],quantile:[e(t,.25),e(t,.75)]}}function O(t,e){return{violinSize:(t=p.a.create(t,e)).map(function(t){return t.y}),violinY:t.map(function(t){return t.x})}}var x,E=function(t){var n,e=t.xField,i=t.yField,o=t.seriesField,r=t.data,t=t.kde,a={min:t.min,max:t.max,size:t.sampleSize,width:t.width};if(!o)return n=Object(l.groupBy)(r,e),Object.keys(n).map(function(t){var e=n[t].map(function(t){return t[i]});return Object(u.a)(Object(u.a)({x:t},O(e,a)),b(e))});var s=[],c=Object(l.groupBy)(r,o);return Object.keys(c).forEach(function(n){var r=Object(l.groupBy)(c[n],e);return Object.keys(r).forEach(function(t){var e=r[t].map(function(t){return t[i]});s.push(Object(u.a)(Object(u.a)(((t={x:t})[o]=n,t),O(e,a)),b(e)))})}),s},w=Object(o.c)({},d.b.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),M=["low","high","q1","q3","median"],P=[{type:"dodge",marginRatio:1/32}];function C(t){var e=t.chart,n=t.options;return e.data(E(n)),t}function A(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,o=n.shape,o=void 0===o?"violin":o,a=n.violinStyle,s=n.tooltip,n=n.state,e=e.createView({id:"violin_view"});return Object(c.h)({chart:e,options:{xField:"x",yField:"violinY",seriesField:r||"x",sizeField:"violinSize",tooltip:Object(u.a)({fields:M},s),violin:{style:a,color:i,shape:o},state:n}}),e.geometries[0].adjust(P),t}function S(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,o=n.tooltip,n=n.box;if(!1===n)return t;var a=e.createView({id:"min_max_view"}),s=(Object(c.c)({chart:a,options:{xField:"x",yField:"minMax",seriesField:r||"x",tooltip:Object(u.a)({fields:M},o),state:"object"==typeof n?n.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),a.geometries[0].adjust(P),e.createView({id:"quantile_view"})),e=(Object(c.c)({chart:s,options:{xField:"x",yField:"quantile",seriesField:r||"x",tooltip:Object(u.a)({fields:M},o),state:"object"==typeof n?n.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),s.geometries[0].adjust(P),e.createView({id:"median_view"}));return Object(c.e)({chart:e,options:{xField:"x",yField:"median",seriesField:r||"x",tooltip:Object(u.a)({fields:M},o),state:"object"==typeof n?n.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),e.geometries[0].adjust(P),s.axis(!1),a.axis(!1),e.axis(!1),e.legend(!1),a.legend(!1),s.legend(!1),t}function j(t){var e=t.chart,n=t.options,r=n.meta,i=n.xAxis,n=n.yAxis,i=Object(o.c)({},r,((r={}).x=Object(u.a)(Object(u.a)({sync:!0},Object(o.t)(i,a.a)),{type:"cat"}),r.violinY=Object(u.a)({sync:!0},Object(o.t)(n,a.a)),r.minMax=Object(u.a)({sync:"violinY"},Object(o.t)(n,a.a)),r.quantile=Object(u.a)({sync:"violinY"},Object(o.t)(n,a.a)),r.median=Object(u.a)({sync:"violinY"},Object(o.t)(n,a.a)),r));return e.scale(i),t}function D(t){var e=t.chart,n=t.options,r=n.xAxis,n=n.yAxis,i=Object(o.e)(e,"violin_view");return!1===r?i.axis("x",!1):i.axis("x",r),!1===n?i.axis("violinY",!1):i.axis("violinY",n),e.axis(!1),t}function T(t){var e,n=t.chart,r=t.options,i=r.legend,o=r.seriesField,r=r.shape;return!1===i?n.legend(!1):(e=o||"x",o=Object(l.omit)(i,["selected"]),r&&r.startsWith("hollow")||Object(l.get)(o,["marker","style","lineWidth"])||Object(l.set)(o,["marker","style","lineWidth"],0),n.legend(e,o),Object(l.get)(i,"selected")&&Object(l.each)(n.views,function(t){return t.legend(e,i)})),t}function I(t){var e=t.chart,e=Object(o.e)(e,"violin_view");return Object(n.b)()(Object(u.a)(Object(u.a)({},t),{chart:e})),t}function k(t){var e=t.chart,n=t.options.animation;return Object(l.each)(e.views,function(t){"boolean"==typeof n?t.animate(n):t.animate(!0),Object(l.each)(t.geometries,function(t){t.animate(n)})}),t}function L(t){return Object(o.f)(n.k,C,A,S,j,n.l,D,T,n.c,I,k)(t)}function r(){var t=null!==x&&x.apply(this,arguments)||this;return t.type="violin",t}x=d.b,Object(u.b)(r,x),r.getDefaultOptions=function(){return w},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(E(this.options))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return L}},function(r,i,t){"use strict";var c=t(3),o=t(19),d=t(0),u=t(8),y=t(25),s=t(97),f=t(2),p="$$yField$$",a={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function g(r,t,e,n){return i=r,t=t,o=e,a=p,e=n,s=[],Object(d.reduce)(i,function(t,e){Object(f.r)(f.a.WARN,Object(d.isNumber)(e[o]),e[o]+" is not a valid number");var n=Object(d.isUndefined)(e[o])?null:e[o];return s.push(Object(c.a)(Object(c.a)({},e),((e={})[a]=[t,t+n],e))),t+n},0),s.length&&e&&(i=Object(d.get)(s,[[i.length-1],a,[1]]),s.push(((n={})[t]=e.label,n[o]=i,n[a]=[0,i],n))),s.map(function(t,e){var n;return Object(d.isObject)(t)?Object(c.a)(Object(c.a)({},t),((n={}).$$absoluteField$$=t[p][1],n.$$diffField$$=t[p][1]-t[p][0],n.$$isTotal$$=e===r.length,n)):t});var i,o,a,s}var e,t=t(13);function l(t){var e=t.options,n=e.locale,e=e.total,n=Object(s.a)(n).get(["waterfall","total"]);return e&&"string"!=typeof e.label&&n&&(t.options.total.label=n),t}function h(t){var e=t.chart,n=t.options,r=n.data,i=n.xField,o=n.yField,a=n.total,s=n.leaderLine,c=n.columnWidthRatio,u=n.waterfallStyle,l=n.risingFill,h=n.fallingFill,n=n.color,e=(e.data(g(r,i,o,a)),n||function(t){return Object(d.get)(t,["$$isTotal$$"])?Object(d.get)(a,["style","fill"],""):0<Object(d.get)(t,[p,1])-Object(d.get)(t,[p,0])?l:h}),r=Object(f.c)({},t,{options:{xField:i,yField:p,seriesField:i,rawFields:[o,"$$diffField$$","$$isTotal$$",p],widthRatio:c,interval:{style:u,shape:"waterfall",color:e}}});return Object(y.c)(r).ext.geometry.customInfo({leaderLine:s}),t}function _(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,n=n.meta,s=Object(f.c)({},{alias:a},Object(d.get)(n,a));return Object(f.f)(Object(u.g)(((e={})[o]=r,e[a]=i,e[p]=i,e),Object(f.c)({},n,((o={})[p]=s,o.$$diffField$$=s,o.$$absoluteField$$=s,o))))(t)}function m(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?(e.axis(n,!1),e.axis(p,!1)):(e.axis(n,i),e.axis(p,i)),t}function v(t){var e=t.chart,n=t.options,r=n.legend,i=n.total,o=n.risingFill,a=n.fallingFill,n=n.locale,n=Object(s.a)(n);return!1===r?e.legend(!1):(o=[{name:n.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:o}}},{name:n.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:a}}}],i&&o.push({name:i.label||"",value:"total",marker:{symbol:"square",style:Object(f.c)({},{r:5},Object(d.get)(i,"style"))}}),e.legend(Object(f.c)({},{custom:!0,position:"top",items:o},r)),e.removeInteraction("legend-filter")),t}function b(t){var e,n=t.chart,r=t.options,i=r.label,o=r.labelMode,r=r.xField,n=Object(f.d)(n,"interval");return i?(e=i.callback,i=Object(c.c)(i,["callback"]),n.label({fields:"absolute"===o?["$$absoluteField$$",r]:["$$diffField$$",r],callback:e,cfg:Object(f.A)(i)})):n.label(!1),t}function O(t){var e,n=t.chart,r=t.options,i=r.tooltip,o=r.xField,r=r.yField;return!1!==i?(n.tooltip(Object(c.a)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[r]},i)),e=n.geometries[0],null!=i&&i.formatter?e.tooltip(o+"*"+r,i.formatter):e.tooltip(r)):n.tooltip(!1),t}function x(t){return Object(f.f)(l,u.k,h,_,m,v,O,b,u.j,u.c,u.a,Object(u.b)())(t)}function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="waterfall",t}Object(t.p)("interval","waterfall",{draw:function(t,e){var n=t.customInfo,r=t.points,i=t.nextPoints,e=e.addGroup(),o=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r&&e.push([0===n?"M":"L",r.x,r.y])}var i=t[0];return e.push(["L",i.x,i.y]),e.push(["z"]),e}(r)),t=(t=t,Object(f.c)({},t.defaultStyle,t.style,{fill:t.color})),t=(e.addShape("path",{attrs:Object(c.a)(Object(c.a)({},t),{path:o})}),Object(d.get)(n,"leaderLine"));return t&&i&&(o=[["M",r[2].x,r[2].y],["L",i[0].x,i[0].y]],r[2].y===i[1].y&&(o[1]=["L",i[1].x,i[1].y]),o=this.parsePath(o),e.addShape("path",{attrs:Object(c.a)({path:o},t.style||{})})),e}}),e=o.b,Object(c.b)(n,e),n.getDefaultOptions=function(){return a},n.prototype.changeData=function(t){var e=this.options,n=e.xField,r=e.yField,e=e.total;this.updateOption({data:t}),this.chart.changeData(g(t,n,r,e))},n.prototype.getSchemaAdaptor=function(){return x},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()}},function(i,t,e){"use strict";e.d(t,"a",function(){return w});var c=e(3),t=e(19),u=e(0),p=e(175),l=e(8),o=e(89),h=e(2),g=e(77),y=e(113),_=e(219);function m(t,e){if(Object(u.isArray)(t))return t.find(function(t){return t.type===e})}function a(t,e){t=m(t,e);return t&&!1!==t.enable}function d(t){var e=t.interactions,t=t.drilldown;return Object(u.get)(t,"enabled")||a(e,"treemap-drill-down")}function f(t){var r=t.data,i=t.colorField,o=t.enableDrillDown,a=t.hierarchyConfig,t=Object(_.a)(r,Object(c.a)(Object(c.a)({},a),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),s=[];return t.forEach(function(t){if(0===t.depth)return null;if(o&&1!==t.depth)return null;if(!o&&t.children)return null;var e,n=t.ancestors().map(function(t){return{data:t.data,height:t.height,value:t.value}}),n=o&&Object(u.isArray)(r.path)?n.concat(r.path.slice(1)):n,n=Object.assign({},t.data,Object(c.a)({x:t.x,y:t.y,depth:t.depth,value:t.value,path:n},t));!t.data[i]&&t.parent?(e=t.ancestors().find(function(t){return t.data[i]}),n[i]=null==e?void 0:e.data[i]):n[i]=t.data[i],n[y.b]={hierarchyConfig:a,colorField:i,enableDrillDown:o},s.push(n)}),s}function s(t){var e=t.options.colorField;return Object(h.c)({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function v(t){var e=t.chart,n=t.options,r=n.color,i=n.colorField,o=n.rectStyle,a=n.hierarchyConfig,s=n.rawFields,n=f({data:n.data,colorField:n.colorField,enableDrillDown:d(n),hierarchyConfig:a});return e.data(n),Object(p.a)(Object(h.c)({},t,{options:{xField:"x",yField:"y",seriesField:i,rawFields:s,polygon:{color:r,style:o}}})),e.coordinate().reflect("y"),t}function b(t){return t.chart.axis(!1),t}function O(t){var e,n,r=t.chart,i=t.options,o=i.interactions,a=i.drilldown,s=(Object(l.c)({chart:r,options:(n=(e=i).drilldown,s=void 0===(s=e.interactions)?[]:s,d(e)?Object(h.c)({},e,{interactions:Object(c.d)(s,[{type:"drill-down",cfg:{drillDownConfig:n,transformData:f}}])}):e)}),m(o,"view-zoom"));return s&&(!1!==s.enable?r.getCanvas().on("mousewheel",function(t){t.preventDefault()}):r.getCanvas().off("mousewheel")),d(i)&&(r.appendPadding=Object(g.a)(r.appendPadding,Object(u.get)(a,["breadCrumb","position"]))),t}function x(t){return Object(h.f)(s,l.k,Object(o.a)("rectStyle"),v,b,l.d,l.l,O,l.a,Object(l.b)())(t)}var n,E={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"初始",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},w=(e(264),e(227),n=t.b,Object(c.b)(r,n),r.getDefaultOptions=function(){return E},r.prototype.changeData=function(t){var e=this.options,n=e.colorField,r=e.interactions,e=e.hierarchyConfig;this.updateOption({data:t});t=f({data:t,colorField:n,enableDrillDown:a(r,"treemap-drill-down"),hierarchyConfig:e});this.chart.changeData(t),(n=this.chart.interactions["drill-down"])&&n.context.actions.find(function(t){return"drill-down-action"===t.name}).reset()},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return x},r);function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="treemap",t}},function(o,h,t){"use strict";t.d(h,"a",function(){return O});var c=t(3),h=t(19),u=t(2),a=t(8),d=t(25);function f(t){var e=t.chart,n=t.options,r=n.data,i=n.lineStyle,o=n.color,a=n.point,s=n.area,e=(e.data(r),Object(u.c)({},t,{options:{line:{style:i,color:o},point:a&&Object(c.a)({color:o},a),area:s&&Object(c.a)({color:o},s),label:void 0}})),r=Object(u.c)({},e,{options:{tooltip:!1}}),i=(null==a?void 0:a.state)||n.state,o=Object(u.c)({},e,{options:{tooltip:!1,state:i}});return Object(d.d)(e),Object(d.e)(o),Object(d.a)(r),t}function p(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return Object(u.f)(Object(a.g)(((e={})[o]=r,e[n]=i,e)))(t)}function g(t){var e=t.chart,n=t.options,r=n.radius,i=n.startAngle,n=n.endAngle;return e.coordinate("polar",{radius:r,startAngle:i,endAngle:n}),t}function y(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis,o=n.yField,n=n.yAxis;return e.axis(r,i),e.axis(o,n),t}function _(t){var e,n=t.chart,r=t.options,i=r.label,r=r.yField,n=Object(u.d)(n,"line");return i?(e=i.callback,i=Object(c.c)(i,["callback"]),n.label({fields:[r],callback:e,cfg:Object(u.A)(i)})):n.label(!1),t}function m(t){return Object(u.f)(f,p,a.k,g,y,a.d,a.l,_,a.c,a.a,Object(a.b)())(t)}var s,l=t(13),v=t(0),t=(s=l.g,Object(c.b)(e,s),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(t){var n,r,i,e=this.getTooltipCfg(),o=e.shared,a=e.title,e=s.prototype.getTooltipItems.call(this,t);return 0<e.length?(t=(n=this.view.geometries[0]).dataArray,r=e[0].name,i=[],t.forEach(function(t){t.forEach(function(t){var e,t=l.h.getTooltipItems(t,n)[0];!o&&t&&t.name===r?(e=Object(v.isNil)(a)?r:a,i.push(Object(c.a)(Object(c.a)({},t),{name:t.title,title:e}))):o&&t&&(e=Object(v.isNil)(a)?t.name||r:a,i.push(Object(c.a)(Object(c.a)({},t),{name:t.title,title:e})))})}),i):[]},e);function e(){return null!==s&&s.apply(this,arguments)||this}Object(l.m)("radar-tooltip",t);b=l.a,Object(c.b)(n,b),n.prototype.init=function(){this.context.view.removeInteraction("tooltip")},n.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},n.prototype.hide=function(){this.getTooltipController().hideTooltip()},n.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")};var b,t=n;function n(){return null!==b&&b.apply(this,arguments)||this}Object(l.l)("radar-tooltip",t),Object(l.o)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});r=h.b,Object(c.b)(i,r),i.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},i.prototype.getDefaultOptions=function(){return Object(u.c)({},r.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},i.prototype.getSchemaAdaptor=function(){return m};var r,O=i;function i(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="radar",t}},function(o,t,e){"use strict";e.d(t,"a",function(){return v});var c=e(3),t=e(19),u=e(0),n=e(8),l=e(25),h=e(2),d=e(60),a=Object(h.c)({},t.b.getDefaultOptions(),{meta:((e={}).$$range$$={min:0,alias:"low-q1-median-q3-high"},e),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),f=function(t,e){var n,r,i,o,a,s=t;return Array.isArray(e)&&(n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=Object(u.map)(t,function(t){return t.$$range$$=[t[n],t[r],t[i],t[o],t[a]],t})),s};function s(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.groupField,a=n.color,s=n.tooltip,c=n.boxStyle,e=(e.data(f(n.data,i)),Object(u.isArray)(i)?"$$range$$":i),n=i?Object(u.isArray)(i)?i:[i]:[],i=(!1!==s&&(s=Object(h.c)({},{fields:Object(u.isArray)(i)?i:[]},s)),Object(l.g)(Object(h.c)({},t,{options:{xField:r,yField:e,seriesField:o,tooltip:s,rawFields:n,label:!1,schema:{shape:"box",color:a,style:c}}})).ext);return o&&i.geometry.adjust("dodge"),t}function p(t){var e=t.chart,n=t.options,r=n.xField,i=n.data,o=n.outliersField,a=n.outliersStyle,s=n.padding,n=n.label;if(!o)return t;e=e.createView({padding:s,id:"outliers_view"}),s=i.reduce(function(n,r){return r[o].forEach(function(t){var e;return n.push(Object(c.a)(Object(c.a)({},r),((e={})[o]=t,e)))}),n},[]);return e.data(s),Object(l.e)({chart:e,options:{xField:r,yField:o,point:{shape:"circle",style:a},label:n}}),e.axis(!1),t}function g(t){var e=t.chart,n=t.options,r=n.meta,i=n.xAxis,o=n.yAxis,a=n.xField,s=n.yField,n=n.outliersField,s=Array.isArray(s)?"$$range$$":s,c={},u=(n&&((u={})[n]={sync:"$$y_outliers$$",nice:!0},u[s]={sync:"$$y_outliers$$",nice:!0},c=u),Object(h.c)(c,r,((n={})[a]=Object(h.t)(i,d.a),n[s]=Object(h.t)(o,d.a),n)));return e.scale(u),t}function y(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField,n=Array.isArray(n)?"$$range$$":n;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis("$$range$$",!1):e.axis(n,i),t}function _(t){var e=t.chart,n=t.options,r=n.legend,n=n.groupField;return n?r?e.legend(n,r):e.legend(n,{position:"bottom"}):e.legend(!1),t}function m(t){return Object(h.f)(s,p,g,y,_,n.l,n.c,n.a,n.k)(t)}r=t.b,Object(c.b)(i,r),i.getDefaultOptions=function(){return a},i.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField,n=this.chart.views.find(function(t){return"outliers_view"===t.id});n&&n.data(t),this.chart.changeData(f(t,e))},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return m};var r,v=i;function i(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="box",t}},function(l,t,e){"use strict";e.d(t,"a",function(){return b});var t=e(3),n=e(19),r=e(8),h=e(25),c=e(2),s=e(60),u="$$stock-range$$",d=Object(c.c)({},n.b.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var r;return{position:"y"===t?"start":"end",content:"x"===t&&(r=n[0])?r.title:e,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"}),a=e(0);function f(t,o){return Object(a.map)(t,function(t){var e,n,r,i;return Object(a.isArray)(o)&&(e=o[0],n=o[1],r=o[2],i=o[3],t.trend=t[e]<=t[n]?"up":"down",t[u]=[t[e],t[n],t[r],t[i]]),t})}function p(t){var e=t.chart,n=t.options,r=n.yField,i=n.data,o=n.risingFill,a=n.fallingFill,s=n.tooltip,n=n.stockStyle,e=(e.data(f(i,r)),s);return!1!==e&&(e=Object(c.c)({},{fields:r},e)),Object(h.g)(Object(c.c)({},t,{options:{schema:{shape:"candle",color:[o,a],style:n},yField:u,seriesField:"trend",rawFields:r,tooltip:e}})),t}function g(t){var e,n=t.chart,r=t.options,i=r.meta,o=r.xAxis,a=r.yAxis,r=r.xField,i=((e={})[r]={type:"timeCat",tickCount:6},e.trend={values:["up","down"]},Object(c.c)(e,i,((e={})[r]=Object(c.t)(o,s.a),e[u]=Object(c.t)(a,s.a),e)));return n.scale(i),t}function y(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,n=n.xField;return!1===r?e.axis(n,!1):e.axis(n,r),!1===i?e.axis(u,!1):e.axis(u,i),t}function _(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t}function m(t){var e=t.chart,n=t.options.legend;return n?e.legend("trend",n):!1===n&&e.legend(!1),t}function v(t){Object(c.f)(r.k,p,g,y,_,m,r.c,r.a,Object(r.b)(),r.i)(t)}i=n.b,Object(t.b)(o,i),o.getDefaultOptions=function(){return d},o.prototype.getDefaultOptions=function(){return o.getDefaultOptions()},o.prototype.getSchemaAdaptor=function(){return v},o.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData(f(t,e))};var i,b=o;function o(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="stock",t}},function(i,o,t){"use strict";var p=t(3),e=t(19),g=t(0),u=t(8),y=t(2),_=t(25);function m(t){var e=t.data,i=t.xField,o=t.measureField,a=t.rangeField,s=t.targetField,t=t.layout,c=[],u=[],e=(e.forEach(function(n,r){var t;n[a].sort(function(t,e){return t-e}),n[a].forEach(function(t,e){t=0===e?t:n[a][e]-n[a][e-1];c.push(((e={rKey:a+"_"+e})[i]=i?n[i]:String(r),e[a]=t,e))}),n[o].forEach(function(t,e){c.push(((e={mKey:1<n[o].length?o+"_"+e:""+o})[i]=i?n[i]:String(r),e[o]=t,e))}),c.push(((t={tKey:""+s})[i]=i?n[i]:String(r),t[s]=n[s],t)),u.push(n[a],n[o],n[s])}),Math.min.apply(Math,u.flat(1/0))),n=Math.max.apply(Math,u.flat(1/0)),e=0<e?0:e;return"vertical"===t&&c.reverse(),{min:e,max:n,ds:c}}function a(t){var e=t.chart,n=t.options,r=n.bulletStyle,l=n.targetField,i=n.rangeField,h=n.measureField,o=n.xField,a=n.color,s=n.layout,c=n.size,u=n.label,n=m(n),d=n.min,f=n.max,n=n.ds,n=(e.data(n),Object(y.c)({},t,{options:{xField:o,yField:i,seriesField:"rKey",isStack:!0,label:Object(g.get)(u,"range"),interval:{color:Object(g.get)(a,"range"),style:Object(g.get)(r,"range"),size:Object(g.get)(c,"range")}}})),i=(Object(_.c)(n),e.geometries[0].tooltip(!1),Object(y.c)({},t,{options:{xField:o,yField:h,seriesField:"mKey",isStack:!0,label:Object(g.get)(u,"measure"),interval:{color:Object(g.get)(a,"measure"),style:Object(g.get)(r,"measure"),size:Object(g.get)(c,"measure")}}})),n=(Object(_.c)(i),Object(y.c)({},t,{options:{xField:o,yField:l,seriesField:"tKey",label:Object(g.get)(u,"target"),point:{color:Object(g.get)(a,"target"),style:Object(g.get)(r,"target"),size:Object(g.isFunction)(Object(g.get)(c,"target"))?function(t){return Object(g.get)(c,"target")(t)/2}:Object(g.get)(c,"target")/2,shape:"horizontal"===s?"line":"hyphen"}}}));return Object(_.e)(n),"horizontal"===s&&e.coordinate().transpose(),Object(p.a)(Object(p.a)({},t),{ext:{data:{min:d,max:f}}})}function s(t){var e,n=t.options,r=t.ext,i=n.xAxis,o=n.yAxis,a=n.targetField,s=n.rangeField,c=n.measureField,n=n.xField,r=r.data;return Object(y.f)(Object(u.g)(((e={})[n]=i,e[c]=o,e),((n={})[c]={min:null==r?void 0:r.min,max:null==r?void 0:r.max,sync:!0},n[a]={sync:""+c},n[s]={sync:""+c},n)))(t)}function c(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.measureField,s=n.rangeField,n=n.targetField;return e.axis(""+s,!1),e.axis(""+n,!1),!1===r?e.axis(""+o,!1):e.axis(""+o,r),!1===i?e.axis(""+a,!1):e.axis(""+a,i),t}function l(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function h(t){var e=t.chart,n=t.options,r=n.label,i=n.measureField,o=n.targetField,n=n.rangeField,e=e.geometries,a=e[0],s=e[1],e=e[2];return Object(g.get)(r,"range")?a.label(""+n,Object(p.a)({layout:[{type:"limit-in-plot"}]},Object(y.A)(r.range))):a.label(!1),Object(g.get)(r,"measure")?s.label(""+i,Object(p.a)({layout:[{type:"limit-in-plot"}]},Object(y.A)(r.measure))):s.label(!1),Object(g.get)(r,"target")?e.label(""+o,Object(p.a)({layout:[{type:"limit-in-plot"}]},Object(y.A)(r.target))):e.label(!1),t}function d(t){Object(y.f)(a,s,c,l,u.k,h,u.l,u.c,u.a)(t)}var n,f=Object(y.c)({},e.b.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="bullet",t}n=e.b,Object(p.b)(r,n),r.getDefaultOptions=function(){return f},r.prototype.changeData=function(t){this.updateOption({data:t});var t=m(this.options),e=t.min,n=t.max,t=t.ds;s({options:this.options,ext:{data:{min:e,max:n}},chart:this.chart}),this.chart.changeData(t)},r.prototype.getSchemaAdaptor=function(){return d},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()}},function(a,s,t){"use strict";var d=t(3),e=t(19),f=t(8),p=t(2),h=t(25),n=t(89);function c(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.color,o=n.tooltip,a=n.colorField,s=n.type,l=n.xField,c=n.yField,u=n.data,u=Object(p.u)(u,c),u=(e.data(u),Object(p.c)({},t,{options:{tooltip:o,seriesField:a,interval:{style:r,color:i,shape:"line"===s?"line":"intervel"},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}}));return Object(h.c)(u),"line"===s&&Object(h.e)({chart:e,options:{xField:l,yField:c,seriesField:a,point:{shape:"circle",color:i}}}),t}function r(t){var n,r,i,e,o=t.options,a=o.yField,s=o.xField,c=o.data,l=o.isStack,h=o.isGroup,u=o.colorField,o=o.maxAngle,l=l&&!h&&u?(n=s,r=a,i=[],c.forEach(function(e){var t=i.find(function(t){return t[n]===e[n]});t?t[r]+=e[r]||null:i.push(Object(d.a)({},e))}),i):c,h=Object(p.u)(l,a);return Object(p.f)(Object(f.g)(((u={})[a]={min:0,max:(s=o,e=a,c=0<(c=(c=h).map(function(t){return t[e]}).filter(function(t){return void 0!==t})).length?Math.max.apply(Math,c):0,(s=Math.abs(s)%360)?360*c/s:c)},u)))(t)}function u(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,n=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:n}}).transpose(),t}function l(t){var e=t.chart,n=t.options,r=n.xField,n=n.xAxis;return e.axis(r,n),t}function g(t){var e,n=t.chart,r=t.options,i=r.label,r=r.yField,n=Object(p.d)(n,"interval");return i?(e=i.callback,i=Object(d.c)(i,["callback"]),n.label({fields:[r],callback:e,cfg:Object(d.a)(Object(d.a)({},Object(p.A)(i)),{type:"polar"})})):n.label(!1),t}function y(t){return Object(p.f)(Object(n.a)("barStyle"),c,r,l,u,f.c,f.a,f.k,f.l,f.d,Object(f.b)(),g)(t)}var i,_=Object(p.c)({},e.b.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});function o(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="radial-bar",t}i=e.b,Object(d.b)(o,i),o.getDefaultOptions=function(){return _},o.prototype.changeData=function(t){this.updateOption({data:t}),r({chart:this.chart,options:this.options}),this.chart.changeData(t)},o.prototype.getDefaultOptions=function(){return o.getDefaultOptions()},o.prototype.getSchemaAdaptor=function(){return y}},function(r,o,t){"use strict";var e,l=t(3),i=t(13),a=t(19),d=t(2),h=t(0),f=t(8),p=t(25);function y(r,t,i,e,n){var o=[],t=(t.forEach(function(n){e.forEach(function(t){var e;(e={})[r]=t[r],e[i]=n,e[n]=t[n],o.push(e)})}),Object.values(Object(h.groupBy)(o,i))),a=t[0],a=void 0===a?[]:a,t=t[1],t=void 0===t?[]:t;return n?[a.reverse(),t.reverse()]:[a,t]}function g(t){return"vertical"!==t}function s(t,e,n){var r,i=e[0],e=e[1],o=i.autoPadding,a=e.autoPadding,t=t.__axisPosition,s=t.layout,t=t.position;g(s)&&"top"===t&&(i.autoPadding=n.instance(o.top,0,o.bottom,o.left),e.autoPadding=n.instance(a.top,o.left,a.bottom,0)),g(s)&&"bottom"===t&&(i.autoPadding=n.instance(o.top,o.right/2+5,o.bottom,o.left),e.autoPadding=n.instance(a.top,a.right,a.bottom,o.right/2+5)),g(s)||"bottom"!==t||(r=(o.left>=a.left?o:a).left,i.autoPadding=n.instance(o.top,o.right,o.bottom/2+5,r),e.autoPadding=n.instance(o.bottom/2+5,a.right,a.bottom,r)),g(s)||"top"!==t||(r=(o.left>=a.left?o:a).left,i.autoPadding=n.instance(o.top,o.right,0,r),e.autoPadding=n.instance(0,a.right,o.top,r))}function c(t){var e,n,r=t.chart,i=t.options,o=i.data,a=i.xField,s=i.yField,c=i.color,l=i.barStyle,h=i.widthRatio,u=i.legend,i=i.layout,o=y(a,s,"series-field-key",o,g(i)),u=(u?r.legend("series-field-key",u):!1===u&&r.legend(!1),o[0]),o=o[1],i=(g(i)?((e=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:"first-axes-view"})).coordinate().transpose().reflect("x"),(n=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:"second-axes-view"})).coordinate().transpose()):(e=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:"first-axes-view"}),(n=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:"second-axes-view"})).coordinate().reflect("y")),e.data(u),n.data(o),Object(d.c)({},t,{chart:e,options:{widthRatio:h,xField:a,yField:s[0],seriesField:"series-field-key",interval:{color:c,style:l}}})),r=(Object(p.c)(i),Object(d.c)({},t,{chart:n,options:{xField:a,yField:s[1],seriesField:"series-field-key",widthRatio:h,interval:{color:c,style:l}}}));return Object(p.c)(r),t}function u(t){var e=t.options,n=t.chart,r=e.xAxis,i=e.yAxis,o=e.xField,a=e.yField,s=Object(d.e)(n,"first-axes-view"),c=Object(d.e)(n,"second-axes-view"),u={};return Object(h.keys)((null==e?void 0:e.meta)||{}).map(function(t){Object(h.get)(null==e?void 0:e.meta,[t,"alias"])&&(u[t]=e.meta[t].alias)}),n.scale(((n={})["series-field-key"]={sync:!0,formatter:function(t){return Object(h.get)(u,t,t)}},n)),Object(f.g)(((n={})[o]=r,n[a[0]]=i[a[0]],n))(Object(d.c)({},t,{chart:s})),Object(f.g)(((n={})[o]=r,n[a[1]]=i[a[1]],n))(Object(d.c)({},t,{chart:c})),t}function _(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,n=n.layout,s=Object(d.e)(e,"first-axes-view"),c=Object(d.e)(e,"second-axes-view");return"bottom"===(null==r?void 0:r.position)?c.axis(o,Object(l.a)(Object(l.a)({},r),{label:{formatter:function(){return""}}})):c.axis(o,!1),!1===r?s.axis(o,!1):s.axis(o,Object(l.a)({position:g(n)?"top":"bottom"},r)),!1===i?(s.axis(a[0],!1),c.axis(a[1],!1)):(s.axis(a[0],i[a[0]]),c.axis(a[1],i[a[1]])),e.__axisPosition={position:s.getOptions().axes[o].position,layout:n},t}function m(t){var e=t.chart;return Object(f.c)(Object(d.c)({},t,{chart:Object(d.e)(e,"first-axes-view")})),Object(f.c)(Object(d.c)({},t,{chart:Object(d.e)(e,"second-axes-view")})),t}function v(t){var e=t.chart,n=t.options,r=n.yField,n=n.yAxis;return Object(f.e)(Object(d.c)({},t,{chart:Object(d.e)(e,"first-axes-view"),options:{yAxis:n[r[0]]}})),Object(f.e)(Object(d.c)({},t,{chart:Object(d.e)(e,"second-axes-view"),options:{yAxis:n[r[1]]}})),t}function b(t){var e=t.chart;return Object(f.k)(Object(d.c)({},t,{chart:Object(d.e)(e,"first-axes-view")})),Object(f.k)(Object(d.c)({},t,{chart:Object(d.e)(e,"second-axes-view")})),t}function O(t){var e=t.chart;return Object(f.a)(Object(d.c)({},t,{chart:Object(d.e)(e,"first-axes-view")})),Object(f.a)(Object(d.c)({},t,{chart:Object(d.e)(e,"second-axes-view")})),t}function x(t){var e,n,r,i=this,o=t.chart,a=t.options,s=a.label,c=a.yField,a=a.layout,u=Object(d.e)(o,"first-axes-view"),o=Object(d.e)(o,"second-axes-view"),u=Object(d.d)(u,"interval"),o=Object(d.d)(o,"interval");return s?(e=s.callback,(n=Object(l.c)(s,["callback"])).position||(n.position="middle"),void 0===n.offset&&(n.offset=2),s=Object(l.a)({},n),g(a)?(a=(null===(a=s.style)||void 0===a?void 0:a.textAlign)||("middle"===n.position?"center":"left"),n.style=Object(d.c)({},n.style,{textAlign:a}),s.style=Object(d.c)({},s.style,{textAlign:{left:"right",right:"left",center:"center"}[a]})):(r={top:"bottom",bottom:"top",middle:"middle"},"string"==typeof n.position?n.position=r[n.position]:"function"==typeof n.position&&(n.position=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r[n.position.apply(i,t)]}),a=(null===(a=s.style)||void 0===a?void 0:a.textBaseline)||"bottom",s.style=Object(d.c)({},s.style,{textBaseline:a}),n.style=Object(d.c)({},n.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[a]})),u.label({fields:[c[0]],callback:e,cfg:Object(d.A)(s)}),o.label({fields:[c[1]],callback:e,cfg:Object(d.A)(n)})):(u.label(!1),o.label(!1)),t}function E(t){return Object(d.f)(c,u,_,v,b,x,f.l,m,O)(t)}function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="bidirectional-bar",t}e=a.b,Object(l.b)(n,e),n.getDefaultOptions=function(){return Object(d.c)({},e.getDefaultOptions.call(this),{syncViewPadding:s})},n.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(i.i.BEFORE_CHANGE_DATA,i.d.fromData(this.chart,i.i.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var e=this.options,t=y(e.xField,e.yField,"series-field-key",t,g(e.layout)),e=t[0],t=t[1],n=Object(d.e)(this.chart,"first-axes-view"),r=Object(d.e)(this.chart,"second-axes-view");n.data(e),r.data(t),this.chart.render(!0),this.chart.emit(i.i.AFTER_CHANGE_DATA,i.d.fromData(this.chart,i.i.AFTER_CHANGE_DATA,null))},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return E},n.SERIES_FIELD_KEY="series-field-key"},function(o,t,e){"use strict";e.d(t,"a",function(){return x});var _=e(3),t=e(19),m=e(0),n=e(8),v=e(2),a=e(25),b={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};var s={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:.5<(t[0]+t[1])/2?-4:4,content:e}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!Object(m.get)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function c(s){var u,l,h,n,c,r,i,d,t=s.options,e=t.data,f=t.sourceField,p=t.targetField,g=t.weightField,o=t.nodePaddingRatio,a=t.nodeWidthRatio,t=t.rawFields,y=void 0===t?[]:t,f=(t={weight:!0,nodePaddingRatio:o,nodeWidthRatio:a},o=Object(v.z)(e,f,p,g),t=t,i=Object(m.assign)({},b,t),d={},t=o.nodes,o=o.links,t.forEach(function(t){var e=i.id(t);d[e]=t}),a=d,c=o,r=i,Object(m.forIn)(a,function(e,n){e.inEdges=c.filter(function(t){return""+r.target(t)==""+n}),e.outEdges=c.filter(function(t){return""+r.source(t)==""+n}),e.edges=e.outEdges.concat(e.inEdges),e.frequency=e.edges.length,e.value=0,e.inEdges.forEach(function(t){e.value+=r.targetWeight(t)}),e.outEdges.forEach(function(t){e.value+=r.sourceWeight(t)})}),a=t,(e=!(e={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,e){return(""+n.id(t)).localeCompare(""+n.id(e))}}[(n=i).sortBy])&&Object(m.isFunction)(n.sortBy)?n.sortBy:e)&&a.sort(e),{nodes:function(s,c){var t=s.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(c.weight){var e=c.nodePaddingRatio;if(e<0||1<=e)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var u=e/(2*t),l=c.nodeWidthRatio;if(l<=0||1<=l)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var n=0;s.forEach(function(t){n+=t.value}),s.forEach(function(t){t.weight=t.value/n,t.width=t.weight*(1-e),t.height=l}),s.forEach(function(t,e){for(var n=0,r=e-1;0<=r;r--)n+=s[r].width+2*u;var e=t.minX=u+n,i=t.maxX=t.minX+t.width,o=t.minY=c.y-l/2,a=t.maxY=o+l;t.x=[e,i,i,e],t.y=[o,o,a,a]})}else{var r=1/t;s.forEach(function(t,e){t.x=(e+.5)*r,t.y=c.y})}return s}(t,i),links:(u=d,a=o,(l=i).weight?(h={},Object(m.forIn)(u,function(t,e){h[e]=t.value}),a.forEach(function(t){var e,n,r,i,o=l.source(t),a=l.target(t),s=u[o],c=u[a];s&&c&&(e=h[o],r=l.sourceWeight(t),n=(e=s.minX+(s.value-e)/s.value*s.width)+r/s.value*s.width,h[o]-=r,o=h[a],r=l.targetWeight(t),i=(o=c.minX+(c.value-o)/c.value*c.width)+r/c.value*c.width,h[a]-=r,a=l.y,t.x=[e,n,o,i],t.y=[a,a,a,a],t.source=s,t.target=c)})):a.forEach(function(t){var e=u[l.source(t)],n=u[l.target(t)];e&&n&&(t.x=[e.x,n.x],t.y=[e.y,n.y],t.source=e,t.target=n)}),a)}),p=f.nodes,g=f.links,e=p.map(function(t){return Object(_.a)(Object(_.a)({},Object(v.t)(t,Object(_.d)(["id","x","y","name"],y))),{isNode:!0})}),t=g.map(function(t){return Object(_.a)(Object(_.a)({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},Object(v.t)(t,Object(_.d)(["x","y","value"],y))),{isNode:!1})});return Object(_.a)(Object(_.a)({},s),{ext:Object(_.a)(Object(_.a)({},s.ext),{chordData:{nodesData:e,edgesData:t}})})}function u(t){var e;return t.chart.scale(((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}}).name={sync:"color"},e.source={sync:"color"},e)),t}function l(t){return t.chart.axis(!1),t}function h(t){return t.chart.legend(!1),t}function d(t){var e=t.chart,n=t.options.tooltip;return e.tooltip(n),t}function f(t){return t.chart.coordinate("polar").reflect("y"),t}function p(t){var e=t.chart,n=t.options,r=t.ext.chordData.nodesData,i=n.nodeStyle,o=n.label,n=n.tooltip,e=e.createView();return e.data(r),Object(a.f)({chart:e,options:{xField:"x",yField:"y",seriesField:"name",polygon:{style:i},label:o,tooltip:n}}),t}function g(t){var e=t.chart,n=t.options,r=t.ext.chordData.edgesData,i=n.edgeStyle,n=n.tooltip,e=e.createView(),r=(e.data(r),{xField:"x",yField:"y",seriesField:"source",edge:{style:i,shape:"arc"},tooltip:n});return Object(a.b)({chart:e,options:r}),t}function y(t){var e=t.chart,n=t.options.animation;return"boolean"==typeof n?e.animate(n):e.animate(!0),Object(m.each)(Object(v.j)(e),function(t){t.animate(n)}),t}function O(t){return Object(v.f)(n.k,c,f,u,l,h,d,g,p,n.c,n.j,y)(t)}r=t.b,Object(_.b)(i,r),i.getDefaultOptions=function(){return s},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return O};var r,x=i;function i(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="chord",t}},function(o,a,t){"use strict";var p=t(3),e=t(19),g=t(0),n=t(8),y=t(60),_=t(2),m=t(221),v=t(49);function s(t){var e=t.chart,n=t.options,r=n.type,i=n.data,o=n.fields,f=n.eachView,n=Object(g.omit)(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(i),e.facet(r,Object(p.a)(Object(p.a)({},n),{fields:o,eachView:function(t,e){var n,r,i,l,h,o,a,s,c,d,u,e=f(t,e);e.geometries?(n=t,r=e.data,i=e.coordinate,l=e.interactions,h=e.annotations,o=e.animation,a=e.tooltip,s=e.axes,c=e.meta,d=e.geometries,r&&n.data(r),u={},s&&Object(g.each)(s,function(t,e){u[e]=Object(_.t)(t,y.a)}),u=Object(_.c)({},c,u),n.scale(u),i&&n.coordinate(i),!1===s?n.axis(!1):Object(g.each)(s,function(t,e){n.axis(e,t)}),Object(g.each)(d,function(t){var e=Object(v.a)({chart:n,options:t}).ext,t=t.adjust;t&&e.geometry.adjust(t)}),Object(g.each)(l,function(t){!1===t.enable?n.removeInteraction(t.type):n.interaction(t.type,t.cfg)}),Object(g.each)(h,function(t){n.annotation()[t.type](Object(p.a)({},t))}),"boolean"==typeof o?n.animate(!1):(n.animate(!0),Object(g.each)(n.geometries,function(t){t.animate(o)})),a?(n.interaction("tooltip"),n.tooltip(a)):!1===a&&n.removeInteraction("tooltip")):((c=(r=e).options).tooltip&&t.interaction("tooltip"),Object(m.a)(r.type,t,c))}})),t}function c(t){var n=t.chart,e=t.options,r=e.axes,i=e.meta,o=e.tooltip,a=e.coordinate,s=e.theme,c=e.legend,l=e.interactions,e=e.annotations,u={};return r&&Object(g.each)(r,function(t,e){u[e]=Object(_.t)(t,y.a)}),u=Object(_.c)({},i,u),n.scale(u),n.coordinate(a),r?Object(g.each)(r,function(t,e){n.axis(e,t)}):n.axis(!1),o?(n.interaction("tooltip"),n.tooltip(o)):!1===o&&n.removeInteraction("tooltip"),n.legend(c),s&&n.theme(s),Object(g.each)(l,function(t){!1===t.enable?n.removeInteraction(t.type):n.interaction(t.type,t.cfg)}),Object(g.each)(e,function(t){n.annotation()[t.type](Object(p.a)({},t))}),t}function u(t){return Object(_.f)(n.k,s,c)(t)}var r,l={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};function i(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="area",t}r=e.b,Object(p.b)(i,r),i.getDefaultOptions=function(){return l},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return u}},function(u,t,e){"use strict";e.r(t),e.d(t,"Base",function(){return h}),e.d(t,"Circle",function(){return f}),e.d(t,"Line",function(){return p});var n,r=e(11),d=e(0),t=e(37),l=e(29),h=(n=t.a,Object(r.b)(i,n),i.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:l.a.lineColor}}}})},i.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},i.prototype.renderInner=function(t){this.drawGrid(t)},i.prototype.getAlternatePath=function(t,e){t=this.getGridPath(t),e=e.slice(0).reverse(),e=this.getGridPath(e,!0);return this.get("closed")?t=t.concat(e):(e[0][0]="L",(t=t.concat(e)).push(["Z"])),t},i.prototype.getPathStyle=function(){return this.get("line").style},i.prototype.drawGrid=function(a){var s=this,c=this.get("line"),u=this.get("items"),l=this.get("alternateColor"),h=null;Object(d.each)(u,function(t,e){var n,r,i,o=t.id||e;c&&(i=s.getPathStyle(),i=Object(d.isFunction)(i)?i(t,e,u):i,n=s.getElementId("line-"+o),r=s.getGridPath(t.points),s.addShape(a,{type:"path",name:"grid-line",id:n,attrs:Object(d.mix)({path:r},i)})),l&&0<e&&(n=s.getElementId("region-"+o),r=e%2==0,Object(d.isString)(l)?r&&s.drawAlternateRegion(n,a,h.points,t.points,l):(i=r?l[1]:l[0],s.drawAlternateRegion(n,a,h.points,t.points,i))),h=t})},i.prototype.drawAlternateRegion=function(t,e,n,r,i){n=this.getAlternatePath(n,r);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:n,fill:i}})},i);function i(){return null!==n&&n.apply(this,arguments)||this}a=h,Object(r.b)(c,a),c.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},t),{type:"circle",center:null,closed:!0})},c.prototype.getGridPath=function(t,e){var n,r,i,o,a,s=this.getLineType(),c=this.get("closed"),u=[];return t.length&&("circle"===s?(s=this.get("center"),i=t[0],r=s.x,n=s.y,r=i.x-r,i=i.y-n,o=Math.sqrt(r*r+i*i),a=e?0:1,c?(u.push(["M",s.x,s.y-o]),u.push(["A",o,o,0,0,a,s.x,s.y+o]),u.push(["A",o,o,0,0,a,s.x,s.y-o]),u.push(["Z"])):Object(d.each)(t,function(t,e){0===e?u.push(["M",t.x,t.y]):u.push(["A",o,o,0,0,a,t.x,t.y])})):(Object(d.each)(t,function(t,e){0===e?u.push(["M",t.x,t.y]):u.push(["L",t.x,t.y])}),c&&u.push(["Z"]))),u};var o,a,f=c,p=(o=h,Object(r.b)(s,o),s.prototype.getDefaultCfg=function(){var t=o.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},t),{type:"line"})},s.prototype.getGridPath=function(t){var n=[];return Object(d.each)(t,function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),n},s);function s(){return null!==o&&o.apply(this,arguments)||this}function c(){return null!==a&&a.apply(this,arguments)||this}},function(c,t,e){"use strict";e.r(t),e.d(t,"Category",function(){return m}),e.d(t,"Continuous",function(){return v}),e.d(t,"Base",function(){return f});var u,l,o,g=e(11),x=e(0),p=e(85),h=e(55),d=e(130),n=e(29),t=e(37),s=e(27),f=(o=t.a,Object(g.b)(a,o),a.prototype.getDefaultCfg=function(){var t=o.prototype.getDefaultCfg.call(this);return Object(g.a)(Object(g.a)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},a.prototype.getLayoutBBox=function(){var t=o.prototype.getLayoutBBox.call(this),e=this.get("maxWidth"),n=this.get("maxHeight"),r=t.width,i=t.height;return e&&(r=Math.min(r,e)),n&&(i=Math.min(i,n)),Object(s.b)(t.minX,t.minY,r,i)},a.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},a.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),r=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+r})},a.prototype.applyOffset=function(){this.resetLocation()},a.prototype.getDrawPoint=function(){return this.get("currentPoint")},a.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},a.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},a.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),r=Object(s.c)(e.padding),n=Object(g.a)({x:0,y:0,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:n}).toBack()},a.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),r=n.spacing,i=n.style,n=n.text,t=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(g.a)({text:n,x:e.x,y:e.y},i)}).getBBox();this.set("currentPoint",{x:e.x,y:t.maxY+r})},a.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};t&&(t=Object(s.c)(t.padding),e.x=t[3],e.y=t[0]),this.set("currentPoint",e)},a),E={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},y={fill:n.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:n.a.fontFamily,fontWeight:"normal",lineHeight:12},_={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},m=(l=f,Object(g.b)(i,l),i.prototype.getDefaultCfg=function(){var t=l.prototype.getDefaultCfg.call(this);return Object(g.a)(Object(g.a)({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:n.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:n.a.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:E,itemName:{spacing:16,style:y},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:y,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:n.a.uncheckedColor},markerStyle:{fill:n.a.uncheckedColor,stroke:n.a.uncheckedColor}},inactive:{nameStyle:{fill:n.a.uncheckedColor},markerStyle:{opacity:.2}}}}})},i.prototype.isList=function(){return!0},i.prototype.getItems=function(){return this.get("items")},i.prototype.setItems=function(t){this.update({items:t})},i.prototype.updateItem=function(t,e){Object(x.mix)(t,e),this.clear(),this.render()},i.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},i.prototype.setItemState=function(t,e,n){t[e]=n;var r,e=this.getElementByLocalId("item-"+t.id);e&&(n=this.getItems().indexOf(t),r=this.createOffScreenGroup(),t=this.drawItem(t,n,this.getItemHeight(),r),this.updateElements(t,e),this.clearUpdateStatus(e))},i.prototype.hasState=function(t,e){return!!t[e]},i.prototype.getItemStates=function(n){var t=this.get("itemStates"),r=[];return Object(x.each)(t,function(t,e){n[e]&&r.push(e)}),r},i.prototype.clearItemsState=function(e){var n=this,t=this.getItemsByState(e);Object(x.each)(t,function(t){n.setItemState(t,e,!1)})},i.prototype.getItemsByState=function(e){var n=this,t=this.getItems();return Object(x.filter)(t,function(t){return n.hasState(t,e)})},i.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},i.prototype.processItems=function(){var t=this.get("items");Object(x.each)(t,function(t){t.id||(t.id=t.name)})},i.prototype.drawItems=function(t){var n=this,e=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),l=this.addGroup(e,{id:this.getElementId("item-group"),name:"legend-item-group"}),r=this.getItemHeight(),h=this.get("itemWidth"),d=this.get("itemSpacing"),i=this.get("itemMarginBottom"),o=this.get("currentPoint"),a=o.x,s=o.y,f=this.get("layout"),e=this.get("items"),c=!1,u=0,p=this.get("maxWidth"),g=this.get("maxHeight");Object(x.each)(e,function(t,e){t=n.drawItem(t,e,r,l),e=t.getBBox(),e=h||e.width;u<e&&(u=e),"horizontal"===f?(p&&p<o.x+e-a&&(c=!0,o.x=a,o.y+=r+i),n.moveElementTo(t,o),o.x+=e+d):(g&&g<o.y+r+i-s&&(c=!0,o.x+=u+d,o.y=s,u=0),n.moveElementTo(t,o),o.y+=r+i)}),c&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=a,this.startY=s,this.adjustNavigation(t,l))},i.prototype.getItemHeight=function(){var n,r,i=this.get("itemHeight");return i||(n=(this.get("itemName")||{}).style,Object(x.isFunction)(n)?(r=this.getItems()).forEach(function(t,e){t=Object(g.a)(Object(g.a)({},y),n(t,e,r)).fontSize;i<t&&(i=t)}):n&&(i=n.fontSize)),i},i.prototype.drawMarker=function(t,e,n,r){r=Object(g.a)(Object(g.a)(Object(g.a)({x:0,y:r/2},e.style),{symbol:Object(x.get)(n.marker,"symbol","circle")}),Object(x.get)(n.marker,"style",{})),e=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:r}),t=e.getBBox(),e.attr("x",t.width/2),n=e.attr(),r=n.stroke,t=n.fill;return r&&e.set("isStroke",!0),t&&e.set("isFill",!0),e},i.prototype.drawItemText=function(t,e,n,r,i,o,a){var s=n.formatter,n=n.style,o=Object(g.a)(Object(g.a)({x:o,y:i/2,text:s?s(r[e],r,a):r[e]},y),Object(x.isFunction)(n)?n(r,a,this.getItems()):n);return this.addShape(t,{type:"text",id:this.getElementId("item-"+r.id+"-"+e),name:"legend-item-"+e,attrs:o})},i.prototype.drawRadio=function(l,h,d,t,e){var f=h.style||{},n=null!==(n=f.r)&&void 0!==n?n:t/2,r=3.6*n/8,t=[e+n,t/2-n],i=t[0],t=t[1],o=[i+n,t+n],a=o[0],o=o[1],s=[i,o+n],c=s[0],s=s[1],e=[e,t+n],u=e[0],e=e[1],p=d.showRadio,a=Object(g.a)(Object(g.a)({path:[["M",i,t],["A",n,n,0,0,1,a,o],["L",a-r,o],["L",a,o],["A",n,n,0,0,1,c,s],["L",c,s-r],["L",c,s],["A",n,n,0,0,1,u,e],["L",u+r,e],["L",u,e],["A",n,n,0,0,1,i,t],["L",i,t+r]],stroke:"#000000",fill:"#ffffff"},f),{opacity:p?.45:0}),o=this.addShape(l,{type:"path",id:this.getElementId("item-"+d.id+"-radio"),name:"legend-item-radio",attrs:a});return o.set("tip",h.tip),o},i.prototype.drawItem=function(t,e,n,r){var i,o,l="item-"+t.id,r=this.addGroup(r,{name:"legend-item-container",id:this.getElementId("item-container-"+l),delegateObject:{item:t,index:e}}),r=this.addGroup(r,{name:"legend-item",id:this.getElementId(l),delegateObject:{item:t,index:e}}),a=this.get("marker"),h=this.get("itemName"),s=this.get("itemValue"),d=this.get("itemBackground"),f=this.get("radio"),c=this.getLimitItemWidth(),u=0;return a&&(o=this.drawMarker(r,a,t,n),a=a.spacing,i=Object(x.get)(t,["marker","spacing"]),Object(x.isNumber)(i)&&(a=i),u=o.getBBox().maxX+a),h&&(i=this.drawItemText(r,"name",h,t,n,u,e),c&&Object(p.a)(!0,i,Object(x.clamp)(c-u,0,c)),u=i.getBBox().maxX+h.spacing),s&&(o=this.drawItemText(r,"value",s,t,n,u,e),c&&(s.alignRight?(o.attr({textAlign:"right",x:c}),Object(p.a)(!0,o,Object(x.clamp)(c-u,0,c),"head")):Object(p.a)(!0,o,Object(x.clamp)(c-u,0,c))),u=o.getBBox().maxX+s.spacing),f&&this.drawRadio(r,f,t,n,u),d&&(a=r.getBBox(),this.addShape(r,{type:"rect",name:"legend-item-background",id:this.getElementId(l+"-background"),attrs:Object(g.a)({x:0,y:0,width:a.width,height:n},d.style)}).toBack()),this.applyItemStates(t,r),r},i.prototype.adjustNavigation=function(t,l){var h,d,n=this,f=this.startX,p=this.startY,g=this.get("layout"),y=l.findAll(function(t){return"legend-item"===t.get("name")}),r=this.get("maxWidth"),_=this.get("maxHeight"),m=this.get("itemWidth"),i=this.get("itemSpacing"),o=this.getItemHeight(),e=Object(x.deepMix)({},E,this.get("pageNavigator")),v=this.drawNavigation(t,g,"00/00",e),a=v.getBBox(),s={x:f,y:p},c=1,b=0,u=0,t=0,O=this.get("itemMarginBottom");"horizontal"===g?(e=this.get("maxRow")||1,this.pageHeight=(h=o+(1===e?0:O))*e,Object(x.each)(y,function(t){var e=t.getBBox(),e=m||e.width;(b&&b<s.x+e+i||r<s.x+e+i+a.width)&&(1===c&&(b=s.x+i,n.pageWidth=b,n.moveElementTo(v,{x:r-i-a.width-a.minX,y:s.y+o/2-a.height/2-a.minY})),c+=1,s.x=f,s.y+=h),n.moveElementTo(t,s),t.getParent().setClip({type:"rect",attrs:{x:s.x,y:s.y,width:e+i,height:o}}),s.x+=e+i})):(Object(x.each)(y,function(t){t=t.getBBox();t.width>u&&(u=t.width)}),t=u,u+=i,r&&(u=Math.min(r,u),t=Math.min(r,t)),this.pageWidth=u,this.pageHeight=_-Math.max(a.height,o+O),d=Math.floor(this.pageHeight/(o+O)),Object(x.each)(y,function(t,e){0!==e&&e%d==0&&(c+=1,s.x+=u,s.y=p),n.moveElementTo(t,s),t.getParent().setClip({type:"rect",attrs:{x:s.x,y:s.y,width:u,height:o}}),s.y+=o+O}),this.totalPagesCnt=c,this.moveElementTo(v,{x:f+t/2-a.width/2-a.minX,y:_-a.height-a.minY})),this.pageHeight&&this.pageWidth&&l.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===g&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(c/this.get("maxRow")):this.totalPagesCnt=c,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(v),l.attr("matrix",this.getCurrentNavigationMatrix())},i.prototype.drawNavigation=function(t,e,n,r){var i={x:0,y:0},t=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),o=Object(x.get)(r.marker,"style",{}),a=o.size,a=void 0===a?12:a,o=Object(g.c)(o,["size"]),s=this.drawArrow(t,i,"navigation-arrow-left","horizontal"===e?"up":"left",a,o),s=(s.on("click",this.onNavigationBack),s.getBBox()),s=(i.x+=s.width+2,this.addShape(t,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Object(g.a)({x:i.x,y:i.y+a/2,text:n,textBaseline:"middle"},Object(x.get)(r.text,"style"))}).getBBox());return i.x+=s.width+2,this.drawArrow(t,i,"navigation-arrow-right","horizontal"===e?"down":"right",a,o).on("click",this.onNavigationAfter),t},i.prototype.updateNavigation=function(t){var e=Object(x.deepMix)({},E,this.get("pageNavigator")).marker.style,n=e.fill,r=e.opacity,i=e.inactiveFill,e=e.inactiveOpacity,o=this.currentPageIndex+"/"+this.totalPagesCnt,a=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),s=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),t=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),o=(a.attr("text",o),s.attr("opacity",1===this.currentPageIndex?e:r),s.attr("fill",1===this.currentPageIndex?i:n),s.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),t.attr("opacity",this.currentPageIndex===this.totalPagesCnt?e:r),t.attr("fill",this.currentPageIndex===this.totalPagesCnt?i:n),t.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer"),s.getBBox().maxX+2);a.attr("x",o),o+=a.getBBox().width+2,this.updateArrowPath(t,{x:o,y:0})},i.prototype.drawArrow=function(t,e,n,r,i,o){var a=e.x,e=e.y,t=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:Object(g.a)({size:i,direction:r,path:[["M",a+i/2,e],["L",a,e+i],["L",a+i,e+i],["Z"]],cursor:"pointer"},o)});return t.attr("matrix",Object(h.e)({x:a+i/2,y:e+i/2},_[r])),t},i.prototype.updateArrowPath=function(t,e){var n=e.x,e=e.y,r=t.attr(),i=r.size,r=r.direction,r=Object(h.e)({x:n+i/2,y:e+i/2},_[r]);t.attr("path",[["M",n+i/2,e],["L",n,e+i],["L",n+i,e+i],["Z"]]),t.attr("matrix",r)},i.prototype.getCurrentNavigationMatrix=function(){var t=this.currentPageIndex,e=this.pageWidth,n=this.pageHeight,n="horizontal"===this.get("layout")?{x:0,y:n*(1-t)}:{x:e*(1-t),y:0};return Object(h.f)(n)},i.prototype.applyItemStates=function(r,t){var i;0<this.getItemStates(r).length&&(t=t.getChildren(),i=this.get("itemStates"),Object(x.each)(t,function(t){var e=t.get("name").split("-")[2],n=Object(d.a)(r,e,i);n&&(t.attr(n),"marker"!==e||t.get("isStroke")&&t.get("isFill")||(t.get("isStroke")&&t.attr("fill",null),t.get("isFill")&&t.attr("stroke",null)))}))},i.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},i),v=(u=f,Object(g.b)(r,u),r.prototype.getDefaultCfg=function(){var t=u.prototype.getDefaultCfg.call(this);return Object(g.a)(Object(g.a)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:n.a.textColor,textBaseline:"middle",fontFamily:n.a.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:n.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},r.prototype.isSlider=function(){return!0},r.prototype.getValue=function(){return this.getCurrentValue()},r.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},r.prototype.setRange=function(t,e){this.update({min:t,max:e})},r.prototype.setValue=function(t){var e=this.getValue(),n=(this.set("value",t),this.get("group"));this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},r.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},r.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},r.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},r.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(t){var t=n.getValueByCanvasPoint(t.x,t.y),e=n.getCurrentValue()[1];n.setValue([t,e=e<t?t:e])}),t.on("legend-handler-max:drag",function(t){var t=n.getValueByCanvasPoint(t.x,t.y),e=n.getCurrentValue()[0];n.setValue([e=t<e?t:e,t])})},r.prototype.bindRailEvent=function(t){},r.prototype.bindTrackEvent=function(t){var a=this,s=null;t.on("legend-track:dragstart",function(t){s={x:t.x,y:t.y}}),t.on("legend-track:drag",function(t){var e,n,r,i,o;s&&(e=a.getValueByCanvasPoint(s.x,s.y),o=a.getValueByCanvasPoint(t.x,t.y),r=(n=a.getCurrentValue())[1]-n[0],i=a.getRange(),(o=o-e)<0?n[0]+o>i.min?a.setValue([n[0]+o,n[1]+o]):a.setValue([i.min,i.min+r]):0<o&&(n[1]+o<i.max?a.setValue([n[0]+o,n[1]+o]):a.setValue([i.max-r,i.max])),s={x:t.x,y:t.y})}),t.on("legend-track:dragend",function(t){s=null})},r.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},r.prototype.drawLabel=function(t,e){var n=this.get("label"),r=n.style,i=n.align,n=n.formatter,o=this.get(t),i=this.getLabelAlignAttrs(t,i);this.addShape(e,{type:"text",id:this.getElementId("label-"+t),name:"legend-label-"+t,attrs:Object(g.a)(Object(g.a)({x:0,y:0,text:Object(x.isFunction)(n)?n(o):o},r),i)})},r.prototype.getLabelAlignAttrs=function(t,e){var n="center",r="middle";return this.isVertical()?(n="start",r="rail"===e||"min"===t?"top":"bottom"):"rail"!==e?(r="top",n="min"===t?"start":"end"):(n="start",r="middle"),{textAlign:n,textBaseline:r}},r.prototype.getRailPath=function(t,e,n,r){var i=this.get("rail"),o=i.size,a=i.defaultLength,i=i.type,s=this.isVertical(),n=(n=n)||(s?o:a),r=(r=r)||(s?a:o),s=[];return"color"===i?(s.push(["M",t,e]),s.push(["L",t+n,e])):s.push(["M",t+n,e]),s.push(["L",t+n,e+r]),s.push(["L",t,e+r]),s.push(["Z"]),s},r.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(g.a)({path:this.getRailPath(0,0)},e)})},r.prototype.getTrackColor=function(t){var e=t.length;if(!e)return null;if(1===e)return t[0];for(var n=this.isVertical()?"l(90)":"l(0)",r=0;r<e;r++)n+=" "+r/(e-1)+":"+t[r];return n},r.prototype.getTrackPath=function(t){t=this.getRailShape(t).attr("path");return Object(x.clone)(t)},r.prototype.getClipTrackAttrs=function(t){var e,n,r,i=this.getCurrentValue(),o=i[0],i=i[1],a=this.getRailBBox(t),o=this.getPointByValue(o,t),i=this.getPointByValue(i,t),t=this.isVertical()?(e=a.minX,n=o.y,r=a.width,i.y-o.y):(e=o.x,n=a.minY,r=i.x-o.x,a.height);return{x:e,y:n,width:r,height:t}},r.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),t=this.getTrackPath(t);return Object(x.mix)({path:t,fill:this.getTrackColor(n)},e.style)},r.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),e=e.findById(n),n=e.getClip(),t=this.getClipTrackAttrs(t);n?n.attr(t):e.setClip({type:"rect",attrs:t})},r.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),r=this.getTrackAttrs(t);n?n.attr(r):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:r})},r.prototype.getPointByValue=function(t,e){var n=this.getRange(),r=n.min,t=(t-r)/(n.max-r),n=this.getRailBBox(e),r={x:0,y:0};return this.isVertical()?(r.x=n.minX+n.width/2,r.y=Object(s.g)(n.minY,n.maxY,t)):(r.x=Object(s.g)(n.minX,n.maxX,t),r.y=n.minY+n.height/2),r},r.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},r.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},r.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},r.prototype.isVertical=function(){return"vertical"===this.get("layout")},r.prototype.getValueByCanvasPoint=function(t,e){var n=this.getRange(),r=n.min,n=n.max,i=this.getRailCanvasBBox(),o=this.isVertical(),a=this.get("step"),o=o?(e-i.minY)/i.height:(t-i.minX)/i.width,e=Object(s.g)(r,n,o);return e=(e=n<(e=a?r+Math.round((e-r)/a)*a:e)?n:e)<r?r:e},r.prototype.getCurrentValue=function(){var t=this.get("value");return t||((t=this.get("values"))?[Math.max(Math.min.apply(Math,Object(g.d)(t,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,Object(g.d)(t,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")])},r.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],e=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",e)},r.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),r=[],t=t.size,i=e.x,e=e.y,o=1.4*t,a=t/2,t=t/6;return n?(n=i+.4*o,r.push(["M",i,e]),r.push(["L",n,e+a]),r.push(["L",i+o,e+a]),r.push(["L",i+o,e-a]),r.push(["L",n,e-a]),r.push(["Z"]),r.push(["M",n,e+t]),r.push(["L",i+o-2,e+t]),r.push(["M",n,e-t]),r.push(["L",i+o-2,e-t])):(n=e+.4*o,r.push(["M",i,e]),r.push(["L",i-a,n]),r.push(["L",i-a,e+o]),r.push(["L",i+a,e+o]),r.push(["L",i+a,n]),r.push(["Z"]),r.push(["M",i-t,n]),r.push(["L",i-t,e+o-2]),r.push(["M",i+t,n]),r.push(["L",i+t,e+o-2])),r},r.prototype.resetHandler=function(t,e,n){var n=this.getPointByValue(n,t),r=this.get("handler"),n=this.getHandlerPath(r,n),i=this.getElementId("handler-"+e),o=t.findById(i),a=this.isVertical();o?o.attr("path",n):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:i,attrs:Object(g.a)(Object(g.a)({path:n},r.style),{cursor:a?"ns-resize":"ew-resize"})})},r.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),t=t.findById(this.getElementId("label-max")),r=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,t,e,r):this.fixedHorizontal(n,t,e,r)},r.prototype.fitRailLength=function(t,e,n,r){var i=this.isVertical()?"height":"width",o=this.get("label"),a=o.align,o=o.spacing,s=this.get("max"+Object(x.upperFirst)(i));!s||0<(a=("rail"===a?n[i]+t[i]+e[i]+2*o:n[i])-s)&&this.changeRailLength(r,i,n[i]-a)},r.prototype.changeRailLength=function(t,e,n){var r=t.getBBox(),e="height"===e?this.getRailPath(r.x,r.y,r.width,n):this.getRailPath(r.x,r.y,n,r.height);t.attr("path",e)},r.prototype.changeRailPosition=function(t,e,n){var r=t.getBBox(),e=this.getRailPath(e,n,r.width,r.height);t.attr("path",e)},r.prototype.fixedHorizontal=function(t,e,n,r){var i=this.get("label"),o=i.align,i=i.spacing,a=n.getBBox(),s=t.getBBox(),c=e.getBBox(),u=a.height;this.fitRailLength(s,c,a,n),a=n.getBBox(),"rail"===o?(t.attr({x:r.x,y:r.y+u/2}),this.changeRailPosition(n,r.x+s.width+i,r.y),e.attr({x:r.x+s.width+a.width+2*i,y:r.y+u/2})):"top"===o?(t.attr({x:r.x,y:r.y}),e.attr({x:r.x+a.width,y:r.y}),this.changeRailPosition(n,r.x,r.y+s.height+i)):(this.changeRailPosition(n,r.x,r.y),t.attr({x:r.x,y:r.y+a.height+i}),e.attr({x:r.x+a.width,y:r.y+a.height+i}))},r.prototype.fixedVertail=function(t,e,n,r){var i=this.get("label"),o=i.align,i=i.spacing,a=n.getBBox(),s=t.getBBox(),c=e.getBBox();this.fitRailLength(s,c,a,n),a=n.getBBox(),"rail"===o?(t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x,r.y+s.height+i),e.attr({x:r.x,y:r.y+s.height+a.height+2*i})):"right"===o?(t.attr({x:r.x+a.width+i,y:r.y}),this.changeRailPosition(n,r.x,r.y),e.attr({x:r.x+a.width+i,y:r.y+a.height})):(o=Math.max(s.width,c.width),t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x+o+i,r.y),e.attr({x:r.x,y:r.y+a.height}))},r);function r(){return null!==u&&u.apply(this,arguments)||this}function i(){var n=null!==l&&l.apply(this,arguments)||this;return n.currentPageIndex=1,n.totalPagesCnt=1,n.pageWidth=0,n.pageHeight=0,n.startX=0,n.startY=0,n.onNavigationBack=function(){var t,e=n.getElementByLocalId("item-group");1<n.currentPageIndex&&(--n.currentPageIndex,n.updateNavigation(),t=n.getCurrentNavigationMatrix(),n.get("animate")?e.animate({matrix:t},100):e.attr({matrix:t}))},n.onNavigationAfter=function(){var t,e=n.getElementByLocalId("item-group");n.currentPageIndex<n.totalPagesCnt&&(n.currentPageIndex+=1,n.updateNavigation(),t=n.getCurrentNavigationMatrix(),n.get("animate")?e.animate({matrix:t},100):e.attr({matrix:t}))},n}function a(){return null!==o&&o.apply(this,arguments)||this}},function(c,t,e){"use strict";e.r(t),e.d(t,"Html",function(){return h});var n,i,o=e(11),u=e(84),f=e(18),a=e(0),t=e(109),p=e(27),s=e(56),e=e(29),l=((n={})[""+s.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:e.a.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},n[""+s.TITLE_CLASS]={marginBottom:"4px"},n[""+s.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},n[""+s.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},n[""+s.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},n[""+s.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},n[""+s.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},n[""+s.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},n),h=(i=t.a,Object(o.b)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return Object(o.a)(Object(o.a)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+s.CONTAINER_CLASS+'"><div class="'+s.TITLE_CLASS+'"></div><ul class="'+s.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+s.LIST_ITEM_CLASS+'" data-index={index}>\n          <span class="'+s.MARKER_CLASS+'" style="background:{color}"></span>\n          <span class="'+s.NAME_CLASS+'">{name}</span>:\n          <span class="'+s.VALUE_CLASS+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+s.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+s.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:s.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:l})},r.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},r.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},r.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),Object(f.e)(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},r.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),Object(f.e)(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},r.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},r.prototype.setCrossHairsVisible=function(t){var t=t?"":"none",e=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");e&&Object(f.e)(e,{display:t}),n&&Object(f.e)(n,{display:t})},r.prototype.initContainer=function(){var t;i.prototype.initContainer.call(this),this.get("customContent")&&(this.get("container")&&this.get("container").remove(),t=this.getHtmlContentNode(),this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles())},r.prototype.updateInner=function(t){var e,n,r;this.get("customContent")?this.renderCustomContent():(e=t,r=!(n=["title","showTitle"]),Object(a.each)(n,function(t){if(Object(a.hasKey)(e,t))return!(r=!0)}),r&&this.resetTitle(),Object(a.hasKey)(t,"items")&&this.renderItems()),i.prototype.updateInner.call(this,t)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.removeDom=function(){i.prototype.removeDom.call(this),this.clearCrosshairs()},r.prototype.resetPosition=function(){var t,s,e=this.get("x"),n=this.get("y"),r=this.get("offset"),l=this.getOffset(),h=l.offsetX,l=l.offsetY,i=this.get("position"),o=this.get("region"),d=this.getContainer(),a=this.getBBox(),c=a.width,a=a.height,u=(o&&(t=Object(p.k)(o)),s=i,o=t,c=function(t,e,n,r,i){var o=t,a=e;switch(s){case"left":o=t-r-n,a=e-i/2;break;case"right":o=t+n,a=e-i/2;break;case"top":o=t-r/2,a=e-i-n;break;case"bottom":o=t-r/2,a=e+n;break;default:o=t+n,a=e-i-n}return{x:o,y:a}}(i=e,t=n,e=r,n=c,r=a),o&&(a=c.x,u=c.y,a={left:a<o.x,right:a+n>o.x+o.width,top:u<o.y,bottom:u+r>o.y+o.height},"auto"===s?(a.right&&(c.x=Math.max(0,i-n-e)),a.top&&(c.y=Math.max(0,t-r-e))):"top"===s||"bottom"===s?(a.left&&(c.x=o.x),a.right&&(c.x=o.x+o.width-n),"top"===s&&a.top&&(c.y=t+e),"bottom"===s&&a.bottom&&(c.y=t-r-e)):(a.top&&(c.y=o.y),a.bottom&&(c.y=o.y+o.height-r),"left"===s&&a.left&&(c.x=i+e),"right"===s&&a.right&&(c.x=i-n-e))),c);Object(f.e)(d,{left:Object(p.l)(u.x+h),top:Object(p.l)(u.y+l)}),this.resetCrosshairs()},r.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},r.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");return e&&(e=e(this.get("title"),this.get("items")),t=Object(a.isElement)(e)?e:Object(f.b)(e)),t},r.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(s.TITLE_CLASS)[0],t=t.getElementsByClassName(s.LIST_CLASS)[0];this.set("titleDom",e),this.set("listDom",t)},r.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},r.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},r.prototype.resetCrosshairs=function(){var t,e,n=this.get("crosshairsRegion"),r=this.get("crosshairs");n&&r?(n=Object(p.k)(n),t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom"),"x"===r?(this.resetCrosshair("x",n),e&&(e.remove(),this.set("yCrosshairDom",null))):"y"===r?(this.resetCrosshair("y",n),t&&(t.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))):this.clearCrosshairs()},r.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),r=this.get(t);"x"===t?Object(f.e)(n,{left:Object(p.l)(r),top:Object(p.l)(e.y),height:Object(p.l)(e.height)}):Object(f.e)(n,{top:Object(p.l)(r),left:Object(p.l)(e.x),width:Object(p.l)(e.width)})},r.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",t="CROSSHAIR_"+t.toUpperCase(),t=s[t],r=this.get(e),i=this.get("parent");return r||(r=Object(f.b)(this.get(n)),this.applyStyle(t,r),i.appendChild(r),this.set(e,r)),r},r.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),n=this.get("itemTpl"),r=this.get("listDom");r&&(Object(a.each)(t,function(t){var e=u.a.toCSSGradient(t.color),t=Object(o.a)(Object(o.a)({},t),{color:e}),e=Object(a.substitute)(n,t),t=Object(f.b)(e);r.appendChild(t)}),this.applyChildrenStyles(r,this.get("domStyles")))},r.prototype.clearItemDoms=function(){this.get("listDom")&&Object(p.a)(this.get("listDom"))},r.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},r);function r(){return null!==i&&i.apply(this,arguments)||this}},function(t,e,n){"use strict";n(194),n(195),n(201)},function(s,t,e){"use strict";e.d(t,"a",function(){return m});var u=e(3),t=e(19),l=e(0),h=e(2),a=e(8),o=e(25);function n(t){var e=t.chart,n=t.options,r=n.data,i=n.sectorStyle,n=n.color;return e.data(r),Object(h.f)(o.c)(Object(h.c)({},t,{options:{marginRatio:1,interval:{style:i,color:n}}})),t}function c(t){var e,n,r,i,o,a=t.chart,s=t.options,c=s.label,s=s.xField,a=Object(h.d)(a,"interval");return!1===c?a.label(!1):Object(l.isObject)(c)?(e=c.callback,n=c.fields,i=(r=Object(u.c)(c,["callback","fields"])).offset,o=r.layout,(void 0===i||0<=i)&&(o=o?Object(l.isArray)(o)?o:[o]:[],r.layout=Object(l.filter)(o,function(t){return"limit-in-shape"!==t.type}),r.layout.length||delete r.layout),a.label({fields:n||[s],callback:e,cfg:Object(h.A)(r)})):(Object(h.r)(h.a.WARN,null===c,"the label option must be an Object."),a.label({fields:[s]})),t}function d(t){var e=t.chart,n=t.options,r=n.legend,n=n.seriesField;return!1===r?e.legend(!1):n&&e.legend(n,r),t}function f(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,n=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:n}}),t}function p(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return Object(h.f)(Object(a.g)(((e={})[o]=r,e[n]=i,e)))(t)}function g(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,n=n.yField;return r?e.axis(o,r):e.axis(o,!1),i?e.axis(n,i):e.axis(n,!1),t}function y(t){Object(h.f)(Object(a.f)("sectorStyle"),n,p,c,f,g,d,a.l,a.c,a.a,a.k,Object(a.b)(),a.j)(t)}var r,_=Object(h.c)({},t.b.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),m=(r=t.b,Object(u.b)(i,r),i.getDefaultOptions=function(){return _},i.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},i.prototype.getDefaultOptions=function(){return i.getDefaultOptions()},i.prototype.getSchemaAdaptor=function(){return y},i);function i(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="rose",t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return i.a});var r=n(136),e=(n(16),n(17),n(4)),i=(e.e.create(),n(107));n(189),e.e.create(),e.e.create(),e.e.create(),e.e.create(),e.e.create()},function(c,t,e){"use strict";var n=e(32),o=e(36);function h(t,e,n){var r,t=t.getTotalMatrix();return t?(r=[e,n,1],[(t=(t=t)?(t=Object(o.invert)(t),Object(o.multiplyVec2)(t,r)):r)[0],t[1]]):[e,n]}function d(t,e,n){if(t.isCanvas&&t.isCanvas())return 1;if(Object(o.isAllowCapture)(t)&&!1!==t.cfg.isInView){if(t.cfg.clipShape){var r=h(t,e,n),i=r[0],r=r[1];if(t.isClipped(i,r))return}i=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=i.minX&&e<=i.maxX&&n>=i.minY&&n<=i.maxY}}var a,u=e(106),l=e(134),i=e(30),s=e(61),e=(a=o.AbstractCanvas,Object(n.b)(r,a),r.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return u},r.prototype.getGroupBase=function(){return l.a},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Object(i.d)();return 1<=t?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){a.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),r=this.get("el"),i=this.getPixelRatio();r.width=i*t,r.height=i*e,1<i&&n.scale(i,i)},r.prototype.clear=function(){a.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?function l(t,e,n){if(!d(t,e,n))return null;for(var r=null,i=t.getChildren(),o=i.length-1;0<=o;o--){var a,s,c,u=i[o];if(u.isGroup()?r=l(u,e,n):d(u,e,n)&&(s=(c=h(a=u,e,n))[0],c=c[1],a.isInShape(s,c)&&(r=u)),r)break}return r}(this,t,e):a.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();return e.length&&e[0]===this?t=n:(t=Object(s.f)(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=Object(s.g)(t,n))),t},r.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(i.a)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Object(s.a)(t,this),Object(s.d)(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),Object(s.a)(t,this),Object(s.b)(this,n,r),Object(s.d)(t,n,r),t.restore()):e.length&&Object(s.c)(e),Object(i.c)(e,function(t){t.get("hasChanged")&&t.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t,e=this;this.get("drawFrame")||(t=Object(i.n)(function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)}),this.set("drawFrame",t))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r);function r(){return null!==a&&a.apply(this,arguments)||this}t.a=e},function(u,t,e){"use strict";e.d(t,"a",function(){return o});var n,r=e(11),i=e(18),a=e(0),t=e(37),s={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},o=(n=t.a,Object(r.b)(c,n),c.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),t=Object(a.clamp)(n,t,e);n===t||this.get("isInit")||this.setValue(t)},c.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},c.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(a.clamp)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},c.prototype.getValue=function(){return Object(a.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},c.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:s})},c.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},c.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},c.prototype.initEvent=function(){this.bindEvents()},c.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,e=e.theme,e=void 0===e?{default:{}}:e,e=Object(a.deepMix)({},s,e).default,r=e.lineCap,i=e.trackColor,e=e.size,e=Object(a.get)(this.cfg,"size",e),n=this.get("isHorizontal")?{x1:0+e/2,y1:e/2,x2:n-e/2,y2:e/2,lineWidth:e,stroke:i,lineCap:r}:{x1:e/2,y1:0+e/2,x2:e/2,y2:n-e/2,lineWidth:e,stroke:i,lineCap:r};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:n})},c.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,r=e.thumbLen,e=e.theme,e=Object(a.deepMix)({},s,e).default,i=e.size,o=e.lineCap,e=e.thumbColor,i=Object(a.get)(this.cfg,"size",i),n=this.get("isHorizontal")?{x1:n+i/2,y1:i/2,x2:n+r-i/2,y2:i/2,lineWidth:i,stroke:e,lineCap:o,cursor:"default"}:{x1:i/2,y1:n+i/2,x2:i/2,y2:n+r-i/2,lineWidth:i,stroke:e,lineCap:o,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:n})},c.prototype.bindEvents=function(){var t=this.get("group"),t=(t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick),t.findById(this.getElementId("thumb")));t.on("mouseover",this.onThumbMouseOver),t.on("mouseout",this.onThumbMouseOut)},c.prototype.getContainerDOM=function(){var t=this.get("container"),t=t&&t.get("canvas");return t&&t.get("container")},c.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,e=e.trackLen,r=t;return e<t+n?r=e-n:t+n<n&&(r=0),r},c.prototype.draw=function(){var t=this.get("container"),t=t&&t.get("canvas");t&&t.draw()},c.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,r=e.isHorizontal,i=e.thumbLen,e=e.size,t=this.validateRange(t);t!==n&&(n=this.getElementByLocalId("thumb"),r?n.attr({x1:t+e/2,x2:t+i-e/2}):n.attr({y1:t+e/2,y2:t+i-e/2}),this.emitOffsetChange(t))},c.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,r=e.trackLen,e=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Object(a.clamp)(t/(r-e),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},c);function c(){var s=null!==n&&n.apply(this,arguments)||this;return s.clearEvents=a.noop,s.onStartEvent=function(n){return function(t){s.isMobile=n,t.originalEvent.preventDefault();var e=n?Object(a.get)(t.originalEvent,"touches.0.clientX"):t.clientX,t=n?Object(a.get)(t.originalEvent,"touches.0.clientY"):t.clientY;s.startPos=s.cfg.isHorizontal?e:t,s.bindLaterEvent()}},s.bindLaterEvent=function(){var t=s.getContainerDOM(),e=[],e=s.isMobile?[Object(i.a)(t,"touchmove",s.onMouseMove),Object(i.a)(t,"touchend",s.onMouseUp),Object(i.a)(t,"touchcancel",s.onMouseUp)]:[Object(i.a)(t,"mousemove",s.onMouseMove),Object(i.a)(t,"mouseup",s.onMouseUp),Object(i.a)(t,"mouseleave",s.onMouseUp)];s.clearEvents=function(){e.forEach(function(t){t.remove()})}},s.onMouseMove=function(t){var e=s.cfg,n=e.isHorizontal,e=e.thumbOffset,r=(t.preventDefault(),s.isMobile?Object(a.get)(t,"touches.0.clientX"):t.clientX),t=s.isMobile?Object(a.get)(t,"touches.0.clientY"):t.clientY,n=n?r:t,r=n-s.startPos;s.startPos=n,s.updateThumbOffset(e+r)},s.onMouseUp=function(t){t.preventDefault(),s.clearEvents()},s.onTrackClick=function(t){var e=s.cfg,n=e.isHorizontal,r=e.x,i=e.y,e=e.thumbLen,o=s.getContainerDOM().getBoundingClientRect(),a=t.clientX,t=t.clientY,n=n?a-o.left-r-e/2:t-o.top-i-e/2,a=s.validateRange(n);s.updateThumbOffset(a)},s.onThumbMouseOver=function(){var t=s.cfg.theme.hover.thumbColor;s.getElementByLocalId("thumb").attr("stroke",t),s.draw()},s.onThumbMouseOut=function(){var t=s.cfg.theme.default.thumbColor;s.getElementByLocalId("thumb").attr("stroke",t),s.draw()},s}},function(t,e,n){"use strict";var f,r=n(7),l=n(0),p=n(117),n=(f=n(88).a,Object(r.c)(i,f),i.prototype.process=function(t){var t=l.clone(t),e=l.flatten(t),n=this.dodgeBy,n=n?l.group(e,n):t;return this.cacheMap={},this.adjustDataArray=n,this.mergeData=e,this.adjustData(n,e),this.adjustDataArray=[],this.mergeData=[],t},i.prototype.adjustDim=function(i,n,t,o){var a=this,s=this.customOffset,c=this.getDistribution(i),t=this.groupData(t,i);return l.each(t,function(t,e){var r=1===n.length?{pre:n[0]-1,next:n[0]+1}:a.getAdjustRange(i,parseFloat(e),n);l.each(t,function(t){var e=t[i],e=c[e],n=e.indexOf(o);l.isNil(s)?t[i]=a.getDodgeOffset(r,n,e.length):(n=r.pre,e=r.next,t[i]=l.isFunction(s)?s(t,r):(n+e)/2+s)})}),[]},i.prototype.getDodgeOffset=function(t,e,n){var r=this.dodgeRatio,i=this.marginRatio,o=this.intervalPadding,a=this.dodgePadding,s=t.pre,t=t.next,c=t-s;return!l.isNil(o)&&l.isNil(a)&&0<=o?s+this.getIntervalOnlyOffset(n,e):!l.isNil(a)&&l.isNil(o)&&0<=a?s+this.getDodgeOnlyOffset(n,e):!l.isNil(o)&&!l.isNil(a)&&0<=o&&0<=a?s+this.getIntervalAndDodgeOffset(n,e):(s+t)/2+(.5*(c-n*(o=c*r/n)-(n-1)*(a=i*o))+((e+1)*o+e*a)-.5*o-.5*c)},i.prototype.getIntervalOnlyOffset=function(t,e){var n=this.defaultSize,r=this.intervalPadding,i=this.xDimensionLegenth,o=this.groupNum,a=this.dodgeRatio,s=this.maxColumnWidth,c=this.minColumnWidth,u=this.columnWidthRatio,r=r/i,a=((1-r*(o-1))/o-(1-(o-1)*r)/o*a/(t-1)*(t-1))/t;return a=l.isNil(u)?a:1/o/t*u,l.isNil(s)||(a=Math.min(a,s/i)),l.isNil(c)||(a=Math.max(a,c/i)),((.5+e)*(a=n?n/i:a)+e*(((1-(o-1)*r)/o-t*a)/(t-1))+.5*r)*o-r/2},i.prototype.getDodgeOnlyOffset=function(t,e){var n=this.defaultSize,r=this.dodgePadding,i=this.xDimensionLegenth,o=this.groupNum,a=this.marginRatio,s=this.maxColumnWidth,c=this.minColumnWidth,u=this.columnWidthRatio,r=r/i,a=((1-+a/(o-1)*(o-1))/o-r*(t-1))/t;return a=u?1/o/t*u:a,l.isNil(s)||(a=Math.min(a,s/i)),l.isNil(c)||(a=Math.max(a,c/i)),((.5+e)*(a=n?n/i:a)+e*r+.5*(u=(1-(a*t+r*(t-1))*o)/(o-1)))*o-u/2},i.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this.intervalPadding,r=this.dodgePadding,i=this.xDimensionLegenth,o=this.groupNum,n=n/i,r=r/i;return((.5+e)*(((1-n*(o-1))/o-r*(t-1))/t)+e*r+.5*n)*o-n/2},i.prototype.getDistribution=function(n){var t=this.adjustDataArray,e=this.cacheMap,r=e[n];return r||(r={},l.each(t,function(t,e){t=l.valuesOfKey(t,n);t.length||t.push(0),l.each(t,function(t){r[t]||(r[t]=[]),r[t].push(e)})}),e[n]=r),r},i);function i(t){var e=f.call(this,t)||this,n=(e.cacheMap={},e.adjustDataArray=[],e.mergeData=[],t.marginRatio),n=void 0===n?p.d:n,r=t.dodgeRatio,r=void 0===r?p.b:r,i=t.dodgeBy,o=t.intervalPadding,a=t.dodgePadding,s=t.xDimensionLength,c=t.groupNum,u=t.defaultSize,l=t.maxColumnWidth,h=t.minColumnWidth,d=t.columnWidthRatio,t=t.customOffset;return e.marginRatio=n,e.dodgeRatio=r,e.dodgeBy=i,e.intervalPadding=o,e.dodgePadding=a,e.xDimensionLegenth=s,e.groupNum=c,e.defaultSize=u,e.maxColumnWidth=l,e.minColumnWidth=h,e.columnWidthRatio=d,e.customOffset=t,e}e.a=n},function(t,e,n){"use strict";var r,i=n(7),a=n(0),o=n(117),n=(r=n(88).a,Object(i.c)(s,r),s.prototype.process=function(t){var t=a.clone(t),e=a.flatten(t);return this.adjustData(t,e),t},s.prototype.adjustDim=function(n,r,t){var i=this,t=this.groupData(t,n);return a.each(t,function(t,e){return i.adjustGroup(t,n,parseFloat(e),r)})},s.prototype.getAdjustOffset=function(t){var e=t.pre,t=t.next,n=(t-e)*o.c;return(t-n-(t=e+n))*Math.random()+t},s.prototype.adjustGroup=function(t,e,n,r){var i=this,o=this.getAdjustRange(e,n,r);return a.each(t,function(t){t[e]=i.getAdjustOffset(o)}),t},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.a=n},function(t,e,n){"use strict";var o,u=n(7),l=n(0),n=n(88),r=l.Cache,n=(o=n.a,Object(u.c)(i,o),i.prototype.process=function(t){var e=this.yField,n=this.reverseOrder,e=e?this.processStack(t):this.processOneDimStack(t);return n?this.reverse(e):e},i.prototype.reverse=function(t){return t.slice(0).reverse()},i.prototype.processStack=function(t){var o=this.xField,a=this.yField,t=this.reverseOrder?this.reverse(t):t,s=new r,c=new r;return t.map(function(t){return t.map(function(t){var e,n,r=l.get(t,o,0),i=l.get(t,[a]),r=r.toString(),i=l.isArray(i)?i[1]:i;return l.isNil(i)?t:((n=0<=i?s:c).has(r)||n.set(r,0),e=n.get(r),n.set(r,n=i+e),Object(u.a)(Object(u.a)({},t),((r={})[a]=[e,n],r)))})})},i.prototype.processOneDimStack=function(t){var i=this,o=this.xField,a=this.height,t=this.reverseOrder?this.reverse(t):t,s=new r;return t.map(function(t){return t.map(function(t){var e=i.size,n=t[o],e=2*e/a,r=(s.has(n)||s.set(n,e/2),s.get(n));return s.set(n,r+e),Object(u.a)(Object(u.a)({},t),((n={}).y=r,n))})})},i);function i(t){var e=o.call(this,t)||this,n=t.adjustNames,r=t.height,r=void 0===r?NaN:r,i=t.size,i=void 0===i?10:i,t=t.reverseOrder,t=void 0!==t&&t;return e.adjustNames=void 0===n?["y"]:n,e.height=r,e.size=i,e.reverseOrder=t,e}e.a=n},function(t,e,n){"use strict";var r,c=n(7),u=n(0),n=(r=n(88).a,Object(c.c)(i,r),i.prototype.process=function(t){var e=u.flatten(t),i=this.xField,o=this.yField,a=this.getXValuesMaxMap(e),s=Math.max.apply(Math,Object.keys(a).map(function(t){return a[t]}));return u.map(t,function(t){return u.map(t,function(t){var e,n=t[o],r=t[i];if(u.isArray(n))return e=(s-a[r])/2,Object(c.a)(Object(c.a)({},t),((r={})[o]=u.map(n,function(t){return e+t}),r));r=(s-n)/2;return Object(c.a)(Object(c.a)({},t),((t={})[o]=[r,n+r],t))})})},i.prototype.getXValuesMaxMap=function(t){var e=this,n=this.xField,r=this.yField,t=u.groupBy(t,function(t){return t[n]});return u.mapValues(t,function(t){return e.getDimMaxValue(t,r)})},i.prototype.getDimMaxValue=function(t,e){t=u.map(t,function(t){return u.get(t,e,[])}),t=u.flatten(t);return Math.max.apply(Math,t)},i);function i(){return null!==r&&r.apply(this,arguments)||this}e.a=n},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={locale:"zh-CN",general:{increase:"增加",decrease:"减少",root:"初始"},statistic:{total:"总计"},conversionTag:{label:"转化率"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"总计"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ver=e.clear=e.bind=void 0;var r=n(408);e.bind=function(t,e){var n=(0,r.getSensor)(t);return n.bind(e),function(){n.unbind(e)}},e.clear=function(t){t=(0,r.getSensor)(t);(0,r.removeSensor)(t)},e.ver="1.0.1"},function(t,e,n){"use strict";var r=Math.log(2),g=t.exports,y=n(413);function _(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,e){return g.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){var n=!1,r=!1,i=y.isNumber((e=e||{}).width)?e.width:2,o=y.isNumber(e.size)?e.size:50,a=y.isNumber(e.min)?e.min:(n=!0,y.findMinMulti(t)),e=y.isNumber(e.max)?e.max:(r=!0,y.findMaxMulti(t)),t=(e-a)/(o-1);return n&&(a-=2*i*t),r&&(e+=2*i*t),{min:a,max:e}},t.exports.create=function(t,e){if(!t||0===t.length)return[];var n=y.isNumber((e=e||{}).size)?e.size:50,a=y.isNumber(e.width)?e.width:2,e=g.getUnifiedMinMax(t,{size:n,width:a,min:e.min,max:e.max}),s=e.min,e=e.max-s,h=e/(n-1);if(0==e)return[{x:s,y:1}];for(var c=[],r=0;r<n;r++)c.push({x:s+r*h,y:0});var u=function(t,e){for(var n={},r=0,i=-e;i<=e;i++)r+=t(i/e),n[i]=r;return n}(_,a),d=u[a],l=u[a-1]-u[a-2],f=0,i=(t.forEach(function(t){var e,n,r,i,o,t=Math.floor((t-s)/h);t+a<0||t-a>=c.length||(r=Math.max(t-a,0),e=t,n=Math.min(t+a,c.length-1),i=u[-a-1+(r=r-(t-a))]||0,o=u[-a-1+(t+a-n)]||0,i=d/(d-i-o),0<r&&(f+=i*(r-1)*l),o=Math.max(0,t-a+1),y.inside(0,c.length-1,o)&&(c[o].y+=i*l),y.inside(0,c.length-1,e+1)&&(c[e+1].y-=2*i*l),y.inside(0,c.length-1,n+1)&&(c[n+1].y+=i*l))}),f),o=0,p=0;return c.forEach(function(t){o+=t.y,i+=o,t.y=i,p+=i}),0<p&&c.forEach(function(t){t.y/=p}),c},t.exports.getExpectedValueFromPdf=function(t){var e;if(t&&0!==t.length)return e=0,t.forEach(function(t){e+=t.x*t.y}),e},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,r=0,i=0;i<t.length&&!((n+=t[r=i].y)>=e);i++);return t[r].x}},t.exports.getPerplexity=function(t){var n;if(t&&0!==t.length)return n=0,t.forEach(function(t){var e=Math.log(t.y);isFinite(e)&&(n+=t.y*e)}),n=-n/r,Math.pow(2,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(e,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),e.default=void 0,Object.defineProperty(e,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(e,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(e,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(e,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),e.detectDirectedCycleAsync=void 0,Object.defineProperty(e,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(e,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(e,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(e,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(e,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(e,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(e,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(e,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(e,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(e,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(e,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(e,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(e,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n(414),n=r.detectCycleAsync,n=(e.detectDirectedCycleAsync=n,{getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:n,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync});e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(518);e.default=function(t,e){return{lazyInject:r.makePropertyInjectDecorator(t,e=void 0===e?!0:e),lazyInjectNamed:r.makePropertyInjectNamedDecorator(t,e),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(t,e),lazyMultiInject:r.makePropertyMultiInjectDecorator(t,e)}}},function(t,e,n){t.exports=function(){"use strict";function Ee(t,e){for(var n=Object.keys(e),r=0;r<n.length;++r)t[n[r]]=e[n[r]];return t}var we=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray};function r(t){t=new Error("(regl) "+t);throw console.error(t),t}function p(t,e){t||r(e)}function i(t){return t?": "+t:""}function o(t,e){switch(e){case"number":return"number"==typeof t;case"object":return"object"==typeof t;case"string":return"string"==typeof t;case"boolean":return"boolean"==typeof t;case"function":return"function"==typeof t;case"undefined":return void 0===t;case"symbol":return"symbol"==typeof t}}function a(t,e,n){e.indexOf(t)<0&&r("invalid value"+i(n)+". must be one of: "+e)}var e=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function c(t,e){for(t+="";t.length<e;)t=" "+t;return t}function h(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function d(t,e){this.number=t,this.line=e,this.errors=[]}function l(t,e,n){this.file=t,this.line=e,this.message=n}function f(){var t=new Error,t=(t.stack||t).toString(),e=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(e)return e[1];e=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return e?e[1]:"unknown"}function s(){var t=new Error,t=(t.stack||t).toString(),e=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(e)return e[1];e=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return e?e[1]:"unknown"}function g(t,l){var e,n=t.split("\n"),r=1,i=0,o={unknown:new h,0:new h};o.unknown.name=o[0].name=l||f(),o.unknown.lines.push(new d(0,""));for(var a=0;a<n.length;++a){var s=n[a],c=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(s);if(c)switch(c[1]){case"line":var u=/(\d+)(\s+\d+)?/.exec(c[2]);u&&(r=0|u[1],u[2]&&((i=0|u[2])in o||(o[i]=new h)));break;case"define":u=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);u&&(o[i].name=u[1]?(e=u[2],"undefined"!=typeof atob?atob(e):"base64:"+e):u[2])}o[i].lines.push(new d(r++,s))}return Object.keys(o).forEach(function(t){var e=o[t];e.lines.forEach(function(t){e.index[t.number]=t})}),o}function y(t){t._commandRef=f()}function _(t,e){var n=s();r(t+" in command "+(e||f())+("unknown"===n?"":" called from "+n))}function m(t,e,n,r){o(t,e)||_("invalid parameter type"+i(n)+". expected "+e+", got "+typeof t,r||f())}var n={};function v(t,e){return 32820===t||32819===t||33635===t?2:34042===t?4:n[t]*e}function b(t){return!(t&t-1||!t)}n[5120]=n[5121]=1,n[5122]=n[5123]=n[36193]=n[33635]=n[32819]=n[32820]=2,n[5124]=n[5125]=n[5126]=n[34042]=4;var Me=Ee(p,{optional:function(t){t()},raise:r,commandRaise:_,command:function(t,e,n){t||_(e,n||f())},parameter:function(t,e,n){t in e||r("unknown parameter ("+t+")"+i(n)+". possible values: "+Object.keys(e).join())},commandParameter:function(t,e,n,r){t in e||_("unknown parameter ("+t+")"+i(n)+". possible values: "+Object.keys(e).join(),r||f())},constructor:function(t){Object.keys(t).forEach(function(t){e.indexOf(t)<0&&r('invalid regl constructor argument "'+t+'". must be one of '+e)})},type:function(t,e,n){o(t,e)||r("invalid parameter type"+i(n)+". expected "+e+", got "+typeof t)},commandType:m,isTypedArray:function(t,e){we(t)||r("invalid parameter type"+i(e)+". must be a typed array")},nni:function(t,e){0<=t&&(0|t)===t||r("invalid parameter type, ("+t+")"+i(e)+". must be a nonnegative integer")},oneOf:a,shaderError:function(t,e,n,r,i){var a,o,s;t.getShaderParameter(e,t.COMPILE_STATUS)||(e=t.getShaderInfoLog(e),m(n,"string",(r=r===t.FRAGMENT_SHADER?"fragment":"vertex")+" shader source must be a string",i),a=g(n,i),s=[],e.split("\n").forEach(function(t){var e;t.length<5||((e=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(t))?s.push(new l(0|e[1],0|e[2],e[3].trim())):0<t.length&&s.push(new l("unknown",0,t)))}),o=a,s.forEach(function(t){var e=o[t.file];if(e){var n=e.index[t.line];if(n)return n.errors.push(t),void(e.hasErrors=!0)}o.unknown.hasErrors=!0,o.unknown.lines[0].errors.push(t)}),Object.keys(a).forEach(function(t){var n,r,e=a[t];function o(t,e){n.push(t),r.push(e||"")}e.hasErrors&&(n=[""],r=[""],o("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach(function(r){var i;0<r.errors.length?(o(c(r.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(r.line+"\n","color:red; background-color:yellow; font-weight:bold"),i=0,r.errors.forEach(function(t){var e,t=t.message,n=/^\s*'(.*)'\s*:\s*(.*)$/.exec(t);i=n?(e=n[1],"assign"===(t=n[2],e)&&(e="="),Math.max(r.line.indexOf(e,i),0)):0,o(c("| ",6)),o(c("^^^",i+3)+"\n","font-weight:bold"),o(c("| ",6)),o(t+"\n","font-weight:bold")}),o(c("| ",6)+"\n")):(o(c(r.number,4)+"|  "),o(r.line+"\n","color:red"))}),"undefined"==typeof document||window.chrome?console.log(n.join("")):(r[0]=n.join("%c"),console.log.apply(console,r)))}),p.raise("Error compiling "+r+" shader, "+a[0].name))},linkError:function(t,e,n,r,i){t.getProgramParameter(e,t.LINK_STATUS)||(t=t.getProgramInfoLog(e),e=g(n,i),n='Error linking program with vertex shader, "'+g(r,i)[0].name+'", and fragment shader "'+e[0].name+'"',"undefined"!=typeof document?console.log("%c"+n+"\n%c"+t,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(n+"\n"+t),p.raise(n))},callSite:s,saveCommandRef:y,saveDrawInfo:function(t,e,n,r){function i(t){return t?r.id(t):0}function o(e,t){Object.keys(t).forEach(function(t){e[r.id(t)]=!0})}y(t),t._fragId=i(t.static.frag),t._vertId=i(t.static.vert);var a=t._uniformSet={},a=(o(a,e.static),o(a,e.dynamic),t._attributeSet={});o(a,n.static),o(a,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,e,n){t.texture?a(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):a(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:f,texture2D:function(t,e,n){for(var r,i,o,a=e.width,s=e.height,l=e.channels,c=(p(0<a&&a<=n.maxTextureSize&&0<s&&s<=n.maxTextureSize,"invalid texture shape"),33071===t.wrapS&&33071===t.wrapT||p(b(a)&&b(s),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==a&&1!==s&&p(9984!==t.minFilter&&9986!==t.minFilter&&9985!==t.minFilter&&9987!==t.minFilter,"min filter requires mipmap"):(p(b(a)&&b(s),"texture must be a square power of 2 to support mipmapping"),p(e.mipmask===(a<<1)-1,"missing or incomplete mipmap data")),5126===e.type&&(n.extensions.indexOf("oes_texture_float_linear")<0&&p(9728===t.minFilter&&9728===t.magFilter,"filter not supported, must enable oes_texture_float_linear"),p(!t.genMipmaps,"mipmap generation not supported with float textures")),e.images),u=0;u<16;++u)c[u]?(o=a>>u,r=s>>u,p(e.mipmask&1<<u,"missing mipmap data"),i=c[u],p(i.width===o&&i.height===r,"invalid shape for mip images"),p(i.format===e.format&&i.internalformat===e.internalformat&&i.type===e.type,"incompatible type for mip image"),i.compressed||(i.data?(o=Math.ceil(v(i.type,l)*o/i.unpackAlignment)*i.unpackAlignment,p(i.data.byteLength===o*r,"invalid data for image, buffer size is inconsistent with image format")):i.element||i.copy)):t.genMipmaps||p(0==(e.mipmask&1<<u),"extra mipmap data");e.compressed&&p(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,e,l,h){var n=t.width,r=t.height,d=t.channels;p(0<n&&n<=h.maxTextureSize&&0<r&&r<=h.maxTextureSize,"invalid texture shape"),p(n===r,"cube map must be square"),p(33071===e.wrapS&&33071===e.wrapT,"wrap mode not supported by cube map");for(var i=0;i<l.length;++i){var o=l[i];p(o.width===n&&o.height===r,"inconsistent cube map face shape"),e.genMipmaps&&(p(!o.compressed,"can not generate mipmap for compressed textures"),p(1===o.mipmask,"can not specify mipmaps and generate mipmaps"));for(var f=o.images,a=0;a<16;++a){var s,c,u=f[a];u&&(s=n>>a,c=r>>a,p(o.mipmask&1<<a,"missing mipmap data"),p(u.width===s&&u.height===c,"invalid shape for mip images"),p(u.format===t.format&&u.internalformat===t.internalformat&&u.type===t.type,"incompatible type for mip image"),u.compressed||(u.data?p(u.data.byteLength===s*c*Math.max(v(u.type,d),u.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):u.element||u.copy))}}}}),O=0;function x(t,e){this.id=O++,this.type=t,this.data=e}function E(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function w(t){return"["+function t(e){if(0===e.length)return[];var n=e.charAt(0),r=e.charAt(e.length-1);if(1<e.length&&n===r&&('"'===n||"'"===n))return['"'+E(e.substr(1,e.length-2))+'"'];r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return t(e.substr(0,r.index)).concat(t(r[1])).concat(t(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+E(e)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(t(i[a]));return o}(t).join("][")+"]"}var Ce={DynamicVariable:x,define:function(t,e){return new x(t,w(e+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof x},unbox:function n(t,r){return"function"==typeof t?new x(0,t):"number"==typeof t||"boolean"==typeof t?new x(5,t):Array.isArray(t)?new x(6,t.map((t,e)=>n(t,r+"["+e+"]"))):t instanceof x?t:void Me(!1,"invalid option type in uniform "+r)},accessor:w},Ae={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},Se="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function je(t){return"string"==typeof t?t.split():(Me(Array.isArray(t),"invalid extension array"),t)}function De(t){return"string"==typeof t?(Me("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function Vt(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r);return n}function M(t){var e,n=(65535<t)<<4;return(n|=e=(255<(t>>>=n))<<3)|(e=(15<(t>>>=e))<<2)|(e=(3<(t>>>=e))<<1)|t>>>e>>1}function t(){var n=Vt(8,function(){return[]});function r(t){var t=function(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}(t),e=n[M(t)>>2];return 0<e.length?e.pop():new ArrayBuffer(t)}function e(t){n[M(t.byteLength)>>2].push(t)}return{alloc:r,free:e,allocType:function(t,e){var n=null;switch(t){case 5120:n=new Int8Array(r(e),0,e);break;case 5121:n=new Uint8Array(r(e),0,e);break;case 5122:n=new Int16Array(r(2*e),0,e);break;case 5123:n=new Uint16Array(r(2*e),0,e);break;case 5124:n=new Int32Array(r(4*e),0,e);break;case 5125:n=new Uint32Array(r(4*e),0,e);break;case 5126:n=new Float32Array(r(4*e),0,e);break;default:return null}return n.length!==e?n.subarray(0,e):n},freeType:function(t){e(t.buffer)}}}var Pe=t();function Te(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||we(t.data))}Pe.zero=t();function Ie(e){return Object.keys(e).map(function(t){return e[t]})}var Z=function(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e},Q=function(t,e,n,r){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;var a=r||Pe.allocType(n,i);switch(e.length){case 0:break;case 1:for(var l=t,h=e[0],d=a,s=0;s<h;++s)d[s]=l[s];break;case 2:for(var f=t,p=e[0],g=e[1],y=a,_=0,c=0;c<p;++c)for(var m=f[c],u=0;u<g;++u)y[_++]=m[u];break;case 3:P(t,e[0],e[1],e[2],a,0);break;default:!function t(e,n,r,i,o){for(var a=1,s=r+1;s<n.length;++s)a*=n[s];var c=n[r];if(n.length-r==4)for(var u=n[r+1],l=n[r+2],h=n[r+3],s=0;s<c;++s)P(e[s],u,l,h,i,o),o+=a;else for(s=0;s<c;++s)t(e[s],n,r+1,i,o),o+=a}(t,e,0,a,0)}return a};function P(t,e,n,r,i,o){for(var a=o,s=0;s<e;++s)for(var l=t[s],c=0;c<n;++c)for(var h=l[c],u=0;u<r;++u)i[a++]=h[u]}var C={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ke={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Le={dynamic:35048,stream:35040,static:35044},Re=Q,Be=Z,Ne=[];function Fe(t){return 0|C[Object.prototype.toString.call(t)]}function Ue(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function We(t,e,n,r,i,o,a){for(var s=0,c=0;c<n;++c)for(var u=0;u<r;++u)t[s++]=e[i*c+o*u+a]}Ne[5120]=1,Ne[5122]=2,Ne[5124]=4,Ne[5121]=1,Ne[5123]=2,Ne[5125]=4;var ze={points:0,point:0,lines:1,line:1,triangles:Ne[5126]=4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},A=new Float32Array(1),S=new Uint32Array(A.buffer);function J(t){for(var e,n,r,i=Pe.allocType(5123,t.length),o=0;o<t.length;++o)isNaN(t[o])?i[o]=65535:t[o]===1/0?i[o]=31744:t[o]===-1/0?i[o]=64512:(A[0]=t[o],e=(n=S[0])>>>31<<15,r=n>>13&1023,i[o]=(n=(n<<1>>>24)-127)<-24?e:n<-14?e+(1024+r>>-14-n):15<n?31744+e:e+(15+n<<10)+r);return i}function Xt(t){return Array.isArray(t)||we(t)}function tt(t){return!(t&t-1||!t)}var et=[9984,9986,9985,9987],nt=[0,6409,6410,6407,6408],rt={};function j(t){return"[object "+t+"]"}rt[6409]=rt[6406]=rt[6402]=1,rt[34041]=rt[6410]=2,rt[6407]=rt[35904]=3,rt[6408]=rt[35906]=4;var D=j("HTMLCanvasElement"),T=j("OffscreenCanvas"),it=j("CanvasRenderingContext2D"),ot=j("ImageBitmap"),at=j("HTMLImageElement"),st=j("HTMLVideoElement"),I=Object.keys(C).concat([D,T,it,ot,at,st]),k=[],u=(k[5121]=1,k[5126]=4,k[36193]=2,k[5123]=2,k[5125]=4,[]);function ct(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function ut(t){return!!Array.isArray(t)&&!(0===t.length||!Xt(t[0]))}function lt(t){return Object.prototype.toString.call(t)}function ht(t){return lt(t)===D}function dt(t){return lt(t)===T}function ft(t){var e;if(t)return e=lt(t),0<=I.indexOf(e)||ct(t)||ut(t)||Te(t)}function pt(t){return 0|C[Object.prototype.toString.call(t)]}function gt(t,e){return Pe.allocType(36193===t.type?5126:t.type,e)}function yt(t,e){36193===t.type?(t.data=J(e),Pe.freeType(e)):t.data=e}function _t(t,e,n,r,i,o){var a=void 0!==u[t]?u[t]:rt[t]*k[e];if(o&&(a*=6),i){for(var s=0,c=n;1<=c;)s+=a*c*c,c/=2;return s}return a*n*r}function Ge(p,a,S,_,j,m,f){var l={"don't care":4352,"dont care":4352,nice:4354,fast:4353},s={repeat:10497,clamp:33071,mirror:33648},h={nearest:9728,linear:9729},d=Ee({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},h),v={none:0,browser:37444},c={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},u={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},b={},n=(a.ext_srgb&&(u.srgb=35904,u.srgba=35906),a.oes_texture_float&&(c.float32=c.float=5126),a.oes_texture_half_float&&(c.float16=c["half float"]=36193),a.webgl_depth_texture&&(Ee(u,{depth:6402,"depth stencil":34041}),Ee(c,{uint16:5123,uint32:5125,"depth stencil":34042})),a.webgl_compressed_texture_s3tc&&Ee(b,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),a.webgl_compressed_texture_atc&&Ee(b,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),a.webgl_compressed_texture_pvrtc&&Ee(b,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),a.webgl_compressed_texture_etc1&&(b["rgb etc1"]=36196),Array.prototype.slice.call(p.getParameter(34467))),t=(Object.keys(b).forEach(function(t){var e=b[t];0<=n.indexOf(e)&&(u[t]=e)}),Object.keys(u)),O=(S.textureFormats=t,[]),x=(Object.keys(u).forEach(function(t){var e=u[t];O[e]=t}),[]),E=(Object.keys(c).forEach(function(t){var e=c[t];x[e]=t}),[]),w=(Object.keys(h).forEach(function(t){E[h[t]]=t}),[]),M=(Object.keys(d).forEach(function(t){var e=d[t];w[e]=t}),[]),P=(Object.keys(s).forEach(function(t){M[s[t]]=t}),t.reduce(function(t,e){var n=u[e];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n||a.ext_srgb&&(35904===n||35906===n)?t[n]=n:32855===n||0<=e.indexOf("rgba")?t[n]=6408:t[n]=6407,t},{}));function r(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function g(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function D(t,e){var n,r,i,o;"object"==typeof e&&e&&("premultiplyAlpha"in e&&(Me.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(Me.type(e.flipY,"boolean","invalid texture flip"),t.flipY=e.flipY),"alignment"in e&&(Me.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=e.alignment),"colorSpace"in e&&(Me.parameter(e.colorSpace,v,"invalid colorSpace"),t.colorSpace=v[e.colorSpace]),"type"in e&&(r=e.type,Me(a.oes_texture_float||!("float"===r||"float32"===r),"you must enable the OES_texture_float extension in order to use floating point textures."),Me(a.oes_texture_half_float||!("half float"===r||"float16"===r),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),Me(a.webgl_depth_texture||!("uint16"===r||"uint32"===r||"depth stencil"===r),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Me.parameter(r,c,"invalid texture type"),t.type=c[r]),r=t.width,i=t.height,o=t.channels,n=!1,"shape"in e?(Me(Array.isArray(e.shape)&&2<=e.shape.length,"shape must be an array"),r=e.shape[0],i=e.shape[1],3===e.shape.length&&(o=e.shape[2],Me(0<o&&o<=4,"invalid number of channels"),n=!0),Me(0<=r&&r<=S.maxTextureSize,"invalid width"),Me(0<=i&&i<=S.maxTextureSize,"invalid height")):("radius"in e&&(r=i=e.radius,Me(0<=r&&r<=S.maxTextureSize,"invalid radius")),"width"in e&&(r=e.width,Me(0<=r&&r<=S.maxTextureSize,"invalid width")),"height"in e&&(i=e.height,Me(0<=i&&i<=S.maxTextureSize,"invalid height")),"channels"in e&&(o=e.channels,Me(0<o&&o<=4,"invalid number of channels"),n=!0)),t.width=0|r,t.height=0|i,t.channels=0|o,r=!1,"format"in e&&(i=e.format,Me(a.webgl_depth_texture||!("depth"===i||"depth stencil"===i),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Me.parameter(i,u,"invalid texture format"),o=t.internalformat=u[i],t.format=P[o],i in c&&("type"in e||(t.type=c[i])),i in b&&(t.compressed=!0),r=!0),!n&&r?t.channels=rt[t.format]:n&&!r?t.channels!==nt[t.format]&&(t.format=t.internalformat=nt[t.channels]):r&&n&&Me(t.channels===rt[t.format],"number of channels inconsistent with specified format"))}function C(t){p.pixelStorei(37440,t.flipY),p.pixelStorei(37441,t.premultiplyAlpha),p.pixelStorei(37443,t.colorSpace),p.pixelStorei(3317,t.unpackAlignment)}function e(){r.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function A(t,e){var n=null;if(ft(e)?n=e:e&&(Me.type(e,"object","invalid pixel data type"),D(t,e),"x"in e&&(t.xOffset=0|e.x),"y"in e&&(t.yOffset=0|e.y),ft(e.data)&&(n=e.data)),Me(!t.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),e.copy){Me(!n,"can not specify copy and data field for the same texture");var r=j.viewportWidth,i=j.viewportHeight;t.width=t.width||r-t.xOffset,t.height=t.height||i-t.yOffset,t.needsCopy=!0,Me(0<=t.xOffset&&t.xOffset<r&&0<=t.yOffset&&t.yOffset<i&&0<t.width&&t.width<=r&&0<t.height&&t.height<=i,"copy texture read out of bounds")}else if(n){if(we(n))t.channels=t.channels||4,t.data=n,"type"in e||5121!==t.type||(t.type=pt(n));else if(ct(n)){t.channels=t.channels||4;{var o=t;var a=n;var l=a.length;switch(o.type){case 5121:case 5123:case 5125:case 5126:var h=Pe.allocType(o.type,l);h.set(a),o.data=h;break;case 36193:o.data=J(a);break;default:Me.raise("unsupported texture type, must specify a typed array")}}t.alignment=1,t.needsFree=!0}else if(Te(n)){r=n.data;Array.isArray(r)||5121!==t.type||(t.type=pt(r));var i=n.shape,e=n.stride,d=3===i.length?(u=i[2],e[2]):(Me(2===i.length,"invalid ndarray pixel data, must be 2 or 3D"),u=1),s=i[0],i=i[1],c=e[0],e=e[1];t.alignment=1,t.width=s,t.height=i,t.channels=u,t.format=t.internalformat=nt[u],t.needsFree=!0;for(var s=t,f=r,p=c,g=e,y=d,_=n.offset,m=s.width,v=s.height,b=s.channels,O=gt(s,m*v*b),x=0,E=0;E<v;++E)for(var w=0;w<m;++w)for(var M=0;M<b;++M)O[x++]=f[p*w+g*E+y*M+_];yt(s,O)}else if(ht(n)||dt(n)||lt(n)===it)ht(n)||dt(n)?t.element=n:t.element=n.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(lt(n)===ot)t.element=n,t.width=n.width,t.height=n.height,t.channels=4;else if(lt(n)===at)t.element=n,t.width=n.naturalWidth,t.height=n.naturalHeight,t.channels=4;else if(lt(n)===st)t.element=n,t.width=n.videoWidth,t.height=n.videoHeight,t.channels=4;else if(ut(n)){for(var i=t.width||n[0].length,u=t.height||n.length,r=t.channels,r=Xt(n[0][0])?r||n[0][0].length:r||1,P=Z(n),C=1,A=0;A<P.length;++A)C*=P[A];c=gt(t,C);Q(n,P,"",c),yt(t,c),t.alignment=1,t.width=i,t.height=u,t.channels=r,t.format=t.internalformat=nt[r],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;5126===t.type?Me(0<=S.extensions.indexOf("oes_texture_float"),"oes_texture_float extension not enabled"):36193===t.type&&Me(0<=S.extensions.indexOf("oes_texture_half_float"),"oes_texture_half_float extension not enabled")}function T(t,e,n,r,i){var o=t.element,a=t.data,l=t.internalformat,s=t.format,h=t.type,c=t.width,u=t.height;C(t),o?p.texSubImage2D(e,i,n,r,s,h,o):t.compressed?p.compressedTexSubImage2D(e,i,n,r,l,c,u,a):t.needsCopy?(_(),p.copyTexSubImage2D(e,i,n,r,t.xOffset,t.yOffset,c,u)):p.texSubImage2D(e,i,n,r,c,u,s,h,a)}var o=[];function I(){return o.pop()||new e}function k(t){t.needsFree&&Pe.freeType(t.data),e.call(t),o.push(t)}function L(){r.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function R(t,e,n){var r=t.images[0]=I();t.mipmask=1,r.width=t.width=e,r.height=t.height=n,r.channels=t.channels=4}function y(t,e){var n=null;if(ft(e))g(n=t.images[0]=I(),t),A(n,e),t.mipmask=1;else if(D(t,e),Array.isArray(e.mipmap))for(var r=e.mipmap,i=0;i<r.length;++i)g(n=t.images[i]=I(),t),n.width>>=i,n.height>>=i,A(n,r[i]),t.mipmask|=1<<i;else g(n=t.images[0]=I(),t),A(n,e),t.mipmask=1;g(t,t.images[0]),!t.compressed||33776!==t.internalformat&&33777!==t.internalformat&&33778!==t.internalformat&&33779!==t.internalformat||Me(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(l,h){for(var t,e,n,r,i,d,o,a,s,c,f=l.images,u=0;u<f.length;++u){if(!f[u])return;t=f[u],e=h,n=u,c=s=a=o=d=i=r=void 0,r=t.element,i=t.data,d=t.internalformat,o=t.format,a=t.type,s=t.width,c=t.height,C(t),r?p.texImage2D(e,n,o,o,a,r):t.compressed?p.compressedTexImage2D(e,n,d,s,c,0,i):t.needsCopy?(_(),p.copyTexImage2D(e,n,o,t.xOffset,t.yOffset,s,c,0)):p.texImage2D(e,n,o,s,c,0,o,a,i||null)}}var N=[];function F(){var t=N.pop()||new L;r.call(t);for(var e=t.mipmask=0;e<16;++e)t.images[e]=null;return t}function U(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&k(e[n]),e[n]=null;N.push(t)}function W(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function z(t,e){"min"in e&&(r=e.min,Me.parameter(r,d),t.minFilter=d[r],0<=et.indexOf(t.minFilter)&&!("faces"in e)&&(t.genMipmaps=!0)),"mag"in e&&(r=e.mag,Me.parameter(r,h),t.magFilter=h[r]);var n,r=t.wrapS,i=t.wrapT;if("wrap"in e?"string"==typeof(n=e.wrap)?(Me.parameter(n,s),r=i=s[n]):Array.isArray(n)&&(Me.parameter(n[0],s),Me.parameter(n[1],s),r=s[n[0]],i=s[n[1]]):("wrapS"in e&&(n=e.wrapS,Me.parameter(n,s),r=s[n]),"wrapT"in e&&(n=e.wrapT,Me.parameter(n,s),i=s[n])),t.wrapS=r,t.wrapT=i,"anisotropic"in e&&(n=e.anisotropic,Me("number"==typeof n&&1<=n&&n<=S.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic),"mipmap"in e){var o=!1;switch(typeof e.mipmap){case"string":Me.parameter(e.mipmap,l,"invalid mipmap hint"),t.mipmapHint=l[e.mipmap],o=t.genMipmaps=!0;break;case"boolean":o=t.genMipmaps=e.mipmap;break;case"object":Me(Array.isArray(e.mipmap),"invalid mipmap type"),o=!(t.genMipmaps=!1);break;default:Me.raise("invalid mipmap type")}!o||"min"in e||(t.minFilter=9984)}}function G(t,e){p.texParameteri(e,10241,t.minFilter),p.texParameteri(e,10240,t.magFilter),p.texParameteri(e,10242,t.wrapS),p.texParameteri(e,10243,t.wrapT),a.ext_texture_filter_anisotropic&&p.texParameteri(e,34046,t.anisotropic),t.genMipmaps&&(p.hint(33170,t.mipmapHint),p.generateMipmap(e))}var $=0,K={},V=S.maxTextureUnits,i=Array(V).map(function(){return null});function X(t){r.call(this),this.mipmask=0,this.internalformat=6408,this.id=$++,this.refCount=1,this.target=t,this.texture=p.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new W,f.profile&&(this.stats={size:0})}function Y(t){p.activeTexture(33984),p.bindTexture(t.target,t.texture)}function H(){var t=i[0];t?p.bindTexture(t.target,t.texture):p.bindTexture(3553,null)}function q(t){var e=t.texture,n=(Me(e,"must not double destroy texture"),t.unit),r=t.target;0<=n&&(p.activeTexture(33984+n),p.bindTexture(r,null),i[n]=null),p.deleteTexture(e),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete K[t.id],m.textureCount--}return Ee(X.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(t<0){for(var e=0;e<V;++e){var n=i[e];if(n){if(0<n.bindCount)continue;n.unit=-1}i[e]=this,t=e;break}V<=t&&Me.raise("insufficient number of texture units"),f.profile&&m.maxTextureUnits<t+1&&(m.maxTextureUnits=t+1),this.unit=t,p.activeTexture(33984+t),p.bindTexture(this.target,this.texture)}return t},unbind:function(){--this.bindCount},decRef:function(){--this.refCount<=0&&q(this)}}),f.profile&&(m.getTotalTextureSize=function(){var e=0;return Object.keys(K).forEach(function(t){e+=K[t].stats.size}),e}),{create2D:function(t,e){var s=new X(3553);function c(t,e){var n=s.texInfo,r=(W.call(n),F());return"number"==typeof t?R(r,0|t,"number"==typeof e?0|e:0|t):t?(Me.type(t,"object","invalid arguments to regl.texture"),z(n,t),y(r,t)):R(r,1,1),n.genMipmaps&&(r.mipmask=(r.width<<1)-1),s.mipmask=r.mipmask,g(s,r),Me.texture2D(n,r,S),s.internalformat=r.internalformat,c.width=r.width,c.height=r.height,Y(s),B(r,3553),G(n,3553),H(),U(r),f.profile&&(s.stats.size=_t(s.internalformat,s.type,r.width,r.height,n.genMipmaps,!1)),c.format=O[s.internalformat],c.type=x[s.type],c.mag=E[n.magFilter],c.min=w[n.minFilter],c.wrapS=M[n.wrapS],c.wrapT=M[n.wrapT],c}return K[s.id]=s,m.textureCount++,c(t,e),c.subimage=function(t,e,n,r){Me(!!t,"must specify image data");var e=0|e,n=0|n,r=0|r,i=I();return g(i,s),i.width=0,i.height=0,A(i,t),i.width=i.width||(s.width>>r)-e,i.height=i.height||(s.height>>r)-n,Me(s.type===i.type&&s.format===i.format&&s.internalformat===i.internalformat,"incompatible format for texture.subimage"),Me(0<=e&&0<=n&&e+i.width<=s.width&&n+i.height<=s.height,"texture.subimage write out of bounds"),Me(s.mipmask&1<<r,"missing mipmap data"),Me(i.data||i.element||i.needsCopy,"missing image data"),Y(s),T(i,3553,e,n,r),H(),k(i),c},c.resize=function(t,e){var n=0|t,r=0|e||n;if(n===s.width&&r===s.height)return c;c.width=s.width=n,c.height=s.height=r,Y(s);for(var i=0;s.mipmask>>i;++i){var o=n>>i,a=r>>i;if(!o||!a)break;p.texImage2D(3553,i,s.format,o,a,0,s.format,s.type,null)}return H(),f.profile&&(s.stats.size=_t(s.internalformat,s.type,n,r,!1,!1)),c},c._reglType="texture2d",c._texture=s,f.profile&&(c.stats=s.stats),c.destroy=function(){s.decRef()},c},createCube:function(t,e,n,r,i,o){var l=new X(34067),h=(K[l.id]=l,m.cubeCount++,new Array(6));function d(t,e,n,r,i,o){var a=l.texInfo;for(W.call(a),u=0;u<6;++u)h[u]=F();if("number"!=typeof t&&t)if("object"==typeof t)if(e)y(h[0],t),y(h[1],e),y(h[2],n),y(h[3],r),y(h[4],i),y(h[5],o);else if(z(a,t),D(l,t),"faces"in t){var s=t.faces;for(Me(Array.isArray(s)&&6===s.length,"cube faces must be a length 6 array"),u=0;u<6;++u)Me("object"==typeof s[u]&&!!s[u],"invalid input for cube map face"),g(h[u],l),y(h[u],s[u])}else for(u=0;u<6;++u)y(h[u],t);else Me.raise("invalid arguments to cube map");else for(var c=0|t||1,u=0;u<6;++u)R(h[u],c,c);for(g(l,h[0]),S.npotTextureCube||Me(tt(l.width)&&tt(l.height),"your browser does not support non power or two texture dimensions"),a.genMipmaps?l.mipmask=(h[0].width<<1)-1:l.mipmask=h[0].mipmask,Me.textureCube(l,a,h,S),l.internalformat=h[0].internalformat,d.width=h[0].width,d.height=h[0].height,Y(l),u=0;u<6;++u)B(h[u],34069+u);for(G(a,34067),H(),f.profile&&(l.stats.size=_t(l.internalformat,l.type,d.width,d.height,a.genMipmaps,!0)),d.format=O[l.internalformat],d.type=x[l.type],d.mag=E[a.magFilter],d.min=w[a.minFilter],d.wrapS=M[a.wrapS],d.wrapT=M[a.wrapT],u=0;u<6;++u)U(h[u]);return d}return d(t,e,n,r,i,o),d.subimage=function(t,e,n,r,i){Me(!!e,"must specify image data"),Me("number"==typeof t&&t===(0|t)&&0<=t&&t<6,"invalid face");var n=0|n,r=0|r,i=0|i,o=I();return g(o,l),o.width=0,o.height=0,A(o,e),o.width=o.width||(l.width>>i)-n,o.height=o.height||(l.height>>i)-r,Me(l.type===o.type&&l.format===o.format&&l.internalformat===o.internalformat,"incompatible format for texture.subimage"),Me(0<=n&&0<=r&&n+o.width<=l.width&&r+o.height<=l.height,"texture.subimage write out of bounds"),Me(l.mipmask&1<<i,"missing mipmap data"),Me(o.data||o.element||o.needsCopy,"missing image data"),Y(l),T(o,34069+t,n,r,i),H(),k(o),d},d.resize=function(t){var e=0|t;if(e!==l.width){d.width=l.width=e,d.height=l.height=e,Y(l);for(var n=0;n<6;++n)for(var r=0;l.mipmask>>r;++r)p.texImage2D(34069+n,r,l.format,e>>r,e>>r,0,l.format,l.type,null);return H(),f.profile&&(l.stats.size=_t(l.internalformat,l.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=l,f.profile&&(d.stats=l.stats),d.destroy=function(){l.decRef()},d},clear:function(){for(var t=0;t<V;++t)p.activeTexture(33984+t),p.bindTexture(3553,null),i[t]=null;Ie(K).forEach(q),m.cubeCount=0,m.textureCount=0},getTexture:function(t){return null},restore:function(){for(var t=0;t<V;++t){var e=i[t];e&&(e.bindCount=0,e.unit=-1,i[t]=null)}Ie(K).forEach(function(t){t.texture=p.createTexture(),p.bindTexture(t.target,t.texture);for(var e=0;e<32;++e)if(0!=(t.mipmask&1<<e))if(3553===t.target)p.texImage2D(3553,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var n=0;n<6;++n)p.texImage2D(34069+n,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);G(t.texInfo,t.target)})},refresh:function(){for(var t=0;t<V;++t){var e=i[t];e&&(e.bindCount=0,e.unit=-1,i[t]=null),p.activeTexture(33984+t),p.bindTexture(3553,null),p.bindTexture(34067,null)}}}}u[32854]=2,u[32855]=2,u[36194]=2,u[34041]=4,u[33776]=.5,u[33777]=.5,u[33778]=1,u[33779]=1,u[35986]=.5,u[35987]=1,u[34798]=1,u[35840]=.5,u[35841]=.25,u[35842]=.5,u[35843]=.25,u[36196]=.5;var L=[];function $e(t,e,n){return L[t]*e*n}L[32854]=2,L[32855]=2,L[36194]=2,L[33189]=2,L[36168]=1,L[34041]=4,L[35907]=4,L[34836]=16,L[34842]=8,L[34843]=6;var Ke=[6407,6408],Ve=[],Xe=(Ve[6408]=4,Ve[6407]=3,[]),Ye=(Xe[5121]=1,Xe[5126]=4,Xe[36193]=2,[32854,32855,36194,35907,34842,34843,34836]),He={};function qe(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function Ze(s,c,u,l,h,d,f){function r(t){null===c.next?(Me(h.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),e=5121):(Me(null!==c.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),e=c.next.colorAttachments[0].texture._texture.type,d.oes_texture_float?(Me(5121===e||5126===e,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===e&&Me(f.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):Me(5121===e,"Reading from a framebuffer is only allowed for the type 'uint8'"));var e,n=0,r=0,i=l.framebufferWidth,o=l.framebufferHeight,a=null,t=(we(t)?a=t:t&&(Me.type(t,"object","invalid arguments to regl.read()"),n=0|t.x,r=0|t.y,Me(0<=n&&n<l.framebufferWidth,"invalid x offset for regl.read"),Me(0<=r&&r<l.framebufferHeight,"invalid y offset for regl.read"),i=0|(t.width||l.framebufferWidth-n),o=0|(t.height||l.framebufferHeight-r),a=t.data||null),a&&(5121===e?Me(a instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===e&&Me(a instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),Me(0<i&&i+n<=l.framebufferWidth,"invalid width for read pixels"),Me(0<o&&o+r<=l.framebufferHeight,"invalid height for read pixels"),u(),i*o*4);return a||(5121===e?a=new Uint8Array(t):5126===e&&(a=a||new Float32Array(t))),Me.isTypedArray(a,"data buffer for regl.read() must be a typedarray"),Me(a.byteLength>=t,"data buffer for regl.read() too small"),s.pixelStorei(3333,4),s.readPixels(n,r,i,o,6408,e,a),a}return function(t){return t&&"framebuffer"in t?(e=t,c.setFBO({framebuffer:e.framebuffer},function(){n=r(e)}),n):r(t);var e,n}}function R(t){return Array.prototype.slice.call(t)}function B(t){return R(t).join("")}He[36053]="complete",He[36054]="incomplete attachment",He[36057]="incomplete dimensions",He[36055]="incomplete, missing attachment",He[36061]="unsupported";var qt="xyzw".split(""),Zt="profile",Qt="framebuffer",Jt="vert",te="frag",ee="elements",ne="primitive",re="count",ie="offset",oe="instances",ae=Qt+"Width",se=Qt+"Height",ce=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],ue={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},le=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],he={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},de={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},fe={frag:35632,vert:35633},pe={cw:2304,ccw:2305};function ge(t){return Array.isArray(t)||we(t)||Te(t)}function ye(t){return t.sort(function(t,e){return"viewport"===t||"viewport"!==e&&t<e?-1:1})}function Yt(t,e,n,r){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=r}function _e(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function Ht(t){return new Yt(!1,!1,!1,t)}function me(t,e){var n,r=t.type;if(0===r)return new Yt(!0,1<=(n=t.data.length),2<=n,e);if(4===r)return new Yt((n=t.data).thisDep,n.contextDep,n.propDep,e);if(5===r)return new Yt(!1,!1,!1,e);if(6!==r)return new Yt(3===r,2===r,1===r,e);for(var i=!1,o=!1,a=!1,s=0;s<t.data.length;++s){var c,u=t.data[s];1===u.type?a=!0:2===u.type?o=!0:3===u.type?i=!0:0===u.type?(i=!0,1<=(c=u.data)&&(o=!0),2<=c&&(a=!0)):4===u.type&&(i=i||u.data.thisDep,o=o||u.data.contextDep,a=a||u.data.propDep)}return new Yt(i,o,a,e)}var N=new Yt(!1,!1,!1,function(){});function Qe(n,Ct,xt,Et,At,St,r,jt,i,wt,Dt,o,a,y,s){var Tt=wt.Record,Mt={add:32774,subtract:32778,"reverse subtract":32779},Pt=(xt.ext_blend_minmax&&(Mt.min=32775,Mt.max=32776),xt.angle_instanced_arrays),u=xt.webgl_draw_buffers,_={dirty:!0,profile:s.profile},c={},It=[],f={},m={};function kt(t){return t.replace(".","_")}function t(t,e,n){var r=kt(t);It.push(t),c[r]=_[r]=!!n,f[r]=e}function e(t,e,n){var r=kt(t);It.push(t),Array.isArray(n)?(_[r]=n.slice(),c[r]=n.slice()):_[r]=c[r]=n,m[r]=e}t("dither",3024),t("blend.enable",3042),e("blend.color","blendColor",[0,0,0,0]),e("blend.equation","blendEquationSeparate",[32774,32774]),e("blend.func","blendFuncSeparate",[1,0,1,0]),t("depth.enable",2929,!0),e("depth.func","depthFunc",513),e("depth.range","depthRange",[0,1]),e("depth.mask","depthMask",!0),e("colorMask","colorMask",[!0,!0,!0,!0]),t("cull.enable",2884),e("cull.face","cullFace",1029),e("frontFace","frontFace",2305),e("lineWidth","lineWidth",1),t("polygonOffset.enable",32823),e("polygonOffset.offset","polygonOffset",[0,0]),t("sample.alpha",32926),t("sample.enable",32928),e("sample.coverage","sampleCoverage",[1,!1]),t("stencil.enable",2960),e("stencil.mask","stencilMask",-1),e("stencil.func","stencilFunc",[519,0,-1]),e("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),e("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),t("scissor.enable",3089),e("scissor.box","scissor",[0,0,n.drawingBufferWidth,n.drawingBufferHeight]),e("viewport","viewport",[0,0,n.drawingBufferWidth,n.drawingBufferHeight]);var v={gl:n,context:a,strings:Ct,next:c,current:_,draw:o,elements:St,buffer:At,shader:Dt,attributes:wt.state,vao:wt,uniforms:i,framebuffer:jt,extensions:xt,timer:y,isBufferArgs:ge},b={primTypes:ze,compareFuncs:he,blendFuncs:ue,blendEquations:Mt,stencilOps:de,glTypes:ke,orientationType:pe},O=(Me.optional(function(){v.isArrayLike=Xt}),u&&(b.backBuffer=[1029],b.drawBuffer=Vt(Et.maxDrawbuffers,function(t){return 0===t?[0]:Vt(t,function(t){return 36064+t})})),0);function Lt(){r=0,i=[],o=[],n=u(),s={};var r,i,o,n,s,a={global:n,link:function(t){for(var e=0;e<o.length;++e)if(o[e]===t)return i[e];var n="g"+r++;return i.push(n),o.push(t),n},block:u,proc:function(t,e){var n=[];function r(){var t="a"+n.length;return n.push(t),t}e=e||0;for(var i=0;i<e;++i)r();var o=l(),a=o.toString;return s[t]=Ee(o,{arg:r,toString:function(){return B(["function(",n.join(),"){",a(),"}"])}})},scope:l,cond:function(){var e=B(arguments),t=l(),n=l(),r=t.toString,i=n.toString;return Ee(t,{then:function(){return t.apply(t,R(arguments)),this},else:function(){return n.apply(n,R(arguments)),this},toString:function(){var t=(t=i())&&"else{"+t+"}";return B(["if(",e,"){",r(),"}",t])}})},compile:function(){var e=['"use strict";',n,"return {"],t=(Object.keys(s).forEach(function(t){e.push('"',t,'":',s[t].toString(),",")}),e.push("}"),B(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n"));return Function.apply(null,i.concat(t)).apply(null,o)}},c=a.link,e=a.global;function u(){var e=[],n=[];return Ee(function(){e.push.apply(e,R(arguments))},{def:function(){var t="v"+r++;return n.push(t),0<arguments.length&&(e.push(t,"="),e.push.apply(e,R(arguments)),e.push(";")),t},toString:function(){return B([0<n.length?"var "+n.join(",")+";":"",B(e)])}})}function l(){var r=u(),n=u(),t=r.toString,e=n.toString;function i(t,e){n(t,e,"=",r.def(t,e),";")}return Ee(function(){r.apply(r,R(arguments))},{def:r.def,entry:r,exit:n,save:i,set:function(t,e,n){i(t,e),r(t,e,"=",n,";")},toString:function(){return t()+e()}})}a.id=O++,a.batchId="0";var d=c(v),h=a.shared={props:"a0"},f=(Object.keys(v).forEach(function(t){h[t]=e.def(d,".",t)}),Me.optional(function(){a.CHECK=c(Me),a.commandStr=Me.guessCommand(),a.command=c(a.commandStr),a.assert=function(t,e,n){t("if(!(",e,"))",this.CHECK,".commandRaise(",c(n),",",this.command,");")},b.invalidBlendCombinations=le}),a.next={}),p=a.current={},g=(Object.keys(m).forEach(function(t){Array.isArray(_[t])&&(f[t]=e.def(h.next,".",t),p[t]=e.def(h.current,".",t))}),a.constants={}),y=(Object.keys(b).forEach(function(t){g[t]=e.def(JSON.stringify(b[t]))}),a.invoke=function(e,t){switch(t.type){case 0:var n=["this",h.context,h.props,a.batchId];return e.def(c(t.data),".call(",n.slice(0,Math.max(t.data.length+1,4)),")");case 1:return e.def(h.props,t.data);case 2:return e.def(h.context,t.data);case 3:return e.def("this",t.data);case 4:return t.data.append(a,e),t.data.ref;case 5:return t.data.toString();case 6:return t.data.map(function(t){return a.invoke(e,t)})}},a.attribCache={},{});return a.scopeAttrib=function(t){t=Ct.id(t);if(t in y)return y[t];var e=(e=wt.scope[t])||(wt.scope[t]=new Tt);return y[t]=c(e)},a}function Rt(n,r,i){var o=n.shared.context,a=n.scope();Object.keys(i).forEach(function(t){r.save(o,"."+t);var e=i[t].append(n,r);Array.isArray(e)?a(o,".",t,"=[",e.join(),"];"):a(o,".",t,"=",e,";")}),r(a)}function Bt(t,e,n,r){var i,o=t.shared,a=o.gl,s=o.framebuffer;u&&(i=e.def(o.extensions,".webgl_draw_buffers"));var o=t.constants,c=o.drawBuffer,o=o.backBuffer,n=n?n.append(t,e):e.def(s,".next");r||e("if(",n,"!==",s,".cur){"),e("if(",n,"){",a,".bindFramebuffer(",36160,",",n,".framebuffer);"),u&&e(i,".drawBuffersWEBGL(",c,"[",n,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",36160,",null);"),u&&e(i,".drawBuffersWEBGL(",o,");"),e("}",s,".cur=",n,";"),r||e("}")}function Nt(i,t,o){var e=i.shared,a=e.gl,s=i.current,c=i.next,u=e.current,l=e.next,h=i.cond(u,".dirty");It.forEach(function(t){var e,n,r,t=kt(t);t in o.state||(t in c?(e=c[t],n=s[t],r=Vt(_[t].length,function(t){return h.def(e,"[",t,"]")}),h(i.cond(r.map(function(t,e){return t+"!=="+n+"["+e+"]"}).join("||")).then(a,".",m[t],"(",r,");",r.map(function(t,e){return n+"["+e+"]="+t}).join(";"),";"))):(e=h.def(l,".",t),r=i.cond(e,"!==",u,".",t),h(r),t in f?r(i.cond(e).then(a,".enable(",f[t],");").else(a,".disable(",f[t],");"),u,".",t,"=",e,";"):r(a,".",m[t],"(",e,");",u,".",t,"=",e,";")))}),0===Object.keys(o.state).length&&h(u,".dirty=false;"),t(h)}function Ft(o,a,s,c){var t=o.shared,u=o.current,l=t.current,h=t.gl;ye(Object.keys(s)).forEach(function(t){var e,n,r,i=s[t];c&&!c(i)||(e=i.append(o,a),f[t]?(n=f[t],_e(i)?a(h,e?".enable(":".disable(",n,");"):a(o.cond(e).then(h,".enable(",n,");").else(h,".disable(",n,");")),a(l,".",t,"=",e,";")):Xt(e)?(r=u[t],a(h,".",m[t],"(",e,");",e.map(function(t,e){return r+"["+e+"]="+t}).join(";"),";")):a(h,".",m[t],"(",e,");",l,".",t,"=",e,";"))})}function Ut(t,e){Pt&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function Wt(t,n,e,r,l){var h,d,i,o=t.shared,a=t.stats,s=o.current,c=o.timer,o=e.profile;function f(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function p(t){t(h=n.def(),"=",f(),";"),"string"==typeof l?t(a,".count+=",l,";"):t(a,".count++;"),y&&(r?t(d=n.def(),"=",c,".getNumPendingQueries();"):t(c,".beginQuery(",a,");"))}function g(t){t(a,".cpuTime+=",f(),"-",h,";"),y&&(r?t(c,".pushScopeStats(",d,",",c,".getNumPendingQueries(),",a,");"):t(c,".endQuery();"))}function u(t){var e=n.def(s,".profile");n(s,".profile=",t,";"),n.exit(s,".profile=",e,";")}if(o){if(_e(o))return o.enable?(p(n),g(n.exit),u("true")):u("false"),0;u(i=o.append(t,n))}else i=n.def(s,".profile");e=t.block(),p(e),n("if(",i,"){",e,"}"),o=t.block();g(o),n.exit("if(",i,"){",o,"}")}function h(g,y,_,t,m){var v=g.shared;t.forEach(function(t){var e,n,r,i,o,a,l,s,c,h=t.name,u=_.attributes[h];if(u){if(!m(u))return;e=u.append(g,y)}else{if(!m(N))return;var d=g.scopeAttrib(h);Me.optional(function(){g.assert(y,d+".state","missing attribute "+h)}),e={},Object.keys(new Tt).forEach(function(t){e[t]=y.def(d,".",t)})}function f(){y("if(!",a,".buffer){",i,".enableVertexAttribArray(",o,");}");var t=r.type,e=r.size?y.def(r.size,"||",n):n;y("if(",a,".type!==",t,"||",a,".size!==",e,"||",c.map(function(t){return a+"."+t+"!=="+r[t]}).join("||"),"){",i,".bindBuffer(",34962,",",l,".buffer);",i,".vertexAttribPointer(",[o,e,t,r.normalized,r.stride,r.offset],");",a,".type=",t,";",a,".size=",e,";",c.map(function(t){return a+"."+t+"="+r[t]+";"}).join(""),"}"),Pt&&(t=r.divisor,y("if(",a,".divisor!==",t,"){",g.instancing,".vertexAttribDivisorANGLE(",[o,t],");",a,".divisor=",t,";}"))}function p(){y("if(",a,".buffer){",i,".disableVertexAttribArray(",o,");",a,".buffer=null;","}if(",qt.map(function(t,e){return a+"."+t+"!=="+s[e]}).join("||"),"){",i,".vertexAttrib4f(",o,",",s,");",qt.map(function(t,e){return a+"."+t+"="+s[e]+";"}).join(""),"}")}u=g.link(t),n=function(){switch(t.info.type){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(),r=e,i=v.gl,o=y.def(u,".location"),a=y.def(v.attributes,"[",o,"]"),u=r.state,l=r.buffer,s=[r.x,r.y,r.z,r.w],c=["buffer","normalized","offset","stride"],1===u?f():2===u?p():(y("if(",u,"===",1,"){"),f(),y("}else{"),p(),y("}"))})}function d(i,o,l,h,d){for(var t,f=i.shared,p=f.gl,g=0;g<h.length;++g){var a,e=h[g],s=e.name,c=e.info.type,y=l.uniforms[s],_=i.link(e)+".location";if(y){if(!d(y))continue;if(_e(y)){var n=y.value;if(Me.command(null!=n,'missing uniform "'+s+'"',i.commandStr),35678===c||35680===c){Me.command("function"==typeof n&&(35678===c&&("texture2d"===n._reglType||"framebuffer"===n._reglType)||35680===c&&("textureCube"===n._reglType||"framebufferCube"===n._reglType)),"invalid texture for uniform "+s,i.commandStr);e=i.link(n._texture||n.color[0]._texture);o(p,".uniform1i(",_,",",e+".bind());"),o.exit(e,".unbind();")}else if(35674===c||35675===c||35676===c){Me.optional(function(){Me.command(Xt(n),"invalid matrix for uniform "+s,i.commandStr),Me.command(35674===c&&4===n.length||35675===c&&9===n.length||35676===c&&16===n.length,"invalid length for matrix uniform "+s,i.commandStr)});var e=i.global.def("new Float32Array(["+Array.prototype.slice.call(n)+"])"),r=2;35675===c?r=3:35676===c&&(r=4),o(p,".uniformMatrix",r,"fv(",_,",false,",e,");")}else{switch(c){case 5126:Me.commandType(n,"number","uniform "+s,i.commandStr),t="1f";break;case 35664:Me.command(Xt(n)&&2===n.length,"uniform "+s,i.commandStr),t="2f";break;case 35665:Me.command(Xt(n)&&3===n.length,"uniform "+s,i.commandStr),t="3f";break;case 35666:Me.command(Xt(n)&&4===n.length,"uniform "+s,i.commandStr),t="4f";break;case 35670:Me.commandType(n,"boolean","uniform "+s,i.commandStr),t="1i";break;case 5124:Me.commandType(n,"number","uniform "+s,i.commandStr),t="1i";break;case 35671:case 35667:Me.command(Xt(n)&&2===n.length,"uniform "+s,i.commandStr),t="2i";break;case 35672:case 35668:Me.command(Xt(n)&&3===n.length,"uniform "+s,i.commandStr),t="3i";break;case 35673:case 35669:Me.command(Xt(n)&&4===n.length,"uniform "+s,i.commandStr),t="4i"}o(p,".uniform",t,"(",_,",",Xt(n)?Array.prototype.slice.call(n):n,");")}continue}a=y.append(i,o)}else{if(!d(N))continue;a=o.def(f.uniforms,"[",Ct.id(s),"]")}35678===c?(Me(!Array.isArray(a),"must specify a scalar prop for textures"),o("if(",a,"&&",a,'._reglType==="framebuffer"){',a,"=",a,".color[0];","}")):35680===c&&(Me(!Array.isArray(a),"must specify a scalar prop for cube maps"),o("if(",a,"&&",a,'._reglType==="framebufferCube"){',a,"=",a,".color[0];","}")),Me.optional(function(){function e(t,e){i.assert(o,t,'bad data or missing for uniform "'+s+'".  '+e)}function t(t){Me(!Array.isArray(a),"must not specify an array type for uniform"),e("typeof "+a+'==="'+t+'"',"invalid type, expected "+t)}function n(t){Array.isArray(a)?Me(a.length===t,"must have length "+t):e(f.isArrayLike+"("+a+")&&"+a+".length==="+t,"invalid vector, should have length "+t,i.commandStr)}function r(t){Me(!Array.isArray(a),"must not specify a value type"),e("typeof "+a+'==="function"&&'+a+'._reglType==="texture'+(3553===t?"2d":"Cube")+'"',"invalid texture type",i.commandStr)}switch(c){case 5124:t("number");break;case 35667:n(2);break;case 35668:n(3);break;case 35669:n(4);break;case 5126:t("number");break;case 35664:n(2);break;case 35665:n(3);break;case 35666:n(4);break;case 35670:t("boolean");break;case 35671:n(2);break;case 35672:n(3);break;case 35673:case 35674:n(4);break;case 35675:n(9);break;case 35676:n(16);break;case 35678:r(3553);break;case 35680:r(34067)}});var m,u=1;switch(c){case 35678:case 35680:var v=o.def(a,"._texture");o(p,".uniform1i(",_,",",v,".bind());"),o.exit(v,".unbind();");continue;case 5124:case 35670:t="1i";break;case 35667:case 35671:t="2i",u=2;break;case 35668:case 35672:t="3i",u=3;break;case 35669:case 35673:t="4i",u=4;break;case 5126:t="1f";break;case 35664:t="2f",u=2;break;case 35665:t="3f",u=3;break;case 35666:t="4f",u=4;break;case 35674:t="Matrix2fv";break;case 35675:t="Matrix3fv";break;case 35676:t="Matrix4fv"}o(p,".uniform",t,"(",_,","),"M"===t.charAt(0)?(r=Math.pow(c-35674+2,2),m=i.global.def("new Float32Array(",r,")"),Array.isArray(a)?o("false,(",Vt(r,function(t){return m+"["+t+"]="+a[t]}),",",m,")"):o("false,(Array.isArray(",a,")||",a," instanceof Float32Array)?",a,":(",Vt(r,function(t){return m+"["+t+"]="+a+"["+t+"]"}),",",m,")")):1<u?o(Vt(u,function(t){return Array.isArray(a)?a[t]:a+"["+t+"]"})):(Me(!Array.isArray(a),"uniform value must not be an array"),o(a)),o(");")}}function p(n,r,i,l){var t,e=n.shared,h=e.gl,d=e.draw,o=l.draw,f=(e=o.elements,t=r,(e=e?((e.contextDep&&l.contextDynamic||e.propDep)&&(t=i),e.append(n,t)):t.def(d,".",ee))&&t("if("+e+")"+h+".bindBuffer(34963,"+e+".buffer.buffer);"),e);function p(t){var e=o[t];return e?e.contextDep&&l.contextDynamic||e.propDep?e.append(n,i):e.append(n,r):r.def(d,".",t)}var a,g,y,s,c,_=p(ne),m=p(ie),u=(s=o.count,c=r,s?((s.contextDep&&l.contextDynamic||s.propDep)&&(c=i),y=s.append(n,c),Me.optional(function(){s.MISSING&&n.assert(r,"false","missing vertex count"),s.DYNAMIC&&n.assert(c,y+">=0","missing vertex count")})):(y=c.def(d,".",re),Me.optional(function(){n.assert(c,y+">=0","missing vertex count")})),y);if("number"==typeof u){if(0===u)return}else i("if(",u,"){"),i.exit("}");Pt&&(a=p(oe),g=n.instancing);var v=f+".type",b=o.elements&&_e(o.elements);function O(){function t(){i(g,".drawElementsInstancedANGLE(",[_,u,v,m+"<<(("+v+"-5121)>>1)",a],");")}function e(){i(g,".drawArraysInstancedANGLE(",[_,m,u,a],");")}f?b?t():(i("if(",f,"){"),t(),i("}else{"),e(),i("}")):e()}function x(){function t(){i(h+".drawElements("+[_,u,v,m+"<<(("+v+"-5121)>>1)"]+");")}function e(){i(h+".drawArrays("+[_,m,u]+");")}f?b?t():(i("if(",f,"){"),t(),i("}else{"),e(),i("}")):e()}Pt&&("number"!=typeof a||0<=a)?"string"==typeof a?(i("if(",a,">0){"),O(),i("}else if(",a,"<0){"),x(),i("}")):O():x()}function zt(t,e,n,r,i){var o=Lt(),i=o.proc("body",i);return Me.optional(function(){o.commandStr=e.commandStr,o.command=o.link(e.commandStr)}),Pt&&(o.instancing=i.def(o.shared.extensions,".angle_instanced_arrays")),t(o,i,n,r),o.compile().body}function Gt(t,e,n,r){Ut(t,e),n.useVAO?n.drawVAO?e(t.shared.vao,".setVAO(",n.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),h(t,e,n,r.attributes,function(){return 1})),d(t,e,n,r.uniforms,function(){return 1}),p(t,e,e,n)}function g(t,e,n,r){function i(){return!0}t.batchId="a1",Ut(t,e),h(t,e,n,r.attributes,i),d(t,e,n,r.uniforms,i),p(t,e,e,n)}function $t(e,t,n,r){Ut(e,t);var l=n.contextDep,i=t.def(),o=t.def(),a=(e.shared.props=o,e.batchId=i,e.scope()),s=e.scope();function c(t){return t.contextDep&&l||t.propDep}function u(t){return!c(t)}t(a.entry,"for(",i,"=0;",i,"<","a1",";++",i,"){",o,"=","a0","[",i,"];",s,"}",a.exit),n.needsContext&&Rt(e,s,n.context),n.needsFramebuffer&&Bt(e,s,n.framebuffer),Ft(e,s,n.state,c),n.profile&&c(n.profile)&&Wt(e,s,n,!1,!0),r?(n.useVAO?n.drawVAO?c(n.drawVAO)?s(e.shared.vao,".setVAO(",n.drawVAO.append(e,s),");"):a(e.shared.vao,".setVAO(",n.drawVAO.append(e,a),");"):a(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(a(e.shared.vao,".setVAO(null);"),h(e,a,n,r.attributes,u),h(e,s,n,r.attributes,c)),d(e,a,n,r.uniforms,u),d(e,s,n,r.uniforms,c),p(e,a,s,n)):(t=e.global.def("{}"),o=n.shader.progVar.append(e,s),r=s.def(o,".id"),a=s.def(t,"[",r,"]"),s(e.shared.gl,".useProgram(",o,".program);","if(!",a,"){",a,"=",t,"[",r,"]=",e.link(function(t){return zt(g,e,n,t,2)}),"(",o,");}",a,".call(this,a0[",i,"],",i,");"))}function Kt(r,t,e){var i,o,a,s,c,u,l=t.static[e];l&&function(t){if("object"==typeof t&&!Xt(t))for(var e=Object.keys(t),n=0;n<e.length;++n)if(Ce.isDynamic(t[e[n]]))return 1}(l)&&(i=r.global,o=Object.keys(l),c=s=a=!1,u=r.global.def("{}"),o.forEach(function(t){var e=l[t];if(Ce.isDynamic(e)){var n=me(e="function"==typeof e?l[t]=Ce.unbox(e):e,null);a=a||n.thisDep,c=c||n.propDep,s=s||n.contextDep}else{switch(i(u,".",t,"="),typeof e){case"number":i(e);break;case"string":i('"',e,'"');break;case"object":Array.isArray(e)&&i("[",e.join(),"]");break;default:i(r.link(e))}i(";")}}),t.dynamic[e]=new Ce.DynamicVariable(4,{thisDep:a,contextDep:s,propDep:c,ref:u,append:function(n,r){o.forEach(function(t){var e=l[t];Ce.isDynamic(e)&&(e=n.invoke(r,e),r(u,".",t,"=",e,";"))})}}),delete t.static[e])}return{next:c,current:_,procs:function(){var a=Lt(),s=a.proc("poll"),c=a.proc("refresh"),u=a.block();s(u),c(u);var r,t=a.shared,l=t.gl,h=t.next,d=t.current;u(d,".dirty=false;"),Bt(a,s),Bt(a,c,null,!0),Pt&&(r=a.link(Pt)),xt.oes_vertex_array_object&&c(a.link(xt.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var e=0;e<Et.maxAttributes;++e){var n=c.def(t.attributes,"[",e,"]"),i=a.cond(n,".buffer");i.then(l,".enableVertexAttribArray(",e,");",l,".bindBuffer(",34962,",",n,".buffer.buffer);",l,".vertexAttribPointer(",e,",",n,".size,",n,".type,",n,".normalized,",n,".stride,",n,".offset);").else(l,".disableVertexAttribArray(",e,");",l,".vertexAttrib4f(",e,",",n,".x,",n,".y,",n,".z,",n,".w);",n,".buffer=null;"),c(i),Pt&&c(r,".vertexAttribDivisorANGLE(",e,",",n,".divisor);")}return c(a.shared.vao,".currentVAO=null;",a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);"),Object.keys(f).forEach(function(t){var e=f[t],n=u.def(h,".",t),r=a.block();r("if(",n,"){",l,".enable(",e,")}else{",l,".disable(",e,")}",d,".",t,"=",n,";"),c(r),s("if(",n,"!==",d,".",t,"){",r,"}")}),Object.keys(m).forEach(function(t){var e,n,r=m[t],i=_[t],o=a.block();o(l,".",r,"("),Xt(i)?(r=i.length,e=a.global.def(h,".",t),n=a.global.def(d,".",t),o(Vt(r,function(t){return e+"["+t+"]"}),");",Vt(r,function(t){return n+"["+t+"]="+e+"["+t+"];"}).join("")),s("if(",Vt(r,function(t){return e+"["+t+"]!=="+n+"["+t+"]"}).join("||"),"){",o,"}")):(e=u.def(h,".",t),n=u.def(d,".",t),o(e,");",d,".",t,"=",e,";"),s("if(",e,"!==",n,"){",o,"}")),c(o)}),a.compile()}(),compile:function(l,h,d,f,t){var a,p,g,y,_,m,v,b,o,O,x,E,w,M,P,C,A,S,j,D,T,I,k,L,R,B,N,F,U,W,z,G,$,K,V,X,Y,H,q,Z,Q,J,tt,et,nt,rt,it,ot,at,st,e,n,r,ct,ut,lt,i,ht,dt,ft,s,c,u,pt=Lt(),gt=(pt.stats=pt.link(t),Object.keys(h.static).forEach(function(t){Kt(pt,h,t)}),ce.forEach(function(t){Kt(pt,l,t)}),p=h,t=d,d=f,g=pt,U=(a=l).static,W=a.dynamic,Me.optional(function(){var e=[Qt,Jt,te,ee,ne,ie,re,oe,Zt,"vao"].concat(It);function t(t){Object.keys(t).forEach(function(t){Me.command(0<=e.indexOf(t),'unknown parameter "'+t+'"',g.commandStr)})}t(U),t(W)}),f=function(t){var e=a.static;if("string"==typeof e.frag&&"string"==typeof e.vert){if(0<Object.keys(t.dynamic).length)return null;var n=t.static,r=Object.keys(n);if(0<r.length&&"number"==typeof n[r[0]]){for(var i=[],o=0;o<r.length;++o)Me("number"==typeof n[r[o]],"must specify all vertex attribute locations when using vaos"),i.push([0|n[r[o]],r[o]]);return i}}return null}(p),r=a.static,u=a.dynamic,r=Qt in r?(N=r[Qt])?(N=jt.getFramebuffer(N),Me.command(N,"invalid framebuffer object"),Ht(function(t,e){var n=t.link(N),t=t.shared,t=(e.set(t.framebuffer,".next",n),t.context);return e.set(t,"."+ae,n+".width"),e.set(t,"."+se,n+".height"),n})):Ht(function(t,e){t=t.shared,e.set(t.framebuffer,".next","null"),t=t.context;return e.set(t,"."+ae,t+".drawingBufferWidth"),e.set(t,"."+se,t+".drawingBufferHeight"),"null"}):Qt in u?me(F=u[Qt],function(t,e){var n=t.invoke(e,F),r=t.shared,i=r.framebuffer,o=e.def(i,".getFramebuffer(",n,")"),i=(Me.optional(function(){t.assert(e,"!"+n+"||"+o,"invalid framebuffer object")}),e.set(i,".next",o),r.context);return e.set(i,"."+ae,o+"?"+o+".width:"+i+".drawingBufferWidth"),e.set(i,"."+se,o+"?"+o+".height:"+i+".drawingBufferHeight"),o}):null,I=r,k=g,L=a.static,R=a.dynamic,z={viewport:u=(u=mt("viewport"))?new Yt((B=u).thisDep,u.contextDep,u.propDep,function(t,e){var n=B.append(t,e),t=t.shared.context;return e.set(t,".viewportWidth",n[2]),e.set(t,".viewportHeight",n[3]),n}):u,scissor_box:mt("scissor.box")},w=g,C=a.static,A=a.dynamic,S=ee in C?(ge(M=C[ee])?M=St.getElements(St.create(M,!0)):M&&(M=St.getElements(M),Me.command(M,"invalid elements",w.commandStr)),(u=Ht(function(t,e){var n;return M?(n=t.link(M),t.ELEMENTS=n):t.ELEMENTS=null})).value=M,u):ee in A?me(P=A[ee],function(t,e){var n=t.shared,r=n.isBufferArgs,n=n.elements,i=t.invoke(e,P),o=e.def("null"),r=e.def(r,"(",i,")"),a=t.cond(r).then(o,"=",n,".createStream(",i,");").else(o,"=",n,".getElements(",i,");");return Me.optional(function(){t.assert(a.else,"!"+i+"||"+o,"invalid elements")}),e.entry(a),e.exit(t.cond(r).then(n,".destroyStream(",o,");")),t.ELEMENTS=o}):null,T=_t(ie,!0),u={elements:S,primitive:ne in C?(j=C[ne],Me.commandParameter(j,ze,"invalid primitve",w.commandStr),Ht(function(t,e){return ze[j]})):ne in A?me(D=A[ne],function(t,e){var n=t.constants.primTypes,r=t.invoke(e,D);return Me.optional(function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(ze))}),e.def(n,"[",r,"]")}):S?_e(S)?S.value?Ht(function(t,e){return e.def(t.ELEMENTS,".primType")}):Ht(function(){return 4}):new Yt(S.thisDep,S.contextDep,S.propDep,function(t,e){t=t.ELEMENTS;return e.def(t,"?",t,".primType:",4)}):null,count:function(){var t,r;if(re in C)return t=0|C[re],Me.command("number"==typeof t&&0<=t,"invalid vertex count",w.commandStr),Ht(function(){return t});if(re in A)return me(r=A[re],function(t,e){var n=t.invoke(e,r);return Me.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")}),n});if(S){if(_e(S)){if(S)return T?new Yt(T.thisDep,T.contextDep,T.propDep,function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return Me.optional(function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")}),n}):Ht(function(t,e){return e.def(t.ELEMENTS,".vertCount")});var e=Ht(function(){return-1});return Me.optional(function(){e.MISSING=!0}),e}var n=new Yt(S.thisDep||T.thisDep,S.contextDep||T.contextDep,S.propDep||T.propDep,function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")});return Me.optional(function(){n.DYNAMIC=!0}),n}return null}(),instances:_t(oe,!1),offset:T},o=g,O=a.static,x=a.dynamic,E={},It.forEach(function(u){var i=kt(u);function t(t,n){var e,r;u in O?(e=t(O[u]),E[i]=Ht(function(){return e})):u in x&&(r=x[u],E[i]=me(r,function(t,e){return n(t,e,t.invoke(e,r))}))}switch(u){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return t(function(t){return Me.commandType(t,"boolean",u,o.commandStr),t},function(t,e,n){return Me.optional(function(){t.assert(e,"typeof "+n+'==="boolean"',"invalid flag "+u,t.commandStr)}),n});case"depth.func":return t(function(t){return Me.commandParameter(t,he,"invalid "+u,o.commandStr),he[t]},function(t,e,n){var r=t.constants.compareFuncs;return Me.optional(function(){t.assert(e,n+" in "+r,"invalid "+u+", must be one of "+Object.keys(he))}),e.def(r,"[",n,"]")});case"depth.range":return t(function(t){return Me.command(Xt(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",o.commandStr),t},function(t,e,n){return Me.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}),[e.def("+",n,"[0]"),e.def("+",n,"[1]")]});case"blend.func":return t(function(t){Me.commandType(t,"object","blend.func",o.commandStr);var e="srcRGB"in t?t.srcRGB:t.src,n="srcAlpha"in t?t.srcAlpha:t.src,r="dstRGB"in t?t.dstRGB:t.dst,t="dstAlpha"in t?t.dstAlpha:t.dst;return Me.commandParameter(e,ue,i+".srcRGB",o.commandStr),Me.commandParameter(n,ue,i+".srcAlpha",o.commandStr),Me.commandParameter(r,ue,i+".dstRGB",o.commandStr),Me.commandParameter(t,ue,i+".dstAlpha",o.commandStr),Me.command(-1===le.indexOf(e+", "+r),"unallowed blending combination (srcRGB, dstRGB) = ("+e+", "+r+")",o.commandStr),[ue[e],ue[r],ue[n],ue[t]]},function(r,i,o){var a=r.constants.blendFuncs;function t(t,e){var n=i.def('"',t,e,'" in ',o,"?",o,".",t,e,":",o,".",t);return Me.optional(function(){r.assert(i,n+" in "+a,"invalid "+u+"."+t+e+", must be one of "+Object.keys(ue))}),n}Me.optional(function(){r.assert(i,o+"&&typeof "+o+'==="object"',"invalid blend func, must be an object")});var e=t("src","RGB"),n=t("dst","RGB"),s=(Me.optional(function(){var t=r.constants.invalidBlendCombinations;r.assert(i,t+".indexOf("+e+'+", "+'+n+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}),i.def(a,"[",e,"]")),c=i.def(a,"[",t("src","Alpha"),"]");return[s,i.def(a,"[",n,"]"),c,i.def(a,"[",t("dst","Alpha"),"]")]});case"blend.equation":return t(function(t){return"string"==typeof t?(Me.commandParameter(t,Mt,"invalid "+u,o.commandStr),[Mt[t],Mt[t]]):"object"==typeof t?(Me.commandParameter(t.rgb,Mt,u+".rgb",o.commandStr),Me.commandParameter(t.alpha,Mt,u+".alpha",o.commandStr),[Mt[t.rgb],Mt[t.alpha]]):void Me.commandRaise("invalid blend.equation",o.commandStr)},function(r,t,e){var i=r.constants.blendEquations,n=t.def(),o=t.def(),a=r.cond("typeof ",e,'==="string"');return Me.optional(function(){function t(t,e,n){r.assert(t,n+" in "+i,"invalid "+e+", must be one of "+Object.keys(Mt))}t(a.then,u,e),r.assert(a.else,e+"&&typeof "+e+'==="object"',"invalid "+u),t(a.else,u+".rgb",e+".rgb"),t(a.else,u+".alpha",e+".alpha")}),a.then(n,"=",o,"=",i,"[",e,"];"),a.else(n,"=",i,"[",e,".rgb];",o,"=",i,"[",e,".alpha];"),t(a),[n,o]});case"blend.color":return t(function(e){return Me.command(Xt(e)&&4===e.length,"blend.color must be a 4d array",o.commandStr),Vt(4,function(t){return+e[t]})},function(t,e,n){return Me.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")}),Vt(4,function(t){return e.def("+",n,"[",t,"]")})});case"stencil.mask":return t(function(t){return Me.commandType(t,"number",i,o.commandStr),0|t},function(t,e,n){return Me.optional(function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")}),e.def(n,"|0")});case"stencil.func":return t(function(t){Me.commandType(t,"object",i,o.commandStr);var e=t.cmp||"keep",n=t.ref||0,t="mask"in t?t.mask:-1;return Me.commandParameter(e,he,u+".cmp",o.commandStr),Me.commandType(n,"number",u+".ref",o.commandStr),Me.commandType(t,"number",u+".mask",o.commandStr),[he[e],n,t]},function(e,n,r){var i=e.constants.compareFuncs;return Me.optional(function(){function t(){e.assert(n,Array.prototype.join.call(arguments,""),"invalid stencil.func")}t(r+"&&typeof ",r,'==="object"'),t('!("cmp" in ',r,")||(",r,".cmp in ",i,")")}),[n.def('"cmp" in ',r,"?",i,"[",r,".cmp]",":",7680),n.def(r,".ref|0"),n.def('"mask" in ',r,"?",r,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return t(function(t){Me.commandType(t,"object",i,o.commandStr);var e=t.fail||"keep",n=t.zfail||"keep",t=t.zpass||"keep";return Me.commandParameter(e,de,u+".fail",o.commandStr),Me.commandParameter(n,de,u+".zfail",o.commandStr),Me.commandParameter(t,de,u+".zpass",o.commandStr),["stencil.opBack"===u?1029:1028,de[e],de[n],de[t]]},function(e,n,r){var i=e.constants.stencilOps;function t(t){return Me.optional(function(){e.assert(n,'!("'+t+'" in '+r+")||("+r+"."+t+" in "+i+")","invalid "+u+"."+t+", must be one of "+Object.keys(de))}),n.def('"',t,'" in ',r,"?",i,"[",r,".",t,"]:",7680)}return Me.optional(function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+u)}),["stencil.opBack"===u?1029:1028,t("fail"),t("zfail"),t("zpass")]});case"polygonOffset.offset":return t(function(t){Me.commandType(t,"object",i,o.commandStr);var e=0|t.factor,t=0|t.units;return Me.commandType(e,"number",i+".factor",o.commandStr),Me.commandType(t,"number",i+".units",o.commandStr),[e,t]},function(t,e,n){return Me.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid "+u)}),[e.def(n,".factor|0"),e.def(n,".units|0")]});case"cull.face":return t(function(t){var e=0;return"front"===t?e=1028:"back"===t&&(e=1029),Me.command(!!e,i,o.commandStr),e},function(t,e,n){return Me.optional(function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")}),e.def(n,'==="front"?',1028,":",1029)});case"lineWidth":return t(function(t){return Me.command("number"==typeof t&&t>=Et.lineWidthDims[0]&&t<=Et.lineWidthDims[1],"invalid line width, must be a positive number between "+Et.lineWidthDims[0]+" and "+Et.lineWidthDims[1],o.commandStr),t},function(t,e,n){return Me.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+Et.lineWidthDims[0]+"&&"+n+"<="+Et.lineWidthDims[1],"invalid line width")}),n});case"frontFace":return t(function(t){return Me.commandParameter(t,pe,i,o.commandStr),pe[t]},function(t,e,n){return Me.optional(function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),e.def(n+'==="cw"?2304:2305')});case"colorMask":return t(function(t){return Me.command(Xt(t)&&4===t.length,"color.mask must be length 4 array",o.commandStr),t.map(function(t){return!!t})},function(t,e,n){return Me.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")}),Vt(4,function(t){return"!!"+n+"["+t+"]"})});case"sample.coverage":return t(function(t){Me.command("object"==typeof t&&t,i,o.commandStr);var e="value"in t?t.value:1,t=!!t.invert;return Me.command("number"==typeof e&&0<=e&&e<=1,"sample.coverage.value must be a number between 0 and 1",o.commandStr),[e,t]},function(t,e,n){return Me.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}),[e.def('"value" in ',n,"?+",n,".value:1"),e.def("!!",n,".invert")]})}}),G=E,c=f,y=a.static,_=a.dynamic,m=yt(te),v=yt(Jt),b=null,c=_e(m)&&_e(v)?(b=Dt.program(v.id,m.id,null,c),Ht(function(t,e){return t.link(b)})):new Yt(m&&m.thisDep||v&&v.thisDep,m&&m.contextDep||v&&v.contextDep,m&&m.propDep||v&&v.propDep,function(t,e){var n=t.shared.shader,r=m?m.append(t,e):e.def(n,".",te),i=n+".program("+(v?v.append(t,e):e.def(n,".",Jt))+","+r;return Me.optional(function(){i+=","+t.command}),e.def(i+")")}),c={frag:m,vert:v,progVar:c,program:b},vt("viewport"),vt(kt("scissor.box")),s=0<Object.keys(G).length,(r={framebuffer:r,draw:u,shader:c,state:G,dirty:s,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=(u=a.static,s=a.dynamic,Zt in u?(Q=!!u[Zt],(tt=Ht(function(t,e){return Q})).enable=Q):Zt in s&&(tt=me(J=s[Zt],function(t,e){return t.invoke(e,J)})),tt),r.uniforms=(Y=g,H=t.static,q=t.dynamic,Z={},Object.keys(H).forEach(function(n){var t,e,r=H[n];"number"==typeof r||"boolean"==typeof r?t=Ht(function(){return r}):"function"==typeof r?"texture2d"===(e=r._reglType)||"textureCube"===e?t=Ht(function(t){return t.link(r)}):"framebuffer"===e||"framebufferCube"===e?(Me.command(0<r.color.length,'missing color attachment for framebuffer sent to uniform "'+n+'"',Y.commandStr),t=Ht(function(t){return t.link(r.color[0])})):Me.commandRaise('invalid data for uniform "'+n+'"',Y.commandStr):Xt(r)?t=Ht(function(e){return e.global.def("[",Vt(r.length,function(t){return Me.command("number"==typeof r[t]||"boolean"==typeof r[t],"invalid uniform "+n,e.commandStr),r[t]}),"]")}):Me.commandRaise('invalid or missing data for uniform "'+n+'"',Y.commandStr),t.value=r,Z[n]=t}),Object.keys(q).forEach(function(t){var n=q[t];Z[t]=me(n,function(t,e){return t.invoke(e,n)})}),Z),r.drawVAO=r.scopeVAO=(u=a.static,s=a.dynamic,"vao"in u?(null!==(V=u.vao)&&null===wt.getVAO(V)&&(V=wt.createVAO(V)),Ht(function(t){return t.link(wt.getVAO(V))})):"vao"in s?me(X=s.vao,function(t,e){var n=t.invoke(e,X);return e.def(t.shared.vao+".getVAO("+n+")")}):null),!r.drawVAO&&c.program&&!f&&xt.angle_instanced_arrays&&($=!0,tt=c.program.attributes.map(function(t){t=p.static[t];return $=$&&!!t,t}),$&&0<tt.length&&(K=wt.getVAO(wt.createVAO(tt)),r.drawVAO=new Yt(null,null,null,function(t,e){return t.link(K)}),r.useVAO=!0)),f?r.useVAO=!0:r.attributes=(it=g,ot=p.static,at=p.dynamic,st={},Object.keys(ot).forEach(function(r){var t,n,e,i,o,l,a,s,c=ot[r],h=Ct.id(r),u=new Tt;ge(c)?(u.state=1,u.buffer=At.getBuffer(At.create(c,34962,!1,!0)),u.type=0):(t=At.getBuffer(c))?(u.state=1,u.buffer=t,u.type=0):(Me.command("object"==typeof c&&c,"invalid data for attribute "+r,it.commandStr),"constant"in c?(n=c.constant,u.buffer="null",u.state=2,"number"==typeof n?u.x=n:(Me.command(Xt(n)&&0<n.length&&n.length<=4,"invalid constant for attribute "+r,it.commandStr),qt.forEach(function(t,e){e<n.length&&(u[t]=n[e])}))):(t=ge(c.buffer)?At.getBuffer(At.create(c.buffer,34962,!1,!0)):At.getBuffer(c.buffer),Me.command(!!t,'missing buffer for attribute "'+r+'"',it.commandStr),e=0|c.offset,Me.command(0<=e,'invalid offset for attribute "'+r+'"',it.commandStr),i=0|c.stride,Me.command(0<=i&&i<256,'invalid stride for attribute "'+r+'", must be integer betweeen [0, 255]',it.commandStr),o=0|c.size,Me.command(!("size"in c)||0<o&&o<=4,'invalid size for attribute "'+r+'", must be 1,2,3,4',it.commandStr),l=!!c.normalized,a=0,"type"in c&&(Me.commandParameter(c.type,ke,"invalid type for attribute "+r,it.commandStr),a=ke[c.type]),s=0|c.divisor,"divisor"in c&&(Me.command(0==s||Pt,'cannot specify divisor for attribute "'+r+'", instancing not supported',it.commandStr),Me.command(0<=s,'invalid divisor for attribute "'+r+'"',it.commandStr)),Me.optional(function(){var e=it.commandStr,n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(c).forEach(function(t){Me.command(0<=n.indexOf(t),'unknown parameter "'+t+'" for attribute pointer "'+r+'" (valid parameters are '+n+")",e)})}),u.buffer=t,u.state=1,u.size=o,u.normalized=l,u.type=a||t.dtype,u.offset=e,u.stride=i,u.divisor=s)),st[r]=Ht(function(t,e){var n=t.attribCache;if(h in n)return n[h];var r={isStream:!1};return Object.keys(u).forEach(function(t){r[t]=u[t]}),u.buffer&&(r.buffer=t.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[h]=r})}),Object.keys(at).forEach(function(d){var f=at[d];st[d]=me(f,function(t,e){var n=t.invoke(e,f),r=t.shared,l=t.constants,i=r.isBufferArgs,o=r.buffer,a=(Me.optional(function(){t.assert(e,n+"&&(typeof "+n+'==="object"||typeof '+n+'==="function")&&('+i+"("+n+")||"+o+".getBuffer("+n+")||"+o+".getBuffer("+n+".buffer)||"+i+"("+n+'.buffer)||("constant" in '+n+"&&(typeof "+n+'.constant==="number"||'+r.isArrayLike+"("+n+".constant))))",'invalid dynamic attribute "'+d+'"')}),{isStream:e.def(!1)}),s=new Tt,c=(s.state=1,Object.keys(s).forEach(function(t){a[t]=e.def(""+s[t])}),a.buffer),h=a.type;function u(t){e(a[t],"=",n,".",t,"|0;")}return e("if(",i,"(",n,")){",a.isStream,"=true;",c,"=",o,".createStream(",34962,",",n,");",h,"=",c,".dtype;","}else{",c,"=",o,".getBuffer(",n,");","if(",c,"){",h,"=",c,".dtype;",'}else if("constant" in ',n,"){",a.state,"=",2,";","if(typeof "+n+'.constant === "number"){',a[qt[0]],"=",n,".constant;",qt.slice(1).map(function(t){return a[t]}).join("="),"=0;","}else{",qt.map(function(t,e){return a[t]+"="+n+".constant.length>"+e+"?"+n+".constant["+e+"]:0;"}).join(""),"}}else{","if(",i,"(",n,".buffer)){",c,"=",o,".createStream(",34962,",",n,".buffer);","}else{",c,"=",o,".getBuffer(",n,".buffer);","}",h,'="type" in ',n,"?",l.glTypes,"[",n,".type]:",c,".dtype;",a.normalized,"=!!",n,".normalized;"),u("size"),u("offset"),u("stride"),u("divisor"),e("}}"),e.exit("if(",a.isStream,"){",o,".destroyStream(",c,");","}"),a})}),st),r.context=(et=d.static,nt=d.dynamic,rt={},Object.keys(et).forEach(function(t){var n=et[t];rt[t]=Ht(function(t,e){return"number"==typeof n||"boolean"==typeof n?""+n:t.link(n)})}),Object.keys(nt).forEach(function(t){var n=nt[t];rt[t]=me(n,function(t,e){return t.invoke(e,n)})}),rt),r);function yt(i){var t,e,o;return i in y?(t=Ct.id(y[i]),Me.optional(function(){Dt.shader(fe[i],t,Me.guessCommand())}),(e=Ht(function(){return t})).id=t,e):i in _?me(o=_[i],function(t,e){var n=t.invoke(e,o),r=e.def(t.shared.strings,".id(",n,")");return Me.optional(function(){e(t.shared.shader,".shader(",fe[i],",",r,",",t.command,");")}),r}):null}function _t(r,i){var n,o;return r in C?(n=0|C[r],Me.command(!i||0<=n,"invalid "+r,w.commandStr),Ht(function(t,e){return i&&(t.OFFSET=n),n})):r in A?me(o=A[r],function(t,e){var n=t.invoke(e,o);return i&&(t.OFFSET=n,Me.optional(function(){t.assert(e,n+">=0","invalid "+r)})),n}):i&&S?Ht(function(t,e){return t.OFFSET="0",0}):null}function mt(c){var i,o,a,s,u,l,t;return c in L?(i=L[c],Me.commandType(i,"object","invalid "+c,k.commandStr),t=!0,s=0|i.x,u=0|i.y,"width"in i?(o=0|i.width,Me.command(0<=o,"invalid "+c,k.commandStr)):t=!1,"height"in i?(a=0|i.height,Me.command(0<=a,"invalid "+c,k.commandStr)):t=!1,new Yt(!t&&I&&I.thisDep,!t&&I&&I.contextDep,!t&&I&&I.propDep,function(t,e){var t=t.shared.context,n=o,r=("width"in i||(n=e.def(t,".",ae,"-",s)),a);return"height"in i||(r=e.def(t,".",se,"-",u)),[s,u,n,r]})):c in R?(t=me(l=R[c],function(t,e){var n=t.invoke(e,l),r=(Me.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid "+c)}),t.shared.context),i=e.def(n,".x|0"),o=e.def(n,".y|0"),a=e.def('"width" in ',n,"?",n,".width|0:","(",r,".",ae,"-",i,")"),s=e.def('"height" in ',n,"?",n,".height|0:","(",r,".",se,"-",o,")");return Me.optional(function(){t.assert(e,a+">=0&&"+s+">=0","invalid "+c)}),[i,o,a,s]}),I&&(t.thisDep=t.thisDep||I.thisDep,t.contextDep=t.contextDep||I.contextDep,t.propDep=t.propDep||I.propDep),t):I?new Yt(I.thisDep,I.contextDep,I.propDep,function(t,e){t=t.shared.context;return[0,0,e.def(t,".",ae),e.def(t,".",se)]}):null}function vt(t){var e=z[t];e&&(G[t]=e)}return ft=gt,t=(dt=pt).proc("draw",1),Ut(dt,t),Rt(dt,t,ft.context),Bt(dt,t,ft.framebuffer),Nt(dt,t,ft),Ft(dt,t,ft.state),Wt(dt,t,ft,!1,!0),u=ft.shader.progVar.append(dt,t),t(dt.shared.gl,".useProgram(",u,".program);"),ft.shader.program?Gt(dt,t,ft,ft.shader.program):(t(dt.shared.vao,".setVAO(null);"),s=dt.global.def("{}"),c=t.def(u,".id"),f=t.def(s,"[",c,"]"),t(dt.cond(f).then(f,".call(this,a0);").else(f,"=",s,"[",c,"]=",dt.link(function(t){return zt(Gt,dt,ft,t,1)}),"(",u,");",f,".call(this,a0);"))),0<Object.keys(ft.state).length&&t(dt.shared.current,".dirty=true;"),lt=gt,i=(ut=pt).proc("scope",3),ut.batchId="a2",ht=ut.shared,d=ht.current,Rt(ut,i,lt.context),lt.framebuffer&&lt.framebuffer.append(ut,i),ye(Object.keys(lt.state)).forEach(function(n){var t=lt.state[n].append(ut,i);Xt(t)?t.forEach(function(t,e){i.set(ut.next[n],"["+e+"]",t)}):i.set(ht.next,"."+n,t)}),Wt(ut,i,lt,!0,!0),[ee,ie,re,oe,ne].forEach(function(t){var e=lt.draw[t];e&&i.set(ht.draw,"."+t,""+e.append(ut,i))}),Object.keys(lt.uniforms).forEach(function(t){var e=lt.uniforms[t].append(ut,i);Array.isArray(e)&&(e="["+e.join()+"]"),i.set(ht.uniforms,"["+Ct.id(t)+"]",e)}),Object.keys(lt.attributes).forEach(function(t){var e=lt.attributes[t].append(ut,i),n=ut.scopeAttrib(t);Object.keys(new Tt).forEach(function(t){i.set(n,"."+t,e[t])})}),lt.scopeVAO&&i.set(ht.vao,".targetVAO",lt.scopeVAO.append(ut,i)),Ot(Jt),Ot(te),0<Object.keys(lt.state).length&&(i(d,".dirty=true;"),i.exit(d,".dirty=true;")),i("a1(",ut.shared.context,",a0,",ut.batchId,");"),n=gt,r=(e=pt).proc("batch",2),e.batchId="0",Ut(e,r),s=!(ct=!1),Object.keys(n.context).forEach(function(t){ct=ct||n.context[t].propDep}),ct||(Rt(e,r,n.context),s=!1),c=n.framebuffer,u=!1,c?(c.propDep?ct=u=!0:c.contextDep&&ct&&(u=!0),u||Bt(e,r,c)):Bt(e,r,null),n.state.viewport&&n.state.viewport.propDep&&(ct=!0),Nt(e,r,n),Ft(e,r,n.state,function(t){return!bt(t)}),n.profile&&bt(n.profile)||Wt(e,r,n,!1,"a1"),n.contextDep=ct,n.needsContext=s,n.needsFramebuffer=u,(c=n.shader.progVar).contextDep&&ct||c.propDep?$t(e,r,n,null):(s=c.append(e,r),r(e.shared.gl,".useProgram(",s,".program);"),n.shader.program?$t(e,r,n,n.shader.program):(r(e.shared.vao,".setVAO(null);"),u=e.global.def("{}"),c=r.def(s,".id"),f=r.def(u,"[",c,"]"),r(e.cond(f).then(f,".call(this,a0,a1);").else(f,"=",u,"[",c,"]=",e.link(function(t){return zt($t,e,n,t,2)}),"(",s,");",f,".call(this,a0,a1);")))),0<Object.keys(n.state).length&&r(e.shared.current,".dirty=true;"),Ee(pt.compile(),{destroy:function(){gt.shader.program.destroy()}});function bt(t){return t.contextDep&&ct||t.propDep}function Ot(t){var e=lt.shader[t];e&&i.set(ht.shader,"."+t,e.append(ut,i))}}}}function Je(t,c){if(!c.ext_disjoint_timer_query)return null;var u=[],l=[];function i(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var h=[],d=[];function n(t,e,n){var r=h.pop()||new i;r.startQueryIndex=t,r.endQueryIndex=e,r.sum=0,r.stats=n,d.push(r)}var f=[],p=[];return{beginQuery:function(t){var e=u.pop()||c.ext_disjoint_timer_query.createQueryEXT();c.ext_disjoint_timer_query.beginQueryEXT(35007,e),l.push(e),n(l.length-1,l.length,t)},endQuery:function(){c.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:n,update:function(){var t=l.length;if(0!==t){p.length=Math.max(p.length,t+1),f.length=Math.max(f.length,t+1),f[0]=0;for(var e=p[0]=0,n=0,r=0;r<l.length;++r){var i=l[r];c.ext_disjoint_timer_query.getQueryObjectEXT(i,34919)?(e+=c.ext_disjoint_timer_query.getQueryObjectEXT(i,34918),u.push(i)):l[n++]=i,f[r+1]=e,p[r+1]=n}for(l.length=n,r=n=0;r<d.length;++r){var o=d[r],a=o.startQueryIndex,s=o.endQueryIndex,a=(o.sum+=f[s]-f[a],p[a]),s=p[s];s===a?(o.stats.gpuTime+=o.sum/1e6,h.push(o)):(o.startQueryIndex=a,o.endQueryIndex=s,d[n++]=o)}d.length=n}},getNumPendingQueries:function(){return l.length},clear:function(){u.push.apply(u,l);for(var t=0;t<u.length;t++)c.ext_disjoint_timer_query.deleteQueryEXT(u[t]);l.length=0,u.length=0},restore:function(){l.length=0,u.length=0}}}function tn(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}return function(t){t=(t=t)||{},pt={},mt=[],n=[],ut="undefined"==typeof window?1:window.devicePixelRatio,lt=!1,dt=function(t){t&&Me.raise(t)},ht=function(){},"string"==typeof t?(Me("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),e=document.querySelector(t),Me(e,"invalid query string for element")):"object"==typeof t?"string"==typeof t.nodeName&&"function"==typeof t.appendChild&&"function"==typeof t.getBoundingClientRect?e=t:"function"==typeof t.drawArrays||"function"==typeof t.drawElements?a=(o=t).canvas:(Me.constructor(t),"gl"in t?o=t.gl:"canvas"in t?a=De(t.canvas):"container"in t&&(_t=De(t.container)),"attributes"in t&&(pt=t.attributes,Me.type(pt,"object","invalid context attributes")),"extensions"in t&&(mt=je(t.extensions)),"optionalExtensions"in t&&(n=je(t.optionalExtensions)),"onDone"in t&&(Me.type(t.onDone,"function","invalid or missing onDone callback"),dt=t.onDone),"profile"in t&&(lt=!!t.profile),"pixelRatio"in t&&(ut=+t.pixelRatio,Me(0<ut,"invalid pixel ratio"))):Me.raise("invalid arguments to regl"),e&&("canvas"===e.nodeName.toLowerCase()?a=e:_t=e),o||(a||(Me("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments"),h=_t||document.body,d=ut,p=document.createElement("canvas"),Ee(p.style,{border:0,margin:0,padding:0,top:0,left:0}),h.appendChild(p),h===document.body&&(p.style.position="absolute",Ee(h.style,{margin:0,padding:0})),h!==document.body&&"function"==typeof ResizeObserver?(f=new ResizeObserver(function(){setTimeout(_)})).observe(h):window.addEventListener("resize",_,!1),_(),a=(t={canvas:p,onDestroy:function(){f?f.disconnect():window.removeEventListener("resize",_),h.removeChild(p)}}).canvas,ht=t.onDestroy),void 0===pt.premultipliedAlpha&&(pt.premultipliedAlpha=!0),c=a,l=pt,o=y("webgl")||y("experimental-webgl")||y("webgl-experimental"));var c,l,h,d,f,p,e=o?{gl:o,canvas:a,container:_t,extensions:mt,optionalExtensions:n,pixelRatio:ut,profile:lt,onDone:dt,onDestroy:ht}:(ht(),dt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null);function y(t){try{return c.getContext(t,l)}catch(t){return null}}function _(){var t,e=window.innerWidth,n=window.innerHeight;h!==document.body&&(e=(t=h.getBoundingClientRect()).right-t.left,n=t.bottom-t.top),p.width=d*e,p.height=d*n,Ee(p.style,{width:e+"px",height:n+"px"})}if(!e)return null;var i=e.gl,t=i.getContextAttributes(),m=i.isContextLost(),v=function(n,t){var r={};function e(t){Me.type(t,"string","extension name must be string");var e,t=t.toLowerCase();try{e=r[t]=n.getExtension(t)}catch(t){}return!!e}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!e(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(e),{extensions:r,restore:function(){Object.keys(r).forEach(function(t){if(r[t]&&!e(t))throw new Error("(regl): error restoring extension "+t)})}}}(i,e);if(!v)return null;b={"":0},O=[""];var b,O,r,x,E,w,M,P,C,A,S,j,D,T,u,I,k,L,R,B,N,F,g,U,W,z,G,$,K,V,X,Y,H,q,Z,Q,J,tt,et,nt,rt,it,ot,at,st,n,ct,ut,lt,ht,dt,ft,pt={id:function(t){var e;return b[t]||(e=b[t]=O.length,O.push(t),e)},str:function(t){return O[t]}},o={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},a=v.extensions,gt=Je(0,a),yt=Se(),_t=i.drawingBufferWidth,mt=i.drawingBufferHeight,vt={tick:0,time:0,viewportWidth:_t,viewportHeight:mt,framebufferWidth:_t,framebufferHeight:mt,drawingBufferWidth:_t,drawingBufferHeight:mt,pixelRatio:e.pixelRatio},bt=(n=i,ut=1,(ct=a).ext_texture_filter_anisotropic&&(ut=n.getParameter(34047)),ht=lt=1,ct.webgl_draw_buffers&&(lt=n.getParameter(34852),ht=n.getParameter(36063)),(dt=!!ct.oes_texture_float)&&(xe=n.createTexture(),n.bindTexture(3553,xe),n.texImage2D(3553,0,6408,1,1,0,6408,5126,null),ft=n.createFramebuffer(),n.bindFramebuffer(36160,ft),n.framebufferTexture2D(36160,36064,3553,xe,0),n.bindTexture(3553,null),36053!==n.checkFramebufferStatus(36160)?dt=!1:(n.viewport(0,0,1,1),n.clearColor(1,0,0,1),n.clear(16384),St=Pe.allocType(5126,4),n.readPixels(0,0,1,1,6408,5126,St),dt=!n.getError()&&(n.deleteFramebuffer(ft),n.deleteTexture(xe),1===St[0]),Pe.freeType(St))),ft=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xe=n.createTexture(),St=Pe.allocType(5121,36),n.activeTexture(33984),n.bindTexture(34067,xe),n.texImage2D(34069,0,6408,3,3,0,6408,5121,St),Pe.freeType(St),n.bindTexture(34067,null),n.deleteTexture(xe),ft=!n.getError()),{colorBits:[n.getParameter(3410),n.getParameter(3411),n.getParameter(3412),n.getParameter(3413)],depthBits:n.getParameter(3414),stencilBits:n.getParameter(3415),subpixelBits:n.getParameter(3408),extensions:Object.keys(ct).filter(function(t){return!!ct[t]}),maxAnisotropic:ut,maxDrawbuffers:lt,maxColorAttachments:ht,pointSizeDims:n.getParameter(33901),lineWidthDims:n.getParameter(33902),maxViewportDims:n.getParameter(3386),maxCombinedTextureUnits:n.getParameter(35661),maxCubeMapSize:n.getParameter(34076),maxRenderbufferSize:n.getParameter(34024),maxTextureUnits:n.getParameter(34930),maxTextureSize:n.getParameter(3379),maxAttributes:n.getParameter(34921),maxVertexUniforms:n.getParameter(36347),maxVertexTextureUnits:n.getParameter(35660),maxVaryingVectors:n.getParameter(36348),maxFragmentUniforms:n.getParameter(36349),glsl:n.getParameter(35724),renderer:n.getParameter(7937),vendor:n.getParameter(7936),version:n.getParameter(7938),readFloat:dt,npotTextureCube:ft}),Ot=(nt=i,rt=o,it=e,ot=0,at={},oe.prototype.bind=function(){nt.bindBuffer(this.type,this.buffer)},oe.prototype.destroy=function(){ce(this)},st=[],it.profile&&(rt.getTotalBufferSize=function(){var e=0;return Object.keys(at).forEach(function(t){e+=at[t].stats.size}),e}),{create:function(t,e,n,a){rt.bufferCount++;var c=new oe(e);function u(t){var e=35044,n=null,r=0,i=0,o=1;return Array.isArray(t)||we(t)||Te(t)||t instanceof ArrayBuffer?n=t:"number"==typeof t?r=0|t:t&&(Me.type(t,"object","buffer arguments must be an object, a number or an array"),"data"in t&&(Me(null===n||Array.isArray(n)||we(n)||Te(n),"invalid data for buffer"),n=t.data),"usage"in t&&(Me.parameter(t.usage,Le,"invalid buffer usage"),e=Le[t.usage]),"type"in t&&(Me.parameter(t.type,ke,"invalid buffer type"),i=ke[t.type]),"dimension"in t&&(Me.type(t.dimension,"number","invalid dimension"),o=0|t.dimension),"length"in t&&(Me.nni(r,"buffer length must be a nonnegative integer"),r=0|t.length)),c.bind(),n?se(c,n,e,i,o,a):(r&&nt.bufferData(c.type,r,e),c.dtype=i||5121,c.usage=e,c.dimension=o,c.byteLength=r),it.profile&&(c.stats.size=c.byteLength*Ne[c.dtype]),u}function l(t,e){Me(e+t.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+e+" to a buffer of size "+c.byteLength),nt.bufferSubData(c.type,e,t)}return at[c.id]=c,n||u(t),u._reglType="buffer",u._buffer=c,u.subdata=function(t,e){var n,r,i,o,a,s,e=0|(e||0);return c.bind(),we(t)||t instanceof ArrayBuffer?l(t,e):Array.isArray(t)?0<t.length&&("number"==typeof t[0]?(Ue(s=Pe.allocType(c.dtype,t.length),t),l(s,e),Pe.freeType(s)):Array.isArray(t[0])||we(t[0])?(a=Be(t),l(s=Re(t,a,c.dtype),e),Pe.freeType(s)):Me.raise("invalid buffer data")):Te(t)?(a=t.shape,s=t.stride,o=i=r=n=0,1===a.length?(n=a[0],r=1,i=s[0],o=0):2===a.length?(n=a[0],r=a[1],i=s[0],o=s[1]):Me.raise("invalid shape"),a=Array.isArray(t.data)?c.dtype:Fe(t.data),We(s=Pe.allocType(a,n*r),t.data,n,r,i,o,t.offset),l(s,e),Pe.freeType(s)):Me.raise("invalid data for buffer subdata"),u},it.profile&&(u.stats=c.stats),u.destroy=function(){ce(c)},u},createStream:function(t,e){var n=st.pop();return(n=n||new oe(t)).bind(),se(n,e,35040,0,1,!1),n},destroyStream:function(t){st.push(t)},clear:function(){Ie(at).forEach(ce),st.forEach(ce)},getBuffer:function(t){return t&&t._buffer instanceof oe?t._buffer:null},restore:function(){Ie(at).forEach(function(t){t.buffer=nt.createBuffer(),nt.bindBuffer(t.type,t.buffer),nt.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})},_initBuffer:se}),xt=function(o,h,s,d){for(var f=bt.maxAttributes,i=new Array(f),t=0;t<f;++t)i[t]=new qe;var c=0,e={},a={Record:qe,scope:{},state:i,currentVAO:null,targetVAO:null,restore:n()?function(){n()&&Ie(e).forEach(function(t){t.refresh()})}:function(){},createVAO:function(t){var u=new r;function l(t){Me(Array.isArray(t),"arguments to vertex array constructor must be an array"),Me(t.length<f,"too many attributes"),Me(0<t.length,"must specify at least one attribute");var e={},n=u.attributes;n.length=t.length;for(var r=0;r<t.length;++r){var i,o=t[r],a=n[r]=new qe,s=o.data||o;Array.isArray(s)||we(s)||Te(s)?(u.buffers[r]&&(i=u.buffers[r],we(s)&&i._buffer.byteLength>=s.byteLength?i.subdata(s):(i.destroy(),u.buffers[r]=null)),u.buffers[r]||(i=u.buffers[r]=d.create(o,34962,!1,!0)),a.buffer=d.getBuffer(i),a.size=0|a.buffer.dimension,a.normalized=!1,a.type=a.buffer.dtype,a.offset=0,a.stride=0,a.divisor=0,a.state=1,e[r]=1):d.getBuffer(o)?(a.buffer=d.getBuffer(o),a.size=0|a.buffer.dimension,a.normalized=!1,a.type=a.buffer.dtype,a.offset=0,a.stride=0,a.divisor=0,a.state=1):d.getBuffer(o.buffer)?(a.buffer=d.getBuffer(o.buffer),a.size=0|(+o.size||a.buffer.dimension),a.normalized=!!o.normalized||!1,"type"in o?(Me.parameter(o.type,ke,"invalid buffer type"),a.type=ke[o.type]):a.type=a.buffer.dtype,a.offset=0|(o.offset||0),a.stride=0|(o.stride||0),a.divisor=0|(o.divisor||0),a.state=1,Me(1<=a.size&&a.size<=4,"size must be between 1 and 4"),Me(0<=a.offset,"invalid offset"),Me(0<=a.stride&&a.stride<=255,"stride must be between 0 and 255"),Me(0<=a.divisor,"divisor must be positive"),Me(!a.divisor||!!h.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in o?(Me(0<r,"first attribute must not be a constant"),a.x=+o.x||0,a.y=+o.y||0,a.z=+o.z||0,a.w=+o.w||0,a.state=2):Me(!1,"invalid attribute spec for location "+r)}for(var c=0;c<u.buffers.length;++c)!e[c]&&u.buffers[c]&&(u.buffers[c].destroy(),u.buffers[c]=null);return u.refresh(),l}return s.vaoCount+=1,l.destroy=function(){for(var t=0;t<u.buffers.length;++t)u.buffers[t]&&u.buffers[t].destroy();u.buffers.length=0,u.destroy()},l._vao=u,l._reglType="vao",l(t)},getVAO:function(t){return"function"==typeof t&&t._vao?t._vao:null},destroyBuffer:function(t){for(var e=0;e<i.length;++e){var n=i[e];n.buffer===t&&(o.disableVertexAttribArray(e),n.buffer=null)}},setVAO:n()?function(t){var e;t!==a.currentVAO&&(e=n(),t?e.bindVertexArrayOES(t.vao):e.bindVertexArrayOES(null),a.currentVAO=t)}:function(t){if(t!==a.currentVAO){if(t)t.bindAttrs();else for(var e=u(),n=0;n<i.length;++n){var r=i[n];r.buffer?(o.enableVertexAttribArray(n),o.vertexAttribPointer(n,r.size,r.type,r.normalized,r.stride,r.offfset),e&&r.divisor&&e.vertexAttribDivisorANGLE(n,r.divisor)):(o.disableVertexAttribArray(n),o.vertexAttrib4f(n,r.x,r.y,r.z,r.w))}a.currentVAO=t}},clear:n()?function(){Ie(e).forEach(function(t){t.destroy()})}:function(){}};function n(){return h.oes_vertex_array_object}function u(){return h.angle_instanced_arrays}function r(){this.id=++c,this.attributes=[];var t=n();this.vao=t?t.createVertexArrayOES():null,(e[this.id]=this).buffers=[]}return r.prototype.bindAttrs=function(){for(var t=u(),e=this.attributes,n=0;n<e.length;++n){var r=e[n];r.buffer?(o.enableVertexAttribArray(n),o.bindBuffer(34962,r.buffer.buffer),o.vertexAttribPointer(n,r.size,r.type,r.normalized,r.stride,r.offset),t&&r.divisor&&t.vertexAttribDivisorANGLE(n,r.divisor)):(o.disableVertexAttribArray(n),o.vertexAttrib4f(n,r.x,r.y,r.z,r.w))}for(var i=e.length;i<f;++i)o.disableVertexAttribArray(i)},r.prototype.refresh=function(){var t=n();t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),a.currentVAO=this)},r.prototype.destroy=function(){var t;this.vao&&(t=n(),this===a.currentVAO&&(a.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null),e[this.id]&&(delete e[this.id],--s.vaoCount)},a}(i,a,o,Ot),Et=(Y=i,q=Ot,Z=o,Q={},J=0,tt={uint8:5121,uint16:5123},(H=a).oes_element_index_uint&&(tt.uint32=5125),ne.prototype.bind=function(){this.buffer.bind()},et=[],{create:function(t,e){var s=q.create(null,34963,!0),c=new ne(s._buffer);function u(t){var e,n,r,i,o,a;return t?"number"==typeof t?(s(t),c.primType=4,c.vertCount=0|t,c.type=5121):(e=null,n=35044,i=r=-1,a=o=0,Array.isArray(t)||we(t)||Te(t)?e=t:(Me.type(t,"object","invalid arguments for elements"),"data"in t&&(e=t.data,Me(Array.isArray(e)||we(e)||Te(e),"invalid data for element buffer")),"usage"in t&&(Me.parameter(t.usage,Le,"invalid element buffer usage"),n=Le[t.usage]),"primitive"in t&&(Me.parameter(t.primitive,ze,"invalid element buffer primitive"),r=ze[t.primitive]),"count"in t&&(Me("number"==typeof t.count&&0<=t.count,"invalid vertex count for elements"),i=0|t.count),"type"in t&&(Me.parameter(t.type,tt,"invalid buffer type"),a=tt[t.type]),"length"in t?o=0|t.length:(o=i,5123===a||5122===a?o*=2:5125!==a&&5124!==a||(o*=4))),re(c,e,n,r,i,o,a)):(s(),c.primType=4,c.vertCount=0,c.type=5121),u}return Z.elementsCount++,u(t),u._reglType="elements",u._elements=c,u.subdata=function(t,e){return s.subdata(t,e),u},u.destroy=function(){ie(c)},u},createStream:function(t){var e=et.pop();return re(e=e||new ne(q.create(null,34963,!0,!1)._buffer),t,35040,-1,-1,0,0),e},destroyStream:function(t){et.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof ne?t._elements:null},clear:function(){Ie(Q).forEach(ie)}}),wt=(g=i,U=pt,W=o,G={},$={},K={},V=[],X=0,(z=e).profile&&(W.getMaxUniformsCount=function(){var e=0;return V.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},W.getMaxAttributesCount=function(){var e=0;return V.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=g.deleteShader.bind(g);Ie(G).forEach(t),G={},Ie($).forEach(t),$={},V.forEach(function(t){g.deleteProgram(t.program)}),V.length=0,K={},W.shaderCount=0},program:function(t,e,n,r){Me.command(0<=t,"missing vertex shader",n),Me.command(0<=e,"missing fragment shader",n);var i=K[e],o=(i=i||(K[e]={}))[t];if(o&&(o.refCount++,!r))return o;var a=new te(e,t);return W.shaderCount++,ee(a,n,r),o||(i[t]=a),V.push(a),Ee(a,{destroy:function(){var t;a.refCount--,a.refCount<=0&&(g.deleteProgram(a.program),t=V.indexOf(a),V.splice(t,1),W.shaderCount--),i[a.vertId].refCount<=0&&(g.deleteShader($[a.vertId]),delete $[a.vertId],delete K[a.fragId][a.vertId]),Object.keys(K[a.fragId]).length||(g.deleteShader(G[a.fragId]),delete G[a.fragId],delete K[a.fragId])}})},restore:function(){G={},$={};for(var t=0;t<V.length;++t)ee(V[t],null,V[t].attributes.map(function(t){return[t.location,t.name]}))},shader:Jt,frag:-1,vert:-1}),Mt=Ge(i,a,bt,function(){At.procs.poll()},vt,o,e),Pt=(u=i,I=bt,k=o,L=e,R={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041},(mt=a).ext_srgb&&(R.srgba=35907),mt.ext_color_buffer_half_float&&(R.rgba16f=34842,R.rgb16f=34843),mt.webgl_color_buffer_float&&(R.rgba32f=34836),B=[],Object.keys(R).forEach(function(t){var e=R[t];B[e]=t}),N=0,F={},Ht.prototype.decRef=function(){--this.refCount<=0&&qt(this)},L.profile&&(k.getTotalRenderbufferSize=function(){var e=0;return Object.keys(F).forEach(function(t){e+=F[t].stats.size}),e}),{create:function(t,e){var s=new Ht(u.createRenderbuffer());function c(t,e){var n,r,i=0,o=0,a=32854;if("object"==typeof t&&t?("shape"in(n=t)?(r=n.shape,Me(Array.isArray(r)&&2<=r.length,"invalid renderbuffer shape"),i=0|r[0],o=0|r[1]):("radius"in n&&(i=o=0|n.radius),"width"in n&&(i=0|n.width),"height"in n&&(o=0|n.height)),"format"in n&&(Me.parameter(n.format,R,"invalid renderbuffer format"),a=R[n.format])):"number"==typeof t?(i=0|t,o="number"==typeof e?0|e:i):t?Me.raise("invalid arguments to renderbuffer constructor"):i=o=1,Me(0<i&&0<o&&i<=I.maxRenderbufferSize&&o<=I.maxRenderbufferSize,"invalid renderbuffer size"),i!==s.width||o!==s.height||a!==s.format)return c.width=s.width=i,c.height=s.height=o,s.format=a,u.bindRenderbuffer(36161,s.renderbuffer),u.renderbufferStorage(36161,a,i,o),Me(0===u.getError(),"invalid render buffer format"),L.profile&&(s.stats.size=$e(s.format,s.width,s.height)),c.format=B[s.format],c}return F[s.id]=s,k.renderbufferCount++,c(t,e),c.resize=function(t,e){t|=0,e=0|e||t;return t===s.width&&e===s.height||(Me(0<t&&0<e&&t<=I.maxRenderbufferSize&&e<=I.maxRenderbufferSize,"invalid renderbuffer size"),c.width=s.width=t,c.height=s.height=e,u.bindRenderbuffer(36161,s.renderbuffer),u.renderbufferStorage(36161,s.format,t,e),Me(0===u.getError(),"invalid render buffer format"),L.profile&&(s.stats.size=$e(s.format,s.width,s.height))),c},c._reglType="renderbuffer",c._renderbuffer=s,L.profile&&(c.stats=s.stats),c.destroy=function(){s.decRef()},c},clear:function(){Ie(F).forEach(qt)},restore:function(){Ie(F).forEach(function(t){t.renderbuffer=u.createRenderbuffer(),u.bindRenderbuffer(36161,t.renderbuffer),u.renderbufferStorage(36161,t.format,t.width,t.height)}),u.bindRenderbuffer(36161,null)}}),Ct=(r=i,E=bt,w=Mt,M=Pt,P=o,C={cur:null,next:null,dirty:!1,setFBO:null},A=["rgba"],S=["rgba4","rgb565","rgb5 a1"],(x=a).ext_srgb&&S.push("srgba"),x.ext_color_buffer_half_float&&S.push("rgba16f","rgb16f"),x.webgl_color_buffer_float&&S.push("rgba32f"),j=["uint8"],x.oes_texture_half_float&&j.push("half float","float16"),x.oes_texture_float&&j.push("float","float32"),D=0,T={},Ee(C,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){t=t._framebuffer;if(t instanceof $t)return t}return null},create:Yt,createCube:function(t){var f=Array(6);function p(t){Me(f.indexOf(C.next)<0,"can not update framebuffer which is currently in use");var e,n={color:null},r=0,i=null,l="rgba",h="uint8",o=1;if("number"==typeof t?r=0|t:t?(Me.type(t,"object","invalid arguments for framebuffer"),"shape"in(t=t)?(e=t.shape,Me(Array.isArray(e)&&2<=e.length,"invalid shape for framebuffer"),Me(e[0]===e[1],"cube framebuffer must be square"),r=e[0]):("radius"in t&&(r=0|t.radius),"width"in t?(r=0|t.width,"height"in t&&Me(t.height===r,"must be square")):"height"in t&&(r=0|t.height)),("color"in t||"colors"in t)&&(i=t.color||t.colors,Array.isArray(i)&&Me(1===i.length||x.webgl_draw_buffers,"multiple render targets not supported")),i||("colorCount"in t&&(o=0|t.colorCount,Me(0<o,"invalid color buffer count")),"colorType"in t&&(Me.oneOf(t.colorType,j,"invalid color type"),h=t.colorType),"colorFormat"in t&&(l=t.colorFormat,Me.oneOf(t.colorFormat,A,"invalid color format for texture"))),"depth"in t&&(n.depth=t.depth),"stencil"in t&&(n.stencil=t.stencil),"depthStencil"in t&&(n.depthStencil=t.depthStencil)):r=1,i)if(Array.isArray(i))for(a=[],s=0;s<i.length;++s)a[s]=i[s];else a=[i];else for(var a=Array(o),d={radius:r,format:l,type:h},s=0;s<o;++s)a[s]=w.createCube(d);for(n.color=Array(a.length),s=0;s<a.length;++s){var c=a[s];Me("function"==typeof c&&"textureCube"===c._reglType,"invalid cube map"),r=r||c.width,Me(c.width===r&&c.height===r,"invalid cube map shape"),n.color[s]={target:34069,data:a[s]}}for(s=0;s<6;++s){for(var u=0;u<a.length;++u)n.color[u].target=34069+s;0<s&&(n.depth=f[0].depth,n.stencil=f[0].stencil,n.depthStencil=f[0].depthStencil),f[s]?f[s](n):f[s]=Yt(n)}return Ee(p,{width:r,height:r,color:a})}return p(t),Ee(p,{faces:f,resize:function(t){var e=0|t;if(Me(0<e&&e<=E.maxCubeMapSize,"invalid radius for cube fbo"),e===p.width)return p;for(var n=p.color,r=0;r<n.length;++r)n[r].resize(e);for(r=0;r<6;++r)f[r].resize(e);return p.width=p.height=e,p},_reglType:"framebufferCube",destroy:function(){f.forEach(function(t){t.destroy()})}})},clear:function(){Ie(T).forEach(Vt)},restore:function(){C.cur=null,C.next=null,C.dirty=!0,Ie(T).forEach(function(t){t.framebuffer=r.createFramebuffer(),Xt(t)})}})),At=Qe(i,pt,a,bt,Ot,Et,0,Ct,{},xt,wt,{elements:null,primitive:4,count:-1,offset:0,instances:-1},vt,gt,e),St=Ze(i,Ct,At.procs.poll,vt,t,a,bt),jt=At.next,Dt=i.canvas,s=[],Tt=[],It=[],kt=[e.onDestroy],Lt=null;function Rt(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var t=0,r=0;e?(t=e.width,r=e.height):n&&(t=n.width,r=n.height),this.width=t,this.height=r}function Bt(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function Nt(t,e,n){var r,i,o;t&&(t.texture?(r=t.texture._texture,o=Math.max(1,r.width),i=Math.max(1,r.height),Me(o===e&&i===n,"inconsistent width/height for supplied texture"),r.refCount+=1):(o=t.renderbuffer._renderbuffer,Me(o.width===e&&o.height===n,"inconsistent width/height for renderbuffer"),o.refCount+=1))}function Ft(t,e){e&&(e.texture?r.framebufferTexture2D(36160,t,e.target,e.texture._texture.texture,0):r.framebufferRenderbuffer(36160,t,36161,e.renderbuffer._renderbuffer.renderbuffer))}function Ut(t){var e=3553,n=null,r=null,i=t,t=("object"==typeof t&&(i=t.data,"target"in t&&(e=0|t.target)),Me.type(i,"function","invalid attachment data"),i._reglType);return"texture2d"===t?(n=i,Me(3553===e)):"textureCube"===t?(n=i,Me(34069<=e&&e<34075,"invalid cube map target")):"renderbuffer"===t?(r=i,e=36161):Me.raise("invalid regl object for attachment"),new Rt(e,n,r)}function Wt(t,e,n,r,i){if(n)return(n=w.create2D({width:t,height:e,format:r,type:i}))._texture.refCount=0,new Rt(3553,n,null);i=M.create({width:t,height:e,format:r});return i._renderbuffer.refCount=0,new Rt(36161,null,i)}function zt(t){return t&&(t.texture||t.renderbuffer)}function Gt(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}function $t(){this.id=D++,(T[this.id]=this).framebuffer=r.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Kt(t){t.colorAttachments.forEach(Bt),Bt(t.depthAttachment),Bt(t.stencilAttachment),Bt(t.depthStencilAttachment)}function Vt(t){var e=t.framebuffer;Me(e,"must not double destroy framebuffer"),r.deleteFramebuffer(e),t.framebuffer=null,P.framebufferCount--,delete T[t.id]}function Xt(t){r.bindFramebuffer(36160,t.framebuffer);for(var e=t.colorAttachments,n=0;n<e.length;++n)Ft(36064+n,e[n]);for(n=e.length;n<E.maxColorAttachments;++n)r.framebufferTexture2D(36160,36064+n,3553,null,0);r.framebufferTexture2D(36160,33306,3553,null,0),r.framebufferTexture2D(36160,36096,3553,null,0),r.framebufferTexture2D(36160,36128,3553,null,0),Ft(36096,t.depthAttachment),Ft(36128,t.stencilAttachment),Ft(33306,t.depthStencilAttachment);t=r.checkFramebufferStatus(36160);r.isContextLost()||36053===t||Me.raise("framebuffer configuration not supported, status = "+He[t]),r.bindFramebuffer(36160,C.next?C.next.framebuffer:null),C.cur=C.next,r.getError()}function Yt(t,e){var b=new $t;function O(t,e){Me(C.next!==b,"can not update framebuffer which is currently in use");var n=0,r=0,i=!0,l=!0,o=null,h=!0,d="rgba",a="uint8",f=1,p=null,g=null,y=null,_=!1,s=("number"==typeof t?(n=0|t,r=0|e||n):t?(Me.type(t,"object","invalid arguments for framebuffer"),"shape"in(e=t)?(t=e.shape,Me(Array.isArray(t)&&2<=t.length,"invalid shape for framebuffer"),n=t[0],r=t[1]):("radius"in e&&(n=r=e.radius),"width"in e&&(n=e.width),"height"in e&&(r=e.height)),("color"in e||"colors"in e)&&(o=e.color||e.colors,Array.isArray(o)&&Me(1===o.length||x.webgl_draw_buffers,"multiple render targets not supported")),o||("colorCount"in e&&(f=0|e.colorCount,Me(0<f,"invalid color buffer count")),"colorTexture"in e&&(h=!!e.colorTexture,d="rgba4"),"colorType"in e&&(a=e.colorType,h?(Me(x.oes_texture_float||!("float"===a||"float32"===a),"you must enable OES_texture_float in order to use floating point framebuffer objects"),Me(x.oes_texture_half_float||!("half float"===a||"float16"===a),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===a||"float16"===a?(Me(x.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),d="rgba16f"):"float"!==a&&"float32"!==a||(Me(x.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),d="rgba32f"),Me.oneOf(a,j,"invalid color type")),"colorFormat"in e&&(d=e.colorFormat,0<=A.indexOf(d)?h=!0:0<=S.indexOf(d)?h=!1:h?Me.oneOf(e.colorFormat,A,"invalid color format for texture"):Me.oneOf(e.colorFormat,S,"invalid color format for renderbuffer"))),("depthTexture"in e||"depthStencilTexture"in e)&&(_=!(!e.depthTexture&&!e.depthStencilTexture),Me(!_||x.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in e&&("boolean"==typeof e.depth?i=e.depth:(p=e.depth,l=!1)),"stencil"in e&&("boolean"==typeof e.stencil?l=e.stencil:(g=e.stencil,i=!1)),"depthStencil"in e&&("boolean"==typeof e.depthStencil?i=l=e.depthStencil:(y=e.depthStencil,l=i=!1))):n=r=1,null),t=null,e=null,c=null;if(Array.isArray(o))s=o.map(Ut);else if(o)s=[Ut(o)];else for(s=new Array(f),u=0;u<f;++u)s[u]=Wt(n,r,h,d,a);Me(x.webgl_draw_buffers||s.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),Me(s.length<=E.maxColorAttachments,"too many color attachments, not supported"),n=n||s[0].width,r=r||s[0].height,p?t=Ut(p):i&&!l&&(t=Wt(n,r,_,"depth","uint32")),g?e=Ut(g):l&&!i&&(e=Wt(n,r,!1,"stencil","uint8")),y?c=Ut(y):!p&&!g&&l&&i&&(c=Wt(n,r,_,"depth stencil","depth stencil")),Me(!!p+!!g+!!y<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");for(var m,v=null,u=0;u<s.length;++u)Nt(s[u],n,r),Me(!s[u]||s[u].texture&&0<=Ke.indexOf(s[u].texture._texture.format)||s[u].renderbuffer&&0<=Ye.indexOf(s[u].renderbuffer._renderbuffer.format),"framebuffer color attachment "+u+" is invalid"),s[u]&&s[u].texture&&(m=Ve[s[u].texture._texture.format]*Xe[s[u].texture._texture.type],null===v?v=m:Me(v===m,"all color attachments much have the same number of bits per pixel."));return Nt(t,n,r),Me(!t||t.texture&&6402===t.texture._texture.format||t.renderbuffer&&33189===t.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),Nt(e,n,r),Me(!e||e.renderbuffer&&36168===e.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),Nt(c,n,r),Me(!c||c.texture&&34041===c.texture._texture.format||c.renderbuffer&&34041===c.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),Kt(b),b.width=n,b.height=r,b.colorAttachments=s,b.depthAttachment=t,b.stencilAttachment=e,b.depthStencilAttachment=c,O.color=s.map(zt),O.depth=zt(t),O.stencil=zt(e),O.depthStencil=zt(c),O.width=b.width,O.height=b.height,Xt(b),O}return P.framebufferCount++,O(t,e),Ee(O,{resize:function(t,e){Me(C.next!==b,"can not resize a framebuffer which is currently in use");var n=Math.max(0|t,1),r=Math.max(0|e||n,1);if(n===b.width&&r===b.height)return O;for(var i=b.colorAttachments,o=0;o<i.length;++o)Gt(i[o],n,r);return Gt(b.depthAttachment,n,r),Gt(b.stencilAttachment,n,r),Gt(b.depthStencilAttachment,n,r),b.width=O.width=n,b.height=O.height=r,Xt(b),O},_reglType:"framebuffer",_framebuffer:b,destroy:function(){Vt(b),Kt(b)},use:function(t){C.setFBO({framebuffer:O},t)}})}function Ht(t){this.id=N++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.width=0,this.height=0,L.profile&&(this.stats={size:0})}function qt(t){var e=t.renderbuffer;Me(e,"must not double destroy renderbuffer"),u.bindRenderbuffer(36161,null),u.deleteRenderbuffer(e),t.renderbuffer=null,t.refCount=0,delete F[t.id],k.renderbufferCount--}function Zt(t,e,n,r){this.name=t,this.id=e,this.location=n,this.info=r}function Qt(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return t[n].location=e.location,0;t.push(e)}function Jt(t,e,n){var r,i=35632===t?G:$,o=i[e];return o||(r=U.str(e),o=g.createShader(t),g.shaderSource(o,r),g.compileShader(o),Me.shaderError(g,o,r,t,n),i[e]=o),o}function te(t,e){this.id=X++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,z.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ee(t,l,e){var n,h=Jt(35632,t.fragId),d=Jt(35633,t.vertId),r=t.program=g.createProgram();if(g.attachShader(r,h),g.attachShader(r,d),e)for(s=0;s<e.length;++s){var i=e[s];g.bindAttribLocation(r,i[0],i[1])}g.linkProgram(r),Me.linkError(g,r,U.str(t.fragId),U.str(t.vertId),l);for(var o=g.getProgramParameter(r,35718),a=(z.profile&&(t.stats.uniformsCount=o),t.uniforms),s=0;s<o;++s)if(n=g.getActiveUniform(r,s))if(1<n.size)for(var c=0;c<n.size;++c){var u=n.name.replace("[0]","["+c+"]");Qt(a,new Zt(u,U.id(u),g.getUniformLocation(r,u),n))}else Qt(a,new Zt(n.name,U.id(n.name),g.getUniformLocation(r,n.name),n));var f=g.getProgramParameter(r,35721),p=(z.profile&&(t.stats.attributesCount=f),t.attributes);for(s=0;s<f;++s)(n=g.getActiveAttrib(r,s))&&Qt(p,new Zt(n.name,U.id(n.name),g.getAttribLocation(r,n.name),n))}function ne(t){this.id=J++,(Q[this.id]=this).buffer=t,this.primType=4,this.vertCount=0,this.type=0}function re(t,e,n,r,i,o,a){var s;if(t.buffer.bind(),e?((c=a)||we(e)&&(!Te(e)||we(e.data))||(c=H.oes_element_index_uint?5125:5123),q._initBuffer(t.buffer,e,n,c,3)):(Y.bufferData(34963,o,n),t.buffer.dtype=s||5121,t.buffer.usage=n,t.buffer.dimension=3,t.buffer.byteLength=o),!(s=a)){switch(t.buffer.dtype){case 5121:case 5120:s=5121;break;case 5123:case 5122:s=5123;break;case 5125:case 5124:s=5125;break;default:Me.raise("unsupported type for element array")}t.buffer.dtype=s}t.type=s,Me(5125!==s||!!H.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var e=i,c=(e<0&&(e=t.buffer.byteLength,5123===s?e>>=1:5125===s&&(e>>=2)),t.vertCount=e,r);r<0&&(c=4,1===(n=t.buffer.dimension)&&(c=0),2===n&&(c=1),3===n&&(c=4)),t.primType=c}function ie(t){Z.elementsCount--,Me(null!==t.buffer,"must not double destroy elements"),delete Q[t.id],t.buffer.destroy(),t.buffer=null}function oe(t){this.id=ot++,this.buffer=nt.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,it.profile&&(this.stats={size:0})}function ae(t,e,n){t.byteLength=e.byteLength,nt.bufferData(t.type,e,n)}function se(t,e,n,r,l,i){var o,a,s,h,d,c;if(t.usage=n,Array.isArray(e)){if(t.dtype=r||5126,0<e.length)if(Array.isArray(e[0])){for(var u=Be(e),f=1,p=1;p<u.length;++p)f*=u[p];t.dimension=f,ae(t,o=Re(e,u,t.dtype),n),i?t.persistentData=o:Pe.freeType(o)}else"number"==typeof e[0]?(t.dimension=l,Ue(c=Pe.allocType(t.dtype,e.length),e),ae(t,c,n),i?t.persistentData=c:Pe.freeType(c)):we(e[0])?(t.dimension=e[0].length,t.dtype=r||Fe(e[0])||5126,ae(t,o=Re(e,[e.length,e[0].length],t.dtype),n),i?t.persistentData=o:Pe.freeType(o)):Me.raise("invalid buffer data")}else we(e)?(t.dtype=r||Fe(e),t.dimension=l,ae(t,e,n),i&&(t.persistentData=new Uint8Array(new Uint8Array(e.buffer)))):Te(e)?(u=e.shape,c=e.stride,o=e.offset,d=h=s=a=0,1===u.length?(a=u[0],s=1,h=c[0],d=0):2===u.length?(a=u[0],s=u[1],h=c[0],d=c[1]):Me.raise("invalid shape"),t.dtype=r||Fe(e.data)||5126,t.dimension=s,We(c=Pe.allocType(t.dtype,a*s),e.data,a,s,h,d,o),ae(t,c,n),i?t.persistentData=c:Pe.freeType(c)):e instanceof ArrayBuffer?(t.dtype=5121,t.dimension=l,ae(t,e,n),i&&(t.persistentData=new Uint8Array(new Uint8Array(e)))):Me.raise("invalid buffer data")}function ce(t){rt.bufferCount--,xt.destroyBuffer(t);var e=t.buffer;Me(e,"buffer must not be deleted already"),nt.deleteBuffer(e),t.buffer=null,delete at[t.id]}function ue(){if(0===s.length)return gt&&gt.update(),void(Lt=null);Lt=Ae.next(ue),ve();for(var t=s.length-1;0<=t;--t){var e=s[t];e&&e(vt,null,0)}i.flush(),gt&&gt.update()}function le(){!Lt&&0<s.length&&(Lt=Ae.next(ue))}function he(){Lt&&(Ae.cancel(ue),Lt=null)}function de(t){t.preventDefault(),m=!0,he(),Tt.forEach(function(t){t()})}function fe(t){i.getError(),m=!1,v.restore(),wt.restore(),Ot.restore(),Mt.restore(),Pt.restore(),Ct.restore(),xt.restore(),gt&&gt.restore(),At.procs.refresh(),le(),It.forEach(function(t){t()})}function pe(t){function e(r,i){var o={},a={};return Object.keys(r).forEach(function(t){var e=r[t];if(Ce.isDynamic(e))a[t]=Ce.unbox(e,t);else{if(i&&Array.isArray(e))for(var n=0;n<e.length;++n)if(Ce.isDynamic(e[n]))return void(a[t]=Ce.unbox(e,t));o[t]=e}}),{dynamic:a,static:o}}Me(!!t,"invalid args to regl({...})"),Me.type(t,"object","invalid args to regl({...})");var r,n=e(t.context||{},!0),l=e(t.uniforms||{},!0),h=e(t.attributes||{},!1),t=e((delete(r=Ee({},t=t)).uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),u("blend"),u("depth"),u("cull"),u("stencil"),u("polygonOffset"),u("scissor"),u("sample"),"vao"in t&&(r.vao=t.vao),r),!1),i={gpuTime:0,cpuTime:0,count:0},o=At.compile(t,h,l,n,i),d=o.draw,a=o.batch,s=o.scope,c=[];function u(e){var n;e in r&&(n=r[e],delete r[e],Object.keys(n).forEach(function(t){r[e+"."+t]=n[t]}))}return Ee(function(t,e){var n;if(m&&Me.raise("context lost"),"function"==typeof t)return s.call(this,null,t,0);if("function"!=typeof e)return"number"!=typeof t?Array.isArray(t)?t.length?a.call(this,t,t.length):void 0:d.call(this,t):0<t?a.call(this,function(t){for(;c.length<t;)c.push(null);return c}(0|t),0|t):void 0;if("number"==typeof t)for(n=0;n<t;++n)s.call(this,null,e,n);else{if(!Array.isArray(t))return s.call(this,t,e,0);for(n=0;n<t.length;++n)s.call(this,t[n],e,n)}},{stats:i,destroy:function(){o.destroy()}})}Dt&&(Dt.addEventListener("webglcontextlost",de,!1),Dt.addEventListener("webglcontextrestored",fe,!1));var ge=Ct.setFBO=pe({framebuffer:Ce.define.call(null,1,"framebuffer")});function ye(t,e){var n=0,r=(At.procs.poll(),e.color);r&&(i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in e&&(i.clearDepth(+e.depth),n|=256),"stencil"in e&&(i.clearStencil(0|e.stencil),n|=1024),Me(!!n,"called regl.clear with no buffer specified"),i.clear(n)}function _e(e){return Me.type(e,"function","regl.frame() callback must be a function"),s.push(e),le(),{cancel:function(){var t=tn(s,e);Me(0<=t,"cannot cancel a frame twice"),s[t]=function t(){var e=tn(s,t);s[e]=s[s.length-1],--s.length,s.length<=0&&he()}}}}function me(){var t=jt.viewport,e=jt.scissor_box;t[0]=t[1]=e[0]=e[1]=0,vt.viewportWidth=vt.framebufferWidth=vt.drawingBufferWidth=t[2]=e[2]=i.drawingBufferWidth,vt.viewportHeight=vt.framebufferHeight=vt.drawingBufferHeight=t[3]=e[3]=i.drawingBufferHeight}function ve(){vt.tick+=1,vt.time=Oe(),me(),At.procs.poll()}function be(){Mt.refresh(),me(),At.procs.refresh(),gt&&gt.update()}function Oe(){return(Se()-yt)/1e3}be();var xe=Ee(pe,{clear:function(t){if(Me("object"==typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;e<6;++e)ge(Ee({framebuffer:t.framebuffer.faces[e]},t),ye);else ge(t,ye);else ye(0,t)},prop:Ce.define.bind(null,1),context:Ce.define.bind(null,2),this:Ce.define.bind(null,3),draw:pe({}),buffer:function(t){return Ot.create(t,34962,!1,!1)},elements:function(t){return Et.create(t,!1)},texture:Mt.create2D,cube:Mt.createCube,renderbuffer:Pt.create,framebuffer:Ct.create,framebufferCube:Ct.createCube,vao:xt.createVAO,attributes:t,frame:_e,on:function(t,e){var n;switch(Me.type(e,"function","listener callback must be a function"),t){case"frame":return _e(e);case"lost":n=Tt;break;case"restore":n=It;break;case"destroy":n=kt;break;default:Me.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}},limits:bt,hasExtension:function(t){return 0<=bt.extensions.indexOf(t.toLowerCase())},read:St,destroy:function(){s.length=0,he(),Dt&&(Dt.removeEventListener("webglcontextlost",de),Dt.removeEventListener("webglcontextrestored",fe)),wt.clear(),Ct.clear(),Pt.clear(),Mt.clear(),Et.clear(),Ot.clear(),xt.clear(),gt&&gt.clear(),kt.forEach(function(t){t()})},_gl:i,_refresh:be,poll:function(){ve(),gt&&gt.update()},now:Oe,stats:o});return e.onDone(null,xe),xe}}()},function(l,t,e){"use strict";e.r(t);var n=e(242),r=(e.d(t,"AntdLine",function(){return n.a}),e(269)),i=(e.d(t,"AntdArea",function(){return r.a}),e(270)),o=(e.d(t,"AntdBar",function(){return i.a}),e(271)),a=(e.d(t,"AntdColumn",function(){return o.a}),e(272)),s=(e.d(t,"AntdPie",function(){return a.a}),e(273)),c=(e.d(t,"AntdScatter",function(){return s.a}),e(274)),u=(e.d(t,"AntdStock",function(){return c.a}),e(275)),h=(e.d(t,"AntdRadar",function(){return u.a}),e(276)),d=(e.d(t,"AntdSunburst",function(){return h.a}),e(277)),f=(e.d(t,"AntdChord",function(){return d.a}),e(278)),p=(e.d(t,"AntdWordCloud",function(){return f.a}),e(279)),g=(e.d(t,"AntdSankey",function(){return p.a}),e(280)),y=(e.d(t,"AntdRose",function(){return g.a}),e(281)),_=(e.d(t,"AntdTreemap",function(){return y.a}),e(282)),m=(e.d(t,"AntdHistogram",function(){return _.a}),e(283)),v=(e.d(t,"AntdBox",function(){return m.a}),e(284));e.d(t,"AntdDecompositionTree",function(){return v.a})},,,,,,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeSensor=e.getSensor=void 0;var r,i=(r=n(409))&&r.__esModule?r:{default:r},o=n(410),a=n(251),s={};e.getSensor=function(t){var e=t.getAttribute(a.SizeSensorId);if(e&&s[e])return s[e];e=(0,i.default)(),t.setAttribute(a.SizeSensorId,e),t=(0,o.createSensor)(t);return s[e]=t},e.removeSensor=function(t){var e=t.element.getAttribute(a.SizeSensorId);t.element.removeAttribute(a.SizeSensorId),t.destroy(),e&&s[e]&&delete s[e]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=1;e.default=function(){return"".concat(r++)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r=n(411),n=n(412),n=("undefined"!=typeof ResizeObserver?n:r).createSensor;e.createSensor=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r,a=(r=n(250))&&r.__esModule?r:{default:r},s=n(251);e.createSensor=function(n){function e(){r&&r.parentNode&&(r.contentDocument&&r.contentDocument.defaultView.removeEventListener("resize",o),r.parentNode.removeChild(r),r=void 0,i=[])}var r=void 0,i=[],o=(0,a.default)(function(){i.forEach(function(t){t(n)})});return{element:n,bind:function(t){var e;r||("static"===getComputedStyle(n).position&&(n.style.position="relative"),(e=document.createElement("object")).onload=function(){e.contentDocument.defaultView.addEventListener("resize",o),o()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",s.SensorClassName),e.setAttribute("tabindex",s.SensorTabIndex),e.type="text/html",n.appendChild(e),e.data="about:blank",r=e),-1===i.indexOf(t)&&i.push(t)},destroy:e,unbind:function(t){t=i.indexOf(t);-1!==t&&i.splice(t,1),0===i.length&&r&&e()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var a=(n=n(250))&&n.__esModule?n:{default:n};e.createSensor=function(n){function e(){r.disconnect(),i=[],r=void 0}var r=void 0,i=[],o=(0,a.default)(function(){i.forEach(function(t){t(n)})});return{element:n,bind:function(t){var e;r||((e=new ResizeObserver(o)).observe(n),o(),r=e),-1===i.indexOf(t)&&i.push(t)},destroy:e,unbind:function(t){t=i.indexOf(t);-1!==t&&i.splice(t,1),0===i.length&&r&&e()}}}},function(t,e,n){"use strict";var r=t.exports;t.exports.isNumber=function(t){return"number"==typeof t},t.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},t.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},t.exports.findMinMulti=function(t){for(var e=r.findMin(t[0]),n=1;n<t.length;n++)e=Math.min(e,r.findMin(t[n]));return e},t.exports.findMaxMulti=function(t){for(var e=r.findMax(t[0]),n=1;n<t.length;n++)e=Math.max(e,r.findMax(t[n]));return e},t.exports.inside=function(t,e,n){return t<=n&&n<=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pageRankAsync=e.minimumSpanningTreeAsync=e.louvainAsync=e.labelPropagationAsync=e.getOutDegreeAsync=e.getNeighborsAsync=e.getInDegreeAsync=e.getDegreeAsync=e.getAdjMatrixAsync=e.floydWarshallAsync=e.findShortestPathAsync=e.findAllPathAsync=e.dijkstraAsync=e.detectCycleAsync=e.detectAllUndirectedCycleAsync=e.detectAllDirectedCycleAsync=e.detectAllCyclesAsync=e.connectedComponentAsync=e.GADDIAsync=void 0;var r,s=(r=n(415))&&r.__esModule?r:{default:r},c=n(228);e.getAdjMatrixAsync=function(t,e){return(0,s.default)(c.ALGORITHM.getAdjMatrix).apply(void 0,[t,e])},e.connectedComponentAsync=function(t,e){return(0,s.default)(c.ALGORITHM.connectedComponent).apply(void 0,[t,e])},e.getDegreeAsync=function(t){return(0,s.default)(c.ALGORITHM.getDegree)(t)},e.getInDegreeAsync=function(t,e){return(0,s.default)(c.ALGORITHM.getInDegree)(t,e)},e.getOutDegreeAsync=function(t,e){return(0,s.default)(c.ALGORITHM.getOutDegree)(t,e)},e.detectCycleAsync=function(t){return(0,s.default)(c.ALGORITHM.detectCycle)(t)},e.detectAllCyclesAsync=function(t){return(0,s.default)(c.ALGORITHM.detectAllCycles)(t)},e.detectAllDirectedCycleAsync=function(t){return(0,s.default)(c.ALGORITHM.detectAllDirectedCycle)(t)},e.detectAllUndirectedCycleAsync=function(t){return(0,s.default)(c.ALGORITHM.detectAllUndirectedCycle)(t)},e.dijkstraAsync=function(t,e,n,r){return(0,s.default)(c.ALGORITHM.dijkstra).apply(void 0,[t,e,n,r])},e.findAllPathAsync=function(t,e,n,r){return(0,s.default)(c.ALGORITHM.findAllPath).apply(void 0,[t,e,n,r])},e.findShortestPathAsync=function(t,e,n,r,i){return(0,s.default)(c.ALGORITHM.findShortestPath).apply(void 0,[t,e,n,r,i])},e.floydWarshallAsync=function(t,e){return(0,s.default)(c.ALGORITHM.floydWarshall).apply(void 0,[t,e])},e.labelPropagationAsync=function(t,e,n,r){return void 0===r&&(r=1e3),(0,s.default)(c.ALGORITHM.labelPropagation)(t,e,n,r)},e.louvainAsync=function(t,e,n,r){return(0,s.default)(c.ALGORITHM.louvain)(t,e,n,r)},e.minimumSpanningTreeAsync=function(t,e,n){return(0,s.default)(c.ALGORITHM.minimumSpanningTree).apply(void 0,[t,e,n])},e.pageRankAsync=function(t,e,n){return(0,s.default)(c.ALGORITHM.pageRank).apply(void 0,[t,e,n])},e.getNeighborsAsync=function(t,e,n){return(0,s.default)(c.ALGORITHM.getNeighbors).apply(void 0,[t,e,n])},e.GADDIAsync=function(t,e,n,r,i,o,a){return void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),(0,s.default)(c.ALGORITHM.GADDI).apply(void 0,[t,e,n,r,i,o,a])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(228),s=(n=n(416))&&n.__esModule?n:{default:n};e.default=function(o){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Promise(function(n,r){var i=new s.default;i.postMessage({_algorithmType:o,data:t}),i.onmessage=function(t){var t=t.data,e=t.data,t=t._algorithmType;a.MESSAGE.SUCCESS===t?n(e):r(),i.terminate()}})}}},function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s(void 0);if(e&&e.has(t))return e.get(t);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]);return i.default=t,e&&e.set(t,i),i}(n(417)),i=n(228);function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}var o="undefined"!=typeof self?self:{};o.onmessage=function(t){var t=t.data,e=t._algorithmType,t=t.data;e&&("function"!=typeof r[e]?o.postMessage({_algorithmType:i.MESSAGE.FAILURE}):(e=r[e].apply(r,t),o.postMessage({_algorithmType:i.MESSAGE.SUCCESS,data:e})))},e.default=null},function(l,t,e){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDI",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"breadthFirstSearch",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"connectedComponent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"depthFirstSearch",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"detectCycle",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"dijkstra",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"findAllPath",{enumerable:!0,get:function(){return s.findAllPath}}),Object.defineProperty(t,"findShortestPath",{enumerable:!0,get:function(){return s.findShortestPath}}),Object.defineProperty(t,"floydWarshall",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"getAdjMatrix",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"getDegree",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getInDegree",{enumerable:!0,get:function(){return o.getInDegree}}),Object.defineProperty(t,"getNeighbors",{enumerable:!0,get:function(){return b.getNeighbors}}),Object.defineProperty(t,"getOutDegree",{enumerable:!0,get:function(){return o.getOutDegree}}),Object.defineProperty(t,"labelPropagation",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"louvain",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"minimumSpanningTree",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"pageRank",{enumerable:!0,get:function(){return m.default}});var n=u(e(164)),r=u(e(418)),i=u(e(285)),o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=c(void 0);if(e&&e.has(t))return e.get(t);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]);return i.default=t,e&&e.set(t,i),i}(e(286)),h=u(e(421)),d=u(e(287)),f=u(e(229)),s=e(422),p=u(e(288)),g=u(e(423)),y=u(e(424)),_=u(e(429)),m=u(e(432)),v=u(e(433)),b=e(93);function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}function u(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,c=(r=n(419))&&r.__esModule?r:{default:r},u=n(93);e.default=function(t,e,n,r){void 0===r&&(r=!0);var i=function(t){function e(){}var n,r=t=void 0===t?{}:t;n={};return r.allowTraversal=t.allowTraversal||function(t){t=t.next;return!n[t]&&(n[t]=!0)},r.enter=t.enter||e,r.leave=t.leave||e,r}(n),o=new c.default,n=t.edges,a=void 0===n?[]:n;o.enqueue(e);for(var s="";!o.isEmpty();)!function(){var e=o.dequeue();i.enter({current:e,previous:s}),(0,u.getNeighbors)(e,a,r?"target":void 0).forEach(function(t){i.allowTraversal({previous:s,current:e,next:t})&&o.enqueue(t)}),i.leave({current:e,previous:s}),s=e}()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=(n=n(420))&&n.__esModule?n:{default:n};function i(){this.linkedList=new r.default}i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(t){this.linkedList.append(t)},i.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},i.prototype.toString=function(t){return this.linkedList.toString(t)},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.LinkedListNode=void 0;function r(t,e){return t===e}o.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)};var i=o;function o(t,e){void 0===e&&(e=null),this.value=t,this.next=e}function a(t){void 0===t&&(t=r),this.head=null,this.tail=null,this.compare=t}e.LinkedListNode=i,a.prototype.prepend=function(t){t=new i(t,this.head);return this.head=t,this.tail||(this.tail=t),this},a.prototype.append=function(t){t=new i(t);return this.head?this.tail.next=t:this.head=t,this.tail=t,this},a.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},a.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,e=t.callback,r=void 0===e?void 0:e;if(!this.head)return null;for(var i=this.head;i;){if(r&&r(i.value))return i;if(void 0!==n&&this.compare(i.value,n))return i;i=i.next}return null},a.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},a.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},a.prototype.fromArray=function(t){var e=this;return t.forEach(function(t){return e.append(t)}),this},a.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},a.prototype.reverse=function(){for(var t,e=this.head,n=null;e;)t=e.next,e.next=n,n=e,e=t;this.tail=this.head,this.head=n},a.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},e.default=a},function(r,t,e){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAllUndirectedCycle=t.detectAllDirectedCycle=t.detectAllCycles=t.default=void 0;var n,u=(n=e(287))&&n.__esModule?n:{default:n},O=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s(void 0);if(e&&e.has(t))return e.get(t);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]);return i.default=t,e&&e.set(t,i),i}(e(285)),x=e(93);function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function i(s,c,u){var n;void 0===u&&(u=!0);for(var l=[],t=0,r=(0,O.default)(s,!1);t<r.length;t++){var e=r[t];if(e.length)for(var e=e[0],i=e.id,g=[e],h=((n={})[i]=e,n),d=((e={})[i]=new Set,e);0<g.length;)for(var f=g.pop(),p=f.id,y=(0,x.getNeighbors)(p,s.edges),o=0;o<y.length;o+=1)!function(t){var e=y[t],t=s.nodes.find(function(t){return t.id===e});if(e===p)l.push(((n={})[e]=f,n));else if(e in d){if(!d[p].has(t)){for(var n=!0,r=[t,f],i=h[p];d[e].size&&!d[e].has(i)&&(r.push(i),i!==h[i.id]);)i=h[i.id];if(r.push(i),c&&u?(n=!1,-1<r.findIndex(function(t){return-1<c.indexOf(t.id)})&&(n=!0)):c&&!u&&-1<r.findIndex(function(t){return-1<c.indexOf(t.id)})&&(n=!1),n){for(var o={},a=1;a<r.length;a+=1)o[r[a-1].id]=r[a];r.length&&(o[r[r.length-1].id]=r[0]),l.push(o)}d[e].add(f)}}else h[e]=f,g.push(t),d[e]=new Set([f])}(o)}return l}function o(v,f,p){void 0===p&&(p=!0);for(var d=[],g=new Set,y=[],b=[],_={},m={},r=function l(t,e,h){var n=!1;if(f&&!1===p&&-1<f.indexOf(t.id))return n;d.push(t),g.add(t);for(var r=h[t.id],i=0;i<r.length;i+=1)if((u=_[r[i]])===e){for(var o={},a=1;a<d.length;a+=1)o[d[a-1].id]=d[a];d.length&&(o[d[d.length-1].id]=d[0]),b.push(o),n=!0}else g.has(u)||l(u,e,h)&&(n=!0);if(n)for(var s=[t];0<s.length;){var c=s.pop();g.has(c)&&(g.delete(c),y[c.id].forEach(function(t){s.push(t)}),y[c.id].clear())}else for(i=0;i<r.length;i+=1){var u=_[r[i]];y[u.id].has(t)||y[u.id].add(t)}return d.pop(),n},i=v.nodes,n=void 0===i?[]:i,t=0;t<n.length;t+=1){var o=n[t],a=o.id;m[a]=t,_[t]=o}if(f&&p)for(t=0;t<f.length;t++)!function(t){var e=f[t];m[n[t].id]=m[e],m[e]=0,_[0]=n.find(function(t){return t.id===e}),_[m[n[t].id]]=n[t]}(t);for(var s=0;s<n.length;){var e=n.filter(function(t){return m[t.id]>=s}),e=(0,O.detectStrongConnectComponents)({nodes:e,edges:v.edges}).filter(function(t){return 1<t.length});if(0===e.length)break;var e=function(t){for(var e,n=1/0,r=0;r<t.length;r+=1)for(var l=t[r],i=0;i<l.length;i++){var h=m[l[i].id];h<n&&(n=h,e=r)}for(var o=t[e],a=[],r=0;r<o.length;r+=1){var s=o[r];a[s.id]=[];for(var c=0,d=(0,x.getNeighbors)(s.id,v.edges,"target").filter(function(t){return-1<o.map(function(t){return t.id}).indexOf(t)});c<d.length;c++){var u=d[c];u!==s.id||!1===p&&-1<f.indexOf(s.id)?a[s.id].push(m[u]):b.push(((u={})[s.id]=s,u))}}return{component:o,adjList:a,minIdx:n}}(e),c=e.minIdx,u=e.adjList,e=e.component;if(!(1<e.length))break;e.forEach(function(t){y[t.id]=new Set});e=_[c];if(f&&p&&-1===f.indexOf(e.id))return b;r(e,e,u),s=c+1}return b}t.detectAllUndirectedCycle=i,t.detectAllDirectedCycle=o,t.detectAllCycles=function(t,e,n,r){return(e?o:i)(t,n,r=void 0===r?!0:r)};t.default=function(t){var i=null,e=t.nodes,o={},a={},s={},n={};(void 0===e?[]:e).forEach(function(t){a[t.id]=t});for(var r={enter:function(t){var e=t.current,t=t.previous;if(s[e]){i={};for(var n=e,r=t;r!==e;)i[n]=r,r=o[n=r];i[n]=r}else s[e]=e,delete a[e],o[e]=t},leave:function(t){t=t.current;n[t]=t,delete s[t]},allowTraversal:function(t){t=t.next;return!i&&!n[t]}};Object.keys(a).length;){var c=Object.keys(a)[0];(0,u.default)(t,c,r)}return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findShortestPath=e.findAllPath=void 0;var r,o=(r=n(229))&&r.__esModule?r:{default:r},d=n(93);e.findShortestPath=function(t,e,n,r,i){t=(0,o.default)(t,e,r,i),e=t.length,r=t.path,i=t.allPath;return{length:e[n],path:r[n],allPath:i[n]}},e.findAllPath=function(t,e,n,l){if(e===n)return[[e]];var t=t.edges,r=void 0===t?[]:t,i=[e],o=((t={})[e]=!0,t),a=[],h=[],s=l?(0,d.getNeighbors)(e,r,"target"):(0,d.getNeighbors)(e,r);for(a.push(s);0<i.length&&0<a.length;){var c,u=a[a.length-1];u.length?((u=u.shift())&&(i.push(u),o[u]=!0,s=l?(0,d.getNeighbors)(u,r,"target"):(0,d.getNeighbors)(u,r),a.push(s.filter(function(t){return!o[t]}))),i[i.length-1]===n&&(u=i.map(function(t){return t}),h.push(u),c=i.pop(),o[c]=!1,a.pop())):(c=i.pop(),o[c]=!1,a.pop())}return h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,p=(r=n(164))&&r.__esModule?r:{default:r},g=n(93);e.default=function(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i="weight"),void 0===n&&(n=1e3);var r=t.nodes,o=void 0===r?[]:r,r=t.edges,r=void 0===r?[]:r,s={},c={},t=(o.forEach(function(t,e){var n=(0,g.uniqueId)();t.clusterId=n,s[n]={id:n,nodes:[t]},c[t.id]={node:t,idx:e}}),(0,p.default)(t,e)),l=[],u={};t.forEach(function(t,e){var n=0,r=o[e].id;u[r]={},t.forEach(function(t,e){t&&(n+=t,e=o[e].id,u[r][e]=t)}),l.push(n)});for(var h=0;h<n&&"break"!==function(){var a=!1;if(o.forEach(function(n){var t,e,r={},i=(Object.keys(u[n.id]).forEach(function(t){var e=u[n.id][t],t=c[t].node.clusterId;r[t]||(r[t]=0),r[t]+=e}),-1/0),o=[];Object.keys(r).forEach(function(t){i<r[t]?(i=r[t],o=[t]):i===r[t]&&o.push(t)}),1===o.length&&o[0]===n.clusterId||(0<=(t=o.indexOf(n.clusterId))&&o.splice(t,1),o&&o.length&&(a=!0,e=(t=s[n.clusterId]).nodes.indexOf(n),t.nodes.splice(e,1),t=Math.floor(Math.random()*o.length),(e=s[o[t]]).nodes.push(n),n.clusterId=e.id))}),!a)return"break";h++}(););Object.keys(s).forEach(function(t){var e=s[t];e.nodes&&e.nodes.length||delete s[t]});var d=[],a={},f=(r.forEach(function(t){var e=t.source,n=t.target,t=t[i]||1,e=c[e].node.clusterId,n=c[n].node.clusterId,r="".concat(e,"---").concat(n);a[r]?(a[r].weight+=t,a[r].count++):(a[r]=r={source:e,target:n,weight:t,count:1},d.push(r))}),[]);return Object.keys(s).forEach(function(t){f.push(s[t])}),{clusters:f,clusterEdges:d}}},function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var T=e(0),I=n(e(164)),g=n(e(289)),k=e(425),L=e(427);function n(t){return t&&t.__esModule?t:{default:t}}function R(t,e,n,r){for(var i=e.length,o=2*r,a=0,s=0;s<i;s++)for(var c=t[s].clusterId,u=0;u<i;u++)c===t[u].clusterId&&(a+=(e[s][u]||0)-(n[s]||0)*(n[u]||0)/o);return a*(1/o)}function B(t,e){for(var n=(t=void 0===t?[]:t).length,r=new g.default([]),i=0;i<n;i++)r=r.add(new g.default(e[i]));for(var o=r.avg(n),a=(o.normalize(),0),i=0;i<n;i++)a+=(l=new g.default(e[i])).squareEuclideanDistance(o);var s=[];for(t.forEach(function(){s.push([])}),i=0;i<n;i++)for(var c,l=new g.default(e[i]),u=t[i].clusterInertial=0;u<n;u++)i!==u?(c=new g.default(e[u]),s[i][u]=l.squareEuclideanDistance(c),t[i].clusterInertial+=s[i][u]):s[i][u]=0;var h=0,d=2*n*a;for(i=0;i<n;i++)for(var f=t[i].clusterId,u=0;u<n;u++){var p=t[u].clusterId;i!==u&&f===p&&(h+=t[i].clusterInertial*t[u].clusterInertial/Math.pow(d,2)-s[i][u]/d)}return Number(h.toFixed(4))}t.default=function(n,o,p,a,g,s,c,u,y){void 0===o&&(o=!1),void 0===p&&(p="weight"),void 0===a&&(a=1e-4),void 0===g&&(g=!1),void 0===s&&(s=void 0),void 0===c&&(c=[]),void 0===u&&(u=["id"]),void 0===y&&(y=1);var l,t=n.nodes,i=void 0===t?[]:t,t=n.edges,b=void 0===t?[]:t,_=[],h=(g&&(i.forEach(function(t,e){t.properties=t.properties||{},t.originIndex=e}),l=[],i.every(function(t){return t.hasOwnProperty("nodeType")})&&(l=Array.from(new Set(i.map(function(t){return t.nodeType}))),i.forEach(function(e){e.properties.nodeType=l.findIndex(function(t){return t===e.nodeType})})),t=(0,k.getAllProperties)(i,s),_=(0,L.oneHot)(t,c,u)),1),m={},v={},O=(i.forEach(function(t,e){var n=String(h++);t.clusterId=n,m[n]={id:n,nodes:[t]},v[t.id]={node:t,idx:e}}),(0,I.default)(n,o)),x=[],E={},w=0;O.forEach(function(t,e){var n=0,r=i[e].id;E[r]={},t.forEach(function(t,e){t&&(n+=t,e=i[e].id,E[r][e]=t,w+=t)}),x.push(n)}),w/=2;for(var e,d=1/0,f=0,M=[],r={};;){e=g&&i.every(function(t){return t.hasOwnProperty("properties")})?R(i,O,x,w)+B(i,_)*y:R(i,O,x,w),0===f&&(d=e,M=i,r=m);var P=0<e&&d<e&&e-d<a;if(d<e&&(M=i.map(function(t){return{node:t,clusterId:t.clusterId}}),r=(0,T.clone)(m),d=e),P||100<f)break;f++,Object.keys(m).forEach(function(r){var i=0;b.forEach(function(t){var e=t.source,n=t.target,e=v[e].node.clusterId,n=v[n].node.clusterId;(e===r&&n!==r||n===r&&e!==r)&&(i+=t[p]||1)}),m[r].sumTot=i}),i.forEach(function(o,a){var s,r,i,c,t=m[o.clusterId],u=0,l=x[a]/(2*w),n=0,e=t.nodes,h=(e.forEach(function(t){t=v[t.id].idx;n+=O[a][t]||0}),n-t.sumTot*l),e=e.filter(function(t){return t.id!==o.id}),d=[],f=(e.forEach(function(t,e){d[e]=_[t.originIndex]}),B(e,_)*y),e=E[o.id];Object.keys(e).forEach(function(t){var e,n,r,i,t=v[t].node.clusterId;t===o.clusterId||(i=(t=m[t]).nodes)&&i.length&&(e=0,i.forEach(function(t){t=v[t.id].idx;e+=O[a][t]||0}),n=e-t.sumTot*l,i=i.concat([o]),r=[],i.forEach(function(t,e){r[e]=_[t.originIndex]}),i=B(i,_)*y,u<(i=g?n+i-(h+f):n-h)&&(u=i,s=t))}),0<u&&(s.nodes.push(o),r=o.clusterId,o.clusterId=s.id,e=t.nodes.indexOf(o),t.nodes.splice(e,1),c=i=0,b.forEach(function(t){var e=t.source,n=t.target,e=v[e].node.clusterId,n=v[n].node.clusterId;(e===s.id&&n!==s.id||n===s.id&&e!==s.id)&&(i+=t[p]||1),(e===r&&n!==r||n===r&&e!==r)&&(c+=t[p]||1)}),s.sumTot=i,t.sumTot=c)})}var C={},A=0,S=(Object.keys(r).forEach(function(t){var e,n=r[t];n.nodes&&n.nodes.length?(e=String(A+1))!==t&&(n.id=e,n.nodes=n.nodes.map(function(t){return{id:t.id,clusterId:e}}),r[e]=n,C[t]=e,delete r[t],A++):delete r[t]}),M.forEach(function(t){var e=t.node,t=t.clusterId;e.clusterId=t,e.clusterId&&C[e.clusterId]&&(e.clusterId=C[e.clusterId])}),[]),j={},D=(b.forEach(function(t){var e=t.source,n=t.target,t=t[p]||1,e=v[e].node.clusterId,n=v[n].node.clusterId,r="".concat(e,"---").concat(n);j[r]?(j[r].weight+=t,j[r].count++):(j[r]=r={source:e,target:n,weight:t,count:1},S.push(r))}),[]);return Object.keys(r).forEach(function(t){D.push(r[t])}),{clusters:D,clusterEdges:S}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPropertyWeight=e.getAllSortProperties=e.getAllProperties=e.default=void 0;function i(t,e){void 0===e&&(e=100);var n={};return(t=void 0===t?[]:t).forEach(function(e){e.properties&&Object.keys(e.properties).forEach(function(t){"id"===t||!"".concat(e.properties[t]).match(a.secondReg)&&!"".concat(e.properties[t]).match(a.dateReg)&&isNaN(Number(e.properties[t]))?n.hasOwnProperty(t)&&delete n[t]:n.hasOwnProperty(t)?n[t]+=1:n[t]=1})}),(t=Object.keys(n).sort(function(t,e){return n[e]-n[t]})).length<e?t:t.slice(0,e)}function r(t){for(var e=i(t),n=[],r=0;r<t.length;r++)n[r]=function(e,t){return t.map(function(t){if(e.hasOwnProperty(t)){if(!isNaN(Number(e[t])))return Number(e[t]);if(e[t].match(a.secondReg)||e[t].match(a.dateReg))return Number(Date.parse(new Date(e[t])))/1e3}return 0})}(t[r].properties,e);return n}function o(t,e){void 0===e&&(e=void 0);var n=[];return t.forEach(function(t){void 0===e&&n.push(t),void 0!==t[e]&&n.push(t[e])}),n}var a=n(426),n=(e.getAllSortProperties=i,e.getPropertyWeight=r,e.getAllProperties=o,{getAllSortProperties:i,getPropertyWeight:r,getAllProperties:o});e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.secondReg=e.dateReg=void 0,e.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,e.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneHot=e.getDistance=e.getAllKeyValueMap=e.default=void 0;function i(t,e,r){var n=[],n=null!=e&&e.length?e:(t.forEach(function(t){n=n.concat(Object.keys(t))}),(0,a.uniq)(n)),i={};return n.forEach(function(e){var n=[];t.forEach(function(t){void 0!==t[e]&&""!==t[e]&&n.push(t[e])}),!n.length||null!=r&&r.includes(e)||(i[e]=(0,a.uniq)(n))}),i}function r(t,e,n){var c=i(t,e,n),r=[];return Object.keys(c).length&&t.forEach(function(a,t){var e,s=[];1===Object.keys(c).length?(e=Object.keys(c)[0],c[e].every(function(t){return!isNaN(Number(t))})&&(s=[a[e]])):Object.keys(c).forEach(function(t){for(var e=a[t],n=c[t],r=n.findIndex(function(t){return e===t}),i=[],o=0;o<n.length;o++)o===r?i.push(1):i.push(0);s=s.concat(i)}),r[t]=s}),r}function o(t,e,n,r){var i=0;return i=(n=void 0===n?s.DistanceType.EuclideanDistance:n)===s.DistanceType.EuclideanDistance?new c.default(t).euclideanDistance(new c.default(e)):i}var a=n(0),s=n(428),c=(n=n(289))&&n.__esModule?n:{default:n},n=(e.getAllKeyValueMap=i,e.oneHot=r,e.getDistance=o,{getAllKeyValueMap:i,oneHot:r,getDistance:o});e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DistanceType=void 0,e.DistanceType=void 0,(e.DistanceType={}).EuclideanDistance="euclideanDistance"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=r(n(430)),l=r(n(431)),h=n(93);function r(t){return t&&t.__esModule?t:{default:t}}var i=function(t,e){var n=[],r=t.nodes,r=void 0===r?[]:r,t=t.edges,t=void 0===t?[]:t;if(0===r.length)return n;var i=t.map(function(t){return t});e&&i.sort(function(t,e){return t.weight-e.weight});for(var o=new u.default(r.map(function(t){return t.id}));0<i.length;){var a=i.shift(),s=a.source,c=a.target;o.connected(s,c)||(n.push(a),o.union(s,c))}return n};e.default=function(t,e,n){return n?{prim:function(t,n){var e=[],r=t.nodes,r=void 0===r?[]:r,t=t.edges,i=void 0===t?[]:t;if(0===r.length)return e;var t=r[0],o=new Set,a=(o.add(t),new l.default(function(t,e){return n?t.weight-e.weight:0}));for((0,h.getEdgesByNodeId)(t.id,i).forEach(function(t){a.insert(t)});!a.isEmpty();){var s=a.delMin(),c=s.source,u=s.target;o.has(c)&&o.has(u)||(e.push(s),o.has(c)||(o.add(c),(0,h.getEdgesByNodeId)(c,i).forEach(function(t){a.insert(t)})),o.has(u)||(o.add(u),(0,h.getEdgesByNodeId)(u,i).forEach(function(t){a.insert(t)})))}return e},kruskal:i}[n](t,e):i(t,e)}},function(t,e,n){"use strict";function r(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},r.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},r.prototype.connected=function(t,e){return this.find(t)===this.find(e)},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(t,e){return t-e}function i(t){this.compareFn=t=void 0===t?r:t,this.list=[]}i.prototype.getLeft=function(t){return 2*t+1},i.prototype.getRight=function(t){return 2*t+2},i.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return 0<this.list.length&&(this.list[0]=e,this.moveDown(0)),t},i.prototype.insert=function(t){return null!==t&&(this.list.push(t),t=this.list.length-1,this.moveUp(t),!0)},i.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&0<t&&0<this.compareFn(this.list[e],this.list[t]);){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},i.prototype.moveDown=function(t){var e=t,n=this.getLeft(t),r=this.getRight(t),i=this.list.length;null!==n&&n<i&&0<this.compareFn(this.list[e],this.list[n])?e=n:null!==r&&r<i&&0<this.compareFn(this.list[e],this.list[r])&&(e=r),t!==e&&(n=[this.list[e],this.list[t]],this.list[t]=n[0],this.list[e]=n[1],this.moveDown(e))},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,O=(r=n(286))&&r.__esModule?r:{default:r},x=n(93);e.default=function(l,h,d){"number"!=typeof h&&(h=1e-6),"number"!=typeof d&&(d=.85);for(var f=1,t=0,p=1e3,e=l.nodes,n=void 0===e?[]:e,e=l.edges,g=void 0===e?[]:e,r=n.length,i={},o={},a=0;a<r;++a)i[c=(s=n[a]).id]=1/r,o[c]=1/r;for(var s,y=(0,O.default)(l);0<p&&h<f;){for(a=t=0;a<r;++a){var c=(s=n[a]).id,u=0;if(0===y[s.id].inDegree)i[c]=0;else{for(var _=(0,x.getNeighbors)(c,g,"source"),m=0;m<_.length;++m){var v=_[m],b=y[v].outDegree;0<b&&(u+=o[v]/b)}i[c]=d*u,t+=i[c]}}for(t=(1-t)/r,a=f=0;a<r;++a)u=i[c=(s=n[a]).id]+t,f+=Math.abs(u-o[c]),o[c]=u;--p}return o}},function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var X=e(114),Y=n(e(288)),tt=n(e(434)),H=n(e(229)),a=e(93);function n(t){return t&&t.__esModule?t:{default:t}}function q(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach(function(t,e){i.push(it(o,t,e,n,r))}),i}function Z(t,n){var r={},i={};return t.forEach(function(t,e){r[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};e=t[n];i[e]||(i[e]=[]),i[e].push(t)}),{nodeMap:r,nodeLabelMap:i}}function et(t,n,r){var i={},o={};return t.forEach(function(t,e){i["".concat(a.uniqueId)]={idx:e,edge:t};e=t[n],o[e]||(o[e]=[]),o[e].push(t),e=r[t.source],e&&(e.degree++,e.outDegree++),e=r[t.target];e&&(e.degree++,e.inDegree++)}),{edgeMap:i,edgeLabelMap:o}}function nt(a,t,s){var c=t.length,u={};return t.forEach(function(t,e){for(var n,r,i=a[e].id,o=s?0:e+1;o<c;o++)e!==o&&(n=a[o].id,r=t[o],u["".concat(i,"-").concat(n)]=r,s||(u["".concat(n,"-").concat(i)]=r))}),u}function rt(t,e,n,r){var i,o=null===(i=t[e])||void 0===i?void 0:i.degree,a=null===(i=t[e])||void 0===i?void 0:i.inDegree,s=null===(i=t[e])||void 0===i?void 0:i.outDegree;return void 0===t[e]&&(s=a=o=1/0,r[e].forEach(function(t){var e=n[t.id].degree,e=(e<o&&(o=e),n[t.id].inDegree),e=(e<a&&(a=e),n[t.id].outDegree);e<s&&(s=e)}),t[e]={degree:o,inDegree:a,outDegree:s}),{minPatternNodeLabelDegree:o,minPatternNodeLabelInDegree:a,minPatternNodeLabelOutDegree:s}}var it=function(n,t,r,i,o){var a=[r],s=[],c={};return t.forEach(function(t,e){t<=o&&r!==e&&(a.push(e),s.push(n[e]),e=n[e][i],c[e]?(c[e].count++,c[e].dists.push(t)):c[e]={count:1,dists:[t]})}),Object.keys(c).forEach(function(t){c[t].dists=c[t].dists.sort(function(t,e){return t-e})}),{nodeIdx:r,nodeId:n[r].id,nodeIdxs:a,neighbors:s,neighborNum:a.length-1,nodeLabelCountMap:c}},Q=function(u,l,h,d){var f=h.nodes;return d=d||{},Object.keys(u).forEach(function(e){if(!d||!d[e]){d[e]={nodes:[],edges:[]};var t=u[e],n=null===(n=l[t.start])||void 0===n?void 0:n.nodeIdxs,t=null===(t=l[t.end])||void 0===t?void 0:t.nodeIdxs;if(n&&t){var r=new Set(t),i=n.filter(function(t){return r.has(t)});if(i&&i.length){for(var o={},a=i.length,s=0;s<a;s++){var c=f[i[s]];d[e].nodes.push(c),o[c.id]=!0}h.edges.forEach(function(t){o[t.source]&&o[t.target]&&d[e].edges.push(t)})}}}}),d},J=function(t,a,s,c){var e,u={},l=(t.nodes.forEach(function(t){u[t.id]=t}),0);return null===(e=null==a?void 0:a.edges)||void 0===e||!e.length||(null===(e=null==a?void 0:a.nodes)||void 0===e?void 0:e.length)<2?0:(t.edges.forEach(function(t){var e=u[t.source][s],n=u[t.target][s],r=null==a?void 0:a.nodes[0][s],i=null==a?void 0:a.nodes[1][s],o=null==a?void 0:a.edges[0][c];t[c]===o&&(e===r&&n===i||e===i&&n===r)&&l++}),l)};t.default=function(C,A,S,t,l,j,D){var c,u,h,f,p,g;if(void 0===S&&(S=!1),void 0===j&&(j="cluster"),void 0===D&&(D="cluster"),C&&C.nodes){var e=C.nodes.length;if(e){var y=(0,Y.default)(C,S),n=(0,Y.default)(A,S),_=nt(C.nodes,y,S),o=nt(A.nodes,n,S),r=Z(C.nodes,j),R=r.nodeMap,i=r.nodeLabelMap,r=Z(A.nodes,j),T=r.nodeMap,I=r.nodeLabelMap,B=(et(C.edges,D,R),et(A.edges,D,T).edgeLabelMap),a=[],m=(null==n||n.forEach(function(t){a=a.concat(t)}),l=l||Math.max.apply(Math,(0,X.__spreadArray)((0,X.__spreadArray)([],a,!1),[2],!1)),q(C,y,j,t=t||l)),s=q(A,n,j,t);c=e,u=Math.min(100,e*(e-1)/2),r=m,h=y,f=Math.ceil(u/c),p={},g=0,r.forEach(function(t,e){for(var n=0,r=0,i=t.nodeIdxs,o=t.neighborNum-1;n<f;){for(var a=i[1+Math.floor(Math.random()*o)],s=0;(p["".concat(e,"-").concat(a)]||p["".concat(a,"-").concat(e)])&&(a=Math.floor(Math.random()*c),!(++s>2*c)););if(s<2*c&&(p["".concat(e,"-").concat(a)]={start:e,end:a,distance:h[e][a]},n++,++g>=u))return p;if(++r>2*c)break}n<f&&(f=(f+(f-n))/(c-e-1))});var v=Q(p,m,C),n={graphs:v,nodeLabelProp:j,edgeLabelProp:D,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:S},t=(0,tt.default)(n).slice(0,10),e=t.length,b=[],r=(t.forEach(function(n,r){b[r]={},Object.keys(v).forEach(function(t){var e=v[t],e=J(e,n,j,D);b[r][t]=e})}),function(s,t,e){for(var c=1/0,u=0,n=0;n<t;n++)!function(t){var o=s[t],e=Object.keys(o).sort(function(t,e){return o[t]-o[e]}),n=[],r=(e.forEach(function(t,e){n[e%10]||(n[e%10]={graphs:[],totalCount:0,aveCount:0}),n[e%10].graphs.push(t),n[e%10].totalCount+=o[t]}),0),a=[],i=(n.forEach(function(e){var t=e.totalCount/e.graphs.length,i=(e.aveCount=t,a.push(t),0),t=e.length;e.graphs.forEach(function(t,n){var r=o[t];e.graphs.forEach(function(t,e){n!==e&&(i+=Math.abs(r-o[t]))})}),r+=i/=t*(t-1)/2}),r/=n.length,0),e=(a.forEach(function(n,r){a.forEach(function(t,e){r!==e&&(i+=Math.abs(n-t))}),i/=a.length*(a.length-1)/2}),i-r);c<e&&(c=e,u=t)}(n);return{structure:e[u],structureCountMap:s[u]}}(b,e,t)),O=r.structure,x=r.structureCountMap,k=A.nodes[0],E=[],w=null===(n=A.nodes[0])||void 0===n?void 0:n[j],M=-1/0,N=(A.nodes.forEach(function(t){var e=t[j],n=i[e];(null==n?void 0:n.length)>M&&(M=n.length,E=n,w=e,k=t)}),{}),P={},F={},U={},d={},W={},L=(Object.keys(I).forEach(function(l,t){d[l]=[],S&&(W[l]=[]);var r=-1/0,e=I[l],i={},h=(e.forEach(function(t){var e,n=o["".concat(k.id,"-").concat(t.id)];n&&d[l].push(n),r<n&&(r=n),i["".concat(k.id,"-").concat(t.id)]={start:0,end:T[t.id].idx,distance:n},S&&(e=o["".concat(t.id,"-").concat(k.id)])&&W[l].push(e)}),d[l]=d[l].sort(function(t,e){return t-e}),S&&(W[l]=W[l].sort(function(t,e){return t-e})),P=Q(i,s,A,P),[]);if(Object.keys(i).forEach(function(t){var e;F[t]||(e=P[t],F[t]=J(e,O,j,D)),h.push(F[t])}),h=h.sort(function(t,e){return e-t}),U["".concat(k.id,"-").concat(l)]=h,l!==w)for(var n=((null==E?void 0:E.length)||0)-1;0<=n;n--)!function(t){var n=E[t],e=m[R[n.id].idx],r=e.nodeLabelCountMap[l],i=I[l].length;if(!r||r.count<i)return E.splice(t,1);for(var o=!1,a=0;a<i;a++)if(r.dists[a]>d[l][a]){o=!0;break}if(o)return E.splice(t,1);for(var s={},c=(e.neighbors.forEach(function(t){var e=_["".concat(n.id,"-").concat(t.id)];s["".concat(n.id,"-").concat(t.id)]={start:R[n.id].idx,end:R[t.id].idx,distance:e}}),v=Q(s,m,C,v),[]),u=(Object.keys(s).forEach(function(t){var e;x[t]||(e=v[t],x[t]=J(e,O,j,D)),c.push(x[t])}),c=c.sort(function(t,e){return e-t}),!1),a=0;a<i;a++)if(c[a]<h[a]){u=!0;break}u&&E.splice(t,1)}(n)}),[]),z=(null==E||E.forEach(function(t){for(var e=R[t.id].idx,n=it(C.nodes,y[e],e,j,l).neighbors,e=!1,r=n.length-1;0<=r;r--){if(n.length+1<A.nodes.length)return;var i=n[r],o=i[j];if(I[o]&&I[o].length)if(d[o]&&d[o].length){var a="".concat(t.id,"-").concat(i.id),s=_[a],c=d[o].length-1;if(s>d[o][c])n.splice(r,1);else{if(S){var u="".concat(i.id,"-").concat(t.id),u=_[u],c=W[o].length-1;if(u>W[o][c]){n.splice(r,1);continue}}u=x[a]||function(t,e,n,r,i,o,l,h,d,a,s){var c,u="".concat(e.id,"-").concat(n.id);if(a&&a[u])return a[u];a=s?s[u]:void 0;return a||((c={})[u]={start:r[e.id].idx,end:r[n.id].idx,distance:i},a=(s=Q(c,o,t,s))[u]),J(a,l,h,d)}(C,t,i,R,s,m,O,j,D,x,v),c="".concat(k.id,"-").concat(o);u<U[c][U[c].length-1]?n.splice(r,1):(s=(a=rt(N,o,T,I)).minPatternNodeLabelDegree,a.minPatternNodeLabelInDegree,a.minPatternNodeLabelOutDegree,R[i.id].degree<s&&n.splice(r,1))}}else n.splice(r,1);else n.splice(r,1)}e||L.push({nodes:[t].concat(n)})}),(0,H.default)(A,k.id,!1).length),G={};S?(Object.keys(z).forEach(function(t){var e=T[t].node[j];G[e]?G[e].push(z[t]):G[e]=[z[t]]}),Object.keys(G).forEach(function(t){G[t].sort(function(t,e){return t-e})})):G=d;for(var $=function(t){var i=L[t],e=i.nodes[0],o={},s={},c=(i.nodes.forEach(function(t,e){s[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};e=t[j];o[e]?o[e]++:o[e]=1}),[]),u={};C.edges.forEach(function(t){s[t.source]&&s[t.target]&&(c.push(t),u[t[D]]?u[t[D]]++:u[t[D]]=1,s[t.source].degree++,s[t.target].degree++,s[t.source].outDegree++,s[t.target].inDegree++)});for(var a=Object.keys(B).length,h=!1,d=0;d<a;d++){var f=Object.keys(B)[d];if(!u[f]||u[f]<B[f].length){h=!0;break}}if(h)return L.splice(t,1),"continue";var p=c.length;if(p<A.edges.length)return L.splice(t,1),"break";for(var l=!1,d=p-1;0<=d&&"break"!==function(t){var e=c[t],n=e[D],r=B[n];if(!r||!r.length)return u[n]--,r&&u[n]<r.length?(l=!0,"break"):(c.splice(t,1),s[e.source].degree--,s[e.target].degree--,s[e.source].outDegree--,s[e.target].inDegree--,"continue");var i=s[e.source].node[j],o=s[e.target].node[j],a=!1;return r.forEach(function(t){var e=T[t.source].node,t=T[t.target].node;e[j]===i&&t[j]===o&&(a=!0),S||e[j]!==o||t[j]!==i||(a=!0)}),a?void 0:(u[n]--,r&&u[n]<r.length?(l=!0,"break"):(c.splice(t,1),s[e.source].degree--,s[e.target].degree--,s[e.source].outDegree--,s[e.target].inDegree--,"continue"))}(d);d--);if(l)return L.splice(t,1),"continue";i.edges=c;var g=(0,H.default)(i,i.nodes[0].id,!1).length;if(Object.keys(g).reverse().forEach(function(t){if(t!==i.nodes[0].id&&!l){if(g[t]===1/0){var e=s[t].node[j];if(o[e]--,o[e]<I[e].length)return void(l=!0);var n=i.nodes.indexOf(s[t].node);return i.nodes.splice(n,1),void(s[t]=void 0)}var r=R[t].node[j];G[r]&&G[r].length&&!(g[t]>G[r][G[r].length-1])||(e=s[t].node[j],o[e]--,o[e]<I[e].length?l=!0:(n=i.nodes.indexOf(s[t].node),i.nodes.splice(n,1),s[t]=void 0))}}),l)return L.splice(t,1),"continue";for(var y=!0,_=0;y&&!l;){if(y=!1,S?s[e.id].degree<T[k.id].degree||s[e.id].inDegree<T[k.id].inDegree||s[e.id].outDegree<T[k.id].outDegree:s[e.id].degree<T[k.id].degree){l=!0;break}if(o[e[j]]<I[e[j]].length){l=!0;break}for(var m=i.nodes.length-1;0<=m;m--){var n=i.nodes[m],v=s[n.id].degree,b=s[n.id].inDegree,O=s[n.id].outDegree,x=n[j],x=rt(N,x,T,I),E=x.minPatternNodeLabelDegree,w=x.minPatternNodeLabelInDegree,x=x.minPatternNodeLabelOutDegree;if(S?v<E||b<w||O<x:v<E){if(o[n[j]]--,o[n[j]]<I[n[j]].length){l=!0;break}i.nodes.splice(m,1),y=!(s[n.id]=void 0)}}if(l||!y&&0!==_)break;for(var M=c.length-1;0<=M;M--){var r=c[M];if(!s[r.source]||!s[r.target]){c.splice(M,1);var P=r[D];if(u[P]--,s[r.source]&&(s[r.source].degree--,s[r.source].outDegree--),s[r.target]&&(s[r.target].degree--,s[r.target].inDegree--),B[P]&&u[P]<B[P].length){l=!0;break}y=!0}}_++}return l||i.nodes.length<A.nodes.length||c.length<A.edges.length?(L.splice(t,1),"continue"):void 0},K=L.length-1;0<=K&&"break"!==$(K);K--);for(var V=L.length,K=0;K<=V-1;K++)!function(t){var e=L[t],i={};e.edges.forEach(function(t){t="".concat(t.source,"-").concat(t.target,"-").concat(t.label);i[t]?i[t]++:i[t]=1});for(var n=V-1;t<n;n--)!function(t){var e=L[t],n={},r=(e.edges.forEach(function(t){t="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[t]?n[t]++:n[t]=1}),!0);Object.keys(n).length!==Object.keys(i).length?r=!1:Object.keys(i).forEach(function(t){n[t]!==i[t]&&(r=!1)}),r&&L.splice(t,1)}(n);V=L.length}(K);return L}}}},function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=e(0),O=e(435),x=(o.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},o.prototype.notEqualTo=function(t){return!this.equalTo(t)},o),s=(i.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},i.prototype.notEqualTo=function(t){return!this.equalTo(t)},i.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new x(t,e,n,r,i)),this.dfsEdgeList},i.prototype.toGraph=function(t,e){void 0===t&&(t=O.VACANT_GRAPH_ID);var o=new O.Graph(t,!0,e=void 0===e?!1:e);return this.dfsEdgeList.forEach(function(t){var e=t.fromNode,n=t.toNode,t=t.nodeEdgeNodeLabel,r=t.nodeLabel1,i=t.edgeLabel,t=t.nodeLabel2;r!==O.VACANT_NODE_LABEL&&o.addNode(e,r),t!==O.VACANT_NODE_LABEL&&o.addNode(n,t),r!==O.VACANT_NODE_LABEL&&t!==r&&o.addEdge(void 0,e,n,i)}),o},i.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;0<=e;e--){var n=this.dfsEdgeList[e],r=n.fromNode,n=n.toNode;r<n&&(void 0===t||n===t)&&(this.rmpath.push(e),t=r)}return this.rmpath},i.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},i),E=(r.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},r.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},r),_=(n.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach(function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)}),r},n.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var c=o[s];if(!r.hasEdge(c)&&c.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=c.label)return c}else if(e.label<c.label||e.label===c.label&&i[e.to].label<=i[n.to].label)return c}return null},n.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],e=e.to,o=t.nodeMap[e].edges,a=o.length,s=0;s<a;s++){var c=o[s],u=t.nodeMap[c.to];n<=u.label&&!r.hasNode(u)&&i.push(c)}return i},n.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,l=o[e.to].label,a=o[e.from].edges,h=a.length,s=0;s<h;s++){var c=a[s],u=o[c.to].label;e.to===c.to||u<n||r.hasNode(o[c.to])||(e.label<c.label||e.label===c.label&&l<=u)&&i.push(c)}return i},n.prototype.getSupport=function(t){var e={};return t.forEach(function(t){e[t.graphId]||(e[t.graphId]=!0)}),Object.keys(e).length},n.prototype.findMinLabel=function(r){var i=void 0;return Object.keys(r).forEach(function(t){var t=r[t],e=t.nodeLabel1,n=t.edgeLabel,t=t.nodeLabel2;(!i||e<i.nodeLabel1||e===i.nodeLabel1&&n<i.edgeLabel||e===i.nodeLabel1&&n===i.edgeLabel&&t<i.nodeLabel2)&&(i={nodeLabel1:e,edgeLabel:n,nodeLabel2:t})}),i},n.prototype.isMin=function(){var g=this,y=this.dfsCode;if(this.verbose&&console.log("isMin checking",y),1===y.dfsEdgeList.length)return!0;var _=this.directed,m=y.toGraph(O.VACANT_GRAPH_ID,_),v=m.nodeMap,b=new s,i={},t=(m.nodes.forEach(function(r){g.findForwardRootEdges(m,r).forEach(function(t){var e=v[t.to],n="".concat(r.label,"-").concat(t.label,"-").concat(e.label),e=(i[n]||(i[n]={projected:[],nodeLabel1:r.label,edgeLabel:t.label,nodeLabel2:e.label}),{graphId:m.id,edge:t,preNode:null});i[n].projected.push(e)})}),this.findMinLabel(i));return t?(b.dfsEdgeList.push(new x(0,1,t.nodeLabel1,t.edgeLabel,t.nodeLabel2)),t="".concat(t.nodeLabel1,"-").concat(t.edgeLabel,"-").concat(t.nodeLabel2),function l(r){for(var i=b.buildRmpath(),h=b.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,e=b.dfsEdgeList[i[0]].toNode,o={},a=!1,d=0,f=_?-1:0,t=i.length-1;f<t&&"break"!==function(n){if(a)return"break";r.forEach(function(t){var e=new E(t),e=g.findBackwardEdge(m,e.edges[i[n]],e.edges[i[0]],e);e&&(o[e.label]||(o[e.label]={projected:[],edgeLabel:e.label}),o[e.label].projected.push({graphId:m.id,edge:o,preNode:t}),d=b.dfsEdgeList[i[n]].fromNode,a=!0)})}(t);t--);if(a)return u=g.findMinLabel(o),b.dfsEdgeList.push(new x(e,d,O.VACANT_NODE_LABEL,u.edgeLabel,O.VACANT_NODE_LABEL)),n=b.dfsEdgeList.length-1,g.dfsCode.dfsEdgeList[n]===b.dfsEdgeList[n]&&l(o[u.edgeLabel].projected);for(var s={},a=!1,c=0,p=(r.forEach(function(n){var t=new E(n),t=g.findForwardPureEdges(m,t.edges[i[0]],h,t);0<t.length&&(a=!0,c=e,t.forEach(function(t){var e="".concat(t.label,"-").concat(v[t.to].label);s[e]||(s[e]={projected:[],edgeLabel:t.label,nodeLabel2:v[t.to].label}),s[e].projected.push({graphId:m.id,edge:t,preNode:n})}))}),i.length),t=0;t<p&&"break"!==function(t){if(a)return"break";var e=i[t];r.forEach(function(n){var t=new E(n),t=g.findForwardRmpathEdges(m,t.edges[e],h,t);0<t.length&&(a=!0,c=b.dfsEdgeList[e].fromNode,t.forEach(function(t){var e="".concat(t.label,"-").concat(v[t.to].label);s[e]||(s[e]={projected:[],edgeLabel:t.label,nodeLabel2:v[t.to].label}),s[e].projected.push({graphId:m.id,edge:t,preNode:n})}))})}(t);t++);if(!a)return!0;var n=g.findMinLabel(s),u=(b.dfsEdgeList.push(new x(c,e+1,O.VACANT_NODE_LABEL,n.edgeLabel,n.nodeLabel2)),b.dfsEdgeList.length-1);return y.dfsEdgeList[u]===b.dfsEdgeList[u]&&l(s["".concat(n.edgeLabel,"-").concat(n.nodeLabel2)].projected)}(i[t].projected)):void 0},n.prototype.report=function(){var t;this.dfsCode.getNodeNum()<this.minNodeNum||(this.counter++,t=this.dfsCode.toGraph(this.counter,this.directed),this.frequentSubgraphs.push((0,c.clone)(t)))},n.prototype.subGraphMining=function(t){var s,c,u,l,h,d,f=this;this.getSupport(t)<this.minSupport||!this.isMin()||(this.report(),s=this.dfsCode.getNodeNum(),c=this.dfsCode.buildRmpath(),u=this.dfsCode.dfsEdgeList[c[0]].toNode,l=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,h={},d={},t.forEach(function(r){for(var t=f.graphs[r.graphId],i=t.nodeMap,e=new E(r),n=c.length-1;0<=n;n--){var o,a=f.findBackwardEdge(t,e.edges[c[n]],e.edges[c[0]],e);a&&(o="".concat(f.dfsCode.dfsEdgeList[c[n]].fromNode,"-").concat(a.label),d[o]||(d[o]={projected:[],toNodeId:f.dfsCode.dfsEdgeList[c[n]].fromNode,edgeLabel:a.label}),d[o].projected.push({graphId:r.graphId,edge:a,preNode:r}))}if(!(s>=f.maxNodeNum)){f.findForwardPureEdges(t,e.edges[c[0]],l,e).forEach(function(t){var e="".concat(u,"-").concat(t.label,"-").concat(i[t.to].label);h[e]||(h[e]={projected:[],fromNodeId:u,edgeLabel:t.label,nodeLabel2:i[t.to].label}),h[e].projected.push({graphId:r.graphId,edge:t,preNode:r})});for(n=0;n<c.length;n++)!function(n){f.findForwardRmpathEdges(t,e.edges[c[n]],l,e).forEach(function(t){var e="".concat(f.dfsCode.dfsEdgeList[c[n]].fromNode,"-").concat(t.label,"-").concat(i[t.to].label);h[e]||(h[e]={projected:[],fromNodeId:f.dfsCode.dfsEdgeList[c[n]].fromNode,edgeLabel:t.label,nodeLabel2:i[t.to].label}),h[e].projected.push({graphId:r.graphId,edge:t,preNode:r})})}(n)}}),Object.keys(d).forEach(function(t){var e=d[t],n=e.toNodeId,e=e.edgeLabel;f.dfsCode.dfsEdgeList.push(new x(u,n,"-1",e,"-1")),f.subGraphMining(d[t].projected),f.dfsCode.dfsEdgeList.pop()}),Object.keys(h).forEach(function(t){var e=h[t],n=e.fromNodeId,r=e.edgeLabel,e=e.nodeLabel2;f.dfsCode.dfsEdgeList.push(new x(n,u+1,O.VACANT_NODE_LABEL,r,e)),f.subGraphMining(h[t].projected),f.dfsCode.dfsEdgeList.pop()}))},n.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,u=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},l={},o={},h={};return Object.keys(e).forEach(function(s){var t=e[s],c=t.nodeMap;t.nodes.forEach(function(t,e){var n,a=t.label,r="".concat(s,"-").concat(a);o[r]||(n=i[a]||0,i[a]=++n),o[r]={graphKey:s,label:a},t.edges.forEach(function(t){var e,n=a,r=c[t.to].label,i=(!u&&r<n&&(i=r,r=n,n=i),t.label),t="".concat(s,"-").concat(n,"-").concat(i,"-").concat(r),o="".concat(n,"-").concat(i,"-").concat(r);l[o]||(e=l[o]||0,l[o]=++e),h[t]={graphId:s,nodeLabel1:n,edgeLabel:i,nodeLabel2:r}})})}),Object.keys(i).forEach(function(t){var e;i[t]<n||((e={nodes:[],edges:[]}).nodes.push({id:"0",label:t}),r.push(e))}),r},n.prototype.run=function(){var e,a,s=this;this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),this.maxNodeNum<2||(e=this.graphs,this.directed,a={},Object.keys(e).forEach(function(i){var t=e[i],o=t.nodeMap;t.nodes.forEach(function(r){s.findForwardRootEdges(t,r).forEach(function(t){var e=o[t.to],n="".concat(r.label,"-").concat(t.label,"-").concat(e.label),e=(a[n]||(a[n]={projected:[],nodeLabel1:r.label,edgeLabel:t.label,nodeLabel2:e.label}),{graphId:i,edge:t,preNode:null});a[n].projected.push(e)})})}),Object.keys(a).forEach(function(t){var t=a[t],e=t.projected,n=t.nodeLabel1,r=t.edgeLabel,t=t.nodeLabel2;s.dfsCode.dfsEdgeList.push(new x(0,1,n,r,t)),s.subGraphMining(e),s.dfsCode.dfsEdgeList.pop()}))},n);function n(t){var e=t.graphs,n=t.minSupport,n=void 0===n?2:n,r=t.minNodeNum,r=void 0===r?1:r,i=t.maxNodeNum,i=void 0===i?4:i,o=t.top,o=void 0===o?10:o,a=t.directed,a=void 0!==a&&a,t=t.verbose,t=void 0!==t&&t;this.graphs=e,this.dfsCode=new s,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=o,this.directed=a,this.counter=0,this.maxNodeNum=i,this.minNodeNum=r,this.verbose=t,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}function r(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}function i(){this.rmpath=[],this.dfsEdgeList=[]}function o(t,e,n,r,i){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||O.VACANT_NODE_LABEL,edgeLabel:r||O.VACANT_EDGE_LABEL,nodeLabel2:i||O.VACANT_NODE_LABEL}}t.default=function(t){var n,r,l,h,a,d,f,e,i=t.graphs,o=t.directed,o=void 0!==o&&o,s=t.nodeLabelProp,s=void 0===s?"cluster":s,c=t.edgeLabelProp,c=void 0===c?"cluster":c,i=(n=i,r=o,l=s,h=c,a={},Object.keys(n).forEach(function(t,e){var t=n[t],i=new O.Graph(e,!0,r),o={};t.nodes.forEach(function(t,e){i.addNode(e,t[l]),o[t.id]=e}),t.edges.forEach(function(t,e){var n=o[t.source],r=o[t.target];i.addEdge(-1,n,r,t[h])}),i&&i.getNodeNum()&&(a[i.id]=i)}),a),u=t.minSupport,p=t.maxNodeNum,g=t.minNodeNum,y=t.verbose,t=t.top,i=new _({graphs:i,minSupport:u,maxNodeNum:p,minNodeNum:g,top:t,verbose:y,directed:o});return i.run(),u=i.frequentSubgraphs,d=s,f=c,e=[],u.forEach(function(t){var n={nodes:[],edges:[]};t.nodes.forEach(function(t){var e;n.nodes.push(((e={id:"".concat(t.id)})[d]=t.label,e))}),t.edges.forEach(function(t){var e;n.edges.push(((e={source:"".concat(t.from),target:"".concat(t.to)})[f]=t.label,e))}),e.push(n)}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VACANT_NODE_LABEL=e.VACANT_NODE_ID=e.VACANT_GRAPH_ID=e.VACANT_EDGE_LABEL=e.VACANT_EDGE_ID=e.Node=e.Graph=e.Edge=e.AUTO_EDGE_ID=void 0,e.VACANT_EDGE_ID=-1,e.VACANT_NODE_ID=-1,e.VACANT_EDGE_LABEL="-1",e.VACANT_NODE_LABEL="-1",e.VACANT_GRAPH_ID=-1,e.AUTO_EDGE_ID="-1";function o(t,e,n,r){void 0===e&&(e=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=t=void 0===t?-1:t,this.from=e,this.to=n,this.label=r}e.Edge=o,i.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t};var r=i;function i(t,e){void 0===e&&(e="-1"),this.id=t=void 0===t?-1:t,this.label=e,this.edges=[],this.edgeMap={}}function a(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t=void 0===t?-1:t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}e.Node=r,a.prototype.getNodeNum=function(){return this.nodes.length},a.prototype.addNode=function(t,e){var n;this.nodeMap[t]||(n=new r(t,e),this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t))},a.prototype.addEdge=function(t,e,n,r){var i;!this.edgeIdAutoIncrease&&void 0!==t||(t=this.counter++),this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t]||(i=new o(t,e,n,r),this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),this.directed||(i=new o(t,n,e,r),this.nodeMap[n].addEdge(i),this.edgeLabelMap[r].push(i)))},e.Graph=a},function(t,l,e){var n,a=e(290),i=e(437),s=Object.hasOwnProperty,r={};for(n in a)s.call(a,n)&&(r[a[n]]=n);var o=t.exports={to:{},get:{}};function c(t,e,n){return Math.min(Math.max(e,t),n)}function u(t){t=Math.round(t).toString(16).toUpperCase();return t.length<2?"0"+t:t}o.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=o.get.hsl(t),n="hsl";break;case"hwb":e=o.get.hwb(t),n="hwb";break;default:e=o.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},o.get.rgb=function(t){if(!t)return null;var e,n,r,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var o=2*n;i[n]=parseInt(e.slice(o,2+o),16)}r&&(i[3]=parseInt(r,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)i[n]=parseInt(e[n]+e[n],16);r&&(i[3]=parseInt(r+r,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(e[n+1],0);e[4]&&(e[5]?i[3]=.01*parseFloat(e[4]):i[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:s.call(a,e[1])?((i=a[e[1]])[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?i[3]=.01*parseFloat(e[4]):i[3]=parseFloat(e[4]))}for(n=0;n<3;n++)i[n]=c(i[n],0,255);return i[3]=c(i[3],0,1),i},o.get.hsl=function(t){if(!t)return null;var e,t=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);return t?(e=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(e)?1:e,0,1)]):null},o.get.hwb=function(t){if(!t)return null;var e,t=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);return t?(e=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(e)?1:e,0,1)]):null},o.to.hex=function(){var t=i(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},o.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},o.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},o.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},o.to.hwb=function(){var t=i(arguments),e="";return 4<=t.length&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},o.to.keyword=function(t){return r[t.slice(0,3)]}},function(t,e,n){"use strict";var o=n(438),a=Array.prototype.concat,s=Array.prototype.slice,r=t.exports=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];o(i)?e=a.call(e,s.call(i)):e.push(i)}return e};r.wrap=function(t){return function(){return t(r(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||0<=t.length&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,n){var r=n(291),i=n(440),c={};Object.keys(r).forEach(function(a){c[a]={},Object.defineProperty(c[a],"channels",{value:r[a].channels}),Object.defineProperty(c[a],"labels",{value:r[a].labels});var s=i(a);Object.keys(s).forEach(function(t){var e,i,n=s[t];function r(t){return null==t?t:(1<arguments.length&&(t=Array.prototype.slice.call(arguments)),e(t))}function o(t){if(null==t)return t;1<arguments.length&&(t=Array.prototype.slice.call(arguments));var e=i(t);if("object"==typeof e)for(var n=e.length,r=0;r<n;r++)e[r]=Math.round(e[r]);return e}c[a][t]=("conversion"in(i=n)&&(o.conversion=i.conversion),o),c[a][t].raw=("conversion"in(e=n)&&(r.conversion=e.conversion),r)})}),t.exports=c},function(t,e,n){var u=n(291);function s(t,e){for(var n=[e[t].parent,t],r=u[e[t].parent][t],i=e[t].parent;e[i].parent;)n.unshift(e[i].parent),r=function(e,n){return function(t){return n(e(t))}}(u[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}t.exports=function(t){for(var e=function(t){var e=function(){for(var t={},e=Object.keys(u),n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var r=n.pop(),i=Object.keys(u[r]),o=i.length,a=0;a<o;a++){var s=i[a],c=e[s];-1===c.distance&&(c.distance=e[r].distance+1,c.parent=r,n.unshift(s))}return e}(t),n={},r=Object.keys(e),i=r.length,o=0;o<i;o++){var a=r[o];null!==e[a].parent&&(n[a]=s(a,e))}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.camelize=e.isString=void 0,e.isString=function(t){return"string"==typeof t};var r,i,o=/-(\w)/g;e.camelize=(r=function(t){return t.replace(o,function(t,e){return e?e.toUpperCase():""})},i=Object.create(null),function(t){return i[t]||(i[t]=r(t))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=void 0,e.isArray=Array.isArray},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getFuncByUnknownType=i.getFunc=i.isFunction=void 0;var o=e(62),a=e(293);i.isFunction=function(t){return"function"==typeof t},i.getFunc=function(t,e,n){return n||((0,a.isNumber)(t)?function(){return t}:function(){return e})},i.getFuncByUnknownType=function(e,n,r){return void 0===r&&(r=!0),n||0===n?(0,i.isFunction)(n)?n:(0,a.isNumber)(n)?function(){return n}:(0,o.isArray)(n)?function(){var t;return r?(t=Math.max.apply(Math,n),isNaN(t)?e:t):n}:(0,o.isObject)(n)?function(){var t;return r?(t=Math.max(n.width,n.height),isNaN(t)?e:t):[n.width,n.height]}:function(){return e}:function(t){return t.size?(0,o.isArray)(t.size)?t.size[0]>t.size[1]?t.size[0]:t.size[1]:(0,o.isObject)(t.size)?t.size.width>t.size.height?t.size.width:t.size.height:t.size:e}}},function(u,t,e){"use strict";var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),h=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&l(e,t,n);return h(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_=(Object.defineProperty(t,"__esModule",{value:!0}),t.ForceLayout=void 0,o(e(237))),m=a(e(445)),c=e(62),o=e(64),v=e(165),a=(n=o.Base,i(s,n),s.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},s.prototype.init=function(t){this.nodes=t.nodes||[];t=t.edges||[];this.edges=t.map(function(e){var n={},r=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(e).forEach(function(t){-1<r.indexOf(t)||(n[t]=e[t])}),n}),this.ticking=!1},s.prototype.execute=function(t){var e,n,r,l,i=this,o=i.nodes,a=i.edges;if(!i.ticking){var s=i.forceSimulation,h=i.alphaMin,d=i.alphaDecay,f=i.alpha;if(s)t&&(i.clustering&&i.clusterForce&&(i.clusterForce.nodes(o),i.clusterForce.links(a)),s.nodes(o),a&&i.edgeForce?i.edgeForce.links(a):a&&!i.edgeForce&&(u=_.forceLink().id(function(t){return t.id}).links(a),i.edgeStrength&&u.strength(i.edgeStrength),i.linkDistance&&u.distance(i.linkDistance),i.edgeForce=u,s.force("link",u))),i.preventOverlap&&i.overlapProcess(s),s.alpha(f).restart(),this.ticking=!0;else try{var c,u,p=_.forceManyBody();if(i.nodeStrength&&p.strength(i.nodeStrength),s=_.forceSimulation().nodes(o),i.clustering&&((c=(0,m.default)()).centerX(i.center[0]).centerY(i.center[1]).template("force").strength(i.clusterFociStrength),a&&c.links(a),o&&c.nodes(o),c.forceLinkDistance(i.clusterEdgeDistance).forceLinkStrength(i.clusterEdgeStrength).forceCharge(i.clusterNodeStrength).forceNodeSize(i.clusterNodeSize),i.clusterForce=c,s.force("group",c)),s.force("center",_.forceCenter(i.center[0],i.center[1])).force("charge",p).alpha(f).alphaDecay(d).alphaMin(h),i.preventOverlap&&i.overlapProcess(s),a&&(u=_.forceLink().id(function(t){return t.id}).links(a),i.edgeStrength&&u.strength(i.edgeStrength),i.linkDistance&&u.distance(i.linkDistance),i.edgeForce=u,s.force("link",u)),!i.workerEnabled||"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope||(i.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),i.workerEnabled){s.stop();n=(e=s).alphaMin(),r=e.alphaTarget(),l=e.alpha(),n=Math.log((n-r)/(l-r))/Math.log(1-e.alphaDecay());for(var g=Math.ceil(n),y=1;y<=g;y++)s.tick(),postMessage({nodes:o,currentTick:y,totalTicks:g,type:v.LAYOUT_MESSAGE.TICK},void 0);i.ticking=!1}else s.on("tick",function(){i.tick()}).on("end",function(){i.ticking=!1,i.onLayoutEnd&&i.onLayoutEnd()}),i.ticking=!0;i.forceSimulation=s,i.ticking=!0}catch(t){i.ticking=!1,console.warn(t)}}},s.prototype.overlapProcess=function(t){var e,n,r,i=this.nodeSize,o=this.nodeSpacing,a=this.collideStrength,s=(0,c.isNumber)(o)?function(){return o}:(0,c.isFunction)(o)?o:function(){return 0};n=i?(0,c.isFunction)(i)?function(t){return i(t)+s(t)}:(0,c.isArray)(i)?(e=(i[0]>i[1]?i[0]:i[1])/2,function(t){return e+s(t)}):(0,c.isNumber)(i)?(r=i/2,function(t){return r+s(t)}):function(){return 10}:function(t){return t.size?(0,c.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+s(t):(0,c.isObject)(t.size)?(t.size.width>t.size.height?t.size.width:t.size.height)/2+s(t):t.size/2+s(t):10+s(t)},t.force("collisionForce",_.forceCollide(n).strength(a))},s.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Object.assign(this,t)},s.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},s);function s(t){var e=n.call(this)||this;return e.center=[0,0],e.nodeStrength=null,e.edgeStrength=null,e.preventOverlap=!1,e.clusterNodeStrength=null,e.clusterEdgeStrength=null,e.clusterEdgeDistance=null,e.clusterNodeSize=null,e.clusterFociStrength=null,e.linkDistance=50,e.alphaDecay=.028,e.alphaMin=.001,e.alpha=.3,e.collideStrength=1,e.workerEnabled=!1,e.tick=function(){},e.onLayoutEnd=function(){},e.ticking=void 0,t&&e.updateCfg(t),e}t.ForceLayout=a},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},x=(Object.defineProperty(e,"__esModule",{value:!0}),o(n(237))),E=n(62);e.default=function(){function e(t){return function(){return t}}var u,l=function(t){return t.cluster},h=e(1),p=e(-1),g=e(100),y=e(.1),n=[0,0],d=[],f={},_=[],m=100,v=100,o={none:{x:0,y:0}},b=[],i="force",s=!0,c=.1;function a(t){if(!s)return a;u.tick(),O();for(var e=0,n=d.length,r=void 0,i=t*c;e<n;++e)(r=d[e]).vx+=(o[l(r)].x-r.x)*i,r.vy+=(o[l(r)].y-r.y)*i}function r(){if(d){if(d&&d.length){if(void 0===l(d[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");a=[],s=[],c={},t=[],i={},(e=d).forEach(function(t){t=l(t);i[t]||(i[t]={count:0,sumforceNodeSize:0})}),e.forEach(function(t){var e=l(t),t=h(t),n=i[e];n.count=n.count+1,n.sumforceNodeSize=n.sumforceNodeSize+Math.PI*(t*t)*1.3,i[e]=n}),o=i,n={},r=[],_.forEach(function(t){t=t,e=(0,E.getEdgeTerminal)(t,"source"),t=(0,E.getEdgeTerminal)(t,"target"),e=l(f[e]),t=l(f[t]);var t=e<=t?e+"~"+t:t+"~"+e,e=0;void 0!==n[t]&&(e=n[t]),n[t]=e+=1}),Object.entries(n).forEach(function(t){var e=t[0],t=t[1],n=e.split("~")[0],e=e.split("~")[1];void 0!==n&&void 0!==e&&r.push({source:n,target:e,count:t})}),t=r,Object.keys(o).forEach(function(t,e){var n=o[t];a.push({id:t,size:n.count,r:Math.sqrt(n.sumforceNodeSize/Math.PI)}),c[t]=e}),t.forEach(function(t){var e=(0,E.getEdgeTerminal)(t,"source"),n=(0,E.getEdgeTerminal)(t,"target"),e=c[e],n=c[n];void 0!==e&&void 0!==n&&s.push({source:e,target:n,count:t.count})});var n,r,i,o,a,s,c,t,e={nodes:a,links:s};u=x.forceSimulation(e.nodes).force("x",x.forceX(m).strength(.1)).force("y",x.forceY(v).strength(.1)).force("collide",x.forceCollide(function(t){return t.r}).iterations(4)).force("charge",x.forceManyBody().strength(p)).force("links",x.forceLink(e.nodes.length?e.links:[]).distance(g).strength(y)),b=u.nodes(),O()}}else;}function O(){return o={none:{x:0,y:0}},b.forEach(function(t){o[t.id]={x:t.x-n[0],y:t.y-n[1]}}),o}return a.initialize=function(t){d=t,r()},a.template=function(t){return arguments.length?(i=t,r(),a):i},a.groupBy=function(e){return arguments.length?(l="string"==typeof e?function(t){return t[e]}:e,a):l},a.enableGrouping=function(t){return arguments.length?(s=t,a):s},a.strength=function(t){return arguments.length?(c=t,a):c},a.centerX=function(t){return arguments.length?(m=t,a):m},a.centerY=function(t){return arguments.length?(v=t,a):v},a.nodes=function(t){return arguments.length?(f={},(t||[]).forEach(function(t){f[t.id]=t}),d=t||[],a):d},a.links=function(t){return arguments.length?(_=t||[],r(),a):_},a.nodeSize=a.forceNodeSize=function(t){return arguments.length?(h="function"==typeof t?t:e(+t),r(),a):h},a.forceCharge=function(t){return arguments.length?(p="function"==typeof t?t:e(+t),r(),a):p},a.forceLinkDistance=function(t){return arguments.length?(g="function"==typeof t?t:e(+t),r(),a):g},a.forceLinkStrength=function(t){return arguments.length?(y="function"==typeof t?t:e(+t),r(),a):y},a.offset=function(t){return arguments.length?(n=t,a):n},a.getFocis=O,a}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=(Object.defineProperty(e,"__esModule",{value:!0}),r(n(104))),r=r(n(460)),n=n(87);e.default={graphlib:i.default,layout:r.default,util:{time:n.time,notime:n.notime}}},function(t,e,n){var r=n(448);t.exports={Graph:r.Graph,json:n(450),alg:n(451),version:r.version}},function(t,e,n){t.exports={Graph:n(232),version:n(449)}},function(t,e){t.exports="2.1.4"},function(t,e,n){var o=n(86),r=n(232);t.exports={write:function(t){var r,i,e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:(i=t,o.map(i.nodes(),function(t){var e=i.node(t),n=i.parent(t),t={v:t};return o.isUndefined(e)||(t.value=e),o.isUndefined(n)||(t.parent=n),t})),edges:(r=t,o.map(r.edges(),function(t){var e=r.edge(t),n={v:t.v,w:t.w};return o.isUndefined(t.name)||(n.name=t.name),o.isUndefined(e)||(n.value=e),n}))};return o.isUndefined(t.graph())||(e.value=o.clone(t.graph())),e},read:function(t){var e=new r(t.options).setGraph(t.value);return o.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),o.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},function(t,e,n){t.exports={components:n(452),dijkstra:n(301),dijkstraAll:n(453),findCycles:n(454),floydWarshall:n(455),isAcyclic:n(456),postorder:n(457),preorder:n(458),prim:n(459),tarjan:n(303),topsort:n(304)}},function(t,e,n){var a=n(86);t.exports=function(e){var n,r={},i=[];function o(t){a.has(r,t)||(r[t]=!0,n.push(t),a.each(e.successors(t),o),a.each(e.predecessors(t),o))}return a.each(e.nodes(),function(t){n=[],o(t),n.length&&i.push(n)}),i}},function(t,e,n){var o=n(301),a=n(86);t.exports=function(n,r,i){return a.transform(n.nodes(),function(t,e){t[e]=o(n,e,r,i)},{})}},function(t,e,n){var r=n(86),i=n(303);t.exports=function(e){return r.filter(i(e),function(t){return 1<t.length||1===t.length&&e.hasEdge(t[0],t[0])})}},function(t,e,n){var n=n(86),o=(t.exports=function(e,t,n){return r=t||o,i=n||function(t){return e.outEdges(t)},a={},(s=e.nodes()).forEach(function(n){a[n]={},a[n][n]={distance:0},s.forEach(function(t){n!==t&&(a[n][t]={distance:Number.POSITIVE_INFINITY})}),i(n).forEach(function(t){var e=t.v===n?t.w:t.v,t=r(t);a[n][e]={distance:t,predecessor:n}})}),s.forEach(function(i){var o=a[i];s.forEach(function(t){var r=a[t];s.forEach(function(t){var e=r[i],n=o[t],t=r[t],e=e.distance+n.distance;e<t.distance&&(t.distance=e,t.predecessor=n.predecessor)})})}),a;var r,i,a,s},n.constant(1))},function(t,e,n){var r=n(304);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(305);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(305);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var c=n(86),u=n(232),l=n(302);t.exports=function(t,r){var i,e=new u,o={},a=new l;function n(t){var e=t.v===i?t.w:t.v,n=a.priority(e);void 0===n||(t=r(t))<n&&(o[e]=i,a.decrease(e,t))}if(0===t.nodeCount())return e;c.each(t.nodes(),function(t){a.add(t,Number.POSITIVE_INFINITY),e.setNode(t)}),a.decrease(t.nodes()[0],0);for(var s=!1;0<a.size();){if(i=a.removeMin(),c.has(o,i))e.setEdge(i,o[i]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(i).forEach(n)}return e}},function(i,t,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=(Object.defineProperty(t,"__esModule",{value:!0}),r(e(461))),c=r(e(464)),f=r(e(465)),u=n(e(87)),p=r(e(467)),l=r(e(468)),g=r(e(469)),y=r(e(470)),_=r(e(471)),m=r(e(480)),n=r(e(104)),v=r(e(482)),b=n.default.Graph,O=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],w=["width","height","layer","fixorder"],M={width:0,height:0},P=["minlen","weight","width","height","labeloffset"],C={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},A=["labelpos"],S=function(n){n.edges().forEach(function(t){var e=n.edge(t);e.width&&e.height&&(e=n.node(t.v),t={e:t,rank:(n.node(t.w).rank-e.rank)/2+e.rank},u.default.addDummyNode(n,"edge-proxy",t,"_ep"))})},j=function(e){var n=0;e.nodes().forEach(function(t){t=e.node(t);t.borderTop&&(t.minRank=e.node(t.borderTop).rank,t.maxRank=e.node(t.borderBottom).rank,n=Math.max(n,t.maxRank||-1/0))}),e.graph().maxRank=n},D=function(n){n.nodes().forEach(function(t){var e=n.node(t);"edge-proxy"===e.dummy&&(n.edge(e.e).labelRank=e.rank,n.removeNode(t))})},T=function(n){function e(t){var e,n,r;t&&(e=t.x,n=t.y,r=t.width,t=t.height,isNaN(e)||isNaN(r)||(i=Math.min(i,e-r/2),o=Math.max(o,e+r/2)),isNaN(n)||isNaN(t)||(a=Math.min(a,n-t/2),s=Math.max(s,n+t/2)))}var i=Number.POSITIVE_INFINITY,o=0,a=Number.POSITIVE_INFINITY,s=0,t=n.graph(),r=t.marginx||0,c=t.marginy||0;n.nodes().forEach(function(t){e(n.node(t))}),n.edges().forEach(function(t){t=n.edge(t);t.hasOwnProperty("x")&&e(t)}),i-=r,a-=c,n.nodes().forEach(function(t){t=n.node(t);t.x-=i,t.y-=a}),n.edges().forEach(function(t){var e,t=n.edge(t);null===(e=t.points)||void 0===e||e.forEach(function(t){t.x-=i,t.y-=a}),t.hasOwnProperty("x")&&(t.x-=i),t.hasOwnProperty("y")&&(t.y-=a)}),t.width=o-i+r,t.height=s-a+c},I=function(o){o.edges().forEach(function(t){var e,n=o.edge(t),r=o.node(t.v),t=o.node(t.w),i=n.points?(e=n.points[0],n.points[n.points.length-1]):(n.points=[],e=t,r);n.points.unshift(u.default.intersectRect(r,e)),n.points.push(u.default.intersectRect(t,i))})},k=function(n){n.edges().forEach(function(t){var e=n.edge(t);if(e.hasOwnProperty("x"))switch("l"!==e.labelpos&&"r"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}})},L=function(e){e.edges().forEach(function(t){t=e.edge(t);t.reversed&&t.points.reverse()})},R=function(o){o.nodes().forEach(function(t){var e,n,r,i;null!==(e=o.children(t))&&void 0!==e&&e.length&&(e=o.node(t),t=o.node(e.borderTop),n=o.node(e.borderBottom),r=o.node(e.borderLeft[(null===(r=e.borderLeft)||void 0===r?void 0:r.length)-1]),i=o.node(e.borderRight[(null===(i=e.borderRight)||void 0===i?void 0:i.length)-1]),e.width=Math.abs((null==i?void 0:i.x)-(null==r?void 0:r.x))||10,e.height=Math.abs((null==n?void 0:n.y)-(null==t?void 0:t.y))||10,e.x=((null==r?void 0:r.x)||0)+e.width/2,e.y=((null==t?void 0:t.y)||0)+e.height/2)}),o.nodes().forEach(function(t){"border"===o.node(t).dummy&&o.removeNode(t)})},B=function(n){n.edges().forEach(function(t){var e;t.v===t.w&&((e=n.node(t.v)).selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t))})},N=function(i){var t=u.default.buildLayerMatrix(i);null==t||t.forEach(function(t){var r=0;null==t||t.forEach(function(t,e){var n=i.node(t);n.order=e+r,null===(t=n.selfEdges)||void 0===t||t.forEach(function(t){u.default.addDummyNode(i,"selfedge",{width:t.label.width,height:t.label.height,rank:n.rank,order:e+ ++r,e:t.e,label:t.label},"_se")}),delete n.selfEdges})})},F=function(a){a.nodes().forEach(function(t){var e,n,r,i,o=a.node(t);"selfedge"===o.dummy&&(e=(i=a.node(o.e.v)).x+i.width/2,n=i.y,r=o.x-e,i=i.height/2,a.setEdge(o.e,o.label),a.removeNode(t),o.label.points=[{x:e+2*r/3,y:n-i},{x:e+5*r/6,y:n-i},{y:n,x:e+r},{x:e+5*r/6,y:n+i},{x:e+2*r/3,y:n+i}],o.label.x=o.x,o.label.y=o.y)})},h=function(e,t){var n={};return null==t||t.forEach(function(t){void 0!==e[t]&&(n[t]=+e[t])}),n},d=function(n){void 0===n&&(n={});var r={};return Object.keys(n).forEach(function(t){var e=n[t];r[t.toLowerCase()]=e}),r};t.default=function(a,i){var r=i&&i.debugTiming?u.default.time:u.default.notime;r("layout",function(){i&&!i.keepNodeOrder&&i.prevGraph&&r("  inheritOrder",function(){var n,t,r;n=a,t=i.prevGraph,r=t._nodes||{},n.nodes().forEach(function(t){var e=n.node(t);void 0!==r[t]?(e.fixorder=r[t]._order,delete r[t]._order):delete e.fixorder})});var o=r("  buildLayoutGraph",function(){return r=a,i=new b({multigraph:!0,compound:!0}),e=d(r.graph()),n={},null==E||E.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),i.setGraph(Object.assign({},x,h(e,O),n)),r.nodes().forEach(function(t){var e=d(r.node(t)),n=h(e,w);Object.keys(M).forEach(function(t){void 0===n[t]&&(n[t]=M[t])}),i.setNode(t,n),i.setParent(t,r.parent(t))}),r.edges().forEach(function(t){var e=d(r.edge(t)),n={};null==A||A.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),i.setEdge(t,Object.assign({},C,h(e,P),n))}),i;var r,i,e,n});i&&!1===i.edgeLabelSpace||r("  makeSpaceForEdgeLabels",function(){var n,r;(r=(n=o).graph()).ranksep||(r.ranksep=0),r.ranksep/=2,n.nodes().forEach(function(t){t=n.node(t);isNaN(t.layer)||(t.layer?t.layer*=2:t.layer=0)}),n.edges().forEach(function(t){var e,t=n.edge(t);t.minlen*=2,"c"!==(null===(e=t.labelpos)||void 0===e?void 0:e.toLowerCase())&&("TB"===r.rankdir||"BT"===r.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)})});try{r("  runLayout",function(){var t,e,n;t=o,n=i,(e=r)("    removeSelfEdges",function(){B(t)}),e("    acyclic",function(){s.default.run(t)}),e("    nestingGraph.run",function(){l.default.run(t)}),e("    rank",function(){(0,f.default)(u.default.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){S(t)}),e("    removeEmptyRanks",function(){(0,u.removeEmptyRanks)(t)}),e("    nestingGraph.cleanup",function(){l.default.cleanup(t)}),e("    normalizeRanks",function(){(0,u.normalizeRanks)(t)}),e("    assignRankMinMax",function(){j(t)}),e("    removeEdgeLabelProxies",function(){D(t)}),e("    normalize.run",function(){c.default.run(t)}),e("    parentDummyChains",function(){(0,p.default)(t)}),e("    addBorderSegments",function(){(0,g.default)(t)}),n&&n.keepNodeOrder&&e("    initDataOrder",function(){(0,v.default)(t,n.nodeOrder)}),e("    order",function(){(0,_.default)(t)}),e("    insertSelfEdges",function(){N(t)}),e("    adjustCoordinateSystem",function(){y.default.adjust(t)}),e("    position",function(){(0,m.default)(t)}),e("    positionSelfEdges",function(){F(t)}),e("    removeBorderNodes",function(){R(t)}),e("    normalize.undo",function(){c.default.undo(t)}),e("    fixupEdgeLabelCoords",function(){k(t)}),e("    undoCoordinateSystem",function(){y.default.undo(t)}),e("    translateGraph",function(){T(t)}),e("    assignNodeIntersects",function(){I(t)}),e("    reversePoints",function(){L(t)}),e("    acyclic.undo",function(){s.default.undo(t)})})}catch(t){if("Not possible to find intersection inside of the rectangle"===t.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",t);throw t}r("  updateInputGraph",function(){var r,i;i=o,(r=a).nodes().forEach(function(t){var e=r.node(t),n=i.node(t);e&&(e.x=n.x,e.y=n.y,e._order=n.order,e._rank=n.rank,null!==(t=i.children(t))&&void 0!==t&&t.length&&(e.width=n.width,e.height=n.height))}),r.edges().forEach(function(t){var e=r.edge(t),t=i.edge(t);e.points=t.points,t.hasOwnProperty("x")&&(e.x=t.x,e.y=t.y)}),r.graph().width=i.graph().width,r.graph().height=i.graph().height})})}},function(t,e,n){"use strict";function r(n){function r(t){var e;a.hasOwnProperty(t)||(a[t]=!0,o[t]=!0,null===(e=n.outEdges(t))||void 0===e||e.forEach(function(t){o.hasOwnProperty(t.w)?i.push(t):r(t.w)}),delete o[t])}var i=[],o={},a={};return n.nodes().forEach(r),i}var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=(Object.defineProperty(e,"__esModule",{value:!0}),i(n(462)));e.default={run:function(n){var e,t="greedy"===n.graph().acyclicer?(0,o.default)(n,(e=n,function(t){return e.edge(t).weight})):r(n);null==t||t.forEach(function(t){var e=n.edge(t);n.removeEdge(t),e.forwardName=t.name,e.reversed=!0,n.setEdge(t.w,t.v,e,"rev-"+Math.random())})},undo:function(r){r.edges().forEach(function(t){var e,n=r.edge(t);n.reversed&&(r.removeEdge(t),e=n.forwardName,delete n.reversed,delete n.forwardName,r.setEdge(t.w,t.v,n,e))})}}},function(o,t,e){"use strict";function n(){return 1}var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=(Object.defineProperty(t,"__esModule",{value:!0}),r(e(104))),u=r(e(463)),l=i.default.Graph,c=function(r,i,o,t,a){var e,s=a?[]:void 0;return null===(e=r.inEdges(t.v))||void 0===e||e.forEach(function(t){var e=r.edge(t),n=r.node(t.v);a&&s.push({v:t.v,w:t.w}),void 0===n.out&&(n.out=0),n.out-=e,h(i,o,n)}),null===(e=r.outEdges(t.v))||void 0===e||e.forEach(function(t){var e=r.edge(t),t=t.w,t=r.node(t);void 0===t.in&&(t.in=0),t.in-=e,h(i,o,t)}),r.removeNode(t.v),s},h=function(t,e,n){(n.out?n.in?t[n.out-n.in+e]:t[t.length-1]:t[0]).enqueue(n)};t.default=function(e,t){if(e.nodeCount()<=1)return[];var t=function(t,r){var i=new l,o=0,a=0;t.nodes().forEach(function(t){i.setNode(t,{v:t,in:0,out:0})}),t.edges().forEach(function(t){var e=i.edge(t.v,t.w)||0,n=null==r?void 0:r(t);i.setEdge(t.v,t.w,e+n),a=Math.max(a,i.node(t.v).out+=n),o=Math.max(o,i.node(t.w).in+=n)});for(var e=[],n=a+o+3,s=0;s<n;s++)e.push(new u.default);var c=o+1;return i.nodes().forEach(function(t){h(e,c,i.node(t))}),{buckets:e,zeroIdx:c,graph:i}}(e,t||n);return null===(t=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)c(t,e,n,r);for(;r=o.dequeue();)c(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;0<s;--s)if(r=e[s].dequeue()){i=i.concat(c(t,e,n,r,!0));break}}return i}(t.graph,t.buckets,t.zeroIdx).map(function(t){return e.outEdges(t.v,t.w)}))||void 0===t?void 0:t.flat()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,e){if("_next"!==t&&"_prev"!==t)return e}function o(){var t={};t._next=t._prev=t,this.isentinel=t}o.prototype.dequeue=function(){var t=this.isentinel,e=t._prev;if(e!==t)return r(e),e},o.prototype.enqueue=function(){var t=this.isentinel,e=t._prev;if(e!==t)return r(e),e},o.prototype.toString=function(){for(var t=[],e=this.isentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,i)),n=n._prev;return"["+t.join(", ")+"]"},e.default=o},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},f=(Object.defineProperty(e,"__esModule",{value:!0}),r(n(87)));e.default={run:function(d){d.graph().dummyChains=[],d.edges().forEach(function(t){var e,n,r,i=d,o=t,a=o.v,s=i.node(a).rank,t=o.w,c=i.node(t).rank,l=o.name,u=i.edge(o),h=u.labelRank;if(c!==s+1){for(i.removeEdge(o),r=0,++s;s<c;++r,++s)u.points=[],e=f.default.addDummyNode(i,"edge",n={edgeLabel:u,width:0,height:0,edgeObj:o,rank:s},"_d"),s===h&&(n.width=u.width,n.height=u.height,n.dummy="edge-label",n.labelpos=u.labelpos),i.setEdge(a,e,{weight:u.weight},l),0===r&&(i.graph().dummyChains||(i.graph().dummyChains=[]),null===(n=null===(n=i.graph())||void 0===n?void 0:n.dummyChains)||void 0===n||n.push(e)),a=e;i.setEdge(a,t,{weight:u.weight},l)}})},undo:function(o){var t;null===(t=o.graph().dummyChains)||void 0===t||t.forEach(function(t){var e,n=o.node(t),r=n.edgeLabel;n.edgeObj&&o.setEdge(n.edgeObj,r);for(var i=t;n.dummy;)e=null===(e=o.successors(i))||void 0===e?void 0:e[0],o.removeNode(i),r.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),n=o.node(i=e)})}}},function(t,e,n){"use strict";function r(t){(0,o.longestPathWithLayer)(t),(0,a.feasibleTreeWithLayer)(t)}var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=(Object.defineProperty(e,"__esModule",{value:!0}),n(233)),a=n(306),s=i(n(466)),c=o.longestPath;e.default=function(t){switch(t.graph().ranker){case"network-simplex":(0,s.default)(t);break;case"tight-tree":r(t);break;case"longest-path":c(t);break;default:r(t)}}},function(l,t,e){"use strict";function n(t){t=(0,c.simplify)(t),(0,s.longestPath)(t);var e,n,r=(0,h.feasibleTree)(t);for(a(r),o(r,t);e=g(r);)n=y(r,t,e),_(r,t,e,n)}var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},h=(Object.defineProperty(t,"__esModule",{value:!0}),e(306)),s=e(233),c=e(87),r=r(e(104)).default.alg,d=r.preorder,f=r.postorder,o=function(e,n){var t=f(e,e.nodes());null==(t=null==t?void 0:t.slice(0,(null==t?void 0:t.length)-1))||t.forEach(function(t){p(e,n,t)})},p=function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=i(t,e,n)},i=function(r,i,o){var a=r.node(o).parent,s=!0,t=i.edge(o,a),c=0;return t||(s=!1,t=i.edge(a,o)),c=t.weight,null===(t=i.nodeEdges(o))||void 0===t||t.forEach(function(t){var e=t.v===o,n=e?t.w:t.v;n!==a&&(e=e===s,t=i.edge(t).weight,c+=e?t:-t,v(r,o,n)&&(t=r.edge(o,n).cutvalue,c+=e?-t:t))}),c},a=function(t,e){void 0!==e&&(e=t.nodes()[0]),u(t,{},1,e)},u=function(e,n,t,r,i){var o,a=t,s=t,t=e.node(r);return n[r]=!0,null===(o=e.neighbors(r))||void 0===o||o.forEach(function(t){n.hasOwnProperty(t)||(s=u(e,n,s,t,r))}),t.low=a,t.lim=s++,i?t.parent=i:delete t.parent,s},g=function(e){return e.edges().find(function(t){return e.edge(t).cutvalue<0})},y=function(e,n,t){var r=t.v,i=t.w,t=(n.hasEdge(r,i)||(r=t.w,i=t.v),e.node(r)),r=e.node(i),o=t,a=!1,i=(t.lim>r.lim&&(o=r,a=!0),n.edges().filter(function(t){return a===b(e,e.node(t.v),o)&&a!==b(e,e.node(t.w),o)}));return(0,c.minBy)(i,function(t){return(0,s.slack)(n,t)})},_=function(t,e,n,r){var i=n.v,n=n.w;t.removeEdge(i,n),t.setEdge(r.v,r.w,{}),a(t),o(t,e),m(t,e)},m=function(i,o){var t=i.nodes().find(function(t){return!o.node(t).parent}),t=d(i,t);null==(t=null==t?void 0:t.slice(1))||t.forEach(function(t){var e=i.node(t).parent,n=o.edge(t,e),r=!1;n||(n=o.edge(e,t),r=!0),o.node(t).rank=o.node(e).rank+(r?n.minlen:-n.minlen)})},v=function(t,e,n){return t.hasEdge(e,n)},b=function(t,e,n){return n.low<=e.lim&&e.lim<=n.lim};n.initLowLimValues=a,n.initCutValues=o,n.calcCutValue=i,n.leaveEdge=g,n.enterEdge=y,n.exchangeEdges=_,t.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(r){function i(t){var e,n=a;null===(e=r.children(t))||void 0===e||e.forEach(i),o[t]={low:n,lim:a++}}var t,o={},a=0;return null===(t=r.children())||void 0===t||t.forEach(i),o}e.default=function(h){var t,d=r(h);null===(t=h.graph().dummyChains)||void 0===t||t.forEach(function(t){var e,n,r,i=h.node(t).edgeObj;if(i)for(var o=function(t,e,n,r){for(var i,o=[],a=[],s=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim),u=n;u=t.parent(u),o.push(u),u&&(e[u].low>s||c>e[u].lim););for(i=u,u=r;(u=t.parent(u))!==i;)a.push(u);return{lca:i,path:o.concat(a.reverse())}}(h,d,i.v,i.w),a=o.path,l=o.lca,s=0,c=a[s],u=!0;t!==i.w;){if(r=h.node(t),u){for(;(c=a[s])!==l&&h.node(c).maxRank<r.rank;)s++;c===l&&(u=!1)}if(!u){for(;s<a.length-1&&(null===(e=h.node(c=a[s+1]))||void 0===e?void 0:e.minRank)<=r.rank;)s++;c=a[s]}h.setParent(t,c),t=null===(n=h.successors(t))||void 0===n?void 0:n[0]}})}},function(t,e,n){"use strict";function u(r){function i(t,e){var n=r.children(t);null==n||n.forEach(function(t){return i(t,e+1)}),o[t]=e}var t,o={};return null===(t=r.children())||void 0===t||t.forEach(function(t){return i(t,1)}),o}var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},f=(Object.defineProperty(e,"__esModule",{value:!0}),r(n(87))),p=function(i,o,d,a,s,c,u){var l,h,t,e=i.children(u);null!=e&&e.length?(l=f.default.addBorderNode(i,"_bt"),h=f.default.addBorderNode(i,"_bb"),t=i.node(u),i.setParent(l,u),t.borderTop=l,i.setParent(h,u),t.borderBottom=h,null==e||e.forEach(function(t){p(i,o,d,a,s,c,t);var e=i.node(t),n=e.borderTop||t,t=e.borderBottom||t,e=e.borderTop?a:2*a,r=n!==t?1:s-c[u]+1;i.setEdge(l,n,{minlen:r,weight:e,nestingEdge:!0}),i.setEdge(t,h,{minlen:r,weight:e,nestingEdge:!0})}),i.parent(u)||i.setEdge(o,l,{weight:0,minlen:s+c[u]})):u!==o&&i.setEdge(o,u,{weight:0,minlen:d})};e.default={run:function(e){var t,n,r,i=f.default.addDummyNode(e,"root",{},"_root"),o=u(e),a=Math.max.apply(Math,Object.values(o))-1,s=2*a+1,c=(e.graph().nestingRoot=i,e.edges().forEach(function(t){e.edge(t).minlen*=s}),r=0,(n=e).edges().forEach(function(t){r+=n.edge(t).weight}),r+1);null===(t=e.children())||void 0===t||t.forEach(function(t){p(e,i,s,c,a,o,t)}),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},function(t,e,n){"use strict";function s(t,e,n,r,i,o){var a=i[e][o-1],n=c.default.addDummyNode(t,"border",{rank:o,width:0,height:0,borderType:e},n);i[e][o]=n,t.setParent(n,r),a&&t.setEdge(a,n,{weight:1})}var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},c=(Object.defineProperty(e,"__esModule",{value:!0}),r(n(87)));e.default=function(o){function a(t){var e=o.children(t),n=o.node(t);if(null!=e&&e.length&&e.forEach(a),n.hasOwnProperty("minRank")){n.borderLeft=[],n.borderRight=[];for(var r=n.minRank,i=n.maxRank+1;r<i;++r)s(o,"borderLeft","_bl",t,n,r),s(o,"borderRight","_br",t,n,r)}}var t;null===(t=o.children())||void 0===t||t.forEach(a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function i(e){e.nodes().forEach(function(t){r(e.node(t))}),e.edges().forEach(function(t){r(e.edge(t))})}function r(t){var e=t.width;t.width=t.height,t.height=e}function o(t){t.y=-t.y}function a(t){var e=t.x;t.x=t.y,t.y=e}e.default={adjust:function(t){var e=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var n,r,e=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"bt"!==e&&"rl"!==e||((r=t).nodes().forEach(function(t){o(r.node(t))}),r.edges().forEach(function(t){var e,t=r.edge(t);null===(e=t.points)||void 0===e||e.forEach(o),t.hasOwnProperty("y")&&o(t)})),"lr"!==e&&"rl"!==e||((n=t).nodes().forEach(function(t){a(n.node(t))}),n.edges().forEach(function(t){var e,t=n.edge(t);null===(e=t.points)||void 0===e||e.forEach(a),t.hasOwnProperty("x")&&a(t)}),i(t))}}},function(r,t,e){"use strict";function d(e,t,n){return t.map(function(t){return(0,i.default)(e,t,n)})}function f(t,o,a){var s=new l;null==t||t.forEach(function(t){for(var e,n=t.graph().root,r=(0,u.default)(t,n,s,o,a),i=0;i<(null===(e=r.vs)||void 0===e?void 0:e.length);i++)t.node(r.vs[i]).order=i;(0,c.default)(t,s,r.vs)})}function p(n,t){null==t||t.forEach(function(t){null==t||t.forEach(function(t,e){n.node(t).order=e})})}var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},g=(Object.defineProperty(t,"__esModule",{value:!0}),n(e(472))),y=n(e(473)),i=n(e(474)),c=n(e(475)),u=n(e(476)),o=n(e(104)),_=n(e(87)),m=e(62),l=o.default.Graph;t.default=function(t){for(var e=_.default.maxRank(t),n=[],r=[],i=1;i<e+1;i++)n.push(i);for(i=e-1;-1<i;i--)r.push(i);var l=d(t,n,"inEdges"),h=d(t,r,"outEdges"),o=(0,g.default)(t);p(t,o);for(var a,s,c=Number.POSITIVE_INFINITY,u=i=0;u<4;++i,++u)f(i%2?l:h,2<=i%4),o=_.default.buildLayerMatrix(t),(s=(0,y.default)(t,o))<c&&(a=(u=0,m.clone)(o),c=s);for(o=(0,g.default)(t),p(t,o),u=i=0;u<4;++i,++u)f(i%2?l:h,2<=i%4,!0),o=_.default.buildLayerMatrix(t),(s=(0,y.default)(t,o))<c&&(a=(u=0,m.clone)(o),c=s);p(t,a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){for(var r={},t=n.nodes().filter(function(t){return!(null!==(t=n.children(t))&&void 0!==t&&t.length)}),e=t.map(function(t){return n.node(t).rank}),i=Math.max.apply(Math,e),o=[],a=0;a<i+1;a++)o.push([]);function s(t){var e;r.hasOwnProperty(t)||(r[t]=!0,e=n.node(t),isNaN(e.rank)||o[e.rank].push(t),null===(e=n.successors(t))||void 0===e||e.forEach(s))}e=t.sort(function(t,e){return n.node(t).rank-n.node(e).rank}),t=e.filter(function(t){return void 0!==n.node(t).fixorder}).sort(function(t,e){return n.node(t).fixorder-n.node(e).fixorder});return null==t||t.forEach(function(t){isNaN(n.node(t).rank)||o[n.node(t).rank].push(t),r[t]=!0}),null==e||e.forEach(s),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=n(87);e.default=function(t,e){for(var n=0,r=1;r<(null==e?void 0:e.length);++r)n+=function(e,t,n){for(var r=(0,c.zipObject)(n,n.map(function(t,e){return e})),t=t.map(function(t){t=null===(t=e.outEdges(t))||void 0===t?void 0:t.map(function(t){return{pos:r[t.w]||0,weight:e.edge(t).weight}});return null==t?void 0:t.sort(function(t,e){return t.pos-e.pos})}).flat().filter(function(t){return void 0!==t}),i=1;i<n.length;)i<<=1;var o=2*i-1,a=(--i,Array(o).fill(0,0,o)),s=0;return null==t||t.forEach(function(t){var e=t.pos+i;a[e]+=t.weight;for(var n=0;0<e;)e%2&&(n+=a[e+1]),a[e=e-1>>1]+=t.weight;s+=t.weight*n}),s}(t,e[r-1],e[r]);return n}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},c=(Object.defineProperty(e,"__esModule",{value:!0}),r(n(104)).default.Graph);e.default=function(i,n,o){var a=function(t){for(var e;t.hasNode(e="_root"+Math.random()););return e}(i),s=new c({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(t){return i.node(t)});return i.nodes().forEach(function(r){var t=i.node(r),e=i.parent(r);(t.rank===n||t.minRank<=n&&n<=t.maxRank)&&(s.setNode(r),s.setParent(r,e||a),i[o](r).forEach(function(t){var e=t.v===r?t.w:t.v,n=s.edge(e,r),n=void 0!==n?n.weight:0;s.setEdge(e,r,{weight:i.edge(t).weight+n})}),t.hasOwnProperty("minRank")&&s.setNode(r,{borderLeft:t.borderLeft[n],borderRight:t.borderRight[n]}))}),s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(i,o,t){var a,s={};null==t||t.forEach(function(t){for(var e,n,r=i.parent(t);r;){if((e=i.parent(r))?(n=s[e],s[e]=r):(n=a,a=r),n&&n!==r)return void o.setEdge(n,r);r=e}})}},function(r,t,e){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},u=(Object.defineProperty(t,"__esModule",{value:!0}),n(e(477))),l=n(e(478)),h=n(e(479)),d=function(n,t,r,i,e){var o=n.children(t),t=n.node(t),a=t?t.borderLeft:void 0,s=t?t.borderRight:void 0,c={},t=(a&&(o=null==o?void 0:o.filter(function(t){return t!==a&&t!==s})),(0,u.default)(n,o||[])),o=(null==t||t.forEach(function(t){var e;null!==(e=n.children(t.v))&&void 0!==e&&e.length&&(e=d(n,t.v,r,i),(c[t.v]=e).hasOwnProperty("barycenter")&&p(t,e))}),(0,l.default)(t,r)),t=(f(o,c),null===(t=o.filter(function(t){return!!t.vs||0<(null===(t=t.vs)||void 0===t?void 0:t.length)}))||void 0===t||t.forEach(function(t){var e=n.node(t.vs[0]);t.fixorder=e.fixorder,t.order=e.order}),(0,h.default)(o,i,e));return a&&(t.vs=[a,t.vs,s].flat(),null!==(o=n.predecessors(a))&&void 0!==o&&o.length)&&(o=n.node((null===(e=n.predecessors(a))||void 0===e?void 0:e[0])||{}),e=n.node((null===(e=n.predecessors(s))||void 0===e?void 0:e[0])||{}),t.hasOwnProperty("barycenter")||(t.barycenter=0,t.weight=0),t.barycenter=(t.barycenter*t.weight+o.order+e.order)/(t.weight+2),t.weight+=2),t},f=function(t,n){null==t||t.forEach(function(t){var e=null===(e=t.vs)||void 0===e?void 0:e.map(function(t){return n[t]?n[t].vs:t});t.vs=e.flat()})},p=function(t,e){void 0!==t.barycenter?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)};t.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(r,t){return t.map(function(t){var e=r.inEdges(t);if(null==e||!e.length)return{v:t};var n={sum:0,weight:0};return null==e||e.forEach(function(t){var e=r.edge(t),t=r.node(t.v);n.sum+=e.weight*t.order,n.weight+=e.weight}),{v:t,barycenter:n.sum/n.weight,weight:n.weight}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function i(e){for(var t,n=[],r=function(){var o=e.pop();n.push(o),null===(t=o.in.reverse())||void 0===t||t.forEach(function(t){var e,n,r,i;(t=t).merged||(void 0===t.barycenter||void 0===o.barycenter||t.barycenter>=o.barycenter)&&(t=t,i=r=0,(e=o).weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0)}),null===(t=o.out)||void 0===t||t.forEach(function(t){(t=t).in.push(o),0==--t.indegree&&e.push(t)})};null!=e&&e.length;)r();var i=n.filter(function(t){return!t.merged}),o=["vs","i","barycenter","weight"];return i.map(function(e){var n={};return null==o||o.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n})}e.default=function(t,e){var r={},t=(null==t||t.forEach(function(t,e){e=r[t.v]={i:e,indegree:0,in:[],out:[],vs:[t.v]};void 0!==t.barycenter&&(e.barycenter=t.barycenter,e.weight=t.weight)}),null===(t=e.edges())||void 0===t||t.forEach(function(t){var e=r[t.v],n=r[t.w];void 0!==e&&void 0!==n&&(n.indegree++,e.out.push(r[t.w]))}),null===(t=(e=Object.values(r)).filter)||void 0===t?void 0:t.call(e,function(t){return!t.indegree}));return i(t)}},function(t,e,n){"use strict";function h(t,e,n){for(var r,i=n;e.length&&(r=e[e.length-1]).i<=i;)e.pop(),null==t||t.push(r.vs),i++;return i}var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},d=(Object.defineProperty(e,"__esModule",{value:!0}),r(n(87)));e.default=function(t,e,l){var n,r,t=d.default.partition(t,function(t){return t.hasOwnProperty("fixorder")&&!isNaN(t.fixorder)||t.hasOwnProperty("barycenter")}),i=t.lhs,o=t.rhs.sort(function(t,e){return-t.i- -e.i}),a=[],s=0,c=0,u=0,t=(null==i||i.sort((n=!!e,r=!!l,function(t,e){if(void 0!==t.fixorder&&void 0!==e.fixorder)return t.fixorder-e.fixorder;if(t.barycenter<e.barycenter)return-1;if(t.barycenter>e.barycenter)return 1;if(r&&void 0!==t.order&&void 0!==e.order){if(t.order<e.order)return-1;if(t.order>e.order)return 1}return n?e.i-t.i:t.i-e.i})),u=h(a,o,u),null==i||i.forEach(function(t){var e;u+=null===(e=t.vs)||void 0===e?void 0:e.length,a.push(t.vs),s+=t.barycenter*t.weight,c+=t.weight,u=h(a,o,u)}),{vs:a.flat()});return c&&(t.barycenter=s/c,t.weight=c),t}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},h=(Object.defineProperty(e,"__esModule",{value:!0}),r(n(87))),d=n(481);e.default=function(e){r=e=h.default.asNonCompoundGraph(e),n=h.default.buildLayerMatrix(r),i=r.graph().ranksep,o=0,null==n||n.forEach(function(t){var e=t.map(function(t){return r.node(t).height}),n=Math.max.apply(Math,e);null==t||t.forEach(function(t){r.node(t).y=o+n/2}),o+=n+i}),a=e,t=h.default.buildLayerMatrix(a),c=Object.assign((0,d.findType1Conflicts)(a,t),(0,d.findType2Conflicts)(a,t)),u={},["u","d"].forEach(function(r){s="u"===r?t:Object.values(t).reverse(),["l","r"].forEach(function(t){"r"===t&&(s=s.map(function(t){return Object.values(t).reverse()}));var e=("u"===r?a.predecessors:a.successors).bind(a),e=(0,d.verticalAlignment)(a,s,c,e),n=(0,d.horizontalCompaction)(a,s,e.root,e.align,"r"===t);"r"===t&&Object.keys(n).forEach(function(t){return n[t]=-n[t]}),u[r+t]=n})}),(n=(0,d.findSmallestWidthAlignment)(a,u))&&(0,d.alignCoordinates)(u,n);var r,i,o,a,s,t,c,u,n,l=(0,d.balance)(u,a.graph().align);null===(n=Object.keys(l))||void 0===n||n.forEach(function(t){e.node(t).x=l[t]})}},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.balance=t.findSmallestWidthAlignment=t.alignCoordinates=t.horizontalCompaction=t.verticalAlignment=t.hasConflict=t.addConflict=t.findType2Conflicts=t.findType1Conflicts=t.positionX=void 0,i(r(104))),g=i(r(87)),y=o.default.Graph,n=function(u,t){var l={};return null!=t&&t.length&&t.reduce(function(t,r){var o=0,a=0,s=t.length,c=null==r?void 0:r[(null==r?void 0:r.length)-1];return null==r||r.forEach(function(t,e){var n=_(u,t),i=n?u.node(n).order:s;!n&&t!==c||(null===(n=r.slice(a,e+1))||void 0===n||n.forEach(function(r){var t;null===(t=u.predecessors(r))||void 0===t||t.forEach(function(t){var e=u.node(t),n=e.order;!(n<o||i<n)||e.dummy&&u.node(r).dummy||h(l,t,r)})}),a=e+1,o=i)}),r}),l},s=(t.findType1Conflicts=n,function(c,t){function s(e,t,n,r,i){for(var o,a=[],s=t;s<n;s++)a.push(s);a.forEach(function(t){o=e[t],c.node(o).dummy&&(null===(t=c.predecessors(o))||void 0===t||t.forEach(function(t){var e=c.node(t);e.dummy&&(e.order<r||e.order>i)&&h(u,t,o)}))})}var u={};return null!=t&&t.length&&t.reduce(function(n,r){var i,o=-1,a=0;return null==r||r.forEach(function(t,e){"border"!==c.node(t).dummy||(t=c.predecessors(t)||[]).length&&(i=c.node(t[0]).order,s(r,a,e,o,i),a=e,o=i),s(r,a,r.length,i,n.length)}),r}),u}),_=(t.findType2Conflicts=s,function(e,t){if(e.node(t).dummy)return null===(t=e.predecessors(t))||void 0===t?void 0:t.find(function(t){return e.node(t).dummy})}),h=function(t,e,n){var r,i=n,n=(n<e&&(r=e,e=n,i=r),t[e]);n||(t[e]=n={}),n[i]=!0},d=(t.addConflict=h,function(t,e,n){var r=e,i=n;return n<r&&(r=n,i=e),t[r]&&t[r].hasOwnProperty(i)}),c=(t.hasConflict=d,function(t,e,s,c){var u={},l={},h={};return null==e||e.forEach(function(t){null==t||t.forEach(function(t,e){u[t]=t,l[t]=t,h[t]=e})}),null==e||e.forEach(function(t){var a=-1;null==t||t.forEach(function(t){var e=c(t);if(e.length)for(var n=((e=e.sort(function(t,e){return h[t]-h[e]})).length-1)/2,r=Math.floor(n),i=Math.ceil(n);r<=i;++r){var o=e[r];l[t]===t&&a<h[o]&&!d(s,t,o)&&(l[o]=t,l[t]=u[t]=u[o],a=h[o])}})}),{root:u,align:l}}),u=(t.verticalAlignment=c,function(r,t,e,n,i){function o(t,e){for(var n=s.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}var a={},s=m(r,t,e,i),c=i?"borderLeft":"borderRight";return o(function(t){a[t]=(s.inEdges(t)||[]).reduce(function(t,e){return Math.max(t,(a[e.v]||0)+s.edge(e))},0)},s.predecessors.bind(s)),o(function(t){var e=(s.outEdges(t)||[]).reduce(function(t,e){return Math.min(t,(a[e.w]||0)-s.edge(e))},Number.POSITIVE_INFINITY),n=r.node(t);e!==Number.POSITIVE_INFINITY&&n.borderType!==c&&(a[t]=Math.max(a[t],e))},s.successors.bind(s)),null===(t=Object.values(n))||void 0===t||t.forEach(function(t){a[t]=a[e[t]]}),a}),m=(t.horizontalCompaction=u,function(o,t,a,e){var s=new y,n=o.graph(),c=v(n.nodesep,n.edgesep,e);return null==t||t.forEach(function(t){var i;null==t||t.forEach(function(t){var e,n,r=a[t];s.setNode(r),i&&(e=a[i],n=s.edge(e,r),s.setEdge(e,r,Math.max(c(o,t,i),n||0))),i=t})}),s}),l=function(o,t){return g.default.minBy(Object.values(t),function(n){var t,r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return null===(t=Object.keys(n))||void 0===t||t.forEach(function(t){var e=n[t],t=b(o,t)/2;r=Math.max(e+t,r),i=Math.min(e-t,i)}),r-i})};function f(a,s){var t=Object.values(s),c=Math.min.apply(Math,t),u=Math.max.apply(Math,t);["u","d"].forEach(function(o){["l","r"].forEach(function(t){var e,n,r=o+t,i=a[r];i!==s&&(n=Object.values(i),(e="l"===t?c-Math.min.apply(Math,n):u-Math.max.apply(Math,n))&&(a[r]={},Object.keys(i).forEach(function(t){a[r][t]=i[t]+e})))})})}t.findSmallestWidthAlignment=l,t.alignCoordinates=f;function a(r){var i,t=g.default.buildLayerMatrix(r),o=Object.assign(n(r,t),s(r,t)),a={},e=(["u","d"].forEach(function(n){i="u"===n?t:Object.values(t).reverse(),["l","r"].forEach(function(t){"r"===t&&(i=i.map(function(t){return Object.values(t).reverse()}));var e=("u"===n?r.predecessors:r.successors).bind(r),e=c(0,i,o,e),e=u(r,i,e.root,e.align,"r"===t);"r"===t&&(e=Object.values(e).map(function(t){return-t})),a[n+t]=e})}),l(r,a));return f(a,e),p(a,r.graph().align)}var p=function(n,r){var i={};return Object.keys(n.ul).forEach(function(e){var t;r?i[e]=n[r.toLowerCase()][e]:(t=Object.values(n).map(function(t){return t[e]}).sort(function(t,e){return t-e}),i[e]=(t[1]+t[2])/2)}),i},v=(t.balance=p,t.positionX=a,function(a,s,c){return function(t,e,n){var r,i=t.node(e),o=t.node(n),e=0;if(e+=i.width/2,i.hasOwnProperty("labelpos"))switch((i.labelpos||"").toLowerCase()){case"l":r=-i.width/2;break;case"r":r=i.width/2}if(r&&(e+=c?r:-r),r=0,e=(e=(e+=(i.dummy?s:a)/2)+(o.dummy?s:a)/2)+o.width/2,o.hasOwnProperty("labelpos"))switch((o.labelpos||"").toLowerCase()){case"l":r=o.width/2;break;case"r":r=-o.width/2}return r&&(e+=c?r:-r),r=0,e}}),b=function(t,e){return(null===(t=t.node(e))||void 0===t?void 0:t.width)||0};t.default={positionX:a,findType1Conflicts:n,findType2Conflicts:s,addConflict:h,hasConflict:d,verticalAlignment:c,horizontalCompaction:u,alignCoordinates:f,findSmallestWidthAlignment:l,balance:p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,t){for(var e=n.nodes().filter(function(t){return!(null!==(t=n.children(t))&&void 0!==t&&t.length)}).map(function(t){return n.node(t).rank}),r=Math.max.apply(Math,e),i=[],o=0;o<r+1;o++)i.push([]);null==t||t.forEach(function(t){var e=n.node(t);e&&!e.dummy&&(isNaN(e.rank)||(e.fixorder=i[e.rank].length,i[e.rank].push(t)))})}},function(t,lo,ho){"use strict";ho.r(lo),function(t){ho.d(lo,"BRIDGE_GRAPH_NAME",function(){return i}),ho.d(lo,"GraphType",function(){return o}),ho.d(lo,"HierarchyNodeType",function(){return a}),ho.d(lo,"InclusionType",function(){return b}),ho.d(lo,"LAYOUT_CONFIG",function(){return c}),ho.d(lo,"NodeType",function(){return m}),ho.d(lo,"ROOT_NAME",function(){return d}),ho.d(lo,"buildGraph",function(){return oo}),ho.d(lo,"flatGraph",function(){return ao}),ho.d(lo,"getEdges",function(){return so}),ho.d(lo,"mergeConfig",function(){return h});const c={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function h(t={},e=c){var e=JSON.parse(JSON.stringify(e)),n=(null===(n=null==t?void 0:t.graph)||void 0===n?void 0:n.meta)||{},r=(null===(r=null==t?void 0:t.subScene)||void 0===r?void 0:r.meta)||{},i=(null===(i=null==t?void 0:t.nodeSize)||void 0===i?void 0:i.meta)||{},t=(null===(t=null==t?void 0:t.nodeSize)||void 0===t?void 0:t.node)||{},o=e.nodeSize.bridge;return{graph:{meta:Object.assign(e.graph.meta,n)},subScene:{meta:Object.assign(e.subScene.meta,r)},nodeSize:{meta:Object.assign(e.nodeSize.meta,i),node:Object.assign(e.nodeSize.node,t),bridge:o}}}const d="◬ROOT◬",i="◬BRIDGE_GRAPH◬";(e=m=m||{})[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE",(e=b=b||{})[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED",(e=o=o||{})[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE",(e=a=a||{})[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES";var m,b,o,a,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function s(t,e){return t(e={exports:{}},e.exports),e.exports}function u(t,e){for(var n=t.length;n--;)if(x(t[n][0],e))return n;return-1}var x=function(t,e){return t===e||t!=t&&e!=e},f=Array.prototype.splice;function p(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}p.prototype.clear=function(){this.__data__=[],this.size=0},p.prototype.delete=function(t){var e=this.__data__,t=u(e,t);return!(t<0||(t==e.length-1?e.pop():f.call(e,t,1),--this.size,0))},p.prototype.get=function(t){var e=this.__data__,t=u(e,t);return t<0?void 0:e[t][1]},p.prototype.has=function(t){return-1<u(this.__data__,t)},p.prototype.set=function(t,e){var n=this.__data__,r=u(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function g(t,e){return t=null==t?void 0:t[e],!T(e=t)||k&&k in e||!(I(e)?F:B).test(R(e))?void 0:t}var _=p,E="object"==typeof e&&e&&e.Object===Object&&e,t="object"==typeof self&&self&&self.Object===Object&&self,w=E||t||Function("return this")(),e=w.Symbol,t=Object.prototype,M=t.hasOwnProperty,P=t.toString,C=e?e.toStringTag:void 0,A=Object.prototype.toString,j=e?e.toStringTag:void 0,D=function(t){{if(null==t)return void 0===t?"[object Undefined]":"[object Null]";if(j&&j in Object(t)){var e=t,n=M.call(e,C),r=e[C];try{var i=!(e[C]=void 0)}catch(e){}var o=P.call(e);return i&&(n?e[C]=r:delete e[C]),o}return A.call(t)}},T=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},I=function(t){if(!T(t))return!1;t=D(t);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},t=w["__core-js_shared__"],k=(t=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",L=Function.prototype.toString,R=function(t){if(null!=t){try{return L.call(t)}catch(t){}try{return t+""}catch(t){}}return""},B=/^\[object .+?Constructor\]$/,t=Function.prototype,N=Object.prototype,t=t.toString,N=N.hasOwnProperty,F=RegExp("^"+t.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=g(w,"Map"),W=g(Object,"create"),z=Object.prototype.hasOwnProperty,G=Object.prototype.hasOwnProperty;function $(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},$.prototype.delete=function(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t},$.prototype.get=function(t){var e,n=this.__data__;return W?"__lodash_hash_undefined__"===(e=n[t])?void 0:e:z.call(n,t)?n[t]:void 0},$.prototype.has=function(t){var e=this.__data__;return W?void 0!==e[t]:G.call(e,t)},$.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=W&&void 0===e?"__lodash_hash_undefined__":e,this};function K(t,e){var n,t=t.__data__;return("string"==(n=typeof e)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?t["string"==typeof e?"string":"hash"]:t.map}var V=$;function X(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}X.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(U||_),string:new V}},X.prototype.delete=function(t){t=K(this,t).delete(t);return this.size-=t?1:0,t},X.prototype.get=function(t){return K(this,t).get(t)},X.prototype.has=function(t){return K(this,t).has(t)},X.prototype.set=function(t,e){var n=K(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Y=X;function H(t){t=this.__data__=new _(t);this.size=t.size}H.prototype.clear=function(){this.__data__=new _,this.size=0},H.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},H.prototype.get=function(t){return this.__data__.get(t)},H.prototype.has=function(t){return this.__data__.has(t)},H.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _){var r=n.__data__;if(!U||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Y(r)}return n.set(t,e),this.size=n.size,this};function q(t,e,n,r){var i=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var s=e[o],c=r?r(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),(i?lt:dt)(n,s,c)}return n}function Z(t){return ft(t)&&"[object Arguments]"==D(t)}function Q(){return!1}function J(e){return function(t){return e(t)}}function tt(e,n){return function(t){return e(n(t))}}function et(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e}function nt(){return[]}function rt(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function it(t){return Wt(t,jt,Nt)}function ot(t){return Wt(t,It,Ut)}function at(t){return"function"!=typeof t.constructor||Mt(t)?{}:oe(Ft(t))}var st=H,ct=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},ut=function(){try{var t=g(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),lt=function(t,e,n){"__proto__"==e&&ut?ut(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},ht=Object.prototype.hasOwnProperty,dt=function(t,e,n){var r=t[e];ht.call(t,e)&&x(r,n)&&(void 0!==n||e in t)||lt(t,e,n)},ft=function(t){return null!=t&&"object"==typeof t},t=Object.prototype,pt=t.hasOwnProperty,gt=t.propertyIsEnumerable,yt=Z(function(){return arguments}())?Z:function(t){return ft(t)&&pt.call(t,"callee")&&!gt.call(t,"callee")},O=Array.isArray,_t=s(function(t,e){var e=e&&!e.nodeType&&e,n=e&&t&&!t.nodeType&&t,n=n&&n.exports===e?w.Buffer:void 0,e=(n?n.isBuffer:void 0)||Q;t.exports=e}),mt=/^(?:0|[1-9]\d*)$/,vt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&-1<t&&t%1==0&&t<e},bt=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991},n={},N=(n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,s(function(t,e){var e=e&&!e.nodeType&&e,n=e&&t&&!t.nodeType&&t,r=n&&n.exports===e&&E.process,e=function(){try{return n&&n.require&&n.require("util").types||r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=e})),t=N&&N.isTypedArray,Ot=t?J(t):function(t){return ft(t)&&bt(t.length)&&!!n[D(t)]},xt=Object.prototype.hasOwnProperty,Et=function(t,e){var n,r=O(t),i=!r&&yt(t),o=!r&&!i&&_t(t),a=!r&&!i&&!o&&Ot(t),s=r||i||o||a,c=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=c.length;for(n in t)!e&&!xt.call(t,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||vt(n,u))||c.push(n);return c},wt=Object.prototype,Mt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)},Pt=tt(Object.keys,Object),Ct=Object.prototype.hasOwnProperty,At=function(t){if(!Mt(t))return Pt(t);var e,n=[];for(e in Object(t))Ct.call(t,e)&&"constructor"!=e&&n.push(e);return n},St=function(t){return null!=t&&bt(t.length)&&!I(t)},jt=function(t){return(St(t)?Et:At)(t)},Dt=Object.prototype.hasOwnProperty,Tt=function(t){if(T(t)){var e,n=Mt(t),r=[];for(e in t)("constructor"!=e||!n&&Dt.call(t,e))&&r.push(e);return r}var i=[];if(null!=t)for(var o in Object(t))i.push(o);return i},It=function(t){return St(t)?Et(t,!0):Tt(t)},kt=s(function(t,e){var e=e&&!e.nodeType&&e,n=e&&t&&!t.nodeType&&t,n=n&&n.exports===e?w.Buffer:void 0,r=n?n.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();e=t.length,e=r?r(e):new t.constructor(e);return t.copy(e),e}}),Lt=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},Rt=Object.prototype.propertyIsEnumerable,Bt=Object.getOwnPropertySymbols,Nt=Bt?function(e){return null==e?[]:(e=Object(e),Lt(Bt(e),function(t){return Rt.call(e,t)}))}:nt,Ft=tt(Object.getPrototypeOf,Object),Ut=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)rt(e,Nt(t)),t=Ft(t);return e}:nt,Wt=function(t,e,n){e=e(t);return O(t)?e:rt(e,n(t))},t=g(w,"DataView"),zt=g(w,"Promise"),Gt=g(w,"Set"),$t=g(w,"WeakMap"),Kt=R(t),Vt=R(U),Xt=R(zt),Yt=R(Gt),Ht=R($t),qt=D,Zt=qt=t&&"[object DataView]"!=qt(new t(new ArrayBuffer(1)))||U&&"[object Map]"!=qt(new U)||zt&&"[object Promise]"!=qt(zt.resolve())||Gt&&"[object Set]"!=qt(new Gt)||$t&&"[object WeakMap]"!=qt(new $t)?function(t){var e=D(t),t="[object Object]"==e?t.constructor:void 0,t=t?R(t):"";if(t)switch(t){case Kt:return"[object DataView]";case Vt:return"[object Map]";case Xt:return"[object Promise]";case Yt:return"[object Set]";case Ht:return"[object WeakMap]"}return e}:qt,Qt=Object.prototype.hasOwnProperty,Jt=w.Uint8Array,te=function(t){var e=new t.constructor(t.byteLength);return new Jt(e).set(new Jt(t)),e},ee=/\w*$/,t=e?e.prototype:void 0,ne=t?t.valueOf:void 0,re=function(t,e){e=e?te(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)},ie=Object.create,oe=function(t){if(!T(t))return{};if(ie)return ie(t);ce.prototype=t;t=new ce;return ce.prototype=void 0,t},zt=N&&N.isMap,ae=zt?J(zt):function(t){return ft(t)&&"[object Map]"==Zt(t)},$t=N&&N.isSet,se=$t?J($t):function(t){return ft(t)&&"[object Set]"==Zt(t)},y={};function ce(){}y["[object Arguments]"]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object DataView]"]=y["[object Boolean]"]=y["[object Date]"]=y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Map]"]=y["[object Number]"]=y["[object Object]"]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object Symbol]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y["[object Error]"]=y["[object Function]"]=y["[object WeakMap]"]=!1;function ue(n,r,i,l,h,o){var a,t,e,d=1&r,f=2&r,p=4&r;if(void 0!==(a=i?h?i(n,l,h,o):i(n):a))return a;if(!T(n))return n;if(l=O(n)){if(s=(c=n).length,e=new c.constructor(s),s&&"string"==typeof c[0]&&Qt.call(c,"index")&&(e.index=c.index,e.input=c.input),a=e,!d)return et(n,a)}else{var s=Zt(n),c="[object Function]"==s||"[object GeneratorFunction]"==s;if(_t(n))return kt(n,d);if("[object Object]"==s||"[object Arguments]"==s||c&&!h){if(a=f||c?{}:at(n),!d)return f?(e=n,t=(t=a)&&q(n,It(n),t),q(e,Ut(e),t)):(t=n,u=(u=a)&&q(n,jt(n),u),q(t,Nt(t),u))}else{if(!y[s])return h?n:{};a=function(t,e,n){var r,i,o=t.constructor;switch(e){case"[object ArrayBuffer]":return te(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return r=t,i=n?te(r.buffer):r.buffer,new r.constructor(i,r.byteOffset,r.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return re(t,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(r=new(i=t).constructor(i.source,ee.exec(i))).lastIndex=i.lastIndex,r;case"[object Set]":return new o;case"[object Symbol]":return ne?Object(ne.call(t)):{}}}(n,s,d)}}var u=(o=o||new st).get(n);if(u)return u;o.set(n,a),se(n)?n.forEach(function(t){a.add(ue(t,r,i,t,n,o))}):ae(n)&&n.forEach(function(t,e){a.set(e,ue(t,r,i,e,n,o))});var g=l?void 0:(p?f?ot:it:f?It:jt)(n);return ct(g||n,function(t,e){g&&(t=n[e=t]),dt(a,e,ue(t,r,i,e,n,o))}),a}function le(t){return function(){return t}}function he(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[++r];if(!1===e(i[s],s,i))break}return t}function de(t){return"function"==typeof t?t:me}function fe(t,e){return(O(t)?ct:_e)(t,de(e))}function pe(t,r){var i=[];return _e(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i}var ge,ye=function(t,e){return t&&he(t,e,jt)},_e=(ge=ye,function(t,e){if(null==t)return t;if(!St(t))return ge(t,e);for(var n=t.length,r=-1,i=Object(t);++r<n&&!1!==e(i[r],r,i););return t}),me=function(t){return t},qt=fe;function ve(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Y;++e<n;)this.add(t[e])}ve.prototype.add=ve.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ve.prototype.has=function(t){return this.__data__.has(t)};function be(t,e){return t.has(e)}function Oe(t,e,n,r,l,i){var h=1&n,d=t.length,o=e.length;if(d!=o&&!(h&&d<o))return!1;var o=i.get(t),f=i.get(e);if(o&&f)return o==e&&f==t;var a=-1,s=!0,p=2&n?new Ae:void 0;for(i.set(t,e),i.set(e,t);++a<d;){var g,c=t[a],u=e[a];if(void 0!==(g=r?h?r(u,c,a,e,t,i):r(c,u,a,t,e,i):g)){if(g)continue;s=!1;break}if(p){if(!function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}(e,function(t,e){return!be(p,e)&&(c===t||l(c,t,n,r,i))&&p.push(e)})){s=!1;break}}else if(c!==u&&!l(c,u,n,r,i)){s=!1;break}}return i.delete(t),i.delete(e),s}function xe(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function Ee(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function we(t,e,n,r,l,i){var o=O(t),a=O(e),s=o?"[object Array]":Zt(t),a=a?"[object Array]":Zt(e),h="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),d="[object Object]"==(a="[object Arguments]"==a?"[object Object]":a);if((a=s==a)&&_t(t)){if(!_t(e))return!1;h=!(o=!0)}if(a&&!h){i=i||new st;if(o||Ot(t))return Oe(t,e,n,r,l,i);else{var c=t;var u=e;o=s;var f=n;var p=r;var g=l;var y=i;switch(o){case"[object DataView]":if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=u.byteLength||!g(new Jt(c),new Jt(u)));case"[object Boolean]":case"[object Date]":case"[object Number]":return x(+c,+u);case"[object Error]":return c.name==u.name&&c.message==u.message;case"[object RegExp]":case"[object String]":return c==u+"";case"[object Map]":var _=xe;case"[object Set]":_=_||Ee;if(c.size!=u.size&&!(1&f))return!1;var m=y.get(c);if(m)return m==u;f|=2,y.set(c,u);m=Oe(_(c),_(u),f,p,g,y);return y.delete(c),m;case"[object Symbol]":if(Se)return Se.call(c)==Se.call(u)}return!1;return}}if(!(1&n)){s=h&&De.call(t,"__wrapped__"),o=d&&De.call(e,"__wrapped__");if(s||o)return l(s?t.value():t,o?e.value():e,n,r,i=i||new st)}return!!a&&function(t,e,l,n,h,r){var i=1&l,d=it(t),f=d.length;if(f!=it(e).length&&!i)return!1;for(var o=f;o--;){var a=d[o];if(!(i?a in e:je.call(e,a)))return!1}var s=r.get(t),c=r.get(e);if(s&&c)return s==e&&c==t;var u=!0;r.set(t,e),r.set(e,t);for(var p=i;++o<f;){var g,y=t[a=d[o]],_=e[a];if(!(void 0===(g=n?i?n(_,y,a,e,t,r):n(y,_,a,t,e,r):g)?y===_||h(y,_,l,n,r):g)){u=!1;break}p=p||"constructor"==a}return!u||p||(s=t.constructor)!=(c=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof s&&s instanceof s&&"function"==typeof c&&c instanceof c)&&(u=!1),r.delete(t),r.delete(e),u}(t,e,n,r,l,i=i||new st)}function Me(t,e,n,r,i){return t===e||(null==t||null==e||!ft(t)&&!ft(e)?t!=t&&e!=e:we(t,e,n,r,Me,i))}function Pe(t){return t==t&&!T(t)}function Ce(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in Object(t))}}var Ae=ve,t=e?e.prototype:void 0,Se=t?t.valueOf:void 0,je=Object.prototype.hasOwnProperty,De=Object.prototype.hasOwnProperty,Te=function(t){var e=function(t){for(var e=jt(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Pe(i)]}return e}(t);return 1==e.length&&e[0][2]?Ce(e[0][0],e[0][1]):function(l){return l===t||function(t,e,n){var r=e.length,i=r;if(null==l)return!i;for(t=Object(l);r--;){var o=e[r];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++r<i;){var a=(o=e[r])[0],s=t[a],c=o[1];if(o[2]){if(void 0===s&&!(a in t))return!1}else{var u,a=new st;if(!(void 0===u?Me(c,s,3,n,a):u))return!1}}return!0}(0,e)}},Ie=function(t){return"symbol"==typeof t||ft(t)&&"[object Symbol]"==D(t)},ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,Re=function(t,e){if(O(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ie(t))||Le.test(t)||!ke.test(t)||null!=e&&t in Object(e)};function Be(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");function o(){var t=arguments,e=i?i.apply(this,t):t[0],n=o.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),o.cache=n.set(e,t)||n,t)}return o.cache=new(Be.Cache||Y),o}Be.Cache=Y;function Ne(t,e){for(var n=0,r=(e=yn(e,t)).length;null!=t&&n<r;)t=t[_n(e[n++])];return n&&n==r?t:void 0}function Fe(t,e){return null!=t&&vn(t,e,mn)}function Ue(e){return function(t){return null==t?void 0:t[e]}}function We(t){return"function"==typeof t?t:null==t?me:"object"==typeof t?O(t)?bn(t[0],t[1]):Te(t):On(t)}function ze(t,e){return(O(t)?Lt:pe)(t,We(e))}function Ge(t,e){return null!=t&&xn.call(t,e)}function $e(t,e){return null!=t&&vn(t,e,Ge)}function Ke(t){return void 0===t}function Ve(t,e){return(O(t)?fn:wn)(t,We(e))}function Xe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Ye(t,r,i,o,e){return e(t,function(t,e,n){i=o?(o=!1,t):r(i,t,e,n)}),i}function He(t,e,n){var r=O(t)?Xe:Ye,i=arguments.length<3;return r(t,We(e),n,i,_e)}function qe(t){return O(t)||yt(t)||!!(jn&&t&&t[jn])}function Ze(t,e,n,r,i){var o=-1,a=t.length;for(n=n||qe,i=i||[];++o<a;){var s=t[o];0<e&&n(s)?1<e?Ze(s,e-1,n,r,i):rt(i,s):r||(i[i.length]=s)}return i}function Qe(o,a,s){return a=Tn(void 0===a?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=Tn(t.length-a,0),r=Array(n);++e<n;)r[e]=t[a+e];for(var e=-1,i=Array(a+1);++e<a;)i[e]=t[e];return i[a]=s(r),Dn(o,this,i)}}function Je(t,e){return kn(Qe(t,e,me),t+"")}function tn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function en(t){return t!=t}function nn(t,e){return!(null==t||!t.length)&&-1<function(t,e){if(e!=e)return tn(t,en,0);for(var n=t,r=e,i=-1,o=n.length;++i<o;)if(n[i]===r)return i;return-1}(t,e)}function rn(t){return ft(t)&&St(t)}function on(t){return null==t?[]:(t=jt(e=t),fn(t,function(t){return e[t]}));var e}var an,sn,cn,un,ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/\\(\\)?/g,dn=(un=(zt=Be(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(ln,function(t,e,n,r){i.push(n?r.replace(hn,"$1"):e||t)}),i},function(t){return 500===un.size&&un.clear(),t})).cache,zt),fn=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},N=e?e.prototype:void 0,pn=N?N.toString:void 0,gn=function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(O(e))return fn(e,t)+"";if(Ie(e))return pn?pn.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}(t)},yn=function(t,e){return O(t)?t:Re(t,e)?[t]:dn(gn(t))},_n=function(t){if("string"==typeof t||Ie(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},mn=function(t,e){return null!=t&&e in Object(t)},vn=function(t,e,n){for(var r=-1,i=(e=yn(e,t)).length,o=!1;++r<i;){var a=_n(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&bt(i)&&vt(a,i)&&(O(t)||yt(t))},bn=function(n,r){return Re(n)&&Pe(r)?Ce(_n(n),r):function(t){var e=void 0===(e=null==t?void 0:Ne(t,n))?void 0:e;return void 0===e&&e===r?Fe(t,n):Me(r,e,3)}},On=function(t){return Re(t)?Ue(_n(t)):(e=t,function(t){return Ne(t,e)});var e},xn=Object.prototype.hasOwnProperty,En=Object.prototype.hasOwnProperty,wn=function(t,r){var i=-1,o=St(t)?Array(t.length):[];return _e(t,function(t,e,n){o[++i]=r(t,e,n)}),o},Mn=Ue("length"),Pn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),$t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",t="\\ud83c[\\udffb-\\udfff]",zt="[^\\ud800-\\udfff]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",Cn="[\\ud800-\\udbff][\\udc00-\\udfff]",An="(?:"+$t+"|"+t+")?",An="[\\ufe0e\\ufe0f]?"+An+"(?:\\u200d(?:"+[zt,N,Cn].join("|")+")[\\ufe0e\\ufe0f]?"+An+")*",zt="(?:"+[zt+$t+"?",$t,N,Cn,"[\\ud800-\\udfff]"].join("|")+")",Sn=RegExp(t+"(?="+t+")|"+zt+An,"g"),jn=e?e.isConcatSpreadable:void 0,Dn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Tn=Math.max,$t=ut?function(t,e){return ut(t,"toString",{configurable:!0,enumerable:!1,value:le(e),writable:!0})}:me,In=Date.now,kn=(an=$t,cn=sn=0,function(){var t=In(),e=16-(t-cn);if(cn=t,0<e){if(800<=++sn)return arguments[0]}else sn=0;return an.apply(void 0,arguments)}),Ln=Gt&&1/Ee(new Gt([,-0]))[1]==1/0?function(t){return new Gt(t)}:function(){},N=Je(function(t){var e=Ze(t,1,rn,!0),n=-1,r=nn,i=e.length,o=!0,a=[],s=a;if(void 0,200<=i){t=Ln(e);if(t)return Ee(t);o=!1,r=be,s=new Ae}else s=a;t:for(;++n<i;){var c=u=e[n],u=0!==u?u:0;if(o&&c==c){for(var l=s.length;l--;)if(s[l]===c)continue t;a.push(u)}else r(s,c,void 0)||(s!==a&&s.push(c),a.push(u))}return a});try{Or={clone:function(t){return ue(t,4)},constant:le,each:qt,filter:ze,has:$e,isArray:O,isEmpty:function(t){if(null==t)return!0;if(St(t)&&(O(t)||"string"==typeof t||"function"==typeof t.splice||_t(t)||Ot(t)||yt(t)))return!t.length;var e,n=Zt(t);if("[object Map]"==n||"[object Set]"==n)return!t.size;if(Mt(t))return!At(t).length;for(e in t)if(En.call(t,e))return!1;return!0},isFunction:I,isUndefined:Ke,keys:jt,map:Ve,reduce:He,size:function(t){if(null==t)return 0;if(St(t))return"string"==typeof(e=t)||!O(e)&&ft(e)&&"[object String]"==D(e)?(e=t,(Pn.test(e)?function(t){for(var e=Sn.lastIndex=0;Sn.test(t);)++e;return e}:Mn)(e)):t.length;var e=Zt(t);return"[object Map]"==e||"[object Set]"==e?t.size:At(t).length},transform:function(t,r,i){var e,n=O(t),o=n||_t(t)||Ot(t);return r=We(r),null==i&&(e=t&&t.constructor,i=o?n?new e:[]:T(t)&&I(e)?oe(Ft(t)):{}),(o?ct:ye)(t,function(t,e,n){return r(i,t,e,n)}),i},union:N,values:on}}catch(c){}var l=Or=Or||window._,Rn=r;function r(t){this._isDirected=!l.has(t,"directed")||t.directed,this._isMultigraph=!!l.has(t,"multigraph")&&t.multigraph,this._isCompound=!!l.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=l.constant(void 0),this._defaultEdgeLabelFn=l.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Bn(t,e){t[e]?t[e]++:t[e]=1}function Nn(t,e){--t[e]||delete t[e]}function Fn(t,e,n,r){e=""+e,n=""+n;return!t&&n<e&&(t=e,e=n,n=t),e+""+n+""+(l.isUndefined(r)?"\0":r)}function Un(t,e){return Fn(t,e.v,e.w,e.name)}r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(t){return this._label=t,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(t){return l.isFunction(t)||(t=l.constant(t)),this._defaultNodeLabelFn=t,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return l.keys(this._nodes)},r.prototype.sources=function(){var e=this;return l.filter(this.nodes(),function(t){return l.isEmpty(e._in[t])})},r.prototype.sinks=function(){var e=this;return l.filter(this.nodes(),function(t){return l.isEmpty(e._out[t])})},r.prototype.setNodes=function(t,e){var n=arguments,r=this;return l.each(t,function(t){1<n.length?r.setNode(t,e):r.setNode(t)}),this},r.prototype.setNode=function(t,e){return l.has(this._nodes,t)?1<arguments.length&&(this._nodes[t]=e):(this._nodes[t]=1<arguments.length?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this},r.prototype.node=function(t){return this._nodes[t]},r.prototype.hasNode=function(t){return l.has(this._nodes,t)},r.prototype.removeNode=function(t){var e,n=this;return l.has(this._nodes,t)&&(e=function(t){n.removeEdge(n._edgeObjs[t])},delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],l.each(this.children(t),function(t){n.setParent(t)}),delete this._children[t]),l.each(l.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],l.each(l.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount),this},r.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(l.isUndefined(e))e="\0";else{for(var n=e+="";!l.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},r.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},r.prototype.parent=function(t){if(this._isCompound){t=this._parent[t];if("\0"!==t)return t}},r.prototype.children=function(t){if(l.isUndefined(t)&&(t="\0"),!this._isCompound)return"\0"===t?this.nodes():this.hasNode(t)?[]:void 0;t=this._children[t];return t?l.keys(t):void 0},r.prototype.predecessors=function(t){t=this._preds[t];if(t)return l.keys(t)},r.prototype.successors=function(t){t=this._sucs[t];if(t)return l.keys(t)},r.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return l.union(e,this.successors(t))},r.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},r.prototype.filterNodes=function(n){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound}),i=(r.setGraph(this.graph()),this),o=(l.each(this._nodes,function(t,e){n(e)&&r.setNode(e,t)}),l.each(this._edgeObjs,function(t){r.hasNode(t.v)&&r.hasNode(t.w)&&r.setEdge(t,i.edge(t))}),{});return this._isCompound&&l.each(r.nodes(),function(t){r.setParent(t,function t(e){var n=i.parent(e);return void 0===n||r.hasNode(n)?o[e]=n:n in o?o[n]:t(n)}(t))}),r},r.prototype.setDefaultEdgeLabel=function(t){return l.isFunction(t)||(t=l.constant(t)),this._defaultEdgeLabelFn=t,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return l.values(this._edgeObjs)},r.prototype.setPath=function(t,n){var r=this,i=arguments;return l.reduce(t,function(t,e){return 1<i.length?r.setEdge(t,e,n):r.setEdge(t,e),e}),this},r.prototype.setEdge=function(){var t,e=!1,n=arguments[0],n=("object"==typeof n&&null!==n&&"v"in n?(o=n.v,a=n.w,t=n.name,2===arguments.length&&(r=arguments[1],e=!0)):(o=n,a=arguments[1],t=arguments[3],2<arguments.length&&(r=arguments[2],e=!0)),o=""+o,a=""+a,l.isUndefined(t)||(t=""+t),Fn(this._isDirected,o,a,t));if(l.has(this._edgeLabels,n))return e&&(this._edgeLabels[n]=r),this;if(!l.isUndefined(t)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(o),this.setNode(a),this._edgeLabels[n]=e?r:this._defaultEdgeLabelFn(o,a,t);e=this._isDirected,r=""+(r=o),i=""+(i=a),!e&&i<r&&(e=r,r=i,i=e),e={v:r,w:i},(i=t)&&(e.name=i);var r,i=e,o=i.v,a=i.w;return Object.freeze(i),this._edgeObjs[n]=i,Bn(this._preds[a],o),Bn(this._sucs[o],a),this._in[a][n]=i,this._out[o][n]=i,this._edgeCount++,this},r.prototype.edge=function(t,e,n){t=1===arguments.length?Un(this._isDirected,t):Fn(this._isDirected,t,e,n);return this._edgeLabels[t]},r.prototype.hasEdge=function(t,e,n){t=1===arguments.length?Un(this._isDirected,t):Fn(this._isDirected,t,e,n);return l.has(this._edgeLabels,t)},r.prototype.removeEdge=function(t,e,n){var n=1===arguments.length?Un(this._isDirected,arguments[0]):Fn(this._isDirected,t,e,n),r=this._edgeObjs[n];return r&&(t=r.v,e=r.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Nn(this._preds[e],t),Nn(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},r.prototype.inEdges=function(t,e){var t=this._in[t];if(t)return t=l.values(t),e?l.filter(t,function(t){return t.v===e}):t},r.prototype.outEdges=function(t,e){var t=this._out[t];if(t)return t=l.values(t),e?l.filter(t,function(t){return t.w===e}):t},r.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};Cn={Graph:Rn,version:"2.1.8"},t={write:function(t){var r,i,e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:(i=t,l.map(i.nodes(),function(t){var e=i.node(t),n=i.parent(t),t={v:t};return l.isUndefined(e)||(t.value=e),l.isUndefined(n)||(t.parent=n),t})),edges:(r=t,l.map(r.edges(),function(t){var e=r.edge(t),n={v:t.v,w:t.w};return l.isUndefined(t.name)||(n.name=t.name),l.isUndefined(e)||(n.value=e),n}))};return l.isUndefined(t.graph())||(e.value=l.clone(t.graph())),e},read:function(t){var e=new Rn(t.options).setGraph(t.value);return l.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),l.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}};var Wn=zn;function zn(){this._arr=[],this._keyIndices={}}zn.prototype.size=function(){return this._arr.length},zn.prototype.keys=function(){return this._arr.map(function(t){return t.key})},zn.prototype.has=function(t){return l.has(this._keyIndices,t)},zn.prototype.priority=function(t){t=this._keyIndices[t];if(void 0!==t)return this._arr[t].priority},zn.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},zn.prototype.add=function(t,e){var n,r,i=this._keyIndices;return t=String(t),!l.has(i,t)&&(r=(n=this._arr).length,i[t]=r,n.push({key:t,priority:e}),this._decrease(r),!0)},zn.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},zn.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},zn.prototype._heapify=function(t){var e=this._arr,n=2*t,r=1+n,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,(i=r<e.length?e[r].priority<e[i].priority?r:i:i)!==t&&(this._swap(t,i),this._heapify(i)))},zn.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},zn.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};function Gn(e,t,n,r){var i=e,o=String(t),l=n||Kn,h=r||function(t){return e.outEdges(t)};function d(t){var e=t.v!==a?t.v:t.w,n=c[e],r=l(t),i=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+r);i<n.distance&&(n.distance=i,n.predecessor=a,u.decrease(e,i))}var a,s,c={},u=new Wn;for(i.nodes().forEach(function(t){var e=t===o?0:Number.POSITIVE_INFINITY;c[t]={distance:e},u.add(t,e)});0<u.size()&&(a=u.removeMin(),(s=c[a]).distance!==Number.POSITIVE_INFINITY);)h(a).forEach(d);return c}function $n(o){var a=0,s=[],c={},u=[];return o.nodes().forEach(function(t){l.has(c,t)||function e(t){var n=c[t]={onStack:!0,lowlink:a,index:a++};if(s.push(t),o.successors(t).forEach(function(t){l.has(c,t)?c[t].onStack&&(n.lowlink=Math.min(n.lowlink,c[t].index)):(e(t),n.lowlink=Math.min(n.lowlink,c[t].lowlink))}),n.lowlink===n.index){for(var r,i=[];r=s.pop(),c[r].onStack=!1,i.push(r),t!==r;);u.push(i)}}(t)}),u}var Kn=l.constant(1),Vn=l.constant(1),Xn=Yn;function Yn(n){var r={},i={},o=[];if(l.each(n.sinks(),function t(e){if(l.has(i,e))throw new Hn;l.has(r,e)||(i[e]=!0,r[e]=!0,l.each(n.predecessors(e),t),delete i[e],o.push(e))}),l.size(r)!==n.nodeCount())throw new Hn;return o}function Hn(){}(Yn.CycleException=Hn).prototype=new Error;function qn(e,t,n){l.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return l.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(n,t,r,i,o,a){l.has(i,t)||(i[t]=!0,r||a.push(t),l.each(o(t),function(t){e(n,t,r,i,o,a)}),r&&a.push(t))}(e,t,"post"===n,o,r,i)}),i}zt={Graph:Cn.Graph,json:t,alg:{components:function(e){var n,r={},i=[];function o(t){l.has(r,t)||(r[t]=!0,n.push(t),l.each(e.successors(t),o),l.each(e.predecessors(t),o))}return l.each(e.nodes(),function(t){n=[],o(t),n.length&&i.push(n)}),i},dijkstra:Gn,dijkstraAll:function(n,r,i){return l.transform(n.nodes(),function(t,e){t[e]=Gn(n,e,r,i)},{})},findCycles:function(e){return l.filter($n(e),function(t){return 1<t.length||1===t.length&&e.hasEdge(t[0],t[0])})},floydWarshall:function(e,t,n){return r=t||Vn,i=n||function(t){return e.outEdges(t)},a={},(s=e.nodes()).forEach(function(n){a[n]={},a[n][n]={distance:0},s.forEach(function(t){n!==t&&(a[n][t]={distance:Number.POSITIVE_INFINITY})}),i(n).forEach(function(t){var e=t.v===n?t.w:t.v,t=r(t);a[n][e]={distance:t,predecessor:n}})}),s.forEach(function(i){var o=a[i];s.forEach(function(t){var r=a[t];s.forEach(function(t){var e=r[i],n=o[t],t=r[t],e=e.distance+n.distance;e<t.distance&&(t.distance=e,t.predecessor=n.predecessor)})})}),a;var r,i,a,s},isAcyclic:function(t){try{Xn(t)}catch(t){if(t instanceof Xn.CycleException)return!1;throw t}return!0},postorder:function(t,e){return qn(t,e,"post")},preorder:function(t,e){return qn(t,e,"pre")},prim:function(t,r){var i,e=new Rn,o={},a=new Wn;function n(t){var e=t.v===i?t.w:t.v,n=a.priority(e);void 0===n||(t=r(t))<n&&(o[e]=i,a.decrease(e,t))}if(0===t.nodeCount())return e;l.each(t.nodes(),function(t){a.add(t,Number.POSITIVE_INFINITY),e.setNode(t)}),a.decrease(t.nodes()[0],0);for(var s=!1;0<a.size();){if(i=a.removeMin(),l.has(o,i))e.setEdge(i,o[i]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(i).forEach(n)}return e},tarjan:$n,topsort:Xn},version:Cn.version};try{Fi=zt}catch(c){}function Zn(t,e,n){if(!T(n))return!1;var r=typeof e;return!!("number"==r?St(n)&&vt(e,n.length):"string"==r&&e in n)&&x(n[e],t)}function Qn(t){return t?1/0===(t=function(t){if("number"==typeof t)return t;if(Ie(t))return NaN;if(T(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=T(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(dr,"");var e=pr.test(t);return e||gr.test(t)?yr(t.slice(2),e?2:8):fr.test(t)?NaN:+t}(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function Jn(t,e,n){var r,i=Object(t);return St(t)||(r=We(e),t=jt(t),e=function(t){return r(i[t],t,i)}),-1<(e=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:function(t){var e=Qn(t),n=e%1;return e==e?n?e-n:e:0}(n);return i<0&&(i=_r(r+i,0)),tn(t,We(e),i)}(t,e,n))?i[r?t[e]:e]:void 0}function tr(t){return null!=t&&t.length?Ze(t,1):[]}function er(t,e,n){for(var r=-1,i=t.length;++r<i;){var o,a,s=t[r],c=e(s);null!=c&&(void 0===o?c==c&&!Ie(c):n(c,o))&&(o=c,a=s)}return a}function nr(t,e){return e<t}function rr(t,e,n){(void 0===n||x(t[e],n))&&(void 0!==n||e in t)||lt(t,e,n)}function ir(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function or(t,e){return t<e}function ar(t,e){for(var n=t,r=e,i=-1,o=r.length,a={};++i<o;){var s=r[i],c=Ne(n,s);Fe(t,s)&&function(t,e,n,r){if(!T(t))return;for(var i=-1,o=(e=yn(e,t)).length,l=o-1,a=t;null!=a&&++i<o;){var s,c=_n(e[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return;i!=l&&(s=a[c],void 0===(u=r?r(s,c,a):void 0)&&(u=T(s)?s:vt(e[i+1])?[]:{})),dt(a,c,u),a=a[c]}}(a,yn(s,n),c)}return a}function sr(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ie(t),a=void 0!==e,s=null===e,c=e==e,u=Ie(e);if(!s&&!u&&!o&&e<t||o&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}function cr(t,r,h){r=r.length?fn(r,function(e){return O(e)?function(t){return Ne(t,1===e.length?e[0]:e)}:e}):[me];var i=-1,e=(r=fn(r,J(We)),wn(t,function(e,t,n){return{criteria:fn(r,function(t){return t(e)}),index:++i,value:e}})),n=e.length;for(e.sort(function(t,e){for(var n=t,r=e,i=h,o=-1,a=n.criteria,s=r.criteria,c=a.length,l=i.length;++o<c;){var u=sr(a[o],s[o]);if(u)return o>=l?u:u*("desc"==i[o]?-1:1)}return n.index-r.index});n--;)e[n]=e[n].value;return e}var ur,An=Fi=Fi||window.graphlib,lr=Object.prototype,hr=lr.hasOwnProperty,e=Je(function(t,e){t=Object(t);var n=-1,r=e.length,i=2<r?e[2]:void 0;for(i&&Zn(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=It(o),s=-1,l=a.length;++s<l;){var c=a[s],u=t[c];(void 0===u||x(u,lr[c])&&!hr.call(t,c))&&(t[c]=o[c])}return t}),dr=/^\s+|\s+$/g,fr=/^[-+]0x[0-9a-f]+$/i,pr=/^0b[01]+$/i,gr=/^0o[0-7]+$/i,yr=parseInt,_r=Math.max,$t=Function.prototype,N=Object.prototype,mr=$t.toString,vr=N.hasOwnProperty,br=mr.call(Object),Or=(ur=function(t,e,n){!function g(y,_,m,v,b){y!==_&&he(_,function(l,t){var e,n,r,h,d,i,o,a,f,p,s,c,u;b=b||new st,T(l)?(n=_,h=m,d=g,i=v,o=b,s=ir(e=y,r=t),c=ir(n,r),(u=o.get(c))?rr(e,r,u):((n=void 0===(u=i?i(s,c,r+"",e,n,o):void 0))&&(f=!(a=O(c))&&_t(c),p=!a&&!f&&Ot(c),u=c,a||f||p?u=O(s)?s:rn(s)?et(s):f?kt(c,!(n=!1)):p?re(c,!(n=!1)):[]:function(t){if(ft(t)&&"[object Object]"==D(t)){t=Ft(t);if(null===t)return 1;t=vr.call(t,"constructor")&&t.constructor;return"function"==typeof t&&t instanceof t&&mr.call(t)==br}}(c)||yt(c)?yt(u=s)?u=q(s,It(s)):T(s)&&!I(s)||(u=at(c)):n=!1),n&&(o.set(c,u),d(u,c,h,i,o),o.delete(c)),rr(e,r,u))):(a=v?v(ir(y,t),l,t+"",y,_,b):void 0,rr(y,t,a=void 0===a?l:a))},It)}(t,e,n)},Je(function(t,e){var n=-1,r=e.length,i=1<r?e[r-1]:void 0,o=2<r?e[2]:void 0,i=3<ur.length&&"function"==typeof i?(r--,i):void 0;for(o&&Zn(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&ur(t,a,n)}return t})),Cn=kn(Qe(t=function(t,e){return null==t?{}:ar(t,e)},void 0,tr),t+""),xr=Math.ceil,Er=Math.max,zt=Je(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Zn(t,e[0],e[1])?e=[]:2<n&&Zn(e[0],e[1],e[2])&&(e=[e[0]]),cr(t,Ze(e,1),[])}),wr=0;try{Mr={cloneDeep:function(t){return ue(t,5)},constant:le,defaults:e,each:qt,filter:ze,find:Jn,flatten:tr,forEach:fe,forIn:function(t,e){return null==t?t:he(t,de(e),It)},has:$e,isUndefined:Ke,last:function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},map:Ve,mapValues:function(t,r){var i={};return r=We(r),ye(t,function(t,e,n){lt(i,e,r(t,e,n))}),i},max:function(t){return t&&t.length?er(t,me,nr):void 0},merge:Or,min:function(t){return t&&t.length?er(t,me,or):void 0},minBy:function(t,e){return t&&t.length?er(t,We(e),or):void 0},now:function(){return w.Date.now()},pick:Cn,range:function(t,e,n){n&&"number"!=typeof n&&Zn(t,e,n)&&(e=n=void 0),t=Qn(t),void 0===e?(e=t,t=0):e=Qn(e);for(var r=t,i=e,o=n=void 0===n?t<e?1:-1:Qn(n),a=-1,s=Er(xr((i-r)/(o||1)),0),c=Array(s);s--;)c[++a]=r,r+=o;return c},reduce:He,sortBy:zt,uniqueId:function(t){var e=++wr;return gn(t)+e},values:on,zipObject:function(t,e){for(var n=t||[],r=e||[],i=dt,o=-1,a=n.length,s=r.length,c={};++o<a;){var u=o<s?r[o]:void 0;i(c,n[o],u)}return c}}}catch(c){}var Mr,S=Mr=Mr||window._,Pr=Cr;function Cr(){var t={};t._next=t._prev=t,this._sentinel=t}function Ar(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function Sr(t,e){if("_next"!==t&&"_prev"!==t)return e}Cr.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return Ar(e),e},Cr.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&Ar(t),t._next=e._next,e._next._prev=t,(e._next=t)._prev=e},Cr.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,Sr)),n=n._prev;return"["+t.join(", ")+"]"};var jr=An.Graph,Dr=S.constant(1);function Tr(r,i,o,t,a){var s=a?[]:void 0;return S.forEach(r.inEdges(t.v),function(t){var e=r.edge(t),n=r.node(t.v);a&&s.push({v:t.v,w:t.w}),n.out-=e,Ir(i,o,n)}),S.forEach(r.outEdges(t.v),function(t){var e=r.edge(t),t=t.w,t=r.node(t);t.in-=e,Ir(i,o,t)}),r.removeNode(t.v),s}function Ir(t,e,n){(n.out?n.in?t[n.out-n.in+e]:t[t.length-1]:t[0]).enqueue(n)}function kr(n){var r,i,o,a,e,t="greedy"===n.graph().acyclicer?function(e,t){if(e.nodeCount()<=1)return[];c=e,r=t||Dr,i=new jr,a=o=0,S.forEach(c.nodes(),function(t){i.setNode(t,{v:t,in:0,out:0})}),S.forEach(c.edges(),function(t){var e=i.edge(t.v,t.w)||0,n=r(t);i.setEdge(t.v,t.w,e+n),a=Math.max(a,i.node(t.v).out+=n),o=Math.max(o,i.node(t.w).in+=n)}),n=S.range(a+o+3).map(function(){return new Pr}),s=o+1,S.forEach(i.nodes(),function(t){Ir(n,s,i.node(t))});var r,i,o,a,n,s,t={graph:i,buckets:n,zeroIdx:s},c=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)Tr(t,e,n,r);for(;r=o.dequeue();)Tr(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;0<s;--s)if(r=e[s].dequeue()){i=i.concat(Tr(t,e,n,r,!0));break}}return i}(t.graph,t.buckets,t.zeroIdx);return S.flatten(S.map(c,function(t){return e.outEdges(t.v,t.w)}),!0)}(n,(e=n,function(t){return e.edge(t).weight})):(r=n,i=[],o={},a={},S.forEach(r.nodes(),function e(t){S.has(a,t)||(a[t]=!0,o[t]=!0,S.forEach(r.outEdges(t),function(t){S.has(o,t.w)?i.push(t):e(t.w)}),delete o[t])}),i);S.forEach(t,function(t){var e=n.edge(t);n.removeEdge(t),e.forwardName=t.name,e.reversed=!0,n.setEdge(t.w,t.v,e,S.uniqueId("rev"))})}var Lr=An.Graph,v={addDummyNode:Rr,simplify:function(r){var i=(new Lr).setGraph(r.graph());return S.forEach(r.nodes(),function(t){i.setNode(t,r.node(t))}),S.forEach(r.edges(),function(t){var e=i.edge(t.v,t.w)||{weight:0,minlen:1},n=r.edge(t);i.setEdge(t.v,t.w,{weight:e.weight+n.weight,minlen:Math.max(e.minlen,n.minlen)})}),i},asNonCompoundGraph:function(e){var n=new Lr({multigraph:e.isMultigraph()}).setGraph(e.graph());return S.forEach(e.nodes(),function(t){e.children(t).length||n.setNode(t,e.node(t))}),S.forEach(e.edges(),function(t){n.setEdge(t,e.edge(t))}),n},successorWeights:function(n){var t=S.map(n.nodes(),function(t){var e={};return S.forEach(n.outEdges(t),function(t){e[t.w]=(e[t.w]||0)+n.edge(t).weight}),e});return S.zipObject(n.nodes(),t)},predecessorWeights:function(n){var t=S.map(n.nodes(),function(t){var e={};return S.forEach(n.inEdges(t),function(t){e[t.v]=(e[t.v]||0)+n.edge(t).weight}),e});return S.zipObject(n.nodes(),t)},intersectRect:function(t,e){var n,r=t.x,i=t.y,o=e.x-r,e=e.y-i,a=t.width/2,t=t.height/2;if(!o&&!e)throw new Error("Not possible to find intersection inside of the rectangle");return t=Math.abs(e)*a>Math.abs(o)*t?(n=(t=e<0?-t:t)*o/e,t):(n=a=o<0?-a:a)*e/o,{x:r+n,y:i+t}},buildLayerMatrix:function(r){var i=S.map(S.range(Br(r)+1),function(){return[]});return S.forEach(r.nodes(),function(t){var e=r.node(t),n=e.rank;S.isUndefined(n)||(i[n][e.order]=t)}),i},normalizeRanks:function(e){var n=S.min(S.map(e.nodes(),function(t){return e.node(t).rank}));S.forEach(e.nodes(),function(t){t=e.node(t);S.has(t,"rank")&&(t.rank-=n)})},removeEmptyRanks:function(n){var r=S.min(S.map(n.nodes(),function(t){return n.node(t).rank})),i=[],o=(S.forEach(n.nodes(),function(t){var e=n.node(t).rank-r;i[e]||(i[e]=[]),i[e].push(t)}),0),a=n.graph().nodeRankFactor;S.forEach(i,function(t,e){S.isUndefined(t)&&e%a!=0?--o:o&&S.forEach(t,function(t){n.node(t).rank+=o})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};return 4<=arguments.length&&(i.rank=n,i.order=r),Rr(t,"border",i,e)},maxRank:Br,partition:function(t,e){var n={lhs:[],rhs:[]};return S.forEach(t,function(t){(e(t)?n.lhs:n.rhs).push(t)}),n},time:function(t,e){var n=S.now();try{return e()}finally{console.log(t+" time: "+(S.now()-n)+"ms")}},notime:function(t,e){return e()}};function Rr(t,e,n,r){for(var i;i=S.uniqueId(r),t.hasNode(i););return n.dummy=e,t.setNode(i,n),i}function Br(e){return S.max(S.map(e.nodes(),function(t){t=e.node(t).rank;if(!S.isUndefined(t))return t}))}function Nr(d){d.graph().dummyChains=[],S.forEach(d.edges(),function(t){var e,n,r,i=d,o=t,a=o.v,s=i.node(a).rank,t=o.w,c=i.node(t).rank,l=o.name,u=i.edge(o),h=u.labelRank;if(c!==s+1){for(i.removeEdge(o),r=0,++s;s<c;++r,++s)u.points=[],e=v.addDummyNode(i,"edge",n={width:0,height:0,edgeLabel:u,edgeObj:o,rank:s},"_d"),s===h&&(n.width=u.width,n.height=u.height,n.dummy="edge-label",n.labelpos=u.labelpos),i.setEdge(a,e,{weight:u.weight},l),0===r&&i.graph().dummyChains.push(e),a=e;i.setEdge(a,t,{weight:u.weight},l)}})}function Fr(r){var i={};S.forEach(r.sources(),function e(t){var n=r.node(t);if(S.has(i,t))return n.rank;i[t]=!0;t=S.min(S.map(r.outEdges(t),function(t){return e(t.w)-r.edge(t).minlen}));return t!==Number.POSITIVE_INFINITY&&null!=t||(t=0),n.rank=t})}function Ur(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function Wr(t){var e,n=new zr({directed:!1}),r=t.nodes()[0],i=t.nodeCount();for(n.setNode(r,{});function(i,o){return S.forEach(i.nodes(),function n(r){S.forEach(o.nodeEdges(r),function(t){var e=t.v,e=r===e?t.w:e;i.hasNode(e)||Gr(o,t)||(i.setNode(e,{}),i.setEdge(r,e,{}),n(e))})}),i.nodeCount()}(n,t)<i;)e=function(e,n){return S.minBy(n.edges(),function(t){if(e.hasNode(t.v)!==e.hasNode(t.w))return Gr(n,t)})}(n,t),e=n.hasNode(e.v)?Gr(t,e):-Gr(t,e),function(t,e,n){S.forEach(t.nodes(),function(t){e.node(t).rank+=n})}(n,t,e);return n}var zr=An.Graph,Gr=Ur;var $r=Ur,Kr=Fr,Vr=An.alg.preorder,Xr=An.alg.postorder,Yr=v.simplify,Hr=qr;function qr(t){t=Yr(t),Kr(t);var e,n=Wr(t);for(Jr(n),Zr(n,t);e=ti(n);)ni(n,t,e,ei(n,t,e))}function Zr(i,o){var t=(t=Xr(i,i.nodes())).slice(0,t.length-1);S.forEach(t,function(t){var e,n,r;n=o,t=t,r=(e=i).node(t).parent,e.edge(t,r).cutvalue=Qr(e,n,t)})}function Qr(r,i,o){var a=r.node(o).parent,s=!0,t=i.edge(o,a),c=0;return t||(s=!1,t=i.edge(a,o)),c=t.weight,S.forEach(i.nodeEdges(o),function(t){var e=t.v===o,n=e?t.w:t.v;n!==a&&(e=e===s,t=i.edge(t).weight,c+=e?t:-t,r.hasEdge(o,n)&&(t=r.edge(o,n).cutvalue,c+=e?-t:t))}),c}function Jr(t,e){arguments.length<2&&(e=t.nodes()[0]),function e(n,r,i,o,t){var a=i,s=n.node(o);return r[o]=!0,S.forEach(n.neighbors(o),function(t){S.has(r,t)||(i=e(n,r,i,t,o))}),s.low=a,s.lim=i++,t?s.parent=t:delete s.parent,i}(t,{},1,e)}function ti(e){return S.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function ei(e,n,t){var r=t.v,i=t.w,t=(n.hasEdge(r,i)||(r=t.w,i=t.v),e.node(r)),r=e.node(i),o=t,a=!1,i=(t.lim>r.lim&&(o=r,a=!0),S.filter(n.edges(),function(t){return a===ri(0,e.node(t.v),o)&&a!==ri(0,e.node(t.w),o)}));return S.minBy(i,function(t){return $r(n,t)})}function ni(t,e,n,r){var i,o,a=n.v,n=n.w;t.removeEdge(a,n),t.setEdge(r.v,r.w,{}),Jr(t),Zr(t,e),i=t,o=e,a=S.find(i.nodes(),function(t){return!o.node(t).parent}),a=(a=Vr(i,a)).slice(1),S.forEach(a,function(t){var e=i.node(t).parent,n=o.edge(t,e),r=!1;n||(n=o.edge(e,t),r=!0),o.node(t).rank=o.node(e).rank+(r?n.minlen:-n.minlen)})}function ri(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}qr.initLowLimValues=Jr,qr.initCutValues=Zr,qr.calcCutValue=Qr,qr.leaveEdge=ti,qr.enterEdge=ei,qr.exchangeEdges=ni;var ii=Fr,oi=ii;function ai(t){Hr(t)}function si(e){var i,o,n,r=v.addDummyNode(e,"root",{},"_root"),a=(i=e,o={},S.forEach(i.children(),function(t){!function e(t,n){var r=i.children(t);r&&r.length&&S.forEach(r,function(t){e(t,n+1)}),o[t]=n}(t,1)}),o),s=S.max(S.values(a))-1,c=2*s+1,u=(e.graph().nestingRoot=r,S.forEach(e.edges(),function(t){e.edge(t).minlen*=c}),n=e,S.reduce(n.edges(),function(t,e){return t+n.edge(e).weight},0)+1);S.forEach(e.children(),function(t){!function f(i,o,a,s,c,u,l){var h,d,t,e=i.children(l);e.length?(h=v.addBorderNode(i,"_bt"),d=v.addBorderNode(i,"_bb"),t=i.node(l),i.setParent(h,l),t.borderTop=h,i.setParent(d,l),t.borderBottom=d,S.forEach(e,function(t){f(i,o,a,s,c,u,t);var e=i.node(t),n=e.borderTop||t,t=e.borderBottom||t,e=e.borderTop?s:2*s,r=n!==t?1:c-u[l]+1;i.setEdge(h,n,{weight:e,minlen:r,nestingEdge:!0}),i.setEdge(t,d,{weight:e,minlen:r,nestingEdge:!0})}),i.parent(l)||i.setEdge(o,h,{weight:0,minlen:c+u[l]})):l!==o&&i.setEdge(o,l,{weight:0,minlen:a})}(e,r,c,u,s,a,t)}),e.graph().nodeRankFactor=c}function ci(t,e,n,r,i,o){var a=i[e][o-1],n=v.addDummyNode(t,"border",{width:0,height:0,rank:o,borderType:e},n);i[e][o]=n,t.setParent(n,r),a&&t.setEdge(a,n,{weight:1})}function ui(e){S.forEach(e.nodes(),function(t){li(e.node(t))}),S.forEach(e.edges(),function(t){li(e.edge(t))})}function li(t){var e=t.width;t.width=t.height,t.height=e}function hi(t){t.y=-t.y}function di(t){var e=t.x;t.x=t.y,t.y=e}function fi(t,e){for(var n=0,r=1;r<e.length;++r)n+=function(e,t,n){for(var r=S.zipObject(n,S.map(n,function(t,e){return e})),t=S.flatten(S.map(t,function(t){return S.sortBy(S.map(e.outEdges(t),function(t){return{pos:r[t.w],weight:e.edge(t).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var o=2*i-1,a=(--i,S.map(new Array(o),function(){return 0})),s=0;return S.forEach(t.forEach(function(t){var e=t.pos+i;a[e]+=t.weight;for(var n=0;0<e;)e%2&&(n+=a[e+1]),a[e=e-1>>1]+=t.weight;s+=t.weight*n})),s}(t,e[r-1],e[r]);return n}function pi(t,e,n){for(var r;e.length&&(r=S.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function gi(t){var r,i,e,o,n=v.maxRank(t),l=vi(t,S.range(1,n+1),"inEdges"),h=vi(t,S.range(n-1,-1,-1),"outEdges");r=t,i={},n=S.filter(r.nodes(),function(t){return!r.children(t).length}),e=S.max(S.map(n,function(t){return r.node(t).rank})),o=S.map(S.range(e+1),function(){return[]}),e=S.sortBy(n,function(t){return r.node(t).rank}),S.forEach(e,function t(e){var n;S.has(i,e)||(i[e]=!0,n=r.node(e),o[n.rank].push(e),S.forEach(r.successors(e),t))}),bi(t,o);for(var a,s=Number.POSITIVE_INFINITY,c=0,u=0;u<4;++c,++u){(function(t,e){var r=new mi;S.forEach(t,function(n){var i,o,a,s,t=n.graph().root,t=yi(n,t,r,e);S.forEach(t.vs,function(t,e){n.node(t).order=e}),i=n,o=r,t=t.vs,s={},S.forEach(t,function(t){for(var e,n,r=i.parent(t);r;){if((e=i.parent(r))?(n=s[e],s[e]=r):(n=a,a=r),n&&n!==r)return void o.setEdge(n,r);r=e}})})})(c%2?l:h,2<=c%4);var d=v.buildLayerMatrix(t),f=fi(t,d);f<s&&(u=0,a=S.cloneDeep(d),s=f)}bi(t,a)}var yi=function l(n,t,h,d){var r,e,f,p,i,g,o,a,s,c=n.children(t),t=n.node(t),u=t?t.borderLeft:void 0,y=t?t.borderRight:void 0,_={},m=(u&&(c=S.filter(c,function(t){return t!==u&&t!==y})),r=n,t=c,S.map(t,function(t){var e=r.inEdges(t);return e.length?{v:t,barycenter:(e=S.reduce(e,function(t,e){var n=r.edge(e),e=r.node(e.v);return{sum:t.sum+n.weight*e.order,weight:t.weight+n.weight}},{sum:0,weight:0})).sum/e.weight,weight:e.weight}:{v:t}})),c=(S.forEach(m,function(t){var e;n.children(t.v).length&&(e=l(n,t.v,h,d),_[t.v]=e,S.has(e,"barycenter")&&(e=e,S.isUndefined((t=t).barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)))}),function(t){var r={},n=(S.forEach(m,function(t,e){e=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};S.isUndefined(t.barycenter)||(e.barycenter=t.barycenter,e.weight=t.weight)}),S.forEach(t.edges(),function(t){var e=r[t.v],n=r[t.w];S.isUndefined(e)||S.isUndefined(n)||(n.indegree++,e.out.push(r[t.w]))}),S.filter(r,function(t){return!t.indegree})),e=[];function i(i){return function(t){var e,n,r;t.merged||(S.isUndefined(t.barycenter)||S.isUndefined(i.barycenter)||t.barycenter>=i.barycenter)&&(t=t,r=n=0,(e=i).weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0)}}for(;n.length;){var o=n.pop();e.push(o),S.forEach(o.in.reverse(),i(o)),S.forEach(o.out,function(e){return function(t){t.in.push(e),0==--t.indegree&&n.push(t)}}(o))}return S.map(S.filter(e,function(t){return!t.merged}),function(t){return S.pick(t,["vs","i","barycenter","weight"])})}(h)),t=(e=_,S.forEach(c,function(t){t.vs=S.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)}),t=d,c=v.partition(c,function(t){return S.has(t,"barycenter")}),s=c.lhs,p=S.sortBy(c.rhs,function(t){return-t.i}),i=[],a=o=g=0,s.sort((f=!!t,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:f?e.i-t.i:t.i-e.i})),a=pi(i,p,a),S.forEach(s,function(t){a+=t.vs.length,i.push(t.vs),g+=t.barycenter*t.weight,o+=t.weight,a=pi(i,p,a)}),c={vs:S.flatten(i,!0)},o&&(c.barycenter=g/o,c.weight=o),c);return u&&(t.vs=S.flatten([u,t.vs,y],!0),n.predecessors(u).length)&&(s=n.node(n.predecessors(u)[0]),c=n.node(n.predecessors(y)[0]),S.has(t,"barycenter")||(t.barycenter=0,t.weight=0),t.barycenter=(t.barycenter*t.weight+s.order+c.order)/(t.weight+2),t.weight+=2),t},_i=An.Graph,mi=An.Graph;function vi(e,t,r){return S.map(t,function(t){return n=t,o=r,a=function(t){for(var e;t.hasNode(e=S.uniqueId("_root")););return e}(i=e),s=new _i({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(t){return i.node(t)}),S.forEach(i.nodes(),function(r){var t=i.node(r),e=i.parent(r);(t.rank===n||t.minRank<=n&&n<=t.maxRank)&&(s.setNode(r),s.setParent(r,e||a),S.forEach(i[o](r),function(t){var e=t.v===r?t.w:t.v,n=s.edge(e,r),n=S.isUndefined(n)?0:n.weight;s.setEdge(e,r,{weight:i.edge(t).weight+n})}),S.has(t,"minRank")&&s.setNode(r,{borderLeft:t.borderLeft[n],borderRight:t.borderRight[n]}))}),s;var i,n,o,a,s})}function bi(n,t){S.forEach(t,function(t){S.forEach(t,function(t,e){n.node(t).order=e})})}var Oi=An.Graph;function xi(t,e,n){n<e&&(r=e,e=n,n=r);var r=t[e];r||(t[e]=r={}),r[n]=!0}function Ei(M){var P,s,a,u,l,t=v.buildLayerMatrix(M),A=S.merge((u=M,l={},S.reduce(t,function(t,r){var o=0,a=0,s=t.length,c=S.last(r);return S.forEach(r,function(t,e){var n=function(e,t){if(e.node(t).dummy)return S.find(e.predecessors(t),function(t){return e.node(t).dummy})}(u,t),i=n?u.node(n).order:s;!n&&t!==c||(S.forEach(r.slice(a,e+1),function(r){S.forEach(u.predecessors(r),function(t){var e=u.node(t),n=e.order;!(n<o||i<n)||e.dummy&&u.node(r).dummy||xi(l,t,r)})}),a=e+1,o=i)}),r}),l),(s=M,a={},S.reduce(t,function(n,r){var i,o=-1,a=0;return S.forEach(r,function(t,e){"border"!==s.node(t).dummy||(t=s.predecessors(t)).length&&(i=s.node(t[0]).order,c(r,a,e,o,i),a=e,o=i),c(r,a,r.length,i,n.length)}),r}),a)),C={};function c(e,t,n,r,i){var o;S.forEach(S.range(t,n),function(t){o=e[t],s.node(o).dummy&&S.forEach(s.predecessors(o),function(t){var e=s.node(t);e.dummy&&(e.order<r||e.order>i)&&xi(a,t,o)})})}S.forEach(["u","d"],function(w){P="u"===w?t:S.values(t).reverse(),S.forEach(["l","r"],function(t){"r"===t&&(P=S.map(P,function(t){return S.values(t).reverse()}));var s,c,u,f,p,g,y,_,m,o,v,r,a,b,e,O,x,l,h,d,n=("u"===w?M.predecessors:M.successors).bind(M),n=(e=P,O=A,x=n,l={},h={},d={},S.forEach(e,function(t){S.forEach(t,function(t,e){l[t]=t,h[t]=t,d[t]=e})}),S.forEach(e,function(t){var u=-1;S.forEach(t,function(t){var e,n,r,i=x(t);if(i.length)for(var o=((i=S.sortBy(i,function(t){return d[t]})).length-1)/2,a=Math.floor(o),s=Math.ceil(o);a<=s;++a){var c=i[a];h[t]===t&&u<d[c]&&(r=void 0,(n=c)<(e=t)&&(r=e,e=n,n=r),!S.has(O[e],n))&&(h[c]=t,h[t]=l[t]=l[c],u=d[c])}})}),{root:l,align:h}),i=(s=M,e=P,u=n.align,r={},f=s,e=e,p=c=n.root,g=n="r"===t,o=new Oi,i=f.graph(),y=i.nodesep,_=i.edgesep,m=g,v=function(t,e,n){var r,i=t.node(e),o=t.node(n),e=0;if(e+=i.width/2,S.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":r=-i.width/2;break;case"r":r=i.width/2}if(r&&(e+=m?r:-r),r=0,e=(e=(e+=(i.dummy?_:y)/2)+(o.dummy?_:y)/2)+o.width/2,S.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":r=o.width/2;break;case"r":r=-o.width/2}return r&&(e+=m?r:-r),r=0,e},S.forEach(e,function(t){var i;S.forEach(t,function(t){var e,n,r=p[t];o.setNode(r),i&&(e=p[i],n=o.edge(e,r),o.setEdge(e,r,Math.max(v(f,t,i),n||0))),i=t})}),b=n?"borderLeft":"borderRight",E(function(t){r[t]=a.inEdges(t).reduce(function(t,e){return Math.max(t,r[e.v]+a.edge(e))},0)},(a=o).predecessors.bind(a)),E(function(t){var e=a.outEdges(t).reduce(function(t,e){return Math.min(t,r[e.w]-a.edge(e))},Number.POSITIVE_INFINITY),n=s.node(t);e!==Number.POSITIVE_INFINITY&&n.borderType!==b&&(r[t]=Math.max(r[t],e))},a.successors.bind(a)),S.forEach(u,function(t){r[t]=r[c[t]]}),r);function E(t,e){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}"r"===t&&(i=S.mapValues(i,function(t){return-t})),C[w+t]=i})}),i=M;var i,n,r,h,d,f,p,e=S.minBy(S.values(C),function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return S.forIn(t,function(t,e){e=i.node(e).width/2;n=Math.max(t+e,n),r=Math.min(t-e,r)}),n-r});return h=C,d=e,e=S.values(d),f=S.min(e),p=S.max(e),S.forEach(["u","d"],function(o){S.forEach(["l","r"],function(t){var e,n,r=o+t,i=h[r];i!==d&&(n=S.values(i),(e="l"===t?f-S.min(n):p-S.max(n))&&(h[r]=S.mapValues(i,function(t){return t+e})))})}),n=C,r=M.graph().align,S.mapValues(n.ul,function(t,e){if(r)return n[r.toLowerCase()][e];e=S.sortBy(S.map(n,e));return(e[1]+e[2])/2})}var wi=v.normalizeRanks,Mi=v.removeEmptyRanks,Pi=v,Ci=An.Graph,Ai=["nodesep","edgesep","ranksep","marginx","marginy"],Si={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ji=["acyclicer","ranker","rankdir","align"],Di=["width","height"],Ti={width:0,height:0},Ii=["minlen","weight","width","height","labeloffset"],ki={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Li=["labelpos"];function Ri(t,e){return S.mapValues(S.pick(t,e),Number)}function Bi(t){var n={};return S.forEach(t,function(t,e){n[e.toLowerCase()]=t}),n}var Ni=An.Graph,Fi={graphlib:An,layout:function(o,t){var n=t&&t.debugTiming?Pi.time:Pi.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return n=o,r=new Ci({multigraph:!0,compound:!0}),t=Bi(n.graph()),r.setGraph(S.merge({},Si,Ri(t,Ai),S.pick(t,ji))),S.forEach(n.nodes(),function(t){var e=Bi(n.node(t));r.setNode(t,S.defaults(Ri(e,Di),Ti)),r.setParent(t,n.parent(t))}),S.forEach(n.edges(),function(t){var e=Bi(n.edge(t));r.setEdge(t,S.merge({},ki,Ri(e,Ii),S.pick(e,Li)))}),r;var n,r,t});n("  runLayout",function(){var h,t;h=e,(t=n)("    makeSpaceForEdgeLabels",function(){var e,n;(n=(e=h).graph()).ranksep/=2,S.forEach(e.edges(),function(t){t=e.edge(t);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)})}),t("    removeSelfEdges",function(){var n;n=h,S.forEach(n.edges(),function(t){var e;t.v===t.w&&((e=n.node(t.v)).selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t))})}),t("    acyclic",function(){kr(h)}),t("    nestingGraph.run",function(){si(h)}),t("    rank",function(){var t,e=Pi.asNonCompoundGraph(h);switch(e.graph().ranker){case"network-simplex":ai(e);break;case"tight-tree":ii(t=e),Wr(t);break;case"longest-path":oi(e);break;default:ai(e)}}),t("    injectEdgeLabelProxies",function(){var n;n=h,S.forEach(n.edges(),function(t){var e=n.edge(t);e.width&&e.height&&(e=n.node(t.v),e={rank:(n.node(t.w).rank-e.rank)/2+e.rank,e:t},Pi.addDummyNode(n,"edge-proxy",e,"_ep"))})}),t("    removeEmptyRanks",function(){Mi(h)}),t("    nestingGraph.cleanup",function(){var e,t;t=(e=h).graph(),e.removeNode(t.nestingRoot),delete t.nestingRoot,S.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}),t("    normalizeRanks",function(){wi(h)}),t("    assignRankMinMax",function(){var e,n;e=h,n=0,S.forEach(e.nodes(),function(t){t=e.node(t);t.borderTop&&(t.minRank=e.node(t.borderTop).rank,t.maxRank=e.node(t.borderBottom).rank,n=S.max(n,t.maxRank))}),e.graph().maxRank=n}),t("    removeEdgeLabelProxies",function(){var n;n=h,S.forEach(n.nodes(),function(t){var e=n.node(t);"edge-proxy"===e.dummy&&(n.edge(e.e).labelRank=e.rank,n.removeNode(t))})}),t("    normalize.run",function(){Nr(h)}),t("    parentDummyChains",function(){var u,r,i,o,l;r=u=h,i={},o=0,S.forEach(r.children(),function t(e){var n=o;S.forEach(r.children(e),t),i[e]={low:n,lim:o++}}),l=i,S.forEach(u.graph().dummyChains,function(t){for(var e,n=u.node(t).edgeObj,r=function(t,e,n,r){for(var i,o=[],a=[],s=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim),u=n;u=t.parent(u),o.push(u),u&&(e[u].low>s||c>e[u].lim););for(i=u,u=r;(u=t.parent(u))!==i;)a.push(u);return{path:o.concat(a.reverse()),lca:i}}(u,l,n.v,n.w),i=r.path,o=r.lca,a=0,s=i[a],c=!0;t!==n.w;){if(e=u.node(t),c){for(;(s=i[a])!==o&&u.node(s).maxRank<e.rank;)a++;s===o&&(c=!1)}if(!c){for(;a<i.length-1&&u.node(s=i[a+1]).minRank<=e.rank;)a++;s=i[a]}u.setParent(t,s),t=u.successors(t)[0]}})}),t("    addBorderSegments",function(){var a;a=h,S.forEach(a.children(),function t(e){var n=a.children(e),r=a.node(e);if(n.length&&S.forEach(n,t),S.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var i=r.minRank,o=r.maxRank+1;i<o;++i)ci(a,"borderLeft","_bl",e,r,i),ci(a,"borderRight","_br",e,r,i)}})}),t("    order",function(){gi(h)}),t("    insertSelfEdges",function(){var i,t;i=h,t=Pi.buildLayerMatrix(i),S.forEach(t,function(t){var r=0;S.forEach(t,function(t,e){var n=i.node(t);n.order=e+r,S.forEach(n.selfEdges,function(t){Pi.addDummyNode(i,"selfedge",{width:t.label.width,height:t.label.height,rank:n.rank,order:e+ ++r,e:t.e,label:t.label},"_se")}),delete n.selfEdges})})}),t("    adjustCoordinateSystem",function(){var t,e;"lr"!==(e=(t=h).graph().rankdir.toLowerCase())&&"rl"!==e||ui(t)}),t("    position",function(){var n,r,t,i,o;n=h,r=n=v.asNonCompoundGraph(n),t=v.buildLayerMatrix(r),i=r.graph().ranksep,o=0,S.forEach(t,function(t){var e=S.max(S.map(t,function(t){return r.node(t).height}));S.forEach(t,function(t){r.node(t).y=o+e/2}),o+=e+i}),S.forEach(Ei(n),function(t,e){n.node(e).x=t})}),t("    positionSelfEdges",function(){var a;a=h,S.forEach(a.nodes(),function(t){var e,n,r,i,o=a.node(t);"selfedge"===o.dummy&&(e=(i=a.node(o.e.v)).x+i.width/2,n=i.y,r=o.x-e,i=i.height/2,a.setEdge(o.e,o.label),a.removeNode(t),o.label.points=[{x:e+2*r/3,y:n-i},{x:e+5*r/6,y:n-i},{x:e+r,y:n},{x:e+5*r/6,y:n+i},{x:e+2*r/3,y:n+i}],o.label.x=o.x,o.label.y=o.y)})}),t("    removeBorderNodes",function(){var o;o=h,S.forEach(o.nodes(),function(t){var e,n,r,i;o.children(t).length&&(t=o.node(t),e=o.node(t.borderTop),n=o.node(t.borderBottom),r=o.node(S.last(t.borderLeft)),i=o.node(S.last(t.borderRight)),t.width=Math.abs(i.x-r.x),t.height=Math.abs(n.y-e.y),t.x=r.x+t.width/2,t.y=e.y+t.height/2)}),S.forEach(o.nodes(),function(t){"border"===o.node(t).dummy&&o.removeNode(t)})}),t("    normalize.undo",function(){var i;i=h,S.forEach(i.graph().dummyChains,function(t){var e,n=i.node(t),r=n.edgeLabel;for(i.setEdge(n.edgeObj,r);n.dummy;)e=i.successors(t)[0],i.removeNode(t),r.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),n=i.node(t=e)})}),t("    fixupEdgeLabelCoords",function(){var n;n=h,S.forEach(n.edges(),function(t){var e=n.edge(t);if(S.has(e,"x"))switch("l"!==e.labelpos&&"r"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}})}),t("    undoCoordinateSystem",function(){var t,e,n,r;"bt"!==(r=(t=h).graph().rankdir.toLowerCase())&&"rl"!==r||(n=t,S.forEach(n.nodes(),function(t){hi(n.node(t))}),S.forEach(n.edges(),function(t){t=n.edge(t);S.forEach(t.points,hi),S.has(t,"y")&&hi(t)})),"lr"!==r&&"rl"!==r||(e=t,S.forEach(e.nodes(),function(t){di(e.node(t))}),S.forEach(e.edges(),function(t){t=e.edge(t);S.forEach(t.points,di),S.has(t,"x")&&di(t)}),ui(t))}),t("    translateGraph",function(){function e(t){var e=t.x,n=t.y,r=t.width,t=t.height;i=Math.min(i,e-r/2),o=Math.max(o,e+r/2),a=Math.min(a,n-t/2),s=Math.max(s,n+t/2)}var n,i,o,a,s,t,r,c;n=h,i=Number.POSITIVE_INFINITY,o=0,a=Number.POSITIVE_INFINITY,s=0,t=n.graph(),r=t.marginx||0,c=t.marginy||0,S.forEach(n.nodes(),function(t){e(n.node(t))}),S.forEach(n.edges(),function(t){t=n.edge(t);S.has(t,"x")&&e(t)}),i-=r,a-=c,S.forEach(n.nodes(),function(t){t=n.node(t);t.x-=i,t.y-=a}),S.forEach(n.edges(),function(t){t=n.edge(t);S.forEach(t.points,function(t){t.x-=i,t.y-=a}),S.has(t,"x")&&(t.x-=i),S.has(t,"y")&&(t.y-=a)}),t.width=o-i+r,t.height=s-a+c}),t("    assignNodeIntersects",function(){var o;o=h,S.forEach(o.edges(),function(t){var e,n=o.edge(t),r=o.node(t.v),t=o.node(t.w),i=n.points?(e=n.points[0],n.points[n.points.length-1]):(n.points=[],e=t,r);n.points.unshift(Pi.intersectRect(r,e)),n.points.push(Pi.intersectRect(t,i))})}),t("    reversePoints",function(){var e;e=h,S.forEach(e.edges(),function(t){t=e.edge(t);t.reversed&&t.points.reverse()})}),t("    acyclic.undo",function(){var r;r=h,S.forEach(r.edges(),function(t){var e,n=r.edge(t);n.reversed&&(r.removeEdge(t),e=n.forwardName,delete n.reversed,delete n.forwardName,r.setEdge(t.w,t.v,n,e))})})}),n("  updateInputGraph",function(){var r,i;r=o,i=e,S.forEach(r.nodes(),function(t){var e=r.node(t),n=i.node(t);e&&(e.x=n.x,e.y=n.y,i.children(t).length&&(e.width=n.width,e.height=n.height))}),S.forEach(r.edges(),function(t){var e=r.edge(t),t=i.edge(t);e.points=t.points,S.has(t,"x")&&(e.x=t.x,e.y=t.y)}),r.graph().width=i.graph().width,r.graph().height=i.graph().height})})},debug:{debugOrdering:function(e){var t=v.buildLayerMatrix(e),n=new Ni({compound:!0,multigraph:!0}).setGraph({});return S.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),S.forEach(e.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),S.forEach(t,function(t,e){n.setNode("layer"+e,{rank:"same"}),S.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}},util:{time:v.time,notime:v.notime},version:"0.8.5"},Ui=Fi.graphlib,Wi=Fi.layout;class zi{constructor(t){this.cardinality=1,this.include=b.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=m.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height}}class Gi{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}class $i{constructor(t,e={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=b.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=m.META,this.path=[],this.name=t,this.metaGraph=Yi(t,o.META,e)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(t=>this.metaGraph.node(t))}leaves(){let e,t=[],n=[this];for(;n.length;){var r=n.shift();r.isGroupNode?(e=r.metaGraph).nodes().forEach(t=>n.push(e.node(t))):t.push(r.name)}return t}}class Ki{constructor(t,e){this.v=t,this.w=e,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(t,e){this.baseEdgeList.push(t)}}function Vi(t,e={}){return new $i(t,e)}function Xi(t,e){return new Ki(t,e)}function Yi(t,e,n){const r=n||{},i=new Ui.Graph(r);return i.setGraph({name:t,rankdir:r.rankdir,type:e,align:r.align}),i}class Hi{constructor(t={}){this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=Vi(d,this.graphOptions),this.index[d]=this.root}getNodeMap(){return this.index}node(t){return this.index[t]}setNode(t,e){this.index[t]=e}getBridgeGraph(a){var t=this.index[a];if(!t)throw Error("Could not find node in hierarchy: "+a);if(!("metaGraph"in t))return null;const e=t;if(e.bridgeGraph)return e.bridgeGraph;const s=Yi(i,o.BRIDGE,this.graphOptions);if(e.bridgeGraph=s,!(t.parentNode&&"metaGraph"in t.parentNode))return s;const n=t.parentNode;return[n.metaGraph,this.getBridgeGraph(n.name)].forEach(t=>{t.edges().filter(t=>t.v===a||t.w===a).forEach(i=>{const o=i.w===a;t.edge(i).baseEdgeList.forEach(t=>{var[e,n]=o?[t.w,i.v]:[t.v,i.w],e=this.getChildName(a,e),e={v:o?n:e,w:o?e:n};let r=s.edge(e);r||((r=Xi(e.v,e.w)).inbound=o,s.setEdge(e.v,e.w,r)),r.addBaseEdge(t,this)})})}),s}getChildName(t,e){let n=this.index[e];for(;n;){if(n.parentNode&&n.parentNode.name===t)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+e)}getPredecessors(t){var e=this.index[t];if(!e)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(e,!0)}getSuccessors(t){var e=this.index[t];if(!e)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(e,!1)}getOneWayEdges(t,e){var n=[];if(!t.parentNode||!t.parentNode.isGroupNode)return n;var r=t.parentNode,i=r.metaGraph,r=this.getBridgeGraph(r.name);return qi(i,t,e,n),qi(r,t,e,n),n}}function qi(e,t,n,r){(n?e.inEdges(t.name):e.outEdges(t.name)).forEach(t=>{t=e.edge(t);r.push(t)})}class Zi{constructor(t){this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new to(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(h){if(!(h in this.hasSubHierarchy)){this.hasSubHierarchy[h]=!0;var t=this.index[h];if(t.node.type===m.META){const e=t,d=e.node.metaGraph,f=e.coreGraph,p=(d.nodes().forEach(t=>{var e=this.getOrCreateRenderNodeByName(t);f.setNode(t,e)}),d.edges().forEach(t=>{var e=d.edge(t),e=new Ji(e);f.setEdge(t.v,t.w,e)}),e.node.parentNode);if(p){const g=this.getRenderNodeByName(p.name),y=(t,...e)=>e.concat([t?"IN":"OUT"]).join("~~"),_=this.hierarchy.getBridgeGraph(h);_.edges().forEach(e=>{const l=_.edge(e),n=!!d.node(e.w),[t,r]=n?[e.w,e.v]:[e.v,e.w],i=t=>{t=n?{v:t,w:h}:{v:h,w:t};return g.coreGraph.edge(t)};let o=i(r);o=o||i(y(n,r,p.name));var a,s=y(n,h),c=y(n,r,h);if(!f.node(c)){let t=f.node(s);if(!t){const e={name:s,type:m.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:b.UNSPECIFIED,inbound:n,attr:{}};t=new Qi(e),this.index[s]=t,f.setNode(s,t)}const e={name:c,type:m.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:b.UNSPECIFIED,inbound:n,attr:{}};a=new Qi(e),this.index[c]=a,f.setNode(c,a),f.setParent(c,s),t.node.cardinality++}const u=new Ji(l);u.adjoiningMetaEdge=o,n?f.setEdge(c,t,u):f.setEdge(t,c,u)})}}}}getOrCreateRenderNodeByName(t){if(!t)return null;if(t in this.index)return this.index[t];var e=this.getNodeByName(t);return e?(this.index[t]=e.isGroupNode?new to(e,this.hierarchy.graphOptions):new Qi(e),this.index[t]):null}getRenderNodeByName(t){return this.index[t]}getNodeByName(t){return this.hierarchy.node(t)}}class Qi{constructor(t){this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr}}class Ji{constructor(t){this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class to extends Qi{constructor(t,e){super(t);t=t.metaGraph.graph();e.compound=!0,this.coreGraph=Yi(t.name,o.CORE,e)}}function eo(e,n){if(e.node.isGroupNode){var r=e,o=n;const u=h(o);r.coreGraph.nodes().map(t=>r.coreGraph.node(t)).forEach(t=>{var{height:e,width:n}=t;switch(t.node.type){case m.NODE:Object.assign(t,u.nodeSize.node),t.height=e||u.nodeSize.node.height,t.width=n||u.nodeSize.node.width;break;case m.BRIDGE:Object.assign(t,u.nodeSize.bridge);break;case m.META:t.expanded?eo(t,o):(Object.assign(t,u.nodeSize.meta),t.height=u.nodeSize.meta.height,t.width=u.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+t.node.type)}if(!t.expanded){const u=t.attr;var[r,i=!1]=[t,o&&(0===t.node.type&&!(null===(r=null===(r=null==o?void 0:o.nodeSize)||void 0===r?void 0:r.meta)||void 0===r||!r.width)||1===t.node.type&&(!(null===(r=null===(r=null==o?void 0:o.nodeSize)||void 0===r?void 0:r.node)||void 0===r||!r.width)||!!u.width)||2===t.node.type&&!(null===(r=null===(r=null==o?void 0:o.nodeSize)||void 0===r?void 0:r.bridge)||void 0===r||!r.width))];if(r.coreBox.width=r.width,r.coreBox.height=r.height,!i){const i=(""+r.displayName).length;r.width=Math.max(r.coreBox.width,3*i)}}})}if(e.node.type===m.META){var i=(n=h(n)).subScene.meta,{nodeSep:n,rankSep:a,edgeSep:s,align:c}=(Object.assign(e,i),n.graph.meta),l={nodesep:n,ranksep:a,edgesep:s,align:c};Object.assign(e.coreBox,function(i){var{ranksep:t,nodesep:e,edgesep:n,align:r}=l;Object.assign(i.graph(),{ranksep:t,nodesep:e,edgesep:n,align:r});const o=[];if(i.nodes().forEach(t=>{i.node(t).node.type!==m.BRIDGE&&o.push(t)}),!o.length)return{width:0,height:0};Wi(i);let a=1/0,s=1/0,c=-1/0,u=-1/0;return o.forEach(t=>{var t=i.node(t),e=.5*t.width,n=t.x-e,e=t.x+e,n=(a=n<a?n:a,c=e>c?e:c,.5*t.height),e=t.y-n,t=t.y+n;s=e<s?e:s,u=t>u?t:u}),i.edges().forEach(t=>{const e=i.edge(t),n=i.node(e.metaEdge.v),r=i.node(e.metaEdge.w);if(3===e.points.length&&function(e){let n=no(e[0],e[1]);for(let t=1;t<e.length-1;t++){var r=no(e[t],e[t+1]);if(1<Math.abs(r-n))return;n=r}return 1}(e.points)){if(null!=n){const i=n.expanded?n.x:ro(n);e.points[0].x=i}if(null!=r){const i=r.expanded?r.x:ro(r);e.points[2].x=i}e.points=[e.points[0],e.points[1]]}t=e.points[e.points.length-2],null!=r&&(e.points[e.points.length-1]=io(t,r)),t=e.points[1];null!=n&&(e.points[0]=io(t,n)),e.points.forEach(t=>{a=t.x<a?t.x:a,c=t.x>c?t.x:c,s=t.y<s?t.y:s,u=t.y>u?t.y:u})}),i.nodes().forEach(t=>{const e=i.node(t);e.x-=a,e.y-=s}),i.edges().forEach(t=>{i.edge(t).points.forEach(t=>{t.x-=a,t.y-=s})}),{width:c-a,height:u-s}}(e.coreGraph));let t=0;0<e.coreGraph.nodeCount()&&t++,n=t<=1?0:t,e.coreBox.width+=n+n,e.coreBox.height=i.labelHeight+e.coreBox.height,e.width=e.coreBox.width+i.paddingLeft+i.paddingRight,e.height=e.paddingTop+e.coreBox.height+e.paddingBottom}}function no(t,e){var n=e.x-t.x,e=e.y-t.y;return 180*Math.atan(e/n)/Math.PI}function ro(t){return t.expanded?t.x:t.x-t.width/2+0+t.coreBox.width/2}function io(t,e){var n=e.expanded?e.x:ro(e),r=e.y,i=t.x-n,t=t.y-r;let o,a,s=(e.expanded?e:e.coreBox).width,c=(e.expanded?e:e.coreBox).height;return a=Math.abs(t)*s/2>Math.abs(i)*c/2?(t<0&&(c=-c),o=0==t?0:c/2*i/t,c/2):(i<0&&(s=-s),o=s/2,0==i?0:s/2*t/i),{x:n+o,y:r+a}}function oo(t,e,n){const r=t.nodes.filter((e,t,n)=>n.findIndex(t=>t.id===e.id)!==t).map(t=>t.id);if(r.length)throw new Error("Duplicated ids found: "+r.join(", "));var i,o,a=function(o){const a={nodes:[]},i=o.compound,s=Object.keys(i||{}),t=new Map,c=(e,n=[])=>{if(t.has(e))return t.get(e);for(let t=0;t<s.length;t++){var r=s[t];if(i&&-1!==i[r].indexOf(e))return n.unshift(r),c(r,n)}return 0===n.length&&t.set(e,n),n};return o.nodes.forEach(t=>{var e,n=t.id,r=[...c(n),n],i=(e=n,o.edges.filter(t=>t.w===e).map(t=>({name:t.v})));a.nodes.push({name:n,path:r,inputs:i,width:t.width,height:t.height,attr:Object.assign({},t)})}),a}(t),t=function(t,e){const a=(t,e)=>{for(var n of e.values())if(n.includes(t))return!0;return!1},s=(e,t=[])=>{if(0===Object.keys(e).length)return[...new Set(t)];const n=new Map(Object.keys(e).map(t=>[t,e[t]])),r={};for(var[i,o]of n)a(i,n)?r[i]=o:t=t.concat(i,o);return s(r,t)};return s(t).filter(t=>e.includes(t))}(t.compound||{},(null==e?void 0:e.expanded)||[]),s=(a=a,i={rankDirection:(null===(s=null===(s=null==n?void 0:n.graph)||void 0===s?void 0:s.meta)||void 0===s?void 0:s.rankDir)||(null==e?void 0:e.rankDirection)||c.graph.meta.rankDir,align:(null===(e=null===(s=null==n?void 0:n.graph)||void 0===s?void 0:s.meta)||void 0===e?void 0:e.align)||c.graph.meta.align},a=function(t){var a,e,{rankDirection:n,align:r}=i,n=new Hi({rankdir:n,align:r});a=n,e=t,Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n],i=r.path;let o=a.root;o.depth=Math.max(i.length,o.depth);for(let e=0;e<i.length&&(o.depth=Math.max(o.depth,i.length-e),o.cardinality+=r.cardinality,e!==i.length-1);e++){const n=i[e];let t=a.node(n);t||((t=Vi(n,a.graphOptions)).path=r.path.slice(0,e+1),t.parentNode=o,a.setNode(n,t),o.metaGraph.setNode(n,t)),o=t}a.setNode(r.name,r),(r.parentNode=o).metaGraph.setNode(r.name,r)});{var u=n,l=t;const h=u.getNodeMap();let s,c;const d=(t,e)=>{let n=0;for(;t;)e[n++]=t.name,t=t.parentNode;return n-1};l.edges.forEach(t=>{s=[],c=[];let e=d(l.nodes[t.v],s),n=d(l.nodes[t.w],c);for(;s[e]===c[n];)if(e--,n--,e<0||n<0)throw Error("No difference found between ancestor paths.");const r=h[s[e+1]],i=s[e],o=c[n];let a=r.metaGraph.edge(i,o);a||(a=Xi(i,o),r.metaGraph.setEdge(i,o,a)),a.addBaseEdge(t,u)})}return n}(function(t){const i=new Gi;return t.nodes.map(t=>new zi(t)).forEach(r=>{(i.nodes[r.name]=r).inputs.forEach(t=>{var e,n;e=i,n=r,(t=t).name!==n.name&&e.edges.push(Object.assign(Object.assign({},t.attr),{v:t.name,w:n.name}))})}),i}(a)),new Zi(a));return o=s,t.forEach(e=>{var t=o.getRenderInfoNodes().find(t=>t.displayName===e),t=t&&t.node&&t.node.name||"";const n=o.getRenderNodeByName(t);if(!n)throw new Error("No nodes found: "+t);n.expanded=!0,o.buildSubHierarchy(t)}),eo(s.root,n),function e(n){const t=n.coreGraph.nodes().map(t=>n.coreGraph.node(t));return Object.assign(Object.assign({},co(n)),{expanded:n.expanded,nodes:n.expanded?(r=t,r.map(t=>(t.node.type===m.META?e:co)(t))):[],edges:n.expanded?uo(n):[]});var r}(s.root)}function ao(t,e=!1){const n=JSON.parse(JSON.stringify(t)),r={nodes:[n],edges:[...n.edges]};return n.nodes.forEach(function t(e){0!==e.type&&1!==e.type||r.nodes.push(e),0===e.type&&(r.edges=r.edges.concat(e.edges)),Array.isArray(e.nodes)&&e.nodes.forEach(t)}),e&&r.nodes.forEach(e=>{var t=r.nodes.find(t=>t.id===e.parentNodeName);if(t){const n=t.x-t.width/2+t.paddingLeft,r=t.y-t.height/2+t.labelHeight+t.paddingTop;t.id!==d&&(e.x+=n,e.y+=r),0===e.type&&e.edges.forEach(t=>{t.points.forEach(t=>{t.x+=e.x-e.width/2+e.paddingLeft,t.y+=e.y-e.height/2+e.labelHeight+e.paddingTop})})}}),r}function so(n,r,i,o){var t;let a=[];const e=(null===(t=i.find(t=>t.id===n))||void 0===t?void 0:t.path)||[],s=(null===(t=i.find(t=>t.id===r))||void 0===t?void 0:t.path)||[],c=[d,...e].slice(0,e.length).reverse(),u=[d,...s].slice(0,s.length);return c.forEach(e=>{const t=i.find(t=>t.id===e);a=a.concat(t.edges.filter(t=>t.baseEdgeList.some(t=>t.v===((null==o?void 0:o.v)||n)&&t.w===((null==o?void 0:o.w)||r))))}),u.filter(t=>!c.includes(t)).forEach(e=>{const t=i.find(t=>t.id===e);a=a.concat(t.edges.filter(t=>t.baseEdgeList.some(t=>t.v===((null==o?void 0:o.v)||n)&&t.w===((null==o?void 0:o.w)||r))))}),a}function co(t){return{id:t.node.name,name:t.node.name,type:t.node.type,cardinality:t.node.cardinality,attr:t.attr,parentNodeName:t.node.parentNode?t.node.parentNode.name:null,coreBox:Object.assign({},t.coreBox),x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius,labelHeight:t.labelHeight,labelOffset:t.labelOffset,outboxWidth:t.outboxWidth,paddingLeft:t.paddingLeft,paddingTop:t.paddingTop,paddingRight:t.paddingRight,paddingBottom:t.paddingBottom,path:t.node.path}}function uo(r){return r.coreGraph.edges().map(t=>({renderInfoEdge:r.coreGraph.edge(t),edge:t})).filter(({renderInfoEdge:t})=>t.metaEdge).map(({edge:t,renderInfoEdge:e})=>{var n=function(t,e){var n=e.points.map(t=>Object.assign({},t));if(e.adjoiningMetaEdge){const r=e.adjoiningMetaEdge.points,i=e.metaEdge.inbound,o=i?r[r.length-1]:r[0],a=n[i?0:n.length-1],s=t.x-t.width/2,c=t.y-t.height/2,u=o.x-s,l=o.y-c,h=-t.paddingLeft,d=-(t.paddingTop+t.labelHeight);a.x=u+h,a.y=l+d}return n}(r,e);return{adjoiningEdge:e.adjoiningMetaEdge?{w:e.adjoiningMetaEdge.metaEdge.w,v:e.adjoiningMetaEdge.metaEdge.v}:null,inbound:e.metaEdge.inbound,w:t.w,v:t.v,points:n,weight:e.weight,baseEdgeList:e.metaEdge.baseEdgeList,parentNodeName:r.node.name}})}}.call(this,ho(226))},function(c,t,e){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},w=(Object.defineProperty(t,"__esModule",{value:!0}),t.RadialLayout=void 0,e(62)),o=e(64),M=i(e(485)),P=i(e(486));function p(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}a=o.Base,n(s,a),s.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},s.prototype.execute=function(){var n=this,r=n.nodes,l=n.edges||[];if(r&&0!==r.length){n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var i=n.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(n.onLayoutEnd&&n.onLayoutEnd());var h=n.linkDistance,t=null;if((0,w.isString)(n.focusNode)){for(var d=!1,f=0;f<r.length;f++)r[f].id===n.focusNode&&(t=r[f],n.focusNode=t,d=!0,f=r.length);d||(t=null)}else t=n.focusNode;t||(t=r[0],n.focusNode=t);p=t.id,g=-1,r.forEach(function(t,e){t.id===p&&(g=e)});var p,g,e=g,y=(e<0&&(e=0),n.focusIndex=e,(0,w.getAdjMatrix)({nodes:r,edges:l},!1)),o=(0,w.floydWarshall)(y),_=n.maxToFocus(o,e),_=(n.handleInfinity(o,e,_+1),(n.distances=o)[e]),o=n.width||500,m=n.height||500,a=o-i[0]>i[0]?i[0]:o-i[0],v=m-i[1]>i[1]?i[1]:m-i[1],b=(a=0===a?o/2:a)<(v=0===v?m/2:v)?a:v,O=Math.max.apply(Math,_),x=[],a=(_.forEach(function(t,e){n.unitRadius||(n.unitRadius=b/O),x[e]=t*n.unitRadius}),n.radii=x,n.eIdealDisMatrix()),v=function(t){for(var e=t.length,n=t[0].length,r=[],i=0;i<e;i++){for(var o=[],a=0;a<n;a++)0!==t[i][a]?o.push(1/(t[i][a]*t[i][a])):o.push(0);r.push(o)}return r}(n.eIdealDistances=a),s=(n.weights=v,new M.default({linkDistance:h,distances:a}).layout());s.forEach(function(t){(0,w.isNaN)(t[0])&&(t[0]=Math.random()*h),(0,w.isNaN)(t[1])&&(t[1]=Math.random()*h)}),(n.positions=s).forEach(function(t,e){r[e].x=t[0]+i[0],r[e].y=t[1]+i[1]}),s.forEach(function(t){t[0]-=s[e][0],t[1]-=s[e][1]}),n.run();var E,c,_=n.preventOverlap,u=n.nodeSize,v=n.strictRadial;return _&&(E=n.nodeSpacing,c=(0,w.isNumber)(E)?function(){return E}:(0,w.isFunction)(E)?E:function(){return 0},a=u?(0,w.isArray)(u)?function(t){return(u[0]>u[1]?u[0]:u[1])+c(t)}:function(t){return u+c(t)}:function(t){return t.size?(0,w.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+c(t):(0,w.isObject)(t.size)?(t.size.width>t.size.height?t.size.width:t.size.height)+c(t):t.size+c(t):10+c(t)},_={nodes:r,nodeSizeFunc:a,adjMatrix:y,positions:s,radii:x,height:m,width:o,strictRadial:v,focusID:e,iterations:n.maxPreventOverlapIteration||200,k:s.length/4.5},s=new P.default(_).layout()),s.forEach(function(t,e){r[e].x=t[0]+i[0],r[e].y=t[1]+i[1]}),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:l}}n.onLayoutEnd&&n.onLayoutEnd()},s.prototype.run=function(){for(var t=this.maxIteration,e=this.positions||[],n=this.weights||[],r=this.eIdealDistances||[],i=this.radii||[],o=0;o<=t;o++)this.oneIteration(o/t,e,i,r,n)},s.prototype.oneIteration=function(n,r,u,l,h){var d=1-n,f=this.focusIndex;r.forEach(function(i,o){var a,t,s,c,e=p(i,[0,0]),e=0===e?0:1/e;o!==f&&(s=a=c=0,r.forEach(function(t,e){var n,r;o!==e&&(n=p(i,t),r=l[e][o],s+=h[o][e],c+=h[o][e]*(t[0]+r*(i[0]-t[0])*(n=0===n?0:1/n)),a+=h[o][e]*(t[1]+r*(i[1]-t[1])*n))}),t=0===u[o]?0:1/u[o],s=s*d+n*t*t,c=(c*=d)+n*t*i[0]*e,i[0]=c/s,a=(a*=d)+n*t*i[1]*e,i[1]=a/s)})},s.prototype.eIdealDisMatrix=function(){var o=this,a=o.nodes;if(!a)return[];var t=o.distances,s=o.linkDistance,c=o.radii||[],u=o.unitRadius||50,e=[];return t&&t.forEach(function(t,r){var i=[];t.forEach(function(t,e){var n;r===e?i.push(0):c[r]===c[e]?"data"===o.sortBy?i.push(t*(Math.abs(r-e)*o.sortStrength)/(c[r]/u)):o.sortBy?(n=a[r][o.sortBy]||0,e=a[e][o.sortBy]||0,(0,w.isString)(n)&&(n=n.charCodeAt(0)),(0,w.isString)(e)&&(e=e.charCodeAt(0)),i.push(t*(Math.abs(n-e)*o.sortStrength)/(c[r]/u))):i.push(t*s/(c[r]/u)):i.push(t*((s+u)/2))}),e.push(i)}),e},s.prototype.handleInfinity=function(t,e,n){for(var r,i=t.length,o=0;o<i;o++)if(t[e][o]===1/0){t[e][o]=n,t[o][e]=n;for(var a=0;a<i;a++)t[o][a]!==1/0&&t[e][a]===1/0&&(t[e][a]=n+t[o][a],t[a][e]=n+t[o][a])}for(o=0;o<i;o++)if(o!==e)for(a=0;a<i;a++)t[o][a]===1/0&&(r=0===(r=Math.abs(t[e][o]-t[e][a]))?1:r,t[o][a]=r)},s.prototype.maxToFocus=function(t,e){for(var n=0,r=0;r<t[e].length;r++)t[e][r]!==1/0&&(n=t[e][r]>n?t[e][r]:n);return n},s.prototype.getType=function(){return"radial"};var a,i=s;function s(t){var e=a.call(this)||this;return e.maxIteration=1e3,e.focusNode=null,e.unitRadius=null,e.linkDistance=50,e.preventOverlap=!1,e.strictRadial=!0,e.maxPreventOverlapIteration=200,e.sortStrength=10,e.nodes=[],e.edges=[],e.updateCfg(t),e}t.RadialLayout=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=n(356);function r(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}r.prototype.layout=function(){var e=this.dimension,t=this.distances,n=this.linkDistance;try{var r=f.Matrix.mul(f.Matrix.pow(t,2),-.5),i=r.mean("row"),o=r.mean("column"),a=r.mean(),s=(r.add(a).subRowVector(i).subColumnVector(o),new f.SingularValueDecomposition(r)),l=f.Matrix.sqrt(s.diagonalMatrix).diagonal();return s.leftSingularVectors.toJSON().map(function(t){return f.Matrix.mul([t],[l]).toJSON()[0].splice(0,e)})}catch(e){for(var c=[],u=0;u<t.length;u++){var h=Math.random()*n,d=Math.random()*n;c.push([h,d])}return c}},e.default=r},function(t,e,n){"use strict";function r(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype.layout=function(){var t=this.positions,n=[],e=this.iterations,r=this.width/10;this.maxDisplace=r,this.disp=n;for(var i=0;i<e;i++)t.forEach(function(t,e){n[e]={x:0,y:0}}),this.getRepulsion(),this.updatePositions();return t},r.prototype.getRepulsion=function(){var a=this,t=a.positions,s=a.nodes,c=a.disp,u=a.k,l=a.radii||[];t.forEach(function(i,o){c[o]={x:0,y:0},t.forEach(function(t,e){var n,r;o!==e&&l[o]===l[e]&&(r=i[0]-t[0],t=i[1]-t[1],0===(n=Math.sqrt(r*r+t*t))&&(n=1,t=r=.01*(e<o?1:-1)),n<a.nodeSizeFunc(s[o])/2+a.nodeSizeFunc(s[e])/2&&(c[o].x+=r/n*(e=u*u/n),c[o].y+=t/n*e))})})},r.prototype.updatePositions=function(){var o=this.positions,a=this.disp,s=this.speed,c=this.strictRadial,u=this.focusID,l=this.maxDisplace||this.width/10,h=(c&&a.forEach(function(t,e){var n=o[e][0]-o[u][0],e=o[e][1]-o[u][1],r=Math.sqrt(n*n+e*e),e=e/r,n=-n/r,r=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.acos((e*t.x+n*t.y)/r),i=(i>Math.PI/2&&(i-=Math.PI/2,e*=-1,n*=-1),Math.cos(i)*r);t.x=e*i,t.y=n*i}),this.radii);o.forEach(function(t,e){var n,r,i;e===u||0<(r=Math.sqrt(a[e].x*a[e].x+a[e].y*a[e].y))&&e!==u&&(i=Math.min(l*(s/800),r),t[0]+=a[e].x/r*i,t[1]+=a[e].y/r*i,c&&(r=t[0]-o[u][0],i=t[1]-o[u][1],r=r/(n=Math.sqrt(r*r+i*i))*h[e],i=i/n*h[e],t[0]=o[u][0]+r,t[1]=o[u][1]+i))})},e.default=r},function(t,e,n){var r=function(a){"use strict";var l=Object.prototype,c=l.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",h=t.asyncIterator||"@@asyncIterator",d=t.toStringTag||"@@toStringTag";function n(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{n({},"")}catch(a){n=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i,o,a,s,e=e&&e.prototype instanceof g?e:g,e=Object.create(e.prototype),r=new b(r||[]);return e._invoke=(i=t,o=n,a=r,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return x()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}r=p(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;r=r.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}(n,a);if(n){if(n===u)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=p(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===u)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),e}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=f;var u={};function g(){}function e(){}function i(){}var t={},o=(n(t,r,function(){return this}),Object.getPrototypeOf),o=o&&o(o(O([]))),s=(o&&o!==l&&c.call(o,r)&&(t=o),i.prototype=g.prototype=Object.create(t));function y(t){["next","throw","return"].forEach(function(e){n(t,e,function(t){return this._invoke(e,t)})})}function _(a,s){var e;this._invoke=function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,i){var o,t=p(a[t],a,n);return"throw"!==t.type?(n=(o=t.arg).value)&&"object"==typeof n&&c.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):s.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)}):void i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function v(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function O(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:x}}function x(){return{value:void 0,done:!0}}return n(s,"constructor",e.prototype=i),n(i,"constructor",e),e.displayName=n(i,d,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===e||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,n(t,d,"GeneratorFunction")),t.prototype=Object.create(s),t},a.awrap=function(t){return{__await:t}},y(_.prototype),n(_.prototype,h,function(){return this}),a.AsyncIterator=_,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new _(f(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},y(s),n(s,d,"Generator"),n(s,r,function(){return this}),n(s,"toString",function(){return"[object Generator]"}),a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=O,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(v),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),v(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,v(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},a}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(l,t,e){"use strict";var n=this&&this.__awaiter||function(t,a,s,c){return new(s=s||Promise)(function(n,e){function r(t){try{o(c.next(t))}catch(t){e(t)}}function i(t){try{o(c.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,i)}o((c=c.apply(t,a||[])).next())})},s=this&&this.__generator||function(r,i){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){c=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){c.label=e[1];break}if(6===e[0]&&c.label<s[1]){c.label=s[1],s=e;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(e);break}s[2]&&c.ops.pop(),c.trys.pop();continue}e=i.call(r,c)}catch(t){e=[6,t],a=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}},h=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},d=(Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0,e(492)),c=e(80),r=e(105),i=e(65),f=e(316),a=e(493),p=e(500),g=e(502),y=e(122),_=e(147),m=e(505),o=e(506);function u(t){this._appliedMiddleware=[];t=t||{};if("object"!=typeof t)throw new Error(""+c.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=r.BindingScopeEnum.Transient;else if(t.defaultScope!==r.BindingScopeEnum.Singleton&&t.defaultScope!==r.BindingScopeEnum.Transient&&t.defaultScope!==r.BindingScopeEnum.Request)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=y.id(),this._bindingDictionary=new o.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new f.MetadataReader}u.merge=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=new u,t=h([t,e],n).map(function(t){return a.getBindingDictionary(t)}),o=a.getBindingDictionary(i);return t.forEach(function(t){var n;n=o,t.traverse(function(t,e){e.forEach(function(t){n.add(t.serviceIdentifier,t.clone())})})}),i},u.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=t;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},u.prototype.loadAsync=function(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];return n(this,void 0,void 0,function(){var e,n,r,i,o;return s(this,function(t){switch(t.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,r=a,t.label=1;case 1:return n<r.length?(i=r[n],o=e(i.id),[4,i.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)]):[3,4];case 2:t.sent(),t.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},u.prototype.unload=function(){for(var r=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){function e(t){return t.moduleId===n}var n;n=t.id;r._bindingDictionary.removeByCondition(e)})},u.prototype.bind=function(t){var e=this.options.defaultScope||r.BindingScopeEnum.Transient,e=new d.Binding(t,e);return this._bindingDictionary.add(t,e),new g.BindingToSyntax(e)},u.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},u.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(c.CANNOT_UNBIND+" "+_.getServiceIdentifierAsString(e))}},u.prototype.unbindAll=function(){this._bindingDictionary=new o.Lookup},u.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return e=!e&&this.parent?this.parent.isBound(t):e},u.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,i.NAMED_TAG,e)},u.prototype.isBoundTagged=function(t,e,n){var r,i,o=!1;return this._bindingDictionary.hasKey(t)&&(r=this._bindingDictionary.get(t),i=a.createMockRequest(this,t,e,n),o=r.some(function(t){return t.constraint(i)})),o=!o&&this.parent?this.parent.isBoundTagged(t,e,n):o},u.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},u.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(c.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},u.prototype.createChild=function(t){t=new u(t||this.options);return t.parent=this,t},u.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware||this._planAndResolve();this._middleware=t.reduce(function(t,e){return e(t)},n)},u.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},u.prototype.get=function(t){return this._get(!1,!1,r.TargetTypeEnum.Variable,t)},u.prototype.getTagged=function(t,e,n){return this._get(!1,!1,r.TargetTypeEnum.Variable,t,e,n)},u.prototype.getNamed=function(t,e){return this.getTagged(t,i.NAMED_TAG,e)},u.prototype.getAll=function(t){return this._get(!0,!0,r.TargetTypeEnum.Variable,t)},u.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,r.TargetTypeEnum.Variable,t,e,n)},u.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,i.NAMED_TAG,e)},u.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),this._appliedMiddleware.forEach(function(t){e.applyMiddleware(t)}),e.get(t)},u.prototype._getContainerModuleHelpersFactory=function(){function r(t,e){t._binding.moduleId=e}var i=this;return function(t){return{bindFunction:function(t){t=i.bind.bind(i)(t);return r(t,n),t},isboundFunction:function(t){return i.isBound.bind(i)(t)},rebindFunction:(e=n=t,function(t){t=i.rebind.bind(i)(t);return r(t,e),t}),unbindFunction:function(t){i.unbind.bind(i)(t)}};var e,n}},u.prototype._get=function(t,e,n,r,i,o){var a=null,t={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(t)))throw new Error(c.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(t);return a},u.prototype._planAndResolve=function(){var n=this;return function(t){var e=a.plan(n._metadataReader,n,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints),e=t.contextInterceptor(e);return p.resolve(e)}},t.Container=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var r=n(105),i=n(122);function o(t,e){this.id=i.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}o.prototype.clone=function(){var t=new o(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e.Binding=o},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var a=e(494),u=e(80),l=e(105),g=e(65),y=e(317),h=e(147),_=e(495),d=e(94),m=e(496),f=e(497),p=e(499),v=e(319);function i(t){return t._bindingDictionary}function b(t,e,n,r,i){var o=s(n.container,i.serviceIdentifier);return o.length===a.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=s(n.container,i.serviceIdentifier)),t=e?o:o.filter(function(t){var e=new p.Request(t.serviceIdentifier,n,r,t,i);return t.constraint(e)}),function(t,e,n,r){switch(e.length){case a.BindingCount.NoBindingsAvailable:if(n.isOptional())return;var i=h.getServiceIdentifierAsString(t),o=u.NOT_REGISTERED,o=(o+=h.listMetadataForTarget(i,n))+h.listRegisteredBindingsForServiceIdentifier(r,i,s);throw new Error(o);case a.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return;case a.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return;throw i=h.getServiceIdentifierAsString(t),o=u.AMBIGUOUS_MATCH+" "+i,o+=h.listRegisteredBindingsForServiceIdentifier(r,i,s),new Error(o)}}(i.serviceIdentifier,t,i,n.container),t}function s(t,e){var n=[],r=i(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=s(t.parent,e)),n}t.getBindingDictionary=i,t.plan=function(t,e,n,r,i,o,a,s){void 0===s&&(s=!1);var c,e=new _.Context(e),n=(r=r,c=i,o=o,a=a,n=n?g.MULTI_INJECT_TAG:g.INJECT_TAG,n=new d.Metadata(n,c),r=new v.Target(r,"",c,n),void 0!==o&&(c=new d.Metadata(o,a),r.metadata.push(c)),r);try{return function i(o,t,e,a,n,s){var r,c;null===n?(r=b(o,t,a,null,s),c=new p.Request(e,a,null,r,s),e=new m.Plan(a,c),a.addPlan(e)):(r=b(o,t,a,n,s),c=n.addChildRequest(s.serviceIdentifier,r,s)),r.forEach(function(t){var e=null;if(s.isArray())e=c.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;e=c}if(t.type===l.BindingTypeEnum.Instance&&null!==t.implementationType){var n=f.getDependencies(o,t.implementationType);if(!a.container.options.skipBaseClassChecks){var r=f.getBaseClassDependencyCount(o,t.implementationType);if(n.length<r)throw r=u.ARGUMENTS_LENGTH_MISMATCH(f.getFunctionName(t.implementationType)),new Error(r)}n.forEach(function(t){i(o,!1,t.serviceIdentifier,a,e,t)})}})}(t,s,i,e,null,n),e}catch(t){throw y.isStackOverflowExeption(t)&&e.plan&&h.circularDependencyToException(e.plan.rootRequest),t}},t.createMockRequest=function(t,e,n,r){n=new v.Target(l.TargetTypeEnum.Variable,"",e,new d.Metadata(n,r)),r=new _.Context(t);return new p.Request(e,r,null,[],n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0,e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var r=n(122);function i(t){this.id=r.id(),this.container=t}i.prototype.addPlan=function(t){this.plan=t},i.prototype.setCurrentRequest=function(t){this.currentRequest=t},e.Context=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;e.Plan=function(t,e){this.parentContext=t,this.rootRequest=e}},function(n,t,e){"use strict";var l=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},p=(Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0,e(318)),u=e(80),h=e(105),o=e(65),a=e(147),d=(Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return a.getFunctionName}}),e(319));function s(t,e,n,r){var i=t.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(void 0===o)throw a=u.MISSING_INJECTABLE_ANNOTATION+" "+e+".",new Error(a);var a=i.userGeneratedMetadata,i=Object.keys(a),s=0===n.length&&0<i.length,c=i.length>n.length,r=function(t,e,n,r,i){for(var o=[],a=0;a<i;a++){var s=function(t,e,n,r,i){var i=i[t.toString()]||[],o=f(i),a=!0!==o.unmanaged,r=r[t],s=o.inject||o.multiInject;if((r=s||r)instanceof p.LazyServiceIdentifer&&(r=r.unwrap()),a){if(!e&&(r===Object||r===Function||void 0===r))throw s=u.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".",new Error(s);a=new d.Target(h.TargetTypeEnum.ConstructorArgument,o.targetName,r);return a.metadata=i,a}return null}(a,t,e,n,r);null!==s&&o.push(s)}return o}(r,e,o,a,(s||c?i:n).length),e=function t(e,n){for(var r=e.getPropertiesMetadata(n),i=[],o=0,a=Object.keys(r);o<a.length;o++){var s=a[o],c=r[s],u=f(r[s]),s=u.targetName||s,u=u.inject||u.multiInject,s=new d.Target(h.TargetTypeEnum.ClassProperty,s,u);s.metadata=c,i.push(s)}n=Object.getPrototypeOf(n.prototype).constructor;return n!==Object&&(e=t(e,n),i=l(l([],i),e)),i}(t,n);return l(l([],r),e)}function f(t){var e={};return t.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[o.INJECT_TAG],multiInject:e[o.MULTI_INJECT_TAG],targetName:e[o.NAME_TAG],unmanaged:e[o.UNMANAGED_TAG]}}t.getDependencies=function(t,e){return s(t,a.getFunctionName(e),e,!1)},t.getBaseClassDependencyCount=function t(e,n){var r,i,n=Object.getPrototypeOf(n.prototype).constructor;return n!==Object?(r=(i=s(e,a.getFunctionName(n),n,!0)).map(function(t){return t.metadata.filter(function(t){return t.key===o.UNMANAGED_TAG})}),r=[].concat.apply([],r).length,0<(i=i.length-r)?i:t(e,n)):0}},function(t,e,n){"use strict";function r(t){this.str=t}Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0,r.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},r.prototype.endsWith=function(t){var t=t.split("").reverse().join(""),e=this.str.split("").reverse().join("");return this.startsWith.call({str:e},t)},r.prototype.contains=function(t){return-1!==this.str.indexOf(t)},r.prototype.equals=function(t){return this.str===t},r.prototype.value=function(){return this.str},e.QueryableString=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var o=n(122);function r(t,e,n,r,i){this.id=o.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=null===n?new Map:null}r.prototype.addChildRequest=function(t,e,n){t=new r(t,this.parentContext,this,e,n);return this.childRequests.push(t),t},e.Request=r},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;function c(t,e,n){try{return n()}catch(n){throw r.isStackOverflowExeption(n)?new Error(l.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):n}}function u(s){return function(t){t.parentContext.setCurrentRequest(t);var e=t.bindings,n=t.childRequests,r=t.target&&t.target.isArray(),i=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(r&&i)return n.map(function(t){return u(s)(t)});r=null;if(!t.target.isOptional()||0!==e.length){var o,a=e[0],i=a.scope===h.BindingScopeEnum.Singleton,e=a.scope===h.BindingScopeEnum.Request;if(i&&a.activated)return a.cache;if(e&&null!==s&&s.has(a.id))return s.get(a.id);if(a.type===h.BindingTypeEnum.ConstantValue)r=a.cache,a.activated=!0;else if(a.type===h.BindingTypeEnum.Function)r=a.cache,a.activated=!0;else if(a.type===h.BindingTypeEnum.Constructor)r=a.implementationType;else if(a.type===h.BindingTypeEnum.DynamicValue&&null!==a.dynamicValue)r=c("toDynamicValue",a.serviceIdentifier,function(){return a.dynamicValue(t.parentContext)});else if(a.type===h.BindingTypeEnum.Factory&&null!==a.factory)r=c("toFactory",a.serviceIdentifier,function(){return a.factory(t.parentContext)});else if(a.type===h.BindingTypeEnum.Provider&&null!==a.provider)r=c("toProvider",a.serviceIdentifier,function(){return a.provider(t.parentContext)});else{if(a.type!==h.BindingTypeEnum.Instance||null===a.implementationType)throw o=d.getServiceIdentifierAsString(t.serviceIdentifier),new Error(l.INVALID_BINDING_TYPE+" "+o);r=f.resolveInstance(a.implementationType,n,u(s))}return"function"==typeof a.onActivation&&(r=a.onActivation(t.parentContext,r)),i&&(a.cache=r,a.activated=!0),e&&null!==s&&!s.has(a.id)&&s.set(a.id,r),r}}}var l=e(80),h=e(105),r=e(317),d=e(147),f=e(501);t.resolve=function(t){return u(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},function(t,e,n){"use strict";var c=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},u=(Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0,n(80)),l=n(105),h=n(65);e.resolveInstance=function(t,e,n){var r,i,o=null,o=0<e.length?(s=e.filter(function(t){return null!==t.target&&t.target.type===l.TargetTypeEnum.ConstructorArgument}).map(n),r=o=new(t.bind.apply(t,c([void 0],s))),s=n,n=e.filter(function(t){return null!==t.target&&t.target.type===l.TargetTypeEnum.ClassProperty}),i=n.map(s),n.forEach(function(t,e){t=t.target.name.value(),e=i[e];r[t]=e}),r):new t,e=t,a=o;if(Reflect.hasMetadata(h.POST_CONSTRUCT,e)){var s=Reflect.getMetadata(h.POST_CONSTRUCT,e);try{a[s.value]()}catch(a){throw new Error(u.POST_CONSTRUCT_ERROR(e.name,a.message))}}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var r=n(80),i=n(105),o=n(503),a=n(320);function s(t){this._binding=t}s.prototype.to=function(t){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},s.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},s.prototype.toConstantValue=function(t){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},s.prototype.toDynamicValue=function(t){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},s.prototype.toConstructor=function(t){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},s.prototype.toFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},s.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);t=this.toConstantValue(t);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},s.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},s.prototype.toProvider=function(t){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},s.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},e.BindingToSyntax=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var r=n(504),i=n(234),o=n(235);function a(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}a.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},a.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},a.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},a.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},a.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},a.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},a.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},a.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},a.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},a.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},a.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},a.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},a.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},a.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},a.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},a.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},a.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},a.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},a.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e.BindingInWhenOnSyntax=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var r=n(105),i=n(320);function o(t){this._binding=t}o.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},o.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},o.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e.BindingInSyntax=o},function(t,e,n){"use strict";function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0,r.of=function(t,e){var n=new r;return n.bindings=t,n.middleware=e,n},e.ContainerSnapshot=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var r=n(80);function i(){this._map=new Map}i.prototype.getMap=function(){return this._map},i.prototype.add=function(t,e){if(null==t)throw new Error(r.NULL_ARGUMENT);if(null==e)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},i.prototype.get=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);t=this._map.get(t);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},i.prototype.remove=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},i.prototype.removeByCondition=function(n){var r=this;this._map.forEach(function(t,e){t=t.filter(function(t){return!n(t)});0<t.length?r._map.set(e,t):r._map.delete(e)})},i.prototype.hasKey=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},i.prototype.clone=function(){var n=new i;return this._map.forEach(function(t,e){t.forEach(function(t){return n.add(e,t.clone())})}),n},i.prototype.traverse=function(n){this._map.forEach(function(t,e){n(e,t)})},e.Lookup=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var r=n(122);e.ContainerModule=function(t){this.id=r.id(),this.registry=t};e.AsyncContainerModule=function(t){this.id=r.id(),this.registry=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var r=n(80),i=n(65);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(i.PARAM_TYPES,e,t),t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var a=n(94),s=n(108);e.tagged=function(i,o){return function(t,e,n){var r=new a.Metadata(i,o);"number"==typeof n?s.tagParameter(t,e,n,r):s.tagProperty(t,e,r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var o=n(65),a=n(94),s=n(108);e.named=function(i){return function(t,e,n){var r=new a.Metadata(o.NAMED_TAG,i);"number"==typeof n?s.tagParameter(t,e,n,r):s.tagProperty(t,e,r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var i=n(65),o=n(94),a=n(108);e.optional=function(){return function(t,e,n){var r=new o.Metadata(i.OPTIONAL_TAG,!0);"number"==typeof n?a.tagParameter(t,e,n,r):a.tagProperty(t,e,r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var i=n(65),o=n(94),a=n(108);e.unmanaged=function(){return function(t,e,n){var r=new o.Metadata(i.UNMANAGED_TAG,!0);a.tagParameter(t,e,n,r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var o=n(65),a=n(94),s=n(108);e.multiInject=function(i){return function(t,e,n){var r=new a.Metadata(o.MULTI_INJECT_TAG,i);"number"==typeof n?s.tagParameter(t,e,n,r):s.tagProperty(t,e,r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var o=n(65),a=n(94),s=n(108);e.targetName=function(i){return function(t,e,n){var r=new a.Metadata(o.NAME_TAG,i);s.tagParameter(t,e,n,r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var r=n(80),i=n(65),o=n(94);e.postConstruct=function(){return function(t,e,n){e=new o.Metadata(i.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,e,t.constructor)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0,e.multiBindToService=function(r){return function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.forEach(function(t){return r.bind(t).toService(n)})}}}},function(n,t){function r(t,e){return n.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n.exports.default=n.exports,n.exports.__esModule=!0,r(t,e)}n.exports=r,n.exports.default=n.exports,n.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Symbol.for("INJECTION");function s(t,e,n,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return r&&!Reflect.hasMetadata(i,this,e)&&Reflect.defineMetadata(i,n(),this,e),Reflect.hasMetadata(i,this,e)?Reflect.getMetadata(i,this,e):n()},set:function(t){Reflect.defineMetadata(i,t,this,e)}})}e.makePropertyInjectDecorator=function(r,i){return function(n){return function(t,e){s(t,e,function(){return r.get(n)},i)}}},e.makePropertyInjectNamedDecorator=function(i,o){return function(n,r){return function(t,e){s(t,e,function(){return i.getNamed(n,r)},o)}}},e.makePropertyInjectTaggedDecorator=function(o,a){return function(n,r,i){return function(t,e){s(t,e,function(){return o.getTagged(n,r,i)},a)}}},e.makePropertyMultiInjectDecorator=function(r,i){return function(n){return function(t,e){s(t,e,function(){return r.getAll(n)},i)}}}},function(t,e,n){var r=n(315);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}},function(t,e){t.exports=function(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(t,e,n){t.exports=function(t,e){var n=t[0],t=t[1],r=e[0],e=e[1];return Math.abs(n-r)<=i*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(t-e)<=i*Math.max(1,Math.abs(t),Math.abs(e))};var i=n(337)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(t,e,n){t.exports=n(236)},function(t,e,n){t.exports=n(341)},function(t,e,n){t.exports=n(342)},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){var r=Math.cos(n),n=Math.sin(n),i=e[0],e=e[1];return t[0]=i*r-e*n,t[1]=i*n+e*r,t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}},function(t,e,n){t.exports=n(343)},function(t,e,n){t.exports=n(344)},function(t,e,n){t.exports=n(345)},function(t,e,n){t.exports=n(346)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(t,e){t.exports=function(t,e,n){e=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=e,t}},function(t,e){t.exports=function(t,e,n,r){var i=e[0],e=e[1];return t[0]=i+r*(n[0]-i),t[1]=e+r*(n[1]-e),t}},function(t,e){t.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],e=e[1];return t[0]=n[0]*r+n[2]*e,t[1]=n[1]*r+n[3]*e,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],e=e[1];return t[0]=n[0]*r+n[2]*e+n[4],t[1]=n[1]*r+n[3]*e+n[5],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],e=e[1];return t[0]=n[0]*r+n[3]*e+n[6],t[1]=n[1]*r+n[4]*e+n[7],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],e=e[1];return t[0]=n[0]*r+n[4]*e+n[12],t[1]=n[1]*r+n[5]*e+n[13],t}},function(t,e,n){t.exports=function(t,e,n,r,i,o){var a,s;for(e=e||2,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)c[0]=t[a],c[1]=t[a+1],i(c,c,o),t[a]=c[0],t[a+1]=c[1];return t};var c=n(338)()},function(t,e){t.exports=function(t,e,n){var r=e[0]*e[0]+e[1]*e[1];return n*n<r?(r=Math.sqrt(r),t[0]=e[0]/r*n,t[1]=e[1]/r*n):(t[0]=e[0],t[1]=e[1]),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clusterBundle=e.clusterCode=e.fruchtermanBundle=e.fruchtermanCode=void 0,e.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",e.fruchtermanBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',e.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",e.clusterBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.aveMovementBundle=e.aveMovementCode=e.gForceBundle=e.gForceCode=void 0,e.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i 节点的第 p 条边开始的小格子位置\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // 大格子，大格子位置=小个子位置 / 4，\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // 每个节点属性占两个数组中各一格\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",e.gForceBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',e.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",e.aveMovementBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},function(t,e,n){"use strict";function r(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype.distanceTo=function(t){var e=this.rx-t.rx,t=this.ry-t.ry;return Math.hypot(e,t)},r.prototype.setPos=function(t,e){this.rx=t,this.ry=e},r.prototype.resetForce=function(){this.fx=0,this.fy=0},r.prototype.addForce=function(t){var e=t.rx-this.rx,n=t.ry-this.ry,r=(r=Math.hypot(e,n))<1e-4?1e-4:r,t=this.g*(this.degree+1)*(t.degree+1)/r;this.fx+=t*e/r,this.fy+=t*n/r},r.prototype.in=function(t){return t.contains(this.rx,this.ry)},r.prototype.add=function(t){var e=this.mass+t.mass;return new r({rx:(this.rx*this.mass+t.rx*t.mass)/e,ry:(this.ry*this.mass+t.ry*t.mass)/e,mass:e,degree:this.degree+t.degree})},e.default=r},function(t,e,n){"use strict";function r(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype.getLength=function(){return this.length},r.prototype.contains=function(t,e){var n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&e<=this.ymid+n&&e>=this.ymid-n},r.prototype.NW=function(){return new r({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},r.prototype.NE=function(){return new r({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},r.prototype.SW=function(){return new r({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},r.prototype.SE=function(){return new r({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e.default=r},function(t,e,n){"use strict";function r(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=t&&(this.quad=t)}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype.insert=function(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new r(this.quad.NW()),this.NE=new r(this.quad.NE()),this.SW=new r(this.quad.SW()),this.SE=new r(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t},r.prototype._putBody=function(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))},r.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},r.prototype.updateForce=function(t){null!=this.body&&t!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(t)<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t)))},e.default=r},function(s,t,e){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},f=(Object.defineProperty(t,"__esModule",{value:!0}),n(e(237))),p=a(e(559)),g=a(e(561)),y=e(231);t.default=function(t,s){var c=t.nodes,u=t.edges,l=s.width,h=s.height;if(null==c||!c.length)return Promise.resolve();var r=[],i=(c.forEach(function(e){var t;1<u.filter(function(t){return t.source===e.id||t.target===e.id}).length&&(delete(t=o({},e)).size,r.push(t))}),[]),n=(u.forEach(function(e){var t=r.find(function(t){return t.id===e.source}),n=r.find(function(t){return t.id===e.target});t&&n&&i.push(e)}),new y.DagreLayout({type:"dagre",ranksep:s.nodeMinGap,nodesep:s.nodeMinGap}).layout({nodes:r,edges:i}).nodes),d=(c.forEach(function(e){var t=(n||[]).find(function(t){return t.id===e.id});e.x=(null==t?void 0:t.x)||l/2,e.y=(null==t?void 0:t.y)||h/2}),JSON.parse(JSON.stringify(c))),t=JSON.parse(JSON.stringify(u)),e=f.forceSimulation().nodes(d).force("link",f.forceLink(t).id(function(t){return t.id}).distance(function(e){return i.find(function(t){return t.source===e.source&&t.target===e.target})?30:20})).force("charge",f.forceManyBody()).force("center",f.forceCenter(l/2,h/2)).force("x",f.forceX(l/2)).force("y",f.forceY(h/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise(function(a){e.on("end",function(){c.forEach(function(e){var t=d.find(function(t){return t.id===e.id});t&&(e.x=t.x,e.y=t.y)});var e=Math.min.apply(Math,c.map(function(t){return t.x})),t=Math.max.apply(Math,c.map(function(t){return t.x})),n=Math.min.apply(Math,c.map(function(t){return t.y})),r=Math.max.apply(Math,c.map(function(t){return t.y})),i=l/(t-e),o=h/(r-n);c.forEach(function(t){void 0!==t.x&&i<1&&(t.x=(t.x-e)*i),void 0!==t.y&&o<1&&(t.y=(t.y-n)*o)}),c.forEach(function(t){t.sizeTemp=t.size,t.size=[10,10]}),(0,g.default)(c,u),c.forEach(function(t){t.size=t.sizeTemp||[],delete t.sizeTemp}),(0,p.default)({nodes:c,edges:u},s),a()})})}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},y=(Object.defineProperty(e,"__esModule",{value:!0}),r(n(560)));e.default=function(n,l){if(!n.nodes||0===n.nodes.length)return n;var h=l.width,d=l.height,t=l.nodeMinGap,r=1e4,i=1e4,o=(n.nodes.forEach(function(t){var e=t.size[0]||50,t=t.size[1]||50;r=Math.min(e,r),i=Math.min(t,i)}),new y.default);o.init(h,d,{CELL_H:i,CELL_W:r}),n.nodes.forEach(function(t){var e=o.occupyNearest(t);e&&(e.node={id:t.id,size:t.size},t.x=e.x,t.y=e.y,t.dx=e.dx,t.dy=e.dy)});for(var a=0;a<n.nodes.length;a++){var e=n.nodes[a],f=o.findGridByNodeId(e.id);if(!f)throw new Error("can not find node cell");var s=f.column,c=f.row;if(e.size[0]+t>r){for(var p=g=Math.ceil((e.size[0]+t)/r)-1,u=0;u<g&&(-1<o.additionColumn.indexOf(s+u+1)&&!o.cells[s+u+1][c].node);u++)p--;o.insertColumn(s,p)}if(e.size[1]+t>i){for(var g,p=g=Math.ceil((e.size[1]+t)/i)-1,u=0;u<g&&(-1<o.additionRow.indexOf(c+u+1)&&!o.cells[s][c+u+1].node);u++)p--;o.insertRow(c,p)}}for(a=0;a<o.columnNum;a++)for(u=0;u<o.rowNum;u++)!function(t){var e=o.cells[a][t];!e.node||(t=n.nodes.find(function(t){return t.id===(null===(t=null==e?void 0:e.node)||void 0===t?void 0:t.id)}))&&(t.x=e.x+t.size[0]/2,t.y=e.y+t.size[1]/2)}(u)}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}Object.defineProperty(e,"__esModule",{value:!0}),s.prototype.init=function(t,e,n){this.cells=[],this.CELL_W=n.CELL_W||s.DEFAULT_CELL_W,this.CELL_H=n.CELL_H||s.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(e/this.CELL_H),s.MIN_DIST=Math.pow(t,2)+Math.pow(e,2);for(var r=0;r<this.columnNum;r++){for(var i=[],o=0;o<this.rowNum;o++){var a={dx:r,dy:o,x:r*this.CELL_W,y:o*this.CELL_H,occupied:!1};i.push(a)}this.cells.push(i)}},s.prototype.findGridByNodeId=function(t){for(var e,n=0;n<this.columnNum;n++)for(var r=0;r<this.rowNum;r++)if(this.cells[n][r].node&&(null===(e=null===(e=this.cells[n][r])||void 0===e?void 0:e.node)||void 0===e?void 0:e.id)===t)return{column:n,row:r};return null},s.prototype.sqdist=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},s.prototype.occupyNearest=function(t){for(var e,n=s.MIN_DIST,r=null,i=0;i<this.columnNum;i++)for(var o=0;o<this.rowNum;o++)!this.cells[i][o].occupied&&(e=this.sqdist(t,this.cells[i][o]))<n&&(n=e,r=this.cells[i][o]);return r&&(r.occupied=!0),r},s.prototype.insertColumn=function(t,e){if(!(e<=0)){for(var n=0;n<e;n++){this.cells[n+this.columnNum]=[];for(var r=0;r<this.rowNum;r++)this.cells[n+this.columnNum][r]={dx:n,dy:r,x:n*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null}}for(n=this.columnNum-1;t<n;n--)for(r=0;r<this.rowNum;r++)this.cells[n+e][r]=i(i({},this.cells[n][r]),{x:(n+e)*this.CELL_W,y:r*this.CELL_H}),this.cells[n][r]={x:n*this.CELL_W,y:r*this.CELL_H,occupied:!0,node:null};for(r=0;r<this.additionColumn.length;r++)this.additionColumn[r]>=t&&(this.additionColumn[r]+=e);for(n=0;n<e;n++)this.additionColumn.push(t+n+1);this.columnNum+=e}},s.prototype.insertRow=function(t,e){if(!(e<=0)){for(var n=0;n<e;n++)for(var r=0;r<this.columnNum;r++)this.cells[r][n+this.rowNum]={dx:r,dy:n,x:r*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(r=0;r<this.columnNum;r++)for(n=this.rowNum-1;t<n;n--)this.cells[r][n+e]=i(i({},this.cells[r][n]),{dx:r,dy:n+e,x:r*this.CELL_W,y:(n+e)*this.CELL_H}),this.cells[r][n]={dx:r,dy:n,x:r*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(n=0;n<this.additionRow.length;n++)this.additionRow[n]>=t&&(this.additionRow[n]+=e);for(r=0;r<e;r++)this.additionRow.push(t+r+1);this.rowNum+=e}},s.prototype.getNodes=function(){for(var t=[],e=0;e<this.columnNum;e++)for(var n=0;n<this.rowNum;n++)this.cells[e][n].node&&t.push(this.cells[e][n]);return t},s.MIN_DIST=50,s.DEFAULT_CELL_W=80,s.DEFAULT_CELL_H=80,e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=1.5707963267948966,v=new Map,h=.8;function o(t,e){var l=(v.get(t.id)||[]).find(function(t){return t.source===e.id||t.target===e.id}),n=t.size[0]*t.size[1],r=e.size[0]*e.size[1],i=r<n?e:t,r=r<n?t:e,n=i.x-i.size[0]/2,t=i.y-i.size[1]/2,o=i.x+i.size[0]/2,a=i.y+i.size[1]/2,h=r.x-r.size[0]/2,s=r.y-r.size[1]/2,d=r.x+r.size[0]/2,c=r.y+r.size[1]/2,f=i.x,p=i.y,g=r.x,y=r.y,_=0,u=0;return h<=o&&n<=d&&s<=a&&t<=c?(_=10/(u=0===(u=Math.sqrt(Math.pow(g-f,2)+Math.pow(y-p,2)))?1e-7:u)*100+((o<d?o:d)-(h<n?n:h))*((a<c?a:c)-(s<t?t:s)),_*=1e7):(g=i.x-i.size[0]/2,f=i.y-i.size[1]/2,y=i.x+i.size[0]/2,p=i.y+i.size[1]/2,o=r.x-r.size[0]/2,d=r.y-r.size[1]/2,n=r.x+r.size[0]/2,h=r.y+r.size[1]/2,a=i.x,c=i.y,t=r.x,s=r.y,t-=a,a=Math.atan2(t,s-c),r=i=c=s=0,m<a?(c=f-h,s=o-y,i=parseFloat((c?c/Math.cos(a):s).toFixed(2)),r=parseFloat((s?s/Math.sin(a):c).toFixed(2))):i=r=0<a&&a<=m?(c=d-p)>(s=o-y)?parseFloat((c?c/Math.cos(a):s).toFixed(2)):parseFloat((s?s/Math.sin(a):c).toFixed(2)):a<-m?(c=f-h)>(s=-(n-g))?parseFloat((c?c/Math.cos(a):s).toFixed(2)):parseFloat((s?s/Math.sin(a):c).toFixed(2)):(c=d-p)>(s=Math.abs(t)>(y-g)/2?g-n:t)?parseFloat((c?c/Math.cos(a):s).toFixed(2)):parseFloat((s&&0!==a?s/Math.sin(a):c).toFixed(2)),parseFloat(a.toFixed(2)),o=!1,f={distance:Math.abs(i<r?i:r),isHoriz:o},(u=f.distance)<=10?_+=0!==u?l?10+1e7/u:10+1e8/u:1e7:(_+=u,l&&(_+=u*u))),_}function d(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];(r.x<0||r.y<0||1200<r.x||800<r.y)&&(e+=1e12);for(var i=n+1;i<t.length;i++)e+=o(r,t[i])}return e}function s(t,l){for(var e,n,r=!1,i=[10,-10,0,0],o=[0,0,10,-10],a=0;a<t.length;++a)for(var s=t[a],c=f(s,t),u=0;u<i.length;u++)!function(e,t,n,l){var r=new Map,n=(n.forEach(function(t,e){r.set(t.id,t)}),l.filter(function(t){return t.source===e.id||t.target===e.id})||[]),i=[];n.forEach(function(t){t=t.source===e.id?t.target:t.source,t=r.get(t);t&&i.push(t)});for(var o=!0,a=0;a<i.length;a++){var s=i[a],c=180*Math.atan((e.y-s.y)/(s.x-e.y)),u=180*Math.atan((t.y-s.y)/(s.x-t.y)),h=70<c&&c<110,d=70<u&&u<110;if((c<30||150<c)&&!(u<30||150<u)||c*u<0){o=!1;break}if(h&&!d||c*u<0){o=!1;break}if((s.x-e.x)*(s.x-t.x)<0){o=!1;break}if((s.y-e.y)*(s.y-t.y)<0){o=!1;break}}return o}(s,{x:s.x+i[u],y:s.y+o[u]},t,l)||(s.x+=i[u],s.y+=o[u],e=f(s,t),n=Math.random(),e<c||n<h&&.1<n?(c=e,r=!0):(s.x-=i[u],s.y-=o[u]));return.1<h&&(h*=.5),r?d(t):0}function f(t,e){var n=0;(t.x<0||t.y<0||1200<t.x+t.size[0]+20||800<t.y+t.size[1]+20)&&(n+=1e12);for(var r=0;r<e.length;++r)t.id!==e[r].id&&(n+=o(t,e[r]));return n}e.default=function(t,n){if(0===t.length)return{nodes:t,edges:n};t.forEach(function(e){var t=n.filter(function(t){return t.source===e.id||t.target===e.id});v.set(e,t)}),t.sort(function(t,e){return(null===(t=v.get(t.id))||void 0===t?void 0:t.length)-(null===(t=v.get(e.id))||void 0===t?void 0:t.length)});for(var e=d(t),r=20,i=0,o=0;0<r&&!(50<=++o);){var a=s(t,n),a=(i=0!==a?a:i)-e,e=i;0==a?--r:r=20}return t.forEach(function(t){t.x=t.x-t.size[0]/2,t.y=t.y-t.size[1]/2}),{nodes:t,edges:n}}},function(l,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layouts=t.Layout=void 0;var n=e(292),r=e(296),i=e(297),o=e(298),a=e(299),s=e(300),c=e(231),h=e(308),d=e(309),f=e(310),p=e(311),g=e(312),y=e(350),_=e(351),m=e(352),v=e(353),b=e(354),e=e(307);function u(t){var e=(0,n.getLayoutByName)(t.type);this.layoutInstance=new e(t)}u.prototype.layout=function(t){return this.layoutInstance.layout(t)},u.prototype.updateCfg=function(t){this.layoutInstance.updateCfg(t)},u.prototype.init=function(t){this.layoutInstance.init(t)},u.prototype.execute=function(){this.layoutInstance.execute()},u.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},u.prototype.destroy=function(){return this.layoutInstance.destroy()},t.Layout=u,t.Layouts={force:a.ForceLayout,fruchterman:p.FruchtermanLayout,forceAtlas2:v.ForceAtlas2Layout,gForce:o.GForceLayout,dagre:c.DagreLayout,dagreCompound:e.DagreCompoundLayout,circular:s.CircularLayout,radial:h.RadialLayout,concentric:d.ConcentricLayout,grid:r.GridLayout,mds:f.MDSLayout,comboForce:_.ComboForceLayout,comboCombined:m.ComboCombinedLayout,random:i.RandomLayout,"gForce-gpu":y.GForceGPULayout,"fruchterman-gpu":g.FruchtermanGPULayout,er:b.ERLayout}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Line,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Area,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Bar,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Column,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Pie,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Scatter,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Stock,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Radar,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Sunburst,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Chord,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.WordCloud,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Sankey,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Rose,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Treemap,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Histogram,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(n,t,e){"use strict";var l=e(6),h=e.n(l),d=e(43),f=e(48),p=e(72),g=e(44),y=e(45),e=Object(l.forwardRef)(function(t,e){var n=t.chartRef,r=t.style,r=void 0===r?{height:"inherit"}:r,i=t.className,o=t.loading,a=t.loadingTemplate,s=t.errorTemplate,c=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=Object(f.a)(d.Box,c),u=c.chart,c=c.container;return Object(l.useEffect)(function(){Object(p.a)(n,u.current)},[u.current]),Object(l.useImperativeHandle)(e,function(){return{getChart:function(){return u.current}}}),h.a.createElement(g.a,{errorTemplate:s},o&&h.a.createElement(y.a,{loadingTemplate:a,theme:t.theme}),h.a.createElement("div",{className:i,style:r,ref:c}))});t.a=e},function(i,o,t){"use strict";var a,s,c={},l=(t.r(c),t.d(c,"getAdjMatrix",function(){return R}),t.d(c,"breadthFirstSearch",function(){return V}),t.d(c,"connectedComponent",function(){return q}),t.d(c,"getDegree",function(){return Q}),t.d(c,"getInDegree",function(){return J}),t.d(c,"getOutDegree",function(){return tt}),t.d(c,"detectCycle",function(){return ot}),t.d(c,"detectDirectedCycle",function(){return Qt}),t.d(c,"detectAllCycles",function(){return it}),t.d(c,"detectAllDirectedCycle",function(){return rt}),t.d(c,"detectAllUndirectedCycle",function(){return nt}),t.d(c,"depthFirstSearch",function(){return et}),t.d(c,"dijkstra",function(){return st}),t.d(c,"findAllPath",function(){return ht}),t.d(c,"findShortestPath",function(){return lt}),t.d(c,"floydWarshall",function(){return dt}),t.d(c,"labelPropagation",function(){return ft}),t.d(c,"louvain",function(){return jt}),t.d(c,"iLouvain",function(){return Dt}),t.d(c,"kCore",function(){return Tt}),t.d(c,"kMeans",function(){return It}),t.d(c,"cosineSimilarity",function(){return kt}),t.d(c,"nodesCosineSimilarity",function(){return Lt}),t.d(c,"minimumSpanningTree",function(){return Ft}),t.d(c,"pageRank",function(){return Ut}),t.d(c,"getNeighbors",function(){return U}),t.d(c,"Stack",function(){return Zt}),t.d(c,"GADDI",function(){return qt}),t.d(c,"default",function(){return Jt}),{}),h=(t.r(l),t.d(l,"compare",function(){return ee}),t.d(l,"getLineIntersect",function(){return ne}),t.d(l,"getRectIntersectByPoint",function(){return re}),t.d(l,"getCircleIntersectByPoint",function(){return ie}),t.d(l,"getEllipseIntersectByPoint",function(){return oe}),t.d(l,"applyMatrix",function(){return ae}),t.d(l,"invertMatrix",function(){return se}),t.d(l,"getCircleCenterByPoints",function(){return ce}),t.d(l,"distance",function(){return ue}),t.d(l,"scaleMatrix",function(){return le}),t.d(l,"floydWarshall",function(){return he}),t.d(l,"getAdjMatrix",function(){return de}),t.d(l,"translate",function(){return fe}),t.d(l,"move",function(){return pe}),t.d(l,"scale",function(){return ge}),t.d(l,"rotate",function(){return ye}),t.d(l,"getDegree",function(){return _e}),t.d(l,"isPointInPolygon",function(){return je}),t.d(l,"intersectBBox",function(){return De}),t.d(l,"isPolygonsIntersect",function(){return Te}),t.d(l,"Line",function(){return Ie}),t.d(l,"getBBoxBoundLine",function(){return ke}),t.d(l,"itemIntersectByLine",function(){return Le}),t.d(l,"fractionToLine",function(){return Re}),t.d(l,"getPointsCenter",function(){return Be}),t.d(l,"squareDist",function(){return Ne}),t.d(l,"pointLineSquareDist",function(){return Fe}),t.d(l,"isPointsOverlap",function(){return Ue}),t.d(l,"pointRectSquareDist",function(){return We}),t.d(l,"pointLineDistance",function(){return ze}),t.d(l,"lerp",function(){return Ge}),{}),d=(t.r(h),t.d(h,"getBBox",function(){return on}),t.d(h,"getLoopCfgs",function(){return an}),t.d(h,"getLabelPosition",function(){return sn}),t.d(h,"traverseTree",function(){return cn}),t.d(h,"traverseTreeUp",function(){return un}),t.d(h,"getLetterWidth",function(){return ln}),t.d(h,"getTextSize",function(){return hn}),t.d(h,"plainCombosToTrees",function(){return dn}),t.d(h,"reconstructTree",function(){return fn}),t.d(h,"getComboBBox",function(){return pn}),t.d(h,"shouldRefreshEdge",function(){return gn}),t.d(h,"cloneBesidesImg",function(){return yn}),{}),e=(t.r(d),t.d(d,"uniqueId",function(){return vn}),t.d(d,"formatPadding",function(){return bn}),t.d(d,"cloneEvent",function(){return On}),t.d(d,"isViewportChanged",function(){return xn}),t.d(d,"isNaN",function(){return En}),t.d(d,"calculationItemsBBox",function(){return wn}),t.d(d,"processParallelEdges",function(){return Mn}),{}),f=(t.r(e),t.d(e,"getSpline",function(){return Zn}),t.d(e,"getControlPoint",function(){return Qn}),t.d(e,"pointsToPolygon",function(){return Jn}),t.d(e,"pathToPoints",function(){return tr}),t.d(e,"getClosedSpline",function(){return er}),t.d(e,"roundedHull",function(){return hr}),t.d(e,"paddedHull",function(){return dr}),{}),p=(t.r(f),t.d(f,"defaultSubjectColors",function(){return Sr}),{}),v=(t.r(p),t.d(p,"mixColor",function(){return Vr}),t.d(p,"getColorsWithSubjectColor",function(){return Xr}),t.d(p,"getColorSetsBySubjectColors",function(){return Yr}),{}),b=(t.r(v),t.d(v,"proccessToFunc",function(){return ni}),t.d(v,"buildTextureData",function(){return ri}),t.d(v,"buildTextureDataWithOneEdgeAttr",function(){return ii}),t.d(v,"buildTextureDataWithTwoEdgeAttr",function(){return oi}),t.d(v,"attributesToTextureData",function(){return ai}),t.d(v,"arrayToTextureData",function(){return si}),t.d(v,"radialLayout",function(){return ci}),{}),O=(t.r(b),t.d(b,"gpuDetector",function(){return ui}),t(6)),x=t.n(O),E=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=(a=x.a.Component,E(S,a),S.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},S.getDerivedStateFromProps=function(t,e){return e.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},S.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):x.a.createElement(O.Fragment,null,this.props.children)},S),E=t(141),Y=t.n(E),_=t(7),X=t(0),M={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(n){var t=this,e=this.events;this.graph=n,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||n.get("canvas").set("draggable",!0),Object(X.each)(e,function(t,e){n.on(e,t)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(n){var t=this.events,e=n.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||n.get("canvas").set("draggable",!1),Object(X.each)(t,function(t,e){n.off(e,t)}),n.get("canvas").set("draggable",e)},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}},P=(A.registerBehavior=function(t,e){if(!e)throw new Error("please specify handler for this behavior: ".concat(t));function n(t){var n=this,t=(Object.assign(this,this.getDefaultCfg(),t),this.getEvents()),r=(this.events=null,{});t&&(Object(X.each)(t,function(t,e){r[e]=Object(X.wrapBehavior)(n,t)}),this.events=r)}var r=Object(X.clone)(M);Object.assign(r,e);n.prototype=r,A.types[t]=n},A.hasBehavior=function(t){return!!A.types[t]},A.getBehavior=function(t){return A.types[t]},A.types={},A),E=P,C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function A(){}function S(){var n=null!==a&&a.apply(this,arguments)||this;return n.state={hasError:!1},n.renderError=function(t){var e=n.props.errorTemplate;return e&&"function"==typeof e?e(t):x.a.createElement("h5",null,"组件出错了，请核查后重试： ",t.message)},n}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var g=function(){return(g=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function D(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function T(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,Object.create;function I(t,e){return t===e}var k=t(112),L=t(12),R=function(t,n){var e=t.nodes,t=t.edges,r=[],i={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(t,e){i[t.id]=e,r.push([])}),t&&t.forEach(function(t){var e=t.source,t=t.target,e=i[e],t=i[t];!e&&0!==e||!t&&0!==t||(r[e][t]=1,n||(r[t][e]=1))}),r},B=(K.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},K),N=($.prototype.prepend=function(t){t=new B(t,this.head);return this.head=t,this.tail||(this.tail=t),this},$.prototype.append=function(t){t=new B(t);return this.head?this.tail.next=t:this.head=t,this.tail=t,this},$.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},$.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,e=t.callback,r=void 0===e?void 0:e;if(!this.head)return null;for(var i=this.head;i;){if(r&&r(i.value))return i;if(void 0!==n&&this.compare(i.value,n))return i;i=i.next}return null},$.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},$.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},$.prototype.fromArray=function(t){var e=this;return t.forEach(function(t){return e.append(t)}),this},$.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},$.prototype.reverse=function(){for(var t,e=this.head,n=null;e;)t=e.next,e.next=n,n=e,e=t;this.tail=this.head,this.head=n},$.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},$),F=(G.prototype.isEmpty=function(){return!this.linkedList.head},G.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},G.prototype.enqueue=function(t){this.linkedList.append(t)},G.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},G.prototype.toString=function(t){return this.linkedList.toString(t)},G),U=function(e,t,n){t=(t=void 0===t?[]:t).filter(function(t){return t.source===e||t.target===e});return"target"===n?t.filter(function(t){return t.source===e}).map(function(t){return t.target}):"source"===n?t.filter(function(t){return t.target===e}).map(function(t){return t.source}):t.map(function(t){return t.source===e?t.target:t.source})},W=function(e,t){return t.filter(function(t){return t.source===e||t.target===e})},z=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)};function G(){this.linkedList=new N}function $(t){void 0===t&&(t=I),this.head=null,this.tail=null,this.compare=t}function K(t,e){void 0===e&&(e=null),this.value=t,this.next=e}var V=function(t,e,n,r){void 0===r&&(r=!0);var i=function(t){function e(){}var n,r=t=void 0===t?{}:t;n={};return r.allowTraversal=t.allowTraversal||function(t){t=t.next;return!n[t]&&(n[t]=!0)},r.enter=t.enter||e,r.leave=t.leave||e,r}(n),o=new F,n=t.edges,a=void 0===n?[]:n;o.enqueue(e);for(var s="";!o.isEmpty();)!function(){var e=o.dequeue();i.enter({current:e,previous:s}),U(e,a,r?"target":void 0).forEach(function(t){i.allowTraversal({previous:s,current:e,next:t})&&o.enqueue(t)}),i.leave({current:e,previous:s}),s=e}()},H=function(t){for(var e=t.nodes,a=void 0===e?[]:e,e=t.edges,d=void 0===e?[]:e,s=[],c={},u={},l={},f=[],h=0,i=function n(r){u[r.id]=h,l[r.id]=h,h+=1,s.push(r),c[r.id]=!0;for(var i=U(r.id,d,"target").filter(function(t){return-1<a.map(function(t){return t.id}).indexOf(t)}),t=0;t<i.length;t++)!function(t){var e=i[t];u[e]||0===u[e]?c[e]&&(l[r.id]=Math.min(l[r.id],u[e])):(0<(t=a.filter(function(t){return t.id===e})).length&&n(t[0]),l[r.id]=Math.min(l[r.id],l[e]))}(t);if(l[r.id]===u[r.id]){for(var e=[];0<s.length;){var o=s.pop();if(c[o.id]=!1,e.push(o),o===r)break}0<e.length&&f.push(e)}},n=0,o=a;n<o.length;n++){var r=o[n];u[r.id]||0===u[r.id]||i(r)}return f};function q(t,e){if(e)return H(t);for(var e=t.nodes,i=void 0===e?[]:e,o=void 0===(e=t.edges)?[]:e,n=[],a={},s=[],l=function n(t){s.push(t),a[t.id]=!0;for(var r=U(t.id,o),e=0;e<r.length;++e)!function(t){var e=r[t];a[e]||0<(t=i.filter(function(t){return t.id===e})).length&&n(t[0])}(e)},r=0;r<i.length;r++){var c=i[r];if(!a[c.id]){l(c);for(var u=[];0<s.length;)u.push(s.pop());n.push(u)}}return n}function Z(t){var e={},n=void 0===(n=t.nodes)?[]:n,t=void 0===(t=t.edges)?[]:t;return n.forEach(function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}}),t.forEach(function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++}),e}var Q=Z,J=function(t,e){return Z(t)[e]?Z(t)[e].inDegree:0},tt=function(t,e){return Z(t)[e]?Z(t)[e].outDegree:0};function et(t,e,n){!function e(n,r,i,o){o.enter({current:r,previous:i});var t=n.edges;U(r,void 0===t?[]:t,"target").forEach(function(t){o.allowTraversal({previous:i,current:r,next:t})&&e(n,t,r,o)}),o.leave({current:r,previous:i})}(t,e,"",function(t){function e(){}var n,r=t=void 0===t?{}:t;n={};return r.allowTraversal=t.allowTraversal||function(t){t=t.next;return!n[t]&&(n[t]=!0)},r.enter=t.enter||e,r.leave=t.leave||e,r}(n))}var nt=function(s,c,u){var n;void 0===u&&(u=!0);for(var l=[],t=0,r=q(s,!1);t<r.length;t++){var e=r[t];if(e.length)for(var e=e[0],i=e.id,g=[e],h=((n={})[i]=e,n),d=((e={})[i]=new Set,e);0<g.length;)for(var f=g.pop(),p=f.id,y=U(p,s.edges),o=0;o<y.length;o+=1)!function(t){var e=y[t],t=s.nodes.find(function(t){return t.id===e});if(e===p)l.push(((n={})[e]=f,n));else if(e in d){if(!d[p].has(t)){for(var n=!0,r=[t,f],i=h[p];d[e].size&&!d[e].has(i)&&(r.push(i),i!==h[i.id]);)i=h[i.id];if(r.push(i),c&&u?(n=!1,-1<r.findIndex(function(t){return-1<c.indexOf(t.id)})&&(n=!0)):c&&!u&&-1<r.findIndex(function(t){return-1<c.indexOf(t.id)})&&(n=!1),n){for(var o={},a=1;a<r.length;a+=1)o[r[a-1].id]=r[a];r.length&&(o[r[r.length-1].id]=r[0]),l.push(o)}d[e].add(f)}}else h[e]=f,g.push(t),d[e]=new Set([f])}(o)}return l},rt=function(v,f,p){void 0===p&&(p=!0);for(var d=[],g=new Set,y=[],b=[],_={},m={},r=function l(t,e,h){var n=!1;if(f&&!1===p&&-1<f.indexOf(t.id))return n;d.push(t),g.add(t);for(var r=h[t.id],i=0;i<r.length;i+=1)if((u=_[r[i]])===e){for(var o={},a=1;a<d.length;a+=1)o[d[a-1].id]=d[a];d.length&&(o[d[d.length-1].id]=d[0]),b.push(o),n=!0}else g.has(u)||l(u,e,h)&&(n=!0);if(n)for(var s=[t];0<s.length;){var c=s.pop();g.has(c)&&(g.delete(c),y[c.id].forEach(function(t){s.push(t)}),y[c.id].clear())}else for(i=0;i<r.length;i+=1){var u=_[r[i]];y[u.id].has(t)||y[u.id].add(t)}return d.pop(),n},i=v.nodes,n=void 0===i?[]:i,t=0;t<n.length;t+=1){var o=n[t],a=o.id;m[a]=t,_[t]=o}if(f&&p)for(t=0;t<f.length;t++)!function(t){var e=f[t];m[n[t].id]=m[e],m[e]=0,_[0]=n.find(function(t){return t.id===e}),_[m[n[t].id]]=n[t]}(t);for(var s=0;s<n.length;){var e=n.filter(function(t){return m[t.id]>=s}),e=H({nodes:e,edges:v.edges}).filter(function(t){return 1<t.length});if(0===e.length)break;var e=function(t){for(var e,n=1/0,r=0;r<t.length;r+=1)for(var l=t[r],i=0;i<l.length;i++){var h=m[l[i].id];h<n&&(n=h,e=r)}for(var o=t[e],a=[],r=0;r<o.length;r+=1){var s=o[r];a[s.id]=[];for(var c=0,d=U(s.id,v.edges,"target").filter(function(t){return-1<o.map(function(t){return t.id}).indexOf(t)});c<d.length;c++){var u=d[c];u!==s.id||!1===p&&-1<f.indexOf(s.id)?a[s.id].push(m[u]):b.push(((u={})[s.id]=s,u))}}return{component:o,adjList:a,minIdx:n}}(e),c=e.minIdx,u=e.adjList,e=e.component;if(!(1<e.length))break;e.forEach(function(t){y[t.id]=new Set});e=_[c];if(f&&p&&-1===f.indexOf(e.id))return b;r(e,e,u),s=c+1}return b},it=function(t,e,n,r){return(e?rt:nt)(t,n,r=void 0===r?!0:r)},ot=function(t){var i=null,e=t.nodes,o={},a={},s={},n={};(void 0===e?[]:e).forEach(function(t){a[t.id]=t});for(var r={enter:function(t){var e=t.current,t=t.previous;if(s[e]){i={};for(var n=e,r=t;r!==e;)i[n]=r,r=o[n=r];i[n]=r}else s[e]=e,delete a[e],o[e]=t},leave:function(t){t=t.current;n[t]=t,delete s[t]},allowTraversal:function(t){t=t.next;return!i&&!n[t]}};Object.keys(a).length;)et(t,Object.keys(a)[0],r);return i},at=t(114),st=function(t,n,l,o){var e=t.nodes,a=void 0===e?[]:e,e=t.edges,s=void 0===e?[]:e,h=[],d={},c={},u={};a.forEach(function(t,e){t=t.id;h.push(t),c[t]=1/0,t===n&&(c[t]=0)});for(var f=a.length,p=0;p<f;p++)!function(){var e,r=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r}(c,a,d),i=r.id;if(d[i]=!0,c[i]===1/0)return;(l?(e=i,s.filter(function(t){return t.source===e})):W(i,s)).forEach(function(t){var e=t.target,n=t.source,n=e===i?n:e,e=o&&t[o]?t[o]:1;c[n]>c[r.id]+e?(c[n]=c[r.id]+e,u[n]=[r.id]):c[n]===c[r.id]+e&&u[n].push(r.id)})}();u[n]=[n];var r={};for(i in c)c[i]!==1/0&&function l(t,e,n,r){if(t===e)return[t];if(r[e])return r[e];for(var i=[],o=0,a=n[e];o<a.length;o++){var s=l(t,a[o],n,r);if(!s)return;for(var c=0,h=s;c<h.length;c++){var u=h[c];Object(X.isArray)(u)?i.push(Object(at.__spreadArray)(Object(at.__spreadArray)([],u,!0),[e],!1)):i.push([u,e])}}return r[e]=i,r[e]}(n,i,u,r);var i,g={};for(i in r)g[i]=r[i][0];return{length:c,path:g,allPath:r}};function ct(t,e){void 0===e&&(e=void 0);var n=[];return t.forEach(function(t){void 0===e&&n.push(t),void 0!==t[e]&&n.push(t[e])}),n}var ut,lt=function(t,e,n,r,i){t=st(t,e,r,i),e=t.length,r=t.path,i=t.allPath;return{length:e[n],path:r[n],allPath:i[n]}},ht=function(t,e,n,l){if(e===n)return[[e]];var t=t.edges,r=void 0===t?[]:t,i=[e],o=((t={})[e]=!0,t),a=[],h=[],s=l?U(e,r,"target"):U(e,r);for(a.push(s);0<i.length&&0<a.length;){var c,u=a[a.length-1];u.length?((u=u.shift())&&(i.push(u),o[u]=!0,s=l?U(u,r,"target"):U(u,r),a.push(s.filter(function(t){return!o[t]}))),i[i.length-1]===n&&(u=i.map(function(t){return t}),h.push(u),c=i.pop(),o[c]=!1,a.pop())):(c=i.pop(),o[c]=!1,a.pop())}return h},dt=function(t,e){for(var n=R(t,e),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r},ft=function(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i="weight"),void 0===n&&(n=1e3);var r=t.nodes,o=void 0===r?[]:r,r=t.edges,r=void 0===r?[]:r,s={},c={},t=(o.forEach(function(t,e){var n=z();t.clusterId=n,s[n]={id:n,nodes:[t]},c[t.id]={node:t,idx:e}}),R(t,e)),l=[],u={};t.forEach(function(t,e){var n=0,r=o[e].id;u[r]={},t.forEach(function(t,e){t&&(n+=t,e=o[e].id,u[r][e]=t)}),l.push(n)});for(var h=0;h<n&&"break"!==function(){var a=!1;if(o.forEach(function(n){var t,e,r={},i=(Object.keys(u[n.id]).forEach(function(t){var e=u[n.id][t],t=c[t].node.clusterId;r[t]||(r[t]=0),r[t]+=e}),-1/0),o=[];Object.keys(r).forEach(function(t){i<r[t]?(i=r[t],o=[t]):i===r[t]&&o.push(t)}),1===o.length&&o[0]===n.clusterId||(0<=(t=o.indexOf(n.clusterId))&&o.splice(t,1),o&&o.length&&(a=!0,e=(t=s[n.clusterId]).nodes.indexOf(n),t.nodes.splice(e,1),t=Math.floor(Math.random()*o.length),(e=s[o[t]]).nodes.push(n),n.clusterId=e.id))}),!a)return"break";h++}(););Object.keys(s).forEach(function(t){var e=s[t];e.nodes&&e.nodes.length||delete s[t]});var d=[],a={},f=(r.forEach(function(t){var e=t.source,n=t.target,t=t[i]||1,e=c[e].node.clusterId,n=c[n].node.clusterId,r="".concat(e,"---").concat(n);a[r]?(a[r].weight+=t,a[r].count++):(a[r]=r={source:e,target:n,weight:t,count:1},d.push(r))}),[]);return Object.keys(s).forEach(function(t){f.push(s[t])}),{clusters:f,clusterEdges:d}},pt=(gt.prototype.getArr=function(){return this.arr||[]},gt.prototype.add=function(t){var e=t.arr;if(null===(t=this.arr)||void 0===t||!t.length)return new gt(e);if(null==e||!e.length)return new gt(this.arr);if(this.arr.length===e.length){var n,r=[];for(n in this.arr)r[n]=this.arr[n]+e[n];return new gt(r)}},gt.prototype.subtract=function(t){var e=t.arr;if(null===(t=this.arr)||void 0===t||!t.length)return new gt(e);if(null==e||!e.length)return new gt(this.arr);if(this.arr.length===e.length){var n,r=[];for(n in this.arr)r[n]=this.arr[n]-e[n];return new gt(r)}},gt.prototype.avg=function(t){var e=[];if(0!==t)for(var n in this.arr)e[n]=this.arr[n]/t;return new gt(e)},gt.prototype.negate=function(){var t,e=[];for(t in this.arr)e[t]=-this.arr[t];return new gt(e)},gt.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length||null==n||!n.length)return 0;if(this.arr.length===n.length){var r,i=0;for(r in this.arr)i+=Math.pow(this.arr[r]-t.arr[r],2);return i}},gt.prototype.euclideanDistance=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length||null==n||!n.length)return 0;if(this.arr.length===n.length){var r,i=0;for(r in this.arr)i+=Math.pow(this.arr[r]-t.arr[r],2);return Math.sqrt(i)}console.error("The two vectors are unequal in length.")},gt.prototype.normalize=function(){var t,e=[],n=Object(X.clone)(this.arr),r=(n.sort(function(t,e){return t-e}),n[n.length-1]),i=n[0];for(t in this.arr)e[t]=(this.arr[t]-i)/(r-i);return new gt(e)},gt.prototype.norm2=function(){var t;if(null===(t=this.arr)||void 0===t||!t.length)return 0;var e,n=0;for(e in this.arr)n+=Math.pow(this.arr[e],2);return Math.sqrt(n)},gt.prototype.dot=function(t){var e,n=t.arr;if(null===(e=this.arr)||void 0===e||!e.length||null==n||!n.length)return 0;if(this.arr.length===n.length){var r,i=0;for(r in this.arr)i+=this.arr[r]*t.arr[r];return i}console.error("The two vectors are unequal in length.")},gt.prototype.equal=function(t){var e,n=t.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null==n?void 0:n.length))return!1;for(e in this.arr)if(this.arr[e]!==n[e])return!1;return!0},gt);function gt(t){this.arr=t}(ut=ut||{}).EuclideanDistance="euclideanDistance";function yt(t,e,n){var c=St(t,e,n),r=[];return Object.keys(c).length&&t.forEach(function(a,t){var e,s=[];1===Object.keys(c).length?(e=Object.keys(c)[0],c[e].every(function(t){return!isNaN(Number(t))})&&(s=[a[e]])):Object.keys(c).forEach(function(t){for(var e=a[t],n=c[t],r=n.findIndex(function(t){return e===t}),i=[],o=0;o<n.length;o++)o===r?i.push(1):i.push(0);s=s.concat(i)}),r[t]=s}),r}function _t(t,e,n,r){var i=0;return i=(n=void 0===n?ut.EuclideanDistance:n)===ut.EuclideanDistance?new pt(t).euclideanDistance(new pt(e)):i}function mt(t,e,n,r){for(var i=e.length,o=2*r,a=0,s=0;s<i;s++)for(var c=t[s].clusterId,u=0;u<i;u++)c===t[u].clusterId&&(a+=(e[s][u]||0)-(n[s]||0)*(n[u]||0)/o);return a*(1/o)}function vt(t,e){for(var n=(t=void 0===t?[]:t).length,r=new pt([]),i=0;i<n;i++)r=r.add(new pt(e[i]));for(var o=r.avg(n),a=(o.normalize(),0),i=0;i<n;i++)a+=(l=new pt(e[i])).squareEuclideanDistance(o);var s=[];for(t.forEach(function(){s.push([])}),i=0;i<n;i++)for(var c,l=new pt(e[i]),u=t[i].clusterInertial=0;u<n;u++)i!==u?(c=new pt(e[u]),s[i][u]=l.squareEuclideanDistance(c),t[i].clusterInertial+=s[i][u]):s[i][u]=0;var h=0,d=2*n*a;for(i=0;i<n;i++)for(var f=t[i].clusterId,u=0;u<n;u++){var p=t[u].clusterId;i!==u&&f===p&&(h+=t[i].clusterInertial*t[u].clusterInertial/Math.pow(d,2)-s[i][u]/d)}return Number(h.toFixed(4))}function bt(t,e,n){return t===ut.EuclideanDistance?e[n]:[]}function Ot(t,e){return t-e}function xt(t,e,n,r){void 0===e&&(e=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=t=void 0===t?-1:t,this.from=e,this.to=n,this.label=r}function Et(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach(function(t,e){i.push(Xt(o,t,e,n,r))}),i}function wt(t,n){var r={},i={};return t.forEach(function(t,e){r[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};e=t[n];i[e]||(i[e]=[]),i[e].push(t)}),{nodeMap:r,nodeLabelMap:i}}function Mt(t,n,r){var i={},o={};return t.forEach(function(t,e){i["".concat(z)]={idx:e,edge:t};e=t[n],o[e]||(o[e]=[]),o[e].push(t),e=r[t.source],e&&(e.degree++,e.outDegree++),e=r[t.target];e&&(e.degree++,e.inDegree++)}),{edgeMap:i,edgeLabelMap:o}}function Pt(a,t,s){var c=t.length,u={};return t.forEach(function(t,e){for(var n,r,i=a[e].id,o=s?0:e+1;o<c;o++)e!==o&&(n=a[o].id,r=t[o],u["".concat(i,"-").concat(n)]=r,s||(u["".concat(n,"-").concat(i)]=r))}),u}function Ct(t,e,n,r){var i,o=null===(i=t[e])||void 0===i?void 0:i.degree,a=null===(i=t[e])||void 0===i?void 0:i.inDegree,s=null===(i=t[e])||void 0===i?void 0:i.outDegree;return void 0===t[e]&&(s=a=o=1/0,r[e].forEach(function(t){var e=n[t.id].degree,e=(e<o&&(o=e),n[t.id].inDegree),e=(e<a&&(a=e),n[t.id].outDegree);e<s&&(s=e)}),t[e]={degree:o,inDegree:a,outDegree:s}),{minPatternNodeLabelDegree:o,minPatternNodeLabelInDegree:a,minPatternNodeLabelOutDegree:s}}function At(t,e,n){return e<=t&&t<=n}var St=function(t,e,r){var n=[],n=null!=e&&e.length?e:(t.forEach(function(t){n=n.concat(Object.keys(t))}),Object(X.uniq)(n)),i={};return n.forEach(function(e){var n=[];t.forEach(function(t){void 0!==t[e]&&""!==t[e]&&n.push(t[e])}),!n.length||null!=r&&r.includes(e)||(i[e]=Object(X.uniq)(n))}),i},jt=function(n,o,p,a,g,s,c,u,y){void 0===o&&(o=!1),void 0===p&&(p="weight"),void 0===a&&(a=1e-4),void 0===g&&(g=!1),void 0===s&&(s=void 0),void 0===c&&(c=[]),void 0===u&&(u=["id"]),void 0===y&&(y=1);var l,t=n.nodes,i=void 0===t?[]:t,t=n.edges,b=void 0===t?[]:t,_=[],h=(g&&(i.forEach(function(t,e){t.properties=t.properties||{},t.originIndex=e}),l=[],i.every(function(t){return t.hasOwnProperty("nodeType")})&&(l=Array.from(new Set(i.map(function(t){return t.nodeType}))),i.forEach(function(e){e.properties.nodeType=l.findIndex(function(t){return t===e.nodeType})})),t=ct(i,s),_=yt(t,c,u)),1),m={},v={},O=(i.forEach(function(t,e){var n=String(h++);t.clusterId=n,m[n]={id:n,nodes:[t]},v[t.id]={node:t,idx:e}}),R(n,o)),x=[],E={},w=0;O.forEach(function(t,e){var n=0,r=i[e].id;E[r]={},t.forEach(function(t,e){t&&(n+=t,e=i[e].id,E[r][e]=t,w+=t)}),x.push(n)}),w/=2;for(var e,d=1/0,f=0,M=[],r={};;){e=g&&i.every(function(t){return t.hasOwnProperty("properties")})?mt(i,O,x,w)+vt(i,_)*y:mt(i,O,x,w),0===f&&(d=e,M=i,r=m);var P=0<e&&d<e&&e-d<a;if(d<e&&(M=i.map(function(t){return{node:t,clusterId:t.clusterId}}),r=Object(X.clone)(m),d=e),P||100<f)break;f++,Object.keys(m).forEach(function(r){var i=0;b.forEach(function(t){var e=t.source,n=t.target,e=v[e].node.clusterId,n=v[n].node.clusterId;(e===r&&n!==r||n===r&&e!==r)&&(i+=t[p]||1)}),m[r].sumTot=i}),i.forEach(function(o,a){var s,r,i,c,t=m[o.clusterId],u=0,l=x[a]/(2*w),n=0,e=t.nodes,h=(e.forEach(function(t){t=v[t.id].idx;n+=O[a][t]||0}),n-t.sumTot*l),e=e.filter(function(t){return t.id!==o.id}),d=[],f=(e.forEach(function(t,e){d[e]=_[t.originIndex]}),vt(e,_)*y),e=E[o.id];Object.keys(e).forEach(function(t){var e,n,r,i,t=v[t].node.clusterId;t===o.clusterId||(i=(t=m[t]).nodes)&&i.length&&(e=0,i.forEach(function(t){t=v[t.id].idx;e+=O[a][t]||0}),n=e-t.sumTot*l,i=i.concat([o]),r=[],i.forEach(function(t,e){r[e]=_[t.originIndex]}),i=vt(i,_)*y,u<(i=g?n+i-(h+f):n-h)&&(u=i,s=t))}),0<u&&(s.nodes.push(o),r=o.clusterId,o.clusterId=s.id,e=t.nodes.indexOf(o),t.nodes.splice(e,1),c=i=0,b.forEach(function(t){var e=t.source,n=t.target,e=v[e].node.clusterId,n=v[n].node.clusterId;(e===s.id&&n!==s.id||n===s.id&&e!==s.id)&&(i+=t[p]||1),(e===r&&n!==r||n===r&&e!==r)&&(c+=t[p]||1)}),s.sumTot=i,t.sumTot=c)})}var C={},A=0,S=(Object.keys(r).forEach(function(t){var e,n=r[t];n.nodes&&n.nodes.length?(e=String(A+1))!==t&&(n.id=e,n.nodes=n.nodes.map(function(t){return{id:t.id,clusterId:e}}),r[e]=n,C[t]=e,delete r[t],A++):delete r[t]}),M.forEach(function(t){var e=t.node,t=t.clusterId;e.clusterId=t,e.clusterId&&C[e.clusterId]&&(e.clusterId=C[e.clusterId])}),[]),j={},D=(b.forEach(function(t){var e=t.source,n=t.target,t=t[p]||1,e=v[e].node.clusterId,n=v[n].node.clusterId,r="".concat(e,"---").concat(n);j[r]?(j[r].weight+=t,j[r].count++):(j[r]=r={source:e,target:n,weight:t,count:1},S.push(r))}),[]);return Object.keys(r).forEach(function(t){D.push(r[t])}),{clusters:D,clusterEdges:S}},Dt=function(t,e,n,r,i,o,a,s){return jt(t,e=void 0===e?!1:e,n=void 0===n?"weight":n,r=void 0===r?1e-4:r,!0,i=void 0===i?void 0:i,o=void 0===o?[]:o,a=void 0===a?["id"]:a,s=void 0===s?1:s)},Tt=function(t,r){var i;void 0===r&&(r=1);for(var t=Object(X.clone)(t),e=t.nodes,o=void 0===e?[]:e,e=t.edges,a=void 0===e?[]:e;"break"!==function(){var n=Q({nodes:o,edges:a}),t=Object.keys(n),e=(t.sort(function(t,e){return(null===(t=n[t])||void 0===t?void 0:t.degree)-(null===(t=n[e])||void 0===t?void 0:t.degree)}),t[0]);if(!o.length||(null===(i=n[e])||void 0===i?void 0:i.degree)>=r)return"break";t=o.findIndex(function(t){return t.id===e});o.splice(t,1),a=a.filter(function(t){return!(t.source===e||t.target===e)})}(););return{nodes:o,edges:a}},It=function(l,h,e,d,f,o){void 0===h&&(h=3),void 0===e&&(e=void 0),void 0===d&&(d=[]),void 0===f&&(f=["id"]),void 0===o&&(o=ut.EuclideanDistance);var t=l.nodes,a=void 0===t?[]:t,t=l.edges,l=void 0===t?[]:t,t={clusters:[{id:"0",nodes:a}],clusterEdges:[]};if(o===ut.EuclideanDistance&&!a.every(function(t){return t.hasOwnProperty(e)}))return t;var s=[];if(o===ut.EuclideanDistance&&(p=ct(a,e),s=yt(p,d,f)),!s.length)return t;for(var p=Object(X.uniq)(s.map(function(t){return t.join("")})),g=Math.min(h,a.length,p.length),n=0;n<a.length;n++)a[n].originIndex=n;var c=[],y=[],r=[];for(n=0;n<g;n++)if(0===n){var _=Math.floor(Math.random()*a.length);o===ut.EuclideanDistance?c[n]=s[_]:c[n]=[],y.push(_),r[n]=[a[_]],a[_].clusterId=String(n)}else{for(var m=-1/0,u=0,v=0;v<a.length;v++)!function(e){if(!y.includes(e)){for(var t=0,n=0;n<c.length;n++){var r=0;t+=r=o===ut.EuclideanDistance?_t(s[a[e].originIndex],c[n],o):r}var i=t/c.length;m<i&&!c.find(function(t){return Object(X.isEqual)(t,bt(o,s,a[e].originIndex))})&&(m=i,u=e)}}(v);c[n]=bt(o,s,u),y.push(u),r[n]=[a[u]],a[u].clusterId=String(n)}for(var b=0;;){for(n=0;n<a.length;n++){var O=0,x=1/0;if(0!==b||!y.includes(n)){for(var i=0;i<c.length;i++){var E=0;(E=o===ut.EuclideanDistance?_t(s[n],c[i],o):E)<x&&(x=E,O=i)}if(void 0!==a[n].clusterId)for(var w=r[Number(a[n].clusterId)].length-1;0<=w;w--)r[Number(a[n].clusterId)][w].id===a[n].id&&r[Number(a[n].clusterId)].splice(w,1);a[n].clusterId=String(O),r[O].push(a[n])}}for(var M=!1,n=0;n<r.length;n++){for(var P=r[n],C=new pt([]),i=0;i<P.length;i++)C=C.add(new pt(s[P[i].originIndex]));var A=C.avg(P.length);A.equal(new pt(c[n]))||(M=!0,c[n]=A.getArr())}if(b++,a.every(function(t){return void 0!==t.clusterId})&&M||1e3<=b)break}var S=[],j={};return l.forEach(function(t){var e=t.source,n=t.target,t=null===(t=a.find(function(t){return t.id===e}))||void 0===t?void 0:t.clusterId,r=null===(r=a.find(function(t){return t.id===n}))||void 0===r?void 0:r.clusterId,i="".concat(t,"---").concat(r);j[i]?j[i].count++:(j[i]=i={source:t,target:r,count:1},S.push(i))}),{clusters:r,clusterEdges:S}},kt=function(t,e){var e=new pt(e),n=e.norm2(),t=new pt(t),r=t.norm2(),e=e.dot(t),t=n*r;return t?e/t:0},Lt=function(t,n,e,r,i){void 0===t&&(t=[]),void 0===e&&(e=void 0),void 0===r&&(r=[]),void 0===i&&(i=[]);var o=Object(X.clone)(t.filter(function(t){return t.id!==n.id})),a=t.findIndex(function(t){return t.id===n.id}),t=ct(t,e),s=yt(t,r,i),c=s[a],u=[];return o.forEach(function(t,e){t.id!==n.id&&(e=s[e],e=kt(e,c),u.push(e),t.cosineSimilarity=e)}),o.sort(function(t,e){return e.cosineSimilarity-t.cosineSimilarity}),{allCosineSimilarity:u,similarNodes:o}},Rt=(Pe.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},Pe.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},Pe.prototype.connected=function(t,e){return this.find(t)===this.find(e)},Pe),Bt=(Me.prototype.getLeft=function(t){return 2*t+1},Me.prototype.getRight=function(t){return 2*t+2},Me.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},Me.prototype.isEmpty=function(){return this.list.length<=0},Me.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},Me.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return 0<this.list.length&&(this.list[0]=e,this.moveDown(0)),t},Me.prototype.insert=function(t){return null!==t&&(this.list.push(t),t=this.list.length-1,this.moveUp(t),!0)},Me.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&0<t&&0<this.compareFn(this.list[e],this.list[t]);){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},Me.prototype.moveDown=function(t){var e=t,n=this.getLeft(t),r=this.getRight(t),i=this.list.length;null!==n&&n<i&&0<this.compareFn(this.list[e],this.list[n])?e=n:null!==r&&r<i&&0<this.compareFn(this.list[e],this.list[r])&&(e=r),t!==e&&(n=[this.list[e],this.list[t]],this.list[t]=n[0],this.list[e]=n[1],this.moveDown(e))},Me),Nt=function(t,e){var n=[],r=t.nodes,r=void 0===r?[]:r,t=t.edges,t=void 0===t?[]:t;if(0===r.length)return n;var i=t.map(function(t){return t});e&&i.sort(function(t,e){return t.weight-e.weight});for(var o=new Rt(r.map(function(t){return t.id}));0<i.length;){var a=i.shift(),s=a.source,c=a.target;o.connected(s,c)||(n.push(a),o.union(s,c))}return n},Ft=function(t,e,n){return n?{prim:function(t,n){var e=[],r=t.nodes,r=void 0===r?[]:r,t=t.edges,i=void 0===t?[]:t;if(0===r.length)return e;var t=r[0],o=new Set,a=(o.add(t),new Bt(function(t,e){return n?t.weight-e.weight:0}));for(W(t.id,i).forEach(function(t){a.insert(t)});!a.isEmpty();){var s=a.delMin(),c=s.source,u=s.target;o.has(c)&&o.has(u)||(e.push(s),o.has(c)||(o.add(c),W(c,i).forEach(function(t){a.insert(t)})),o.has(u)||(o.add(u),W(u,i).forEach(function(t){a.insert(t)})))}return e},kruskal:Nt}[n](t,e):Nt(t,e)},Ut=function(l,h,d){"number"!=typeof h&&(h=1e-6),"number"!=typeof d&&(d=.85);for(var f=1,t=0,p=1e3,e=l.nodes,n=void 0===e?[]:e,e=l.edges,g=void 0===e?[]:e,r=n.length,i={},o={},a=0;a<r;++a)i[c=(s=n[a]).id]=1/r,o[c]=1/r;for(var s,y=Q(l);0<p&&h<f;){for(a=t=0;a<r;++a){var c=(s=n[a]).id,u=0;if(0===y[s.id].inDegree)i[c]=0;else{for(var _=U(c,g,"source"),m=0;m<_.length;++m){var v=_[m],b=y[v].outDegree;0<b&&(u+=o[v]/b)}i[c]=d*u,t+=i[c]}}for(t=(1-t)/r,a=f=0;a<r;++a)u=i[c=(s=n[a]).id]+t,f+=Math.abs(u-o[c]),o[c]=u;--p}return o},Wt=(we.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},we),zt=(Ee.prototype.getNodeNum=function(){return this.nodes.length},Ee.prototype.addNode=function(t,e){var n;this.nodeMap[t]||(n=new Wt(t,e),this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t))},Ee.prototype.addEdge=function(t,e,n,r){var i;!this.edgeIdAutoIncrease&&void 0!==t||(t=this.counter++),this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t]||(i=new xt(t,e,n,r),this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),this.directed||(i=new xt(t,n,e,r),this.nodeMap[n].addEdge(i),this.edgeLabelMap[r].push(i)))},Ee),Gt=(xe.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},xe.prototype.notEqualTo=function(t){return!this.equalTo(t)},xe),$t=(Oe.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},Oe.prototype.notEqualTo=function(t){return!this.equalTo(t)},Oe.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new Gt(t,e,n,r,i)),this.dfsEdgeList},Oe.prototype.toGraph=function(t,e){var o=new zt(t=void 0===t?-1:t,!0,e=void 0===e?!1:e);return this.dfsEdgeList.forEach(function(t){var e=t.fromNode,n=t.toNode,t=t.nodeEdgeNodeLabel,r=t.nodeLabel1,i=t.edgeLabel,t=t.nodeLabel2;"-1"!==r&&o.addNode(e,r),"-1"!==t&&o.addNode(n,t),"-1"!==r&&t!==r&&o.addEdge(void 0,e,n,i)}),o},Oe.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;0<=e;e--){var n=this.dfsEdgeList[e],r=n.fromNode,n=n.toNode;r<n&&(void 0===t||n===t)&&(this.rmpath.push(e),t=r)}return this.rmpath},Oe.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},Oe),Kt=(be.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},be.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},be),Vt=(ve.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach(function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)}),r},ve.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var c=o[s];if(!r.hasEdge(c)&&c.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=c.label)return c}else if(e.label<c.label||e.label===c.label&&i[e.to].label<=i[n.to].label)return c}return null},ve.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],e=e.to,o=t.nodeMap[e].edges,a=o.length,s=0;s<a;s++){var c=o[s],u=t.nodeMap[c.to];n<=u.label&&!r.hasNode(u)&&i.push(c)}return i},ve.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,l=o[e.to].label,a=o[e.from].edges,h=a.length,s=0;s<h;s++){var c=a[s],u=o[c.to].label;e.to===c.to||u<n||r.hasNode(o[c.to])||(e.label<c.label||e.label===c.label&&l<=u)&&i.push(c)}return i},ve.prototype.getSupport=function(t){var e={};return t.forEach(function(t){e[t.graphId]||(e[t.graphId]=!0)}),Object.keys(e).length},ve.prototype.findMinLabel=function(r){var i=void 0;return Object.keys(r).forEach(function(t){var t=r[t],e=t.nodeLabel1,n=t.edgeLabel,t=t.nodeLabel2;(!i||e<i.nodeLabel1||e===i.nodeLabel1&&n<i.edgeLabel||e===i.nodeLabel1&&n===i.edgeLabel&&t<i.nodeLabel2)&&(i={nodeLabel1:e,edgeLabel:n,nodeLabel2:t})}),i},ve.prototype.isMin=function(){var g=this,y=this.dfsCode;if(this.verbose&&console.log("isMin checking",y),1===y.dfsEdgeList.length)return!0;var _=this.directed,m=y.toGraph(-1,_),v=m.nodeMap,b=new $t,i={},t=(m.nodes.forEach(function(r){g.findForwardRootEdges(m,r).forEach(function(t){var e=v[t.to],n="".concat(r.label,"-").concat(t.label,"-").concat(e.label),e=(i[n]||(i[n]={projected:[],nodeLabel1:r.label,edgeLabel:t.label,nodeLabel2:e.label}),{graphId:m.id,edge:t,preNode:null});i[n].projected.push(e)})}),this.findMinLabel(i));return t?(b.dfsEdgeList.push(new Gt(0,1,t.nodeLabel1,t.edgeLabel,t.nodeLabel2)),t="".concat(t.nodeLabel1,"-").concat(t.edgeLabel,"-").concat(t.nodeLabel2),function l(r){for(var i=b.buildRmpath(),h=b.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,e=b.dfsEdgeList[i[0]].toNode,o={},a=!1,d=0,f=_?-1:0,t=i.length-1;f<t&&"break"!==function(n){if(a)return"break";r.forEach(function(t){var e=new Kt(t),e=g.findBackwardEdge(m,e.edges[i[n]],e.edges[i[0]],e);e&&(o[e.label]||(o[e.label]={projected:[],edgeLabel:e.label}),o[e.label].projected.push({graphId:m.id,edge:o,preNode:t}),d=b.dfsEdgeList[i[n]].fromNode,a=!0)})}(t);t--);if(a)return u=g.findMinLabel(o),b.dfsEdgeList.push(new Gt(e,d,"-1",u.edgeLabel,"-1")),n=b.dfsEdgeList.length-1,g.dfsCode.dfsEdgeList[n]===b.dfsEdgeList[n]&&l(o[u.edgeLabel].projected);for(var s={},a=!1,c=0,p=(r.forEach(function(n){var t=new Kt(n),t=g.findForwardPureEdges(m,t.edges[i[0]],h,t);0<t.length&&(a=!0,c=e,t.forEach(function(t){var e="".concat(t.label,"-").concat(v[t.to].label);s[e]||(s[e]={projected:[],edgeLabel:t.label,nodeLabel2:v[t.to].label}),s[e].projected.push({graphId:m.id,edge:t,preNode:n})}))}),i.length),t=0;t<p&&"break"!==function(t){if(a)return"break";var e=i[t];r.forEach(function(n){var t=new Kt(n),t=g.findForwardRmpathEdges(m,t.edges[e],h,t);0<t.length&&(a=!0,c=b.dfsEdgeList[e].fromNode,t.forEach(function(t){var e="".concat(t.label,"-").concat(v[t.to].label);s[e]||(s[e]={projected:[],edgeLabel:t.label,nodeLabel2:v[t.to].label}),s[e].projected.push({graphId:m.id,edge:t,preNode:n})}))})}(t);t++);if(!a)return!0;var n=g.findMinLabel(s),u=(b.dfsEdgeList.push(new Gt(c,e+1,"-1",n.edgeLabel,n.nodeLabel2)),b.dfsEdgeList.length-1);return y.dfsEdgeList[u]===b.dfsEdgeList[u]&&l(s["".concat(n.edgeLabel,"-").concat(n.nodeLabel2)].projected)}(i[t].projected)):void 0},ve.prototype.report=function(){var t;this.dfsCode.getNodeNum()<this.minNodeNum||(this.counter++,t=this.dfsCode.toGraph(this.counter,this.directed),this.frequentSubgraphs.push(Object(X.clone)(t)))},ve.prototype.subGraphMining=function(t){var s,c,u,l,h,d,f=this;this.getSupport(t)<this.minSupport||!this.isMin()||(this.report(),s=this.dfsCode.getNodeNum(),c=this.dfsCode.buildRmpath(),u=this.dfsCode.dfsEdgeList[c[0]].toNode,l=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,h={},d={},t.forEach(function(r){for(var t=f.graphs[r.graphId],i=t.nodeMap,e=new Kt(r),n=c.length-1;0<=n;n--){var o,a=f.findBackwardEdge(t,e.edges[c[n]],e.edges[c[0]],e);a&&(o="".concat(f.dfsCode.dfsEdgeList[c[n]].fromNode,"-").concat(a.label),d[o]||(d[o]={projected:[],toNodeId:f.dfsCode.dfsEdgeList[c[n]].fromNode,edgeLabel:a.label}),d[o].projected.push({graphId:r.graphId,edge:a,preNode:r}))}if(!(s>=f.maxNodeNum)){f.findForwardPureEdges(t,e.edges[c[0]],l,e).forEach(function(t){var e="".concat(u,"-").concat(t.label,"-").concat(i[t.to].label);h[e]||(h[e]={projected:[],fromNodeId:u,edgeLabel:t.label,nodeLabel2:i[t.to].label}),h[e].projected.push({graphId:r.graphId,edge:t,preNode:r})});for(n=0;n<c.length;n++)!function(n){f.findForwardRmpathEdges(t,e.edges[c[n]],l,e).forEach(function(t){var e="".concat(f.dfsCode.dfsEdgeList[c[n]].fromNode,"-").concat(t.label,"-").concat(i[t.to].label);h[e]||(h[e]={projected:[],fromNodeId:f.dfsCode.dfsEdgeList[c[n]].fromNode,edgeLabel:t.label,nodeLabel2:i[t.to].label}),h[e].projected.push({graphId:r.graphId,edge:t,preNode:r})})}(n)}}),Object.keys(d).forEach(function(t){var e=d[t],n=e.toNodeId,e=e.edgeLabel;f.dfsCode.dfsEdgeList.push(new Gt(u,n,"-1",e,"-1")),f.subGraphMining(d[t].projected),f.dfsCode.dfsEdgeList.pop()}),Object.keys(h).forEach(function(t){var e=h[t],n=e.fromNodeId,r=e.edgeLabel,e=e.nodeLabel2;f.dfsCode.dfsEdgeList.push(new Gt(n,u+1,"-1",r,e)),f.subGraphMining(h[t].projected),f.dfsCode.dfsEdgeList.pop()}))},ve.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,u=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},l={},o={},h={};return Object.keys(e).forEach(function(s){var t=e[s],c=t.nodeMap;t.nodes.forEach(function(t,e){var n,a=t.label,r="".concat(s,"-").concat(a);o[r]||(n=i[a]||0,i[a]=++n),o[r]={graphKey:s,label:a},t.edges.forEach(function(t){var e,n=a,r=c[t.to].label,i=(!u&&r<n&&(i=r,r=n,n=i),t.label),t="".concat(s,"-").concat(n,"-").concat(i,"-").concat(r),o="".concat(n,"-").concat(i,"-").concat(r);l[o]||(e=l[o]||0,l[o]=++e),h[t]={graphId:s,nodeLabel1:n,edgeLabel:i,nodeLabel2:r}})})}),Object.keys(i).forEach(function(t){var e;i[t]<n||((e={nodes:[],edges:[]}).nodes.push({id:"0",label:t}),r.push(e))}),r},ve.prototype.run=function(){var e,a,s=this;this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),this.maxNodeNum<2||(e=this.graphs,this.directed,a={},Object.keys(e).forEach(function(i){var t=e[i],o=t.nodeMap;t.nodes.forEach(function(r){s.findForwardRootEdges(t,r).forEach(function(t){var e=o[t.to],n="".concat(r.label,"-").concat(t.label,"-").concat(e.label),e=(a[n]||(a[n]={projected:[],nodeLabel1:r.label,edgeLabel:t.label,nodeLabel2:e.label}),{graphId:i,edge:t,preNode:null});a[n].projected.push(e)})})}),Object.keys(a).forEach(function(t){var t=a[t],e=t.projected,n=t.nodeLabel1,r=t.edgeLabel,t=t.nodeLabel2;s.dfsCode.dfsEdgeList.push(new Gt(0,1,n,r,t)),s.subGraphMining(e),s.dfsCode.dfsEdgeList.pop()}))},ve),Xt=function(n,t,r,i,o){var a=[r],s=[],c={};return t.forEach(function(t,e){t<=o&&r!==e&&(a.push(e),s.push(n[e]),e=n[e][i],c[e]?(c[e].count++,c[e].dists.push(t)):c[e]={count:1,dists:[t]})}),Object.keys(c).forEach(function(t){c[t].dists=c[t].dists.sort(function(t,e){return t-e})}),{nodeIdx:r,nodeId:n[r].id,nodeIdxs:a,neighbors:s,neighborNum:a.length-1,nodeLabelCountMap:c}},Yt=function(u,l,h,d){var f=h.nodes;return d=d||{},Object.keys(u).forEach(function(e){if(!d||!d[e]){d[e]={nodes:[],edges:[]};var t=u[e],n=null===(n=l[t.start])||void 0===n?void 0:n.nodeIdxs,t=null===(t=l[t.end])||void 0===t?void 0:t.nodeIdxs;if(n&&t){var r=new Set(t),i=n.filter(function(t){return r.has(t)});if(i&&i.length){for(var o={},a=i.length,s=0;s<a;s++){var c=f[i[s]];d[e].nodes.push(c),o[c.id]=!0}h.edges.forEach(function(t){o[t.source]&&o[t.target]&&d[e].edges.push(t)})}}}}),d},Ht=function(t,a,s,c){var e,u={},l=(t.nodes.forEach(function(t){u[t.id]=t}),0);return null===(e=null==a?void 0:a.edges)||void 0===e||!e.length||(null===(e=null==a?void 0:a.nodes)||void 0===e?void 0:e.length)<2?0:(t.edges.forEach(function(t){var e=u[t.source][s],n=u[t.target][s],r=null==a?void 0:a.nodes[0][s],i=null==a?void 0:a.nodes[1][s],o=null==a?void 0:a.edges[0][c];t[c]===o&&(e===r&&n===i||e===i&&n===r)&&l++}),l)},qt=function(C,A,S,n,l,j,D){var r,a,s,c,u,i,o,h,d,f,p,g,y,_,m,v,b;if(void 0===S&&(S=!1),void 0===j&&(j="cluster"),void 0===D&&(D="cluster"),C&&C.nodes){var O=C.nodes.length;if(O){var x=dt(C,S),t=dt(A,S),E=Pt(C.nodes,x,S),w=Pt(A.nodes,t,S),e=wt(C.nodes,j),L=e.nodeMap,M=e.nodeLabelMap,e=wt(A.nodes,j),T=e.nodeMap,I=e.nodeLabelMap,R=(Mt(C.edges,D,L),Mt(A.edges,D,T).edgeLabelMap),P=[],B=(null==t||t.forEach(function(t){P=P.concat(t)}),l=l||Math.max.apply(Math,Object(at.__spreadArray)(Object(at.__spreadArray)([],P,!1),[2],!1)),Et(C,x,j,n=n||l)),N=Et(A,t,j,n);g=O,y=Math.min(100,O*(O-1)/2),e=B,_=x,m=Math.ceil(y/g),v={},b=0,e.forEach(function(t,e){for(var n=0,r=0,i=t.nodeIdxs,o=t.neighborNum-1;n<m;){for(var a=i[1+Math.floor(Math.random()*o)],s=0;(v["".concat(e,"-").concat(a)]||v["".concat(a,"-").concat(e)])&&(a=Math.floor(Math.random()*g),!(++s>2*g)););if(s<2*g&&(v["".concat(e,"-").concat(a)]={start:e,end:a,distance:_[e][a]},n++,++b>=y))return v;if(++r>2*g)break}n<m&&(m=(m+(m-n))/(g-e-1))});var F=Yt(v,B,C),U=(n=(t={graphs:F,nodeLabelProp:j,edgeLabelProp:D,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:S}).graphs,O=void 0!==(O=t.directed)&&O,e=void 0===(e=t.nodeLabelProp)?"cluster":e,d=t.edgeLabelProp,r=n,a=O,s=e,c=d=void 0===d?"cluster":d,u={},Object.keys(r).forEach(function(t,e){var t=r[t],i=new zt(e,!0,a),o={};t.nodes.forEach(function(t,e){i.addNode(e,t[s]),o[t.id]=e}),t.edges.forEach(function(t,e){var n=o[t.source],r=o[t.target];i.addEdge(-1,n,r,t[c])}),i&&i.getNodeNum()&&(u[i.id]=i)}),n=u,f=t.minSupport,U=t.maxNodeNum,W=t.minNodeNum,p=t.verbose,t=t.top,(n=new Vt({graphs:n,minSupport:f,maxNodeNum:U,minNodeNum:W,top:t,verbose:p,directed:O})).run(),f=n.frequentSubgraphs,i=e,o=d,h=[],f.forEach(function(t){var n={nodes:[],edges:[]};t.nodes.forEach(function(t){var e;n.nodes.push(((e={id:"".concat(t.id)})[i]=t.label,e))}),t.edges.forEach(function(t){var e;n.edges.push(((e={source:"".concat(t.from),target:"".concat(t.to)})[o]=t.label,e))}),h.push(n)}),h.slice(0,10)),W=U.length,z=[],t=(U.forEach(function(n,r){z[r]={},Object.keys(F).forEach(function(t){var e=F[t],e=Ht(e,n,j,D);z[r][t]=e})}),function(s,t,e){for(var c=1/0,u=0,n=0;n<t;n++)!function(t){var o=s[t],e=Object.keys(o).sort(function(t,e){return o[t]-o[e]}),n=[],r=(e.forEach(function(t,e){n[e%10]||(n[e%10]={graphs:[],totalCount:0,aveCount:0}),n[e%10].graphs.push(t),n[e%10].totalCount+=o[t]}),0),a=[],i=(n.forEach(function(e){var t=e.totalCount/e.graphs.length,i=(e.aveCount=t,a.push(t),0),t=e.length;e.graphs.forEach(function(t,n){var r=o[t];e.graphs.forEach(function(t,e){n!==e&&(i+=Math.abs(r-o[t]))})}),r+=i/=t*(t-1)/2}),r/=n.length,0),e=(a.forEach(function(n,r){a.forEach(function(t,e){r!==e&&(i+=Math.abs(n-t))}),i/=a.length*(a.length-1)/2}),i-r);c<e&&(c=e,u=t)}(n);return{structure:e[u],structureCountMap:s[u]}}(z,W,U)),G=t.structure,$=t.structureCountMap,K=A.nodes[0],V=[],X=null===(p=A.nodes[0])||void 0===p?void 0:p[j],Y=-1/0,H=(A.nodes.forEach(function(t){var e=t[j],n=M[e];(null==n?void 0:n.length)>Y&&(Y=n.length,V=n,X=e,K=t)}),{}),q={},Z={},Q={},J={},tt={},k=(Object.keys(I).forEach(function(l,t){J[l]=[],S&&(tt[l]=[]);var r=-1/0,e=I[l],i={},h=(e.forEach(function(t){var e,n=w["".concat(K.id,"-").concat(t.id)];n&&J[l].push(n),r<n&&(r=n),i["".concat(K.id,"-").concat(t.id)]={start:0,end:T[t.id].idx,distance:n},S&&(e=w["".concat(t.id,"-").concat(K.id)])&&tt[l].push(e)}),J[l]=J[l].sort(function(t,e){return t-e}),S&&(tt[l]=tt[l].sort(function(t,e){return t-e})),q=Yt(i,N,A,q),[]);if(Object.keys(i).forEach(function(t){var e;Z[t]||(e=q[t],Z[t]=Ht(e,G,j,D)),h.push(Z[t])}),h=h.sort(function(t,e){return e-t}),Q["".concat(K.id,"-").concat(l)]=h,l!==X)for(var n=((null==V?void 0:V.length)||0)-1;0<=n;n--)!function(t){var n=V[t],e=B[L[n.id].idx],r=e.nodeLabelCountMap[l],i=I[l].length;if(!r||r.count<i)return V.splice(t,1);for(var o=!1,a=0;a<i;a++)if(r.dists[a]>J[l][a]){o=!0;break}if(o)return V.splice(t,1);for(var s={},c=(e.neighbors.forEach(function(t){var e=E["".concat(n.id,"-").concat(t.id)];s["".concat(n.id,"-").concat(t.id)]={start:L[n.id].idx,end:L[t.id].idx,distance:e}}),F=Yt(s,B,C,F),[]),u=(Object.keys(s).forEach(function(t){var e;$[t]||(e=F[t],$[t]=Ht(e,G,j,D)),c.push($[t])}),c=c.sort(function(t,e){return e-t}),!1),a=0;a<i;a++)if(c[a]<h[a]){u=!0;break}u&&V.splice(t,1)}(n)}),[]),et=(null==V||V.forEach(function(t){for(var e=L[t.id].idx,n=Xt(C.nodes,x[e],e,j,l).neighbors,e=!1,r=n.length-1;0<=r;r--){if(n.length+1<A.nodes.length)return;var i=n[r],o=i[j];if(I[o]&&I[o].length)if(J[o]&&J[o].length){var a="".concat(t.id,"-").concat(i.id),s=E[a],c=J[o].length-1;if(s>J[o][c])n.splice(r,1);else{if(S){var u="".concat(i.id,"-").concat(t.id),u=E[u],c=tt[o].length-1;if(u>tt[o][c]){n.splice(r,1);continue}}u=$[a]||function(t,e,n,r,i,o,l,h,d,a,s){var c,u="".concat(e.id,"-").concat(n.id);if(a&&a[u])return a[u];a=s?s[u]:void 0;return a||((c={})[u]={start:r[e.id].idx,end:r[n.id].idx,distance:i},a=(s=Yt(c,o,t,s))[u]),Ht(a,l,h,d)}(C,t,i,L,s,B,G,j,D,$,F),c="".concat(K.id,"-").concat(o);u<Q[c][Q[c].length-1]?n.splice(r,1):(s=(a=Ct(H,o,T,I)).minPatternNodeLabelDegree,a.minPatternNodeLabelInDegree,a.minPatternNodeLabelOutDegree,L[i.id].degree<s&&n.splice(r,1))}}else n.splice(r,1);else n.splice(r,1)}e||k.push({nodes:[t].concat(n)})}),st(A,K.id,!1).length),nt={};S?(Object.keys(et).forEach(function(t){var e=T[t].node[j];nt[e]?nt[e].push(et[t]):nt[e]=[et[t]]}),Object.keys(nt).forEach(function(t){nt[t].sort(function(t,e){return t-e})})):nt=J;for(var rt=function(t){var i=k[t],e=i.nodes[0],o={},s={},c=(i.nodes.forEach(function(t,e){s[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};e=t[j];o[e]?o[e]++:o[e]=1}),[]),u={};C.edges.forEach(function(t){s[t.source]&&s[t.target]&&(c.push(t),u[t[D]]?u[t[D]]++:u[t[D]]=1,s[t.source].degree++,s[t.target].degree++,s[t.source].outDegree++,s[t.target].inDegree++)});for(var a=Object.keys(R).length,h=!1,d=0;d<a;d++){var f=Object.keys(R)[d];if(!u[f]||u[f]<R[f].length){h=!0;break}}if(h)return k.splice(t,1),"continue";var p=c.length;if(p<A.edges.length)return k.splice(t,1),"break";for(var l=!1,d=p-1;0<=d&&"break"!==function(t){var e=c[t],n=e[D],r=R[n];if(!r||!r.length)return u[n]--,r&&u[n]<r.length?(l=!0,"break"):(c.splice(t,1),s[e.source].degree--,s[e.target].degree--,s[e.source].outDegree--,s[e.target].inDegree--,"continue");var i=s[e.source].node[j],o=s[e.target].node[j],a=!1;return r.forEach(function(t){var e=T[t.source].node,t=T[t.target].node;e[j]===i&&t[j]===o&&(a=!0),S||e[j]!==o||t[j]!==i||(a=!0)}),a?void 0:(u[n]--,r&&u[n]<r.length?(l=!0,"break"):(c.splice(t,1),s[e.source].degree--,s[e.target].degree--,s[e.source].outDegree--,s[e.target].inDegree--,"continue"))}(d);d--);if(l)return k.splice(t,1),"continue";i.edges=c;var g=st(i,i.nodes[0].id,!1).length;if(Object.keys(g).reverse().forEach(function(t){if(t!==i.nodes[0].id&&!l){if(g[t]===1/0){var e=s[t].node[j];if(o[e]--,o[e]<I[e].length)return void(l=!0);var n=i.nodes.indexOf(s[t].node);return i.nodes.splice(n,1),void(s[t]=void 0)}var r=L[t].node[j];nt[r]&&nt[r].length&&!(g[t]>nt[r][nt[r].length-1])||(e=s[t].node[j],o[e]--,o[e]<I[e].length?l=!0:(n=i.nodes.indexOf(s[t].node),i.nodes.splice(n,1),s[t]=void 0))}}),l)return k.splice(t,1),"continue";for(var y=!0,_=0;y&&!l;){if(y=!1,S?s[e.id].degree<T[K.id].degree||s[e.id].inDegree<T[K.id].inDegree||s[e.id].outDegree<T[K.id].outDegree:s[e.id].degree<T[K.id].degree){l=!0;break}if(o[e[j]]<I[e[j]].length){l=!0;break}for(var m=i.nodes.length-1;0<=m;m--){var n=i.nodes[m],v=s[n.id].degree,b=s[n.id].inDegree,O=s[n.id].outDegree,x=n[j],x=Ct(H,x,T,I),E=x.minPatternNodeLabelDegree,w=x.minPatternNodeLabelInDegree,x=x.minPatternNodeLabelOutDegree;if(S?v<E||b<w||O<x:v<E){if(o[n[j]]--,o[n[j]]<I[n[j]].length){l=!0;break}i.nodes.splice(m,1),y=!(s[n.id]=void 0)}}if(l||!y&&0!==_)break;for(var M=c.length-1;0<=M;M--){var r=c[M];if(!s[r.source]||!s[r.target]){c.splice(M,1);var P=r[D];if(u[P]--,s[r.source]&&(s[r.source].degree--,s[r.source].outDegree--),s[r.target]&&(s[r.target].degree--,s[r.target].inDegree--),R[P]&&u[P]<R[P].length){l=!0;break}y=!0}}_++}return l||i.nodes.length<A.nodes.length||c.length<A.edges.length?(k.splice(t,1),"continue"):void 0},it=k.length-1;0<=it&&"break"!==rt(it);it--);for(var ot=k.length,it=0;it<=ot-1;it++)!function(t){var e=k[t],i={};e.edges.forEach(function(t){t="".concat(t.source,"-").concat(t.target,"-").concat(t.label);i[t]?i[t]++:i[t]=1});for(var n=ot-1;t<n;n--)!function(t){var e=k[t],n={},r=(e.edges.forEach(function(t){t="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[t]?n[t]++:n[t]=1}),!0);Object.keys(n).length!==Object.keys(i).length?r=!1:Object.keys(i).forEach(function(t){n[t]!==i[t]&&(r=!1)}),r&&k.splice(t,1)}(n);ot=k.length}(it);return k}}},Zt=(Object.defineProperty(me.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),me.prototype.isEmpty=function(){return!this.linkedList.head},me.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},me.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},me.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},me.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},me.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},me.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},me),Qt=ot,Jt={getAdjMatrix:R,breadthFirstSearch:V,connectedComponent:q,getDegree:Q,getInDegree:J,getOutDegree:tt,detectCycle:ot,detectDirectedCycle:Qt,detectAllCycles:it,detectAllDirectedCycle:rt,detectAllUndirectedCycle:nt,depthFirstSearch:et,dijkstra:st,findAllPath:ht,findShortestPath:lt,floydWarshall:dt,labelPropagation:ft,louvain:jt,iLouvain:Dt,kCore:Tt,kMeans:It,cosineSimilarity:kt,nodesCosineSimilarity:Lt,minimumSpanningTree:Ft,pageRank:Ut,getNeighbors:U,Stack:Zt,GADDI:qt},te=L.a.transform,ee=function(n){return function(t,e){return t[n]-e[n]}},ne=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,e=e.y-t.y,s=r.x-n.x,r=r.y-n.y,n=a*r-e*s,c=1/n;return 1e-4*(a*a+e*e)*(s*s+r*r)<n*n&&At(n=(i*r-o*s)*c,0,1)&&At((i*e-o*a)*c,0,1)?{x:t.x+n*a,y:t.y+n*e}:null},re=function(t,e){var n=t.x,r=t.y,i=t.width,t=t.height,o=[],a={x:n+i/2,y:r+t/2};o.push({x:n,y:r}),o.push({x:n+i,y:r}),o.push({x:n+i,y:r+t}),o.push({x:n,y:r+t}),o.push({x:n,y:r});for(var s=null,c=1;c<o.length&&!(s=ne(o[c-1],o[c],a,e));c++);return s},ie=function(t,e){var n=t.x,r=t.y,t=t.r,i=e.x-n,e=e.y-r;if(i*i+e*e<t*t)return null;var o=Math.atan(e/i);return{x:n+Math.abs(t*Math.cos(o))*Math.sign(i),y:r+Math.abs(t*Math.sin(o))*Math.sign(e)}},oe=function(t,e){var n=t.rx,r=t.ry,i=t.x,t=t.y,o=e.x-i,e=e.y-t,e=Math.atan2(e/r,o/n);return e<0&&(e+=2*Math.PI),{x:i+n*Math.cos(e),y:t+r*Math.sin(e)}},ae=function(t,e,n){t=[t.x,t.y,n=void 0===n?1:n];return e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]),L.d.transformMat3(t,t,e),{x:t[0],y:t[1]}},se=function(t,e,n){void 0===n&&(n=1),e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]);e=L.b.invert([1,0,0,0,1,0,0,0,1],e)||[1,0,0,0,1,0,0,0,1],t=[t.x,t.y,n];return L.d.transformMat3(t,t,e),{x:t[0],y:t[1]}},ce=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=t.x-n.x,a=t.y-n.y,e=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,n=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,t=i*o-r*a;return{x:-(a*e-i*n)/t,y:-(r*n-o*e)/t}},ue=function(t,e){var n=t.x-e.x,t=t.y-e.y;return Math.sqrt(n*n+t*t)},le=function(t,n){var r=[];return t.forEach(function(t){var e=[];t.forEach(function(t){e.push(t*n)}),r.push(e)}),r},he=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e},de=function(t,n){var e=t.nodes,t=t.edges,r=[],i={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(t,e){i[t.id]=e,r.push([])}),t&&t.forEach(function(t){var e=t.source,t=t.target,e=i[e],t=i[t];r[e][t]=1,n||(r[t][e]=1)}),r},fe=function(t,e){t.translate(e.x,e.y)},pe=function(t,e,l,n){void 0===n&&(n={duration:500});var r,h,i,o,a,s,c=(c=t.getMatrix())||[1,0,0,0,1,0,0,0,1],u=t.getCanvasBBox(),d=e.x-u.minX,e=e.y-u.minY;l?(r=d*c[0],h=e*c[4],s=a=o=i=0,t.animate(function(t){return c=te(c,[["t",(a=r*t)-i,(s=h*t)-o]]),i=a,o=s,{matrix:c}},n)):(u=te(c,[["t",d,e]]),t.setMatrix(u))},ge=function(t,e){var n=(n=t.getMatrix())||[1,0,0,0,1,0,0,0,1],r=e;Object(X.isArray)(e)||(r=[e,e]),Object(X.isArray)(e)&&1===e.length&&(r=[e[0],e[0]]),n=te(n,[["s",r[0],r[1]]]),t.setMatrix(n)},ye=function(t,e){var n=t.getMatrix();n=te(n=n||[1,0,0,0,1,0,0,0,1],[["r",e]]),t.setMatrix(n)},_e=function(t,e,n){for(var r=[],i=0;i<t;i++)r[i]=0;return n.forEach(function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)}),r};function me(t){void 0===t&&(t=10),this.linkedList=new N,this.maxStep=t}function ve(t){var e=t.graphs,n=t.minSupport,n=void 0===n?2:n,r=t.minNodeNum,r=void 0===r?1:r,i=t.maxNodeNum,i=void 0===i?4:i,o=t.top,o=void 0===o?10:o,a=t.directed,a=void 0!==a&&a,t=t.verbose,t=void 0!==t&&t;this.graphs=e,this.dfsCode=new $t,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=o,this.directed=a,this.counter=0,this.maxNodeNum=i,this.minNodeNum=r,this.verbose=t,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}function be(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}function Oe(){this.rmpath=[],this.dfsEdgeList=[]}function xe(t,e,n,r,i){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||"-1",edgeLabel:r||"-1",nodeLabel2:i||"-1"}}function Ee(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t=void 0===t?-1:t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}function we(t,e){void 0===e&&(e="-1"),this.id=t=void 0===t?-1:t,this.label=e,this.edges=[],this.edgeMap={}}function Me(t){this.compareFn=t=void 0===t?Ot:t,this.list=[]}function Pe(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}function Ce(t,e){if(!1===e(t))return!1;if(t&&t.children)for(var n=t.children.length-1;0<=n;n--)if(!Ce(t.children[n],e))return!1;return!0}function Ae(t){if(!t)return console.error("G6 Error Tips: the data must be defined"),0;var e,n=t.nodes,r=t.edges,i=void 0===(i=t.combos)?[]:i;if(!n&&!r)return e=!0,cn(t,function(t){return!!Object(X.isString)(t.id)||(e=!1)}),e;if(t=(n||[]).find(function(t){return!Object(X.isString)(t.id)}))return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),0;var t=(n||[]).map(function(t){return t.id}),n=null===i||void 0===i?void 0:i.map(function(t){return t.id}),o=T(T([],t,!0),n,!0);return!(i=(r||[]).find(function(t){return!o.includes(t.source)||!o.includes(t.target)}))||(console.warn("G6 Warning Tips: The source %c".concat(i.source,"%c or the target %c").concat(i.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)}var Se,je=function(t,l,e){var n=!1,r=t.length;function h(t){return Math.abs(t)<1e-6?0:t<0?-1:1}if(r<=2)return!1;for(var i,o,a,s=0;s<r;s++){var c=t[s],u=t[(s+1)%r];if(o=u,((a=[l,e])[0]-(i=c)[0])*(o[1]-i[1])==(o[0]-i[0])*(a[1]-i[1])&&Math.min(i[0],o[0])<=a[0]&&a[0]<=Math.max(i[0],o[0])&&Math.min(i[1],o[1])<=a[1]&&a[1]<=Math.max(i[1],o[1]))return!0;0<h(c[1]-e)!=0<h(u[1]-e)&&h(l-(e-c[1])*(c[0]-u[0])/(c[1]-u[1])-c[0])<0&&(n=!n)}return n},De=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},Te=function(e,n){function t(t){var e=t.map(function(t){return t[0]}),t=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function r(t){for(var e,n,r=[],i=t.length,o=0;o<i-1;o++){var a=t[o],s=t[o+1];r.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return 1<r.length&&(e=t[0],n=t[i-1],r.push({from:{x:n[0],y:n[1]},to:{x:e[0],y:e[1]}})),r}if(e.length<2||n.length<2)return!1;var i=t(e),o=t(n);if(!De(i,o))return!1;var a=!1;if(Object(X.each)(n,function(t){if(je(e,t[0],t[1]))return!(a=!0)}),a)return!0;if(Object(X.each)(e,function(t){if(je(n,t[0],t[1]))return!(a=!0)}),a)return!0;var s=r(e),i=r(n),c=!1;return Object(X.each)(i,function(t){if(e=s,n=t,r=!1,Object(X.each)(e,function(t){if(ne(t.from,t.to,n.from,n.to))return!(r=!0)}),r)return!(c=!0);var e,n,r}),c},Ie=(jn.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:n,maxY:r,width:n-t,height:r-e}},jn),ke=function(t,e){return{top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]}[e]},Le=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=0,o=[],a=0;a<4;a++){var s=ke(r,n[a]),c=s[0],u=s[1],l=s[2],s=s[3];o[a]=ne({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:c,y:u},{x:l,y:s}),o[a]&&(i+=1)}return[o,i]},Re=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=ke(r,n[a]),c=s[0],u=s[1],l=s[2],s=s[3],c=function(t,e){var n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),e=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(e){t=n/e,n=r/e;if(0<=t&&t<=1&&0<=n&&n<=1)return t}return Number.POSITIVE_INFINITY}(e,new Ie(c,u,l,s));0<=(c=Math.abs(c-.5))&&c<=1&&(o+=1,i=c<i?c:i)}return 0===o?-1:i},Be=function(t){var e=0,n=0;if(0<t.length){for(var r=0,i=t;r<i.length;r++){var o=i[r];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},Ne=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},Fe=function(t,e){var n=e.x1,r=e.y1,i=e.x2-n,e=e.y2-r,n=t.x-n,t=t.y-r,r=n*i+t*e,r=r<=0||(r=(n=i-n)*i+(t=e-t)*e)<=0?0:r*r/(i*i+e*e),i=n*n+t*t-r;return i=i<0?0:i},Ue=function(t,e,n){return void 0===n&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},We=function(t,e){var n=t.x<e.x,r=t.x>e.x+e.width,i=t.y>e.y+e.height,o=t.y<e.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!r)return Math.pow(t.y-e.y,2);if(n&&!i&&!o)return Math.pow(e.x-t.x,2);if(r&&!i&&!o)return Math.pow(e.x+e.width-t.x,2);n=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),r=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return n*n+r*r},ze=function(t,e){var n=t[0],r=t[1],i=t[2],t=t[3],o=e.x,e=e.y,i=[i-n,t-r];if(L.c.exactEquals(i,[0,0]))return NaN;t=[-i[1],i[0]],L.c.normalize(t,t),i=[o-n,e-r];return Math.abs(L.c.dot(i,t))},Ge=function(t,e,n){return t+(e-t)*n},$e="rgb(253, 253, 253)",Ke="rgb(95, 149, 255)",Ve="rgb(95, 149, 255)",Xe="rgb(247, 250, 255)",Ye="rgb(95, 149, 255)",He="rgb(224, 224, 224)",qe="rgb(95, 149, 255)",Ze="rgb(224, 224, 224)",n="rgb(95, 149, 255)",y={version:"0.6.1",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Ke,fill:"rgb(239, 244, 255)"},size:20,color:Ke,linkPoints:{size:8,lineWidth:1,fill:Xe,stroke:Ve}},nodeStateStyles:{active:{fill:Xe,stroke:Ve,lineWidth:2,shadowColor:Ke,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:Ye,lineWidth:4,shadowColor:Ye,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:He,lineAppendWidth:2},color:He},edgeStateStyles:{active:{stroke:"rgb(95, 149, 255)",lineWidth:1},selected:{stroke:qe,lineWidth:2,shadowColor:qe,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"rgb(95, 149, 255)",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:$e,lineWidth:1,stroke:Ze,r:5,width:20,height:10},size:[20,5],color:Ze,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:"rgb(95, 149, 255)",lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:n,lineWidth:2,fill:$e,shadowColor:n,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:$e,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:$e,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!=typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},Qe={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Je=Math.PI,tn=Math.sin,en=Math.cos,nn=tn(Je/8),rn=en(Je/8),on=function(t,e){var t=t.getBBox(),n={x:t.minX,y:t.minY},t={x:t.maxX,y:t.maxY},e=(e&&(e=e.getMatrix(),n=ae(n,e=e||[1,0,0,0,1,0,0,0,1]),t=ae(t,e)),n.x),n=n.y,r=t.x,t=t.y;return{x:e,y:n,minX:e,minY:n,maxX:r,maxY:t,width:r-e,height:t-n}},an=function(t){var e=t.sourceNode||t.targetNode,n=(n=e.get("group").getMatrix())||[1,0,0,0,1,0,0,0,1],r=e.getKeyShape().getBBox(),e=t.loopCfg||{},l=e.dist||2*Math.max(r.width,r.height),h=e.position||y.defaultLoopPosition,i=[n[6],n[7]],o=[t.startPoint.x,t.startPoint.y],a=[t.endPoint.x,t.endPoint.y],s=r.height/2,c=r.height/2,u=s*nn,d=s*rn,f=c*nn,p=c*rn;if(o[0]===a[0]&&o[1]===a[1]){switch(h){case"top":o=[i[0]-u,i[1]-d],a=[i[0]+f,i[1]-p];break;case"top-right":s=r.height/2,c=r.width/2,o=[i[0]+(u=s*nn),i[1]-(d=s*rn)],a=[i[0]+(p=c*rn),i[1]-(f=c*nn)];break;case"right":s=r.width/2,c=r.width/2,o=[i[0]+(d=s*rn),i[1]-(u=s*nn)],a=[i[0]+(p=c*rn),i[1]+(f=c*nn)];break;case"bottom-right":s=r.width/2,c=r.height/2,o=[i[0]+(d=s*rn),i[1]+(u=s*nn)],a=[i[0]+(f=c*nn),i[1]+(p=c*rn)];break;case"bottom":s=r.height/2,c=r.height/2,o=[i[0]+(u=s*nn),i[1]+(d=s*rn)],a=[i[0]-(f=c*nn),i[1]+(p=c*rn)];break;case"bottom-left":s=r.height/2,c=r.width/2,o=[i[0]-(u=s*nn),i[1]+(d=s*rn)],a=[i[0]-(p=c*rn),i[1]+(f=c*nn)];break;case"left":s=r.width/2,c=r.width/2,o=[i[0]-(d=s*rn),i[1]+(u=s*nn)],a=[i[0]-(p=c*rn),i[1]-(f=c*nn)];break;case"top-left":s=r.width/2,c=r.height/2,o=[i[0]-(d=s*rn),i[1]-(u=s*nn)],a=[i[0]-(f=c*nn),i[1]-(p=c*rn)];break;default:s=r.width/2,c=r.width/2,o=[i[0]-(u=s*nn),i[1]-(d=s*rn)],a=[i[0]+(f=c*nn),i[1]-(p=c*rn)]}!1===e.clockwise&&(n=[o[0],o[1]],o=[a[0],a[1]],a=[n[0],n[1]])}var h=[o[0]-i[0],o[1]-i[1]],n=(s+l)/s,g=(c+l)/c,e=(!1===e.clockwise&&(n=(c+l)/c,g=(s+l)/s),L.c.scale([0,0],h,n)),l=[i[0]+e[0],i[1]+e[1]],h=[a[0]-i[0],a[1]-i[1]],n=L.c.scale([0,0],h,g),e=[i[0]+n[0],i[1]+n[1]];return t.startPoint={x:o[0],y:o[1]},t.endPoint={x:a[0],y:a[1]},t.controlPoints=[{x:l[0],y:l[1]},{x:e[0],y:e[1]}],t},sn=function(t,e,n,r,i){var o=[],a=null==t?void 0:t.getPoint(e);if(!a)return{x:0,y:0,angle:0};e<1e-4?o=t.getStartTangent().reverse():.9999<e?o=t.getEndTangent():(t=null==t?void 0:t.getPoint(e+1e-4),o.push([a.x,a.y]),o.push([t.x,t.y]));e=Math.atan2(o[1][1]-o[0][1],o[1][0]-o[0][0]),e<0&&(e+=2*Je),n&&(a.x+=en(e)*n,a.y+=tn(e)*n),r&&(t=e-Je/2,.5*Je<e&&e<1.5*Je&&(t-=Je),a.x+=en(t)*r,a.y+=tn(t)*r),o={x:a.x,y:a.y,angle:e};return i?(.5*Je<e&&e<1.5*Je&&(e-=Je),g({rotate:e},o)):o},cn=function(t,e){"function"==typeof e&&Ce(t,e)},un=function(t,e){"function"==typeof e&&function t(e,n){if(e&&e.children)for(var r=e.children.length-1;0<=r;r--)if(!t(e.children[r],n))return;return!1!==n(e)}(t,e)},ln=function(t,e){return e*(Qe[t]||1)},hn=function(t,e){var n=0,r=new RegExp("[一-龥]+");return t.split("").forEach(function(t){r.test(t)?n+=e:n+=ln(t,e)}),[n,e]},dn=function(t,e){var o=[],a={},s={},r=(t.forEach(function(t){s[t.id]=t}),t.forEach(function(t,e){var n,r=Object(X.clone)(t),i=(r.itemType="combo",r.children=void 0,r.parentId===r.id?(console.warn("The parentId for combo ".concat(r.id," can not be the same as the combo's id")),delete r.parentId):r.parentId&&!s[r.parentId]&&(console.warn("The parent combo for combo ".concat(r.id," does not exist!")),delete r.parentId),a[r.id]);i?(r.children=i.children,(i=a[r.id]=r).parentId?(n=a[i.parentId])?n.children?n.children.push(r):n.children=[r]:(n={id:i.parentId,children:[i]},a[i.parentId]=n,a[r.id]=r):o.push(i)):(Object(X.isString)(t.parentId)?(n=a[t.parentId])?n.children?n.children.push(r):n.children=[r]:(i={id:t.parentId,children:[r]},a[i.id]=i):o.push(r),a[r.id]=r)}),{}),i=((e||[]).forEach(function(t){r[t.id]=t;var e,n=a[t.comboId];n&&(e={id:t.id,comboId:t.comboId},n.children?n.children.push(e):n.children=[e],e.itemType="node",a[t.id]=e)}),0);return o.forEach(function(t){t.depth=i+10,Ce(t,function(t){var e=a[t.id].itemType,n="node"===e?a[t.comboId]:a[t.parentId],n=(t.depth=n&&"node"===e?i+1:i+10,i<t.depth&&(i=t.depth),r[t.id]);return n&&(n.depth=t.depth),!0})}),o},fn=function(t,n,r){var i,l,e,o,a=t,s={root:{children:t}},c=!1,h="root",u=((t||[]).forEach(function(t){if(!c)return t.id===n?("combo"===(i=t).itemType?i.parentId=r:i.comboId=r,void(c=!0)):void cn(t,function(t){var e;return s[t.id]={children:(null==t?void 0:t.children)||[]},a=null===(e=s[t.parentId||t.comboId||"root"])||void 0===e?void 0:e.children,!t||!t.removed&&n!==t.id||!a||(h=t.parentId||t.comboId||"root","combo"===(i=t).itemType?i.parentId=r:i.comboId=r,!(c=!0))})}),(a=null===(u=s[h])||void 0===u?void 0:u.children)?a.indexOf(i):-1);return-1<u&&a.splice(u,1),c||(i={id:n,itemType:"node",comboId:r},s[n]={children:void 0}),n&&(l=!1,r?(e=0,(t||[]).forEach(function(t){l||cn(t,function(t){return r!==t.id||(l=!0,t.children?t.children.push(i):t.children=[i],e=t.depth,"node"===i.itemType?i.depth=e+2:i.depth=e+1,!1)})})):"node"===i.itemType||t.push(i),o=i.depth,cn(i,function(t){return"node"===t.itemType?o+=2:o+=1,t.depth=o,!0})),t},pn=function(t,e,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return t&&0!==t.length?(t.forEach(function(t){var t=e.findById(t.id);t&&t.isVisible()&&(t.set("bboxCanvasCache",void 0),(t=t.getCanvasBBox()).x&&r.minX>t.minX&&(r.minX=t.minX),t.y&&r.minY>t.minY&&(r.minY=t.minY),t.x&&r.maxX<t.maxX&&(r.maxX=t.maxX),t.y&&r.maxY<t.maxY&&(r.maxY=t.maxY))}),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach(function(t){r[t]!==1/0&&r[t]!==-1/0||(r[t]=void 0)}),r):{minX:n=(t=(null==n?void 0:n.getModel())||{}).x,minY:t=t.y,maxX:n,maxY:t,x:n,y:t,width:void 0,height:void 0}},gn=function(t){var e=Object(X.isNumber)(t.x)||Object(X.isNumber)(t.y)||t.type||t.anchorPoints||t.size;return e=t.style?e||Object(X.isNumber)(t.style.r)||Object(X.isNumber)(t.style.width)||Object(X.isNumber)(t.style.height)||Object(X.isNumber)(t.style.rx)||Object(X.isNumber)(t.style.ry):e},yn=function(e){var i={};return Object.keys(e).forEach(function(t){var n,r=e[t];Object(X.isObject)(r)&&!Object(X.isArray)(r)?(n={},Object.keys(r).forEach(function(t){var e=r[t];"img"===t&&!Object(X.isString)(e)||(n[t]=Object(X.clone)(e))}),i[t]=n):i[t]=Object(X.clone)(r)}),i},_n=(Sn.prototype.formatModes=function(){var t=this.modes;Object(X.each)(t,function(n){Object(X.each)(n,function(t,e){Object(X.isString)(t)&&(n[e]={type:t})})})},Sn.prototype.setBehaviors=function(t){var n,r=this.graph,t=this.modes[t],i=[];Object(X.each)(t||[],function(t){var e=P.getBehavior(t.type||t);e&&(n=new e(t))&&(n.bind(r),i.push(n))}),this.currentBehaves=i},Sn.mergeBehaviors=function(e,t){return Object(X.each)(t,function(t){e.indexOf(t)<0&&(Object(X.isString)(t)&&(t={type:t}),e.push(t))}),e},Sn.filterBehaviors=function(t,n){var r=[];return t.forEach(function(t){var e=Object(X.isString)(t)?t:t.type;n.indexOf(e)<0&&r.push(t)}),r},Sn.prototype.setMode=function(t){var e=this.modes,n=this.graph,r=t;e[r]&&(n.emit("beforemodechange",{mode:t}),Object(X.each)(this.currentBehaves,function(t){t.delegate&&t.delegate.remove(),t.unbind(n)}),this.setBehaviors(r),n.emit("aftermodechange",{mode:t}),this.mode=t)},Sn.prototype.getMode=function(){return this.mode},Sn.prototype.manipulateBehaviors=function(t,e,n){var r=this,i=Object(X.isArray)(t)?t:[t];if(Object(X.isArray)(e))return Object(X.each)(e,function(t){r.modes[t]?r.modes[t]=n?Sn.mergeBehaviors(r.modes[t]||[],i):Sn.filterBehaviors(r.modes[t]||[],i):n&&(r.modes[t]=i)}),this;t=e;return e||(t=this.mode),this.modes[t]||n&&(this.modes[t]=i),this.modes[t]=n?Sn.mergeBehaviors(this.modes[t]||[],i):Sn.filterBehaviors(this.modes[t]||[],i),this.formatModes(),this.setMode(this.mode),this},Sn.prototype.updateBehavior=function(t,e,n){Object(X.isString)(t)&&(t={type:t});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var i=r.length,o=0;o<i;o++){if((a=r[o]).type===t.type||a===t.type)return a===t.type&&(a={type:a}),Object.assign(a,e),r[o]=a,this;o===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var a,s=r.length,o=0;o<s;o++){if((a=r[o]).type===t.type)return a.updateCfg(e),this;o===s-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},Sn.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},Sn),mn=(j(An,Se=t(36).Event),An),vn=function(t){return"".concat(t,"-").concat(Math.random()).concat(Date.now())},bn=function(t){if(Object(X.isArray)(t))switch(t.length){case 4:return t;case 3:return t.push(t[1]),t;case 2:return t.concat(t);case 1:return[t[0],t[0],t[0],t[0]];default:return[0,0,0,0]}return Object(X.isNumber)(t)?[t,t,t,t]:Object(X.isString)(t)?[e=parseInt(t,10),e,e,e]:[0,0,0,0];var e},On=function(t){var e=new mn(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},xn=function(t){if(!t)return!1;for(var e=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(t[n]!==e[n])return!0;return!1},En=function(t){return Number.isNaN(Number(t))},wn=function(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o].getBBox(),s=a.minX,c=a.minY,u=a.maxX,a=a.maxY;s<e&&(e=s),c<r&&(r=c),n<u&&(n=u),i<a&&(i=a)}return{x:Math.floor(e),y:Math.floor(r),width:Math.ceil(n)-Math.floor(e),height:Math.ceil(i)-Math.floor(r),minX:e,minY:r,maxX:n,maxY:i}},Mn=function(t,e,l,n,h){void 0===l&&(l="quadratic"),void 0===n&&(n=void 0),void 0===h&&(h=void 0);for(var d,f=t.length,p=2*(e=void 0===e?15:e),g=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],r={},i=[],y={},o=0;o<f;o++){var _=t[o],m=_.source,v=_.target,a="".concat(m,"-").concat(v);if(!i[o]){r[a]||(r[a]=[]),i[o]=!0,r[a].push(_);for(var b,O,x,s=0;s<f;s++)o!==s&&(O=(b=t[s]).source,x=b.target,i[s]||(m===x&&v===O?(r[a].push(b),i[s]=!0,y["".concat(O,"|").concat(x,"|").concat(r[a].length-1)]=!0):m===O&&v===x&&(r[a].push(b),i[s]=!0)))}}for(d in r)for(var E=r[d],w=E.length,c=0;c<w;c++){var M,u=E[c];u.source!==u.target?1===w&&n&&u.source!==u.target?u.type=n:(u.type=l,M=(c%2==0?1:-1)*(y["".concat(u.source,"|").concat(u.target,"|").concat(c)]?-1:1),u.curveOffset=w%2==1?M*Math.ceil(c/2)*p:M*(Math.floor(c/2)*p+e)):(h&&(u.type=h),u.loopCfg={position:g[c%8],dist:20*Math.floor(c/8)+50})}return t},Pn=(Cn.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),e=e.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(e-t[0]-t[2])/2+t[0]}},Cn.prototype.fitCenter=function(){var t,e,n=this.graph,r=n.get("group"),r=(r.resetMatrix(),r.getCanvasBBox());0!==r.width&&0!==r.height&&(t=this.getViewCenter(),e=r.x+r.width/2,r=r.y+r.height/2,n.translate(t.x-e,t.y-r))},Cn.prototype.fitView=function(){var t,e,n,r=this.graph,i=this.getFormatPadding(),o=r.get("width"),a=r.get("height"),s=r.get("group"),s=(s.resetMatrix(),s.getCanvasBBox());0!==s.width&&0!==s.height&&(t=this.getViewCenter(),e=s.x+s.width/2,n=s.y+s.height/2,r.translate(t.x-e,t.y-n),e=(o-i[1]-i[3])/s.width,n=(a-i[0]-i[2])/s.height,r.zoom(o=n<e?n:e,t)||console.warn("zoom failed, ratio out of range, ratio: %f",o))},Cn.prototype.fitViewByRules=function(t){var e,n,r,l=t.onlyOutOfViewPort,l=void 0!==l&&l,i=t.direction,i=void 0===i?"both":i,t=t.ratioRule,t=void 0===t?"min":t,o=this.graph,a=this.getFormatPadding(),s=o.get("width"),c=o.get("height"),u=o.get("group"),u=(u.resetMatrix(),u.getCanvasBBox());0!==u.width&&0!==u.height&&(e=this.getViewCenter(),n=u.x+u.width/2,r=u.y+u.height/2,o.translate(e.x-n,e.y-r),n=(s-a[1]-a[3])/u.width,r=(c-a[0]-a[2])/u.height,s="x"===i?n:"y"===i?r:"max"===t?Math.max(n,r):Math.min(n,r),l&&(s=s<1?s:1),(c=o.getZoom()*s)<(a=o.get("minZoom"))&&(c=a,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph minzoom has been used instead")),o.zoomTo(c,e))},Cn.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return bn(t)},Cn.prototype.focusPoint=function(t,e,l){var n,r,i,o,a,s,h=this,c=this.getViewCenter(),c=this.getPointByCanvas(c.x,c.y),u=(u=this.graph.get("group").getMatrix())||[1,0,0,0,1,0,0,0,1];e?(n=(c.x-t.x)*u[0],r=(c.y-t.y)*u[4],s=a=o=i=0,this.graph.get("canvas").animate(function(t){a=n*t,s=r*t,h.graph.translate(a-i,s-o),i=a,o=s},g({},l))):this.graph.translate((c.x-t.x)*u[0],(c.y-t.y)*u[4])},Cn.prototype.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();return se({x:t,y:e},n=n||[1,0,0,0,1,0,0,0,1])},Cn.prototype.getPointByClient=function(t,e){t=this.graph.get("canvas").getPointByClient(t,e);return this.getPointByCanvas(t.x,t.y)},Cn.prototype.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),t=this.getCanvasByPoint(t,e),e=n.getClientByPoint(t.x,t.y);return{x:e.x,y:e.y}},Cn.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return ae({x:t,y:e},n=n||[1,0,0,0,1,0,0,0,1])},Cn.prototype.focus=function(t,e,n){var r,i,o,a;(t=Object(X.isString)(t)?this.graph.findById(t):t)&&(a=o=0,t.getType&&"edge"===t.getType()?(i=t.getSource().get("group").getMatrix(),r=t.getTarget().get("group").getMatrix(),i&&r?(o=(i[6]+r[6])/2,a=(i[7]+r[7])/2):(i||r)&&(o=(i||r)[6],a=(i||r)[7])):(o=(i=(i=t.get("group").getMatrix())||[1,0,0,0,1,0,0,0,1])[6],a=i[7]),this.focusPoint({x:o,y:a},e,n))},Cn.prototype.changeSize=function(t,e){var n=this.graph;if(!Object(X.isNumber)(t)||!Object(X.isNumber)(e))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:e}),n.get("canvas").changeSize(t,e),n.get("plugins").forEach(function(t){t.get("gridContainer")&&t.positionInit()})},Cn.prototype.destroy=function(){this.graph=null,this.destroyed=!1},Cn);function Cn(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}function An(t,e){t=Se.call(this,t,e)||this;return t.item=e.item,t.canvasX=e.canvasX,t.canvasY=e.canvasY,t.wheelDelta=e.wheelDelta,t.detail=e.detail,t}function Sn(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}function jn(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r}function Dn(t){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tn(t){if("string"!=typeof t)return t;function e(e){if("string"!=typeof e)return e;try{return JSON.parse(e.trim())}catch(t){return e.trim()}}var l=e(t);if("string"!=typeof l)return l;for(var n=function(t){return t[t.length-1]},h=t.trim(),r=[],i=[],d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.some(function(t){return n(i)===t})},f=null,o=0,a="";o<h.length;){var s=h[o],c=d('"',"'");if(c||s.trim()){var p="\\"===h[o-1],g=d("}"),y=d("]"),_=d(","),u=n(r);if(c)n(i)!==s||p?a+=s:(i.pop(),c=e(a),u.push(c),f=c,a="");else if(y&&","===s)a&&(u.push(e(a)),a="");else if(g&&":"===s)i.push(","),a&&(u.push(a),a="");else if(_&&","===s)a&&(u.push(e(a)),a=""),i.pop();else if("}"===s&&(g||_)){a&&(u.push(e(a)),a=""),_&&i.pop();for(var m={},v=1;v<u.length;v+=2)m[u[v-1]]=u[v];r.pop(),r.length&&n(r).push(m),i.pop(),f=m}else"]"===s&&y?(a&&(u.push(e(a)),a=""),r.pop(),r.length&&n(r).push(u),i.pop(),f=u):"{"===s?(r.push([]),i.push("}")):"["===s?(r.push([]),i.push("]")):'"'===s?i.push('"'):"'"===s?i.push("'"):a+=s;o+=1}else o+=1}return f||a}function In(r){function i(t){a="function"==typeof r?r(t):r;var a,e=function(t){for(var e,n=a.length,r=[],i=0,o="";i<n;)"{"===a[i]&&"{"===a[i+1]?(r.push(o),o="",i+=2):"}"===a[i]&&"}"===a[i+1]?(r.length&&(e=r.pop(),o=Object(X.get)(t,o,e.endsWith("=")?'"{'.concat(o,'}"'):o),r.push(e+o)),i+=2,o=""):(o+=a[i],i+=1);return r.push(o),r.map(function(t,e){return r[e-1]&&r[e-1].endsWith("=")?'"{'.concat(t,'}"'):t}).join("")}(t),n=document.createElement("div"),e=(n.innerHTML=e,function t(e,n){var s=g({x:0,y:0,width:0,height:0},n=void 0===n?{x:0,y:0}:n);if(null!==(i=e.children)&&void 0!==i&&i.length){var r=void 0===(i=e.attrs)?{}:i,i=r.marginTop,o=g({},n);i&&(o.y+=i);for(var a=0;a<e.children.length;a++){e.children[a].attrs.key="".concat(r.key||"root"," -").concat(a," ");var c,u=t(e.children[a],o);u.bbox&&(c=u.bbox,"inline"===u.attrs.next?o.x+=u.bbox.width:o.y+=u.bbox.height,c.width+c.x>s.width&&(s.width=c.width+c.x),c.height+c.y>s.height&&(s.height=c.height+c.y))}}return e.bbox=function(t,e){var n,r,i=t.attrs,o=void 0===i?{}:i,a={x:e.x||0,y:e.y||0,width:s.width||0,height:s.height||0};switch(t.type){case"maker":case"circle":o.r&&(r=2*o.r,n=2*o.r);break;case"text":o.text&&(r=hn(o.text,o.fontSize||12)[0],a.y+=n=16,a.height=n,a.width=r,t.attrs=g({fontSize:12,fill:"#000"},o));break;default:o.width&&(r=o.width),o.height&&(n=o.height)}return 0<=n&&(a.height=n),0<=r&&(a.width=r),o.marginTop&&(a.y+=o.marginTop),o.marginLeft&&(a.x+=o.marginLeft),a}(e,n),e.attrs=g(g({},e.attrs),e.bbox),e}(function e(i,n){var o={},t=i.getAttributeNames&&i.getAttributeNames()||[],r=i.children&&Array.from(i.children).map(function(t){return e(t,n)}),a={},s=i.tagName?i.tagName.toLowerCase():"group";return"text"===s&&(o.text=i.innerText),"img"===(a.type=s)&&(a.type="image"),Array.from(t).forEach(function(t){var e,n=t.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}),r=i.getAttribute(t);try{"style"===n||"attrs"===n?(e=Tn(r),o=g(g({},o),e)):a[n]=Tn(r)}catch(t){if("style"===n)throw t;a[n]=r}}),a.attrs=o,n&&n.style&&a.name&&"object"===Dn(n.style[a.name])&&(a.attrs=g(g({},a.attrs),n.style[a.name])),n&&n.style&&a.keyshape&&(a.attrs=g(g({},a.attrs),n.style)),r.length&&(a.children=r),a}(n.children[0],t)));return n.remove(),e}var u={};return{draw:function(t,s){var e=i(t),c=s;return function t(e){var n=e.attrs,n=void 0===n?{}:n,r=e.bbox,i=e.type,o=e.children,a=D(e,["attrs","bbox","type","children"]);"group"!==e.type&&(n=s.addShape(e.type,g({attrs:n,origin:{bbox:r,type:i,children:o}},a)),e.keyshape&&(c=n)),e.children&&e.children.forEach(t)}(e),u[t.id]=[e],c},update:function(t,o){u[t.id]||(u[t.id]=[]);function a(t){var e;"group"!==t.type&&n.addShape(t.type,{attrs:t.attrs}),null!==(e=t.children)&&void 0!==e&&e.length&&t.children.map(a)}function s(e){var t=c.find(function(t){return t.attrs.key===e.attrs.key});t&&n.removeChild(t),null!==(t=e.children)&&void 0!==t&&t.length&&e.children.map(s)}var n=o.getContainer(),c=n.get("children"),e=i(t),r=function t(e,n){var r=(e||{}).type,i=((null==n?void 0:n.attrs)||{}).key;if(i&&e&&(e.attrs.key=i),!e&&n)return{action:"delete",val:n,type:r,key:i};if(e&&!n)return{action:"add",val:e,type:r};if(!e&&!n)return{action:"same",type:r};var o=[];if(0<(null===(u=e.children)||void 0===u?void 0:u.length)||0<(null===(u=n.children)||void 0===u?void 0:u.length))for(var a=Math.max(null===(u=e.children)||void 0===u?void 0:u.length,null===(u=n.children)||void 0===u?void 0:u.length),s=n.children||[],l=e.children||[],c=0;c<a;c+=1)o.push(t(l[c],s[c]));var u=Object.keys(n.attrs),h=Object.keys(e.attrs);return n.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:n,key:i,children:o}:u.filter(function(t){return"children"!==t}).some(function(t){return e.attrs[t]!==n.attrs[t]||!h.includes(t)})?{action:"change",val:e,children:o,type:r,key:i}:{action:"same",children:o,type:r,key:i}}(e,u[t.id].pop());!function t(e){var n=e.key;if("group"!==e.type){var r,i=c.find(function(t){return t.attrs.key===n});switch(e.action){case"change":i&&(r=e.val.keyshape?o.getOriginStyle():{},i.attr(g(g({},r),e.val.attrs)));break;case"add":a(e.val);break;case"delete":s(e.val);break;case"restructure":s(e.formerTarget),a(e.nowTarget)}}e.children&&e.children.forEach(t)}(r),u[t.id].push(e)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var kn={};function Ln(t){return kn[t]||(kn[t]=Object(X.upperFirst)(t)),kn[t]}var Rn={defaultShapeType:"defaultType",className:null,getShape:function(t){return this[t]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(t,e,n){var t=this.getShape(t),r=(n.shapeMap={},t.draw(e,n));return t.afterDraw&&t.afterDraw(e,n,r),r},baseUpdate:function(t,e,n,r){var i,t=this.getShape(t);t.update&&(t.mergeStyle=null===(i=t.getOptions)||void 0===i?void 0:i.call(t,e,r),null===(i=t.update)||void 0===i||i.call(t,e,n,r)),t.afterUpdate&&t.afterUpdate(e,n)},setState:function(t,e,n,r){this.getShape(t).setState(e,n,r)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},Bn={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints;return t.anchorPoints||e}},Xe=(Fn.registerFactory=function(t,e){t=Ln(t),e=g(g({},Rn),e);return(Fn[t]=e).className=t,e},Fn.getFactory=function(t){return Fn[Ln(t)]},Fn.registerNode=function(t,e,n){var r,i=Fn.Node;return(n="string"==typeof e||"function"==typeof e?(r=In(e),g(g({},i.getShape("single-node")),r)):e.jsx?(r=In(e.jsx),g(g(g({},i.getShape("single-node")),r),e)):(i.getShape(n),r=n?i.getShape(n):Bn,g(g({},r),e))).type=t,n.itemType="node",i[t]=n},Fn.registerEdge=function(t,e,n){var r=Fn.Edge,n=n?r.getShape(n):Bn,n=g(g({},n),e);return n.type=t,n.itemType="edge",r[t]=n},Fn.registerCombo=function(t,e,n){var r=Fn.Combo,n=n?r.getShape(n):Bn,n=g(g({},n),e);return n.type=t,n.itemType="combo",r[t]=n},Fn),Nn=Xe;function Fn(){}Xe.registerFactory("node",{defaultShapeType:"circle"}),Xe.registerFactory("edge",{defaultShapeType:"line"}),Xe.registerFactory("combo",{defaultShapeType:"circle"});lr.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),t=on(t,e);return t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY,t.centerX=(t.minX+t.maxX)/2,t.centerY=(t.minY+t.maxY)/2,t},lr.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),t=on(t,e);return t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY,t.centerX=(t.minX+t.maxX)/2,t.centerY=(t.minY+t.maxY)/2,t},lr.prototype.drawInner=function(){var t=this.get("shapeFactory"),e=this.get("group"),n=this.get("model"),r=(e.clear(),n.visible);void 0===r||r||this.changeVisibility(r),t&&(this.updatePosition(n),n=(r=this.getShapeCfg(n)).type,(r=t.draw(n,r,e))&&(this.set("keyShape",r),r.set("isKeyShape",!0),r.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",n),this.restoreStates(t,n))},lr.prototype.setOriginStyle=function(){var l=this.get("group"),e=l.get("children"),h=this.getKeyShape(),s=this,c=h.get("name");if(this.get("originStyle")){for(var u=this.get("originStyle"),d=(c&&!u[c]&&(u[c]={}),this.getCurrentStatesStyle()),t=0;t<e.length;t++)!function(t){var n,r,i,t=e[t],o=t.get("name"),a=t.attr();o&&o!==c?(n=d[o],u[o]||(u[o]={}),n?Object.keys(a).forEach(function(t){var e=a[t];e!==n[t]&&(u[o][t]=e)}):u[o]="image"!==t.get("type")?Object(X.clone)(a):s.getShapeStyleByName(o)):(r=t.attr(),i={},Object.keys(d).forEach(function(t){var e=d[t];t!==c&&Object(X.isPlainObject)(e)||(i[t]=e)}),Object.keys(r).forEach(function(t){var e=r[t];i[t]!==e&&(c?u[c][t]=e:u[t]=e)}))}(t);delete u.path,delete u.matrix,delete u.x,delete u.y,u[c]&&(delete u[c].x,delete u[c].y,delete u[c].matrix,delete u[c].path),s.set("originStyle",u)}else{for(var n={},t=0;t<e.length;t++){var r,i,o=e[t],f=o.get("type"),a=o.get("name");a&&a!==c?(n[a]="image"!==f?Object(X.clone)(o.attr()):s.getShapeStyleByName(a),"text"===f&&n[a]&&(delete n[a].x,delete n[a].y,delete n[a].matrix)):(delete(r=s.getShapeStyleByName()).path,delete r.matrix,c?a?n[c]=r:(i=vn("shape"),o.set("name",i),l.shapeMap[i]=o,n[i]="image"!==f?Object(X.clone)(o.attr()):s.getShapeStyleByName(a)):Object.assign(n,r))}s.set("originStyle",n)}},lr.prototype.restoreStates=function(e,n){var r=this,t=r.get("states");Object(X.each)(t,function(t){e.setState(n,t,!0,r)})},lr.prototype.init=function(){var t=Nn.getFactory(this.get("type"));this.set("shapeFactory",t)},lr.prototype.get=function(t){return this._cfg[t]},lr.prototype.set=function(t,e){Object(X.isPlainObject)(t)?this._cfg=g(g({},this._cfg),t):this._cfg[t]=e},lr.prototype.getDefaultCfg=function(){return{}},lr.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},lr.prototype.beforeDraw=function(){},lr.prototype.afterDraw=function(){},lr.prototype.afterUpdate=function(){},lr.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},lr.prototype.getShapeStyleByName=function(t){var n,e=this.get("group");return(e=t?e.shapeMap[t]:this.getKeyShape())?(n={},Object(X.each)(e.attr(),function(t,e){"img"===e&&!Object(X.isString)(t)||(n[e]=t)}),n):{}},lr.prototype.getShapeCfg=function(t,e){var n,r=this.get("styles");return r?((n=t).style=g(g({},r),t.style),n):t},lr.prototype.getStateStyle=function(t){var e=this.get("styles");return e&&e[t]},lr.prototype.getOriginStyle=function(){return this.get("originStyle")},lr.prototype.getCurrentStatesStyle=function(){var e=this,n={},t=e.getStates();return t&&t.length?(Object(X.each)(e.getStates(),function(t){n=Object.assign(n,e.getStateStyle(t))}),n):this.get("originStyle")},lr.prototype.setState=function(t,e){var n=this.get("states"),r=this.get("shapeFactory"),i=t,o=t,a=(Object(X.isString)(e)&&(i="".concat(t,":").concat(e),o="".concat(t,":")),n);if(Object(X.isBoolean)(e)){var s=n.indexOf(o);if(e){if(-1<s)return;n.push(i)}else-1<s&&n.splice(s,1)}else Object(X.isString)(e)&&(0<(s=n.filter(function(t){return t.includes(o)})).length&&this.clearStates(s),(a=a.filter(function(t){return!t.includes(o)})).push(i),this.set("states",a));r&&(n=this.get("model").type,r.setState(n,t,e,this))},lr.prototype.clearStates=function(e){var n=this,t=n.getStates(),r=n.get("shapeFactory"),i=n.get("model").type,t=(e=e||t,Object(X.isString)(e)&&(e=[e]),t.filter(function(t){return-1===e.indexOf(t)}));n.set("states",t),e.forEach(function(t){r.setState(i,t,!1,n)})},lr.prototype.getContainer=function(){return this.get("group")},lr.prototype.getKeyShape=function(){return this.get("keyShape")},lr.prototype.getModel=function(){return this.get("model")},lr.prototype.getType=function(){return this.get("type")},lr.prototype.getID=function(){return this.get("id")},lr.prototype.isItem=function(){return!0},lr.prototype.getStates=function(){return this.get("states")},lr.prototype.hasState=function(t){return 0<=this.getStates().indexOf(t)},lr.prototype.refresh=function(t){var e=this.get("model");this.updatePosition(e),this.updateShape(t),this.afterUpdate(),this.clearCache()},lr.prototype.getUpdateType=function(t){},lr.prototype.update=function(t,e){void 0===e&&(e=void 0);var n,r,i,o,a=this.get("model");"move"===e?this.updatePosition(t):(a.visible!==(n=t.visible)&&void 0!==n&&this.changeVisibility(n),n=a.x,r=a.y,t.x=isNaN(+t.x)?a.x:+t.x,t.y=isNaN(+t.y)?a.y:+t.y,i=this.get("styles"),t.stateStyles&&(o=t.stateStyles,Object(X.mix)(i,o),delete t.stateStyles),Object.assign(a,t),n===t.x&&r===t.y||this.updatePosition(t),this.updateShape(e)),this.afterUpdate(),this.clearCache()},lr.prototype.updateShape=function(t){var e=this.get("shapeFactory"),n=this.get("model"),r=n.type;e.shouldUpdate(r)&&r===this.get("currentShape")?(n=this.getShapeCfg(n,t),e.baseUpdate(r,n,this,t),"move"!==t&&this.setOriginStyle()):this.draw(),this.restoreStates(e,r)},lr.prototype.updatePosition=function(t){var e=this.get("model"),n=isNaN(+t.x)?+e.x:+t.x,t=isNaN(+t.y)?+e.y:+t.y,r=this.get("group");if(isNaN(n)||isNaN(t))return!1;e.x=n,e.y=t;e=r.getMatrix();return!(e&&e[6]===n&&e[7]===t||(r.resetMatrix(),fe(r,{x:n,y:t}),this.clearCache(),0))},lr.prototype.getBBox=function(){var t=this.get("bboxCache");return t||(t=this.calculateBBox(),this.set("bboxCache",t)),t},lr.prototype.getCanvasBBox=function(){var t=this.get("bboxCanvasCache");return t||(t=this.calculateCanvasBBox(),this.set("bboxCanvasCache",t)),t},lr.prototype.toFront=function(){this.get("group").toFront()},lr.prototype.toBack=function(){this.get("group").toBack()},lr.prototype.show=function(){this.changeVisibility(!0)},lr.prototype.hide=function(){this.changeVisibility(!1)},lr.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},lr.prototype.isVisible=function(){return this.get("visible")},lr.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},lr.prototype.destroy=function(){var t,e;this.destroyed||(t=this.get("animate"),e=this.get("group"),t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0)};var Un,Wn,zn,Ve=lr,Gn={source:"start",target:"end"},$n=(j(ur,zn=Ve),ur.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},ur.prototype.setEnd=function(t,e){var n=Gn[t]+"Point",t=t+"Node",r=this.get(t);r&&!r.destroyed&&r.removeEdge(this),Object(X.isPlainObject)(e)?(this.set(n,e),this.set(t,null)):e&&(e.addEdge(this),this.set(t,e),this.set(n,null))},ur.prototype.getLinkPoint=function(t,e,n){var r,i=t+"Node",o=this.get(Gn[t]+"Point");return o||(i=this.get(i),r=t+"Anchor",n=this.getPrePoint(t,n),e=e[r],o=(o=Object(X.isNil)(e)?o:i.getLinkPointByAnchor(e))||i.getLinkPoint(n),Object(X.isNil)(o.index)||this.set("".concat(t,"AnchorIndex"),o.index)),o},ur.prototype.getPrePoint=function(t,e){return e&&e.length?e["source"===t?0:e.length-1]:this.getEndPoint("source"===t?"target":"source")},ur.prototype.getEndPoint=function(t){var e=Gn[t]+"Point",t=this.get(t+"Node");return t?t.get("model"):this.get(e)},ur.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),t=t.type;return r.getControlPoints(t,{startPoint:e,endPoint:n})},ur.prototype.getEndCenter=function(t){var e=Gn[t]+"Point",t=this.get(t+"Node");return t?{x:(t=t.getBBox()).centerX,y:t.centerY}:this.get(e)},ur.prototype.init=function(){zn.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},ur.prototype.getShapeCfg=function(t,e){var n=this.get("linkCenter"),e=null!=e&&e.includes("move")?t:zn.prototype.getShapeCfg.call(this,t);return n?(e.startPoint=this.getEndCenter("source"),e.endPoint=this.getEndCenter("target")):(n=e.controlPoints||this.getControlPointsByCenter(e),e.startPoint=this.getLinkPoint("source",t,n),e.endPoint=this.getLinkPoint("target",t,n)),e.sourceNode=this.get("sourceNode"),e.targetNode=this.get("targetNode"),e},ur.prototype.getModel=function(){var t=this.get("model"),e=this.get("source".concat("Node")),n=this.get("target".concat("Node"));return e?delete t["source".concat("Node")]:t.source=this.get("start".concat("Point")),n?delete t["target".concat("Node")]:t.target=this.get("end".concat("Point")),Object(X.isString)(t.source)||Object(X.isPlainObject)(t.source)||(t.source=t.source.getID()),Object(X.isString)(t.target)||Object(X.isPlainObject)(t.target)||(t.target=t.target.getID()),t},ur.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},ur.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},ur.prototype.getSource=function(){return this.get("source")},ur.prototype.getTarget=function(){return this.get("target")},ur.prototype.updatePosition=function(){return!1},ur.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model"),r=n.visible,i=t.visible,r=(r!==i&&void 0!==i&&this.changeVisibility(i),this.get("styles"));t.stateStyles&&(i=t.stateStyles,Object(X.mix)(r,i),delete t.stateStyles),Object.assign(n,t),this.updateShape(e),this.afterUpdate(),this.clearCache()},ur.prototype.destroy=function(){var t=this.get("source".concat("Node")),e=this.get("target".concat("Node"));t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),zn.prototype.destroy.call(this)},ur),Kn=(j(cr,Wn=Ve),cr.prototype.getNearestPoint=function(t,e){for(var n=0,r=t[0],i=ue(t[0],e),o=0;o<t.length;o++){var a=t[o],s=ue(a,e);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},cr.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},cr.prototype.getEdges=function(){return this.get("edges")},cr.prototype.getInEdges=function(){var e=this;return this.get("edges").filter(function(t){return t.get("target")===e})},cr.prototype.getOutEdges=function(){var e=this;return this.get("edges").filter(function(t){return t.get("source")===e})},cr.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");return"target"===t?n.filter(function(t){return t.getSource()===e}).map(function(t){return t.getTarget()}):"source"===t?n.filter(function(t){return t.getTarget()===e}).map(function(t){return t.getSource()}):n.map(function(t){return t.getSource()===e?t.getTarget():t.getSource()})},cr.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},cr.prototype.getLinkPoint=function(t){var e,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox(),a="combo"===i?(e=o.centerX||(o.maxX+o.minX)/2,o.centerY||(o.maxY+o.minY)/2):(e=o.centerX,o.centerY),i=this.getAnchorPoints();switch(r){case"circle":n=ie({x:e,y:a,r:o.width/2},t);break;case"ellipse":n=oe({x:e,y:a,rx:o.width/2,ry:o.height/2},t);break;default:n=re(o,t)}r=n;return r=(r=i.length?this.getNearestPoint(i,r=r||t):r)||{x:e,y:a}},cr.prototype.getAnchorPoints=function(){var n,t,e,r,i=this.get("anchorPointsCache");return i||(i=[],r=this.get("shapeFactory"),n=this.getBBox(),e=this.get("model"),t=this.getShapeCfg(e),e=e.type,r=r.getAnchorPoints(e,t)||[],Object(X.each)(r,function(t,e){t={x:n.minX+t[0]*n.width,y:n.minY+t[1]*n.height,anchorIndex:e};i.push(t)}),this.set("anchorPointsCache",i)),i},cr.prototype.addEdge=function(t){this.get("edges").push(t)},cr.prototype.lock=function(){this.set("locked",!0)},cr.prototype.unlock=function(){this.set("locked",!1)},cr.prototype.hasLocked=function(){return this.get("locked")},cr.prototype.removeEdge=function(t){var e=this.getEdges(),t=e.indexOf(t);-1<t&&e.splice(t,1)},cr.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},cr.prototype.getUpdateType=function(t){var e,n,r;if(t)return e=!Object(X.isNil)(t.x),n=!Object(X.isNil)(t.y),1===(r=Object.keys(t)).length&&(e||n)||2===r.length&&e&&n?"move":Object(X.isNumber)(t.x)||Object(X.isNumber)(t.y)||t.type||t.anchorPoints||t.size||null!=t&&t.style&&(null!==(e=null==t?void 0:t.style)&&void 0!==e&&e.r||null!==(n=null==t?void 0:t.style)&&void 0!==n&&n.width||null!==(e=null==t?void 0:t.style)&&void 0!==e&&e.height||null!==(n=null==t?void 0:t.style)&&void 0!==n&&n.rx||null!==(e=null==t?void 0:t.style)&&void 0!==e&&e.ry)?"bbox|label":r.includes("label")||r.includes("labelCfg")?"style|label":"style"},cr),Vn=(j(sr,Un=Kn),sr.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},sr.prototype.getShapeCfg=function(t){var e,n=this.get("styles"),r=this.get("bbox");return n&&r?(e=t,r={r:Math.hypot(r.height,r.width)/2||y.defaultCombo.size[0]/2,width:r.width||y.defaultCombo.size[0],height:r.height||y.defaultCombo.size[1]},e.style=g(g(g({},n),t.style),r),n=t.padding||y.defaultCombo.padding,Object(X.isNumber)(n)?(r.r+=n,r.width+=2*n,r.height+=2*n):(r.r+=n[0],r.width+=n[1]+n[3]||2*n[1],r.height+=n[0]+n[2]||2*n[0]),this.set("sizeCache",r),e):t},sr.prototype.calculateCanvasBBox=function(){var t,e,n,r,i;if(!this.destroyed)return t=this.get("keyShape"),e=this.get("group"),(e=on(t,e)).centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,n=this.get("sizeCache"),r=(i=this.get("bboxCache")||{}).x,i=i.x,n?(n.width=Math.max(n.width,e.width),n.height=Math.max(n.height,e.height),"circle"===t.get("type")?(e.width=2*n.r,e.height=2*n.r):(e.width=n.width,e.height=n.height),e.minX=e.centerX-e.width/2,e.minY=e.centerY-e.height/2,e.maxX=e.centerX+e.width/2,e.maxY=e.centerY+e.height/2):(e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2),e.x=e.minX,e.y=e.minY,e.x===r&&e.y===i||this.set("anchorPointsCache",null),e},sr.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},sr.prototype.getNodes=function(){return this.get("nodes")},sr.prototype.getCombos=function(){return this.get("combos")},sr.prototype.addChild=function(t){switch(t.getType()){case"node":this.addNode(t);break;case"combo":this.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},sr.prototype.addCombo=function(t){return this.get("combos").push(t),!0},sr.prototype.addNode=function(t){return this.get("nodes").push(t),!0},sr.prototype.removeChild=function(t){switch(t.getType()){case"node":this.removeNode(t);break;case"combo":this.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},sr.prototype.removeCombo=function(t){var e;if(t)return-1<(t=(e=this.getCombos()).indexOf(t))&&(e.splice(t,1),!0)},sr.prototype.removeNode=function(t){var e;if(t)return-1<(t=(e=this.getNodes()).indexOf(t))&&(e.splice(t,1),!0)},sr.prototype.getUpdateType=function(t){},sr.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},sr.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},sr.prototype.destroy=function(){var t,e;this.destroyed||(t=this.get("animate"),e=this.get("group"),t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0)},sr),Xn=(ar.prototype.addItem=function(t,n){var r,e,i,l,o=this.graph,a="vedge"===t?"edge":t,h=o.get("".concat(a,"Group"))||o.get("group"),s=Object(X.upperFirst)(a),c=null,u=o.get(a+Object(X.upperFirst)("stateStyles"))||{},d=o.get("default"+s),s=(n.stateStyles&&(u=n.stateStyles),d&&Object(X.each)(d,function(t,e){Object(X.isObject)(t)&&!Object(X.isArray)(t)?n[e]=Object(X.deepMix)({},t,n[e]):Object(X.isArray)(t)?n[e]=n[e]||Object(X.clone)(d[e]):n[e]=n[e]||d[e]}),o.get(a+"Mapper"));if(s&&((r=s(n)).stateStyles&&(u=r.stateStyles,delete r.stateStyles),Object(X.each)(r,function(t,e){Object(X.isObject)(t)&&!Object(X.isArray)(t)?n[e]=Object(X.deepMix)({},n[e],t):n[e]=r[e]||n[e]})),o.emit("beforeadditem",{type:t,model:n}),"edge"===t||"vedge"===t){var a=void 0,s=void 0,a=n.source,s=n.target;if(a&&Object(X.isString)(a)&&(a=o.findById(a)),s&&Object(X.isString)(s)&&(s=o.findById(s)),!a||!s)return void console.warn("The source or target node of edge ".concat(n.id," does not exist!"));a.getType&&"combo"===a.getType()&&(n.isComboEdge=!0),s.getType&&"combo"===s.getType()&&(n.isComboEdge=!0),c=new $n({model:n,source:a,target:s,styles:u,linkCenter:o.get("linkCenter"),group:h.addGroup()})}else"node"===t?c=new Kn({model:n,styles:u,group:h.addGroup()}):"combo"===t&&(a=n.children,s=pn(a,o),e=i=void 0,isNaN(s.x)?isNaN(n.x)&&(i=100*Math.random()):i=s.x,isNaN(s.y)?isNaN(n.y)&&(e=100*Math.random()):e=s.y,isNaN(n.x)||isNaN(n.y)?(n.x=i,n.y=e):(i=n.x-i,e=n.y-e,this.updateComboSucceeds(n.id,i,e,a)),(i=h.addGroup()).setZIndex(n.depth),l=(c=new Vn({model:n,styles:u,bbox:n.collapsed?pn([],o):s,group:i})).getModel(),(a||[]).forEach(function(t){var e=o.findById(t.id);c.addChild(e),t.depth=l.depth+2}),n.collapsed&&setTimeout(function(){c.destroyed||o.collapseCombo(c)},0));if(c)return o.get("".concat(t,"s")).push(c),o.get("itemMap")[c.get("id")]=c,o.emit("afteradditem",{item:c,model:n}),c},ar.prototype.updateItem=function(e,n){var t,r,i,l,o,a,h,s,c,d=this,u=this.graph;(e=Object(X.isString)(e)?u.findById(e):e)&&!e.destroyed&&(t="",e.getType&&(t=e.getType()),a=u.get(t+"Mapper"),s=(r=e.getModel()).x,c=r.y,i=e.getUpdateType(n),a?(a=a(Object(X.deepMix)({},r,n)),o=Object(X.deepMix)({},r,a,n),a.stateStyles&&(e.set("styles",o.stateStyles),delete o.stateStyles),Object(X.each)(o,function(t,e){n[e]=t})):Object(X.each)(n,function(t,e){r[e]&&Object(X.isObject)(t)&&!Object(X.isArray)(t)&&(n[e]=g(g({},r[e]),n[e]))}),u.emit("beforeupdateitem",{item:e,cfg:n}),"edge"===t?(n.source&&(a=n.source,Object(X.isString)(a)&&(a=u.findById(a)),e.setSource(a)),n.target&&(o=n.target,Object(X.isString)(o)&&(o=u.findById(o)),e.setTarget(o)),e.update(n)):"node"===t?(e.update(n,i),a=e.getEdges(),l=(null==i?void 0:i.includes("bbox"))||"move"===i,"move"===i?Object(X.each)(a,function(t){d.edgeToBeUpdateMap[t.getID()]={edge:t,updateType:i},d.throttleRefresh()}):l&&Object(X.each)(a,function(t){t.refresh(i)})):"combo"===t&&(e.update(n,i),isNaN(n.x)&&isNaN(n.y)||(o=n.x-s||0,a=n.y-c||0,this.updateComboSucceeds(r.id,o,a)),h=e.getEdges(),(l=(null==i?void 0:i.includes("bbox"))||"move"===i)&&"combo"===t&&(s=e.get("shapeFactory"),c=r.type||"circle",(void 0===r.animate||void 0===n.animate?null!==(a=null===(o=s[c])||void 0===o?void 0:o.options)&&void 0!==a&&a.animate:r.animate||n.animate)?setTimeout(function(){var t;!e||e.destroyed||(t=e.getKeyShape())&&!t.destroyed&&Object(X.each)(h,function(t){t&&!t.destroyed&&t.refresh()})},201):Object(X.each)(h,function(t){t.refresh()}))),u.emit("afterupdateitem",{item:e,cfg:n}))},ar.prototype.updateCombo=function(e,t,n){var r,i,o,a=this,s=this.graph;(e=Object(X.isString)(e)?s.findById(e):e)&&!e.destroyed&&(r=e.getModel(),s=(t=pn(t,s,e)).x,i=t.y,e.set("bbox",t),t=s,o=i,o=n?(t=isNaN(r.x)?s:r.x,isNaN(r.y)?i:r.y):(t=isNaN(s)?r.x:s,isNaN(i)?r.y:i),e.update({x:t,y:o}),n=e.get("shapeFactory"),s=r.type||"circle",(void 0===r.animate?null!==(t=null===(i=n[s])||void 0===i?void 0:i.options)&&void 0!==t&&t.animate:r.animate)?setTimeout(function(){var t;!e||e.destroyed||(t=e.getKeyShape())&&!t.destroyed&&(e.getShapeCfg(r),a.updateComboEdges(e))},201):this.updateComboEdges(e))},ar.prototype.updateComboEdges=function(t){for(var e=t.getEdges()||[],n=0;n<e.length;n++){var r,i,o,a=e[n];a&&!a.destroyed&&(o=a.get("shapeFactory"),r=a.getShapeCfg(a.getModel()),(i=a.getContainer()).clear(),o=o.draw(r.type,r,i),a.set("keyShape",o),o.set("isKeyShape",!0),o.set("draggable",!0),a.setOriginStyle())}},ar.prototype.collapseCombo=function(t){var e=this.graph,t=(t=Object(X.isString)(t)?e.findById(t):t).getChildren();t.nodes.forEach(function(t){e.hideItem(t)}),t.combos.forEach(function(t){e.hideItem(t)})},ar.prototype.updateComboSucceeds=function(e,n,r,t){var i,o=this,a=(void 0===t&&(t=[]),this.graph);(n||r)&&(null!=(i=t)&&i.length||(null==(t=a.get("comboTrees"))||t.forEach(function(t){cn(t,function(t){return t.id!==e||(i=t.children,!1)})})),null==i||i.forEach(function(t){var e=a.findById(t.id);e&&(e=e.getModel(),o.updateItem(t.id,{x:(e.x||0)+n,y:(e.y||0)+r}))}))},ar.prototype.expandCombo=function(t){var e=this.graph,t=(t=Object(X.isString)(t)?e.findById(t):t).getChildren();t.nodes.forEach(function(t){e.showItem(t)}),t.combos.forEach(function(t){t.getModel().collapsed?t.show():e.showItem(t)})},ar.prototype.removeItem=function(t){var l=this,e=this.graph;if((t=Object(X.isString)(t)?e.findById(t):t)&&!t.destroyed){var h=Object(X.clone)(t.getModel()),n=(e.emit("beforeremoveitem",{item:h}),""),d=(t.getType&&(n=t.getType()),e.get("".concat(n,"s"))),r=d.indexOf(t),d=(-1<r&&d.splice(r,1),"edge"===n&&-1<(u=(o=e.get("v".concat(n,"s"))).indexOf(t))&&o.splice(u,1),t.get("id")),r=(delete e.get("itemMap")[d],e.get("comboTrees")),f=t.get("id");if("node"===n){var i,p,o=t.getModel().comboId;r&&o&&(p=!1,(i=r).forEach(function(t){p||cn(t,function(t){var e;return t.id===f&&i?(e=i.indexOf(t),i.splice(e,1),!(p=!0)):(i=t.children,!0)})}));for(var a=(c=t.getEdges()).length-1;0<=a;a--)e.removeItem(c[a],!1);o&&e.updateCombo(o)}else if("combo"===n){var s,c,u=t.getModel().parentId,g=!1;for((r||[]).forEach(function(t){g||cn(t,function(t){return t.id!==f||(s=t,!(g=!0))})}),s.removed=!0,s&&s.children&&s.children.forEach(function(t){l.removeItem(t.id)}),a=(c=t.getEdges()).length;0<=a;a--)e.removeItem(c[a],!1);u&&e.updateCombo(u)}t.destroy(),e.emit("afterremoveitem",{item:h,type:n})}},ar.prototype.setItemState=function(t,e,n){var r=this.graph,i=e;Object(X.isString)(n)&&(i="".concat(e,":").concat(n)),t.hasState(i)===n&&n||Object(X.isString)(n)&&t.hasState(i)||(r.emit("beforeitemstatechange",{item:t,state:i,enabled:n}),t.setState(e,n),r.autoPaint(),r.emit("afteritemstatechange",{item:t,state:i,enabled:n}))},ar.prototype.priorityState=function(t,e){var n=this.graph,r=t;Object(X.isString)(t)&&(r=n.findById(t)),this.setItemState(r,e,!1),this.setItemState(r,e,!0)},ar.prototype.clearItemStates=function(t,e){var n=this.graph;Object(X.isString)(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.emit("afteritemstatesclear",{item:t,states:e})},ar.prototype.refreshItem=function(t){var e=this.graph;Object(X.isString)(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},ar.prototype.addCombos=function(t,r){var i=this,e=this.graph,t=((t||[]).forEach(function(t){un(t,function(e){var n;return r.forEach(function(t){t.id===e.id&&(t.children=e.children,t.depth=e.depth,n=t)}),n&&i.addItem("combo",n),!0})}),e.get("comboGroup"));t&&t.sort()},ar.prototype.changeItemVisibility=function(t,e){var n,r,i,o,a,s=this,c=this.graph;if(t=Object(X.isString)(t)?c.findById(t):t)return c.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&"node"===t.getType()?(n=t.getEdges(),Object(X.each)(n,function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&s.changeItemVisibility(t,e)})):t.getType&&"combo"===t.getType()&&(r=c.get("comboTrees"),i=t.get("id"),a=!(o=[]),(r||[]).forEach(function(t){a||t.children&&0!==t.children.length&&cn(t,function(t){return t.id!==i||(o=t.children,!(a=!0))})}),!o||e&&t.getModel().collapsed||o.forEach(function(t){t=c.findById(t.id);s.changeItemVisibility(t,e)}),n=t.getEdges(),Object(X.each)(n,function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&s.changeItemVisibility(t,e)})),c.emit("afteritemvisibilitychange",{item:t,visible:e}),t;console.warn("The item to be shown or hidden does not exist!")},ar.prototype.destroy=function(){this.graph=null,this.destroyed=!0},ar),Yn=null,Hn=(or.checkCache=function(t,e,n){!n[e]||0<=(t=n[e].indexOf(t))&&n[e].splice(t,1)},or.cacheState=function(t,e,n){n[e]||(n[e]=[]),n[e].push(t)},or.prototype.updateState=function(t,e,n){var r,i,o=this,a=or.checkCache,s=or.cacheState;t.destroyed||(r=(i=this.cachedStates).enabled,i=i.disabled,n?(a(t,e,i),s(t,e,r)):(a(t,e,r),s(t,e,i)),Yn&&clearTimeout(Yn),Yn=setTimeout(function(){Yn=null,o.updateGraphStates()},16))},or.prototype.updateStates=function(e,t,n){var r=this;Object(X.isString)(t)?this.updateState(e,t,n):t.forEach(function(t){r.updateState(e,t,n)})},or.prototype.updateGraphStates=function(){var i=this.graph.get("states"),t=this.cachedStates;Object(X.each)(t.disabled,function(e,t){i[t]&&(i[t]=i[t].filter(function(t){return e.indexOf(t)<0&&!e.destroyed}))}),Object(X.each)(t.enabled,function(t,n){var r;i[n]?(r={},i[n].forEach(function(t){t.destroyed||(r[t.get("id")]=!0)}),t.forEach(function(t){var e;t.destroyed||(e=t.get("id"),r[e]||(r[e]=!0,i[n].push(t)))})):i[n]=t}),this.graph.emit("graphstatechange",{states:i}),this.cachedStates={enabled:{},disabled:{}}},or.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Yn&&clearTimeout(Yn),Yn=null,this.destroyed=!0},or),qn=t(59),Zn=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i.x,i=i.y;e.push(o),e.push(i)}var a=Object(qn.a)(e);return a.unshift(["M",t[0].x,t[0].y]),a},Qn=function(t,e,n,r){void 0===r&&(r=0);var n={x:(1-(n=void 0===n?0:n))*t.x+n*e.x,y:(1-n)*t.y+n*e.y},i=[0,0],e=(L.c.normalize(i,[e.x-t.x,e.y-t.y]),[-(i=i&&(i[0]||i[1])?i:[0,0])[1]*r,i[0]*r]);return n.x+=e[0],n.y+=e[1],n},Jn=function(t,e){var n=t.length;if(!n)return"";for(var r="",i=0;i<n;i++)r+=function(t,n){return t&&n?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){if("\\"===t.charAt(0))return t.slice(1);t=n[e];return(t=0===t?"0":t)||""}):t}(0===i?"M{x} {y}":"L{x} {y}",t[i]);return e&&(r+="Z"),r},tr=function(t){var r=[];return t.forEach(function(t){if("A"!==t[0])for(var e=1;e<t.length;e+=2)r.push([t[e],t[e+1]]);else{var n=t.length;r.push([t[n-2],t[n-1]])}}),r},er=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));var e=t[0],n=t[1],r=t[t.length-1],l=t[t.length-2];t.unshift(r),t.unshift(l),t.push(e),t.push(n);for(var i=[],o=1;o<t.length-2;o+=1){var h=t[o-1].x,d=t[o-1].y,a=t[o].x,s=t[o].y,c=t[o+1].x,u=t[o+1].y,f=c-((o!==t.length-2?t[o+2].x:c)-a)/6,p=u-((o!==t.length-2?t[o+2].y:u)-s)/6;i.push(["C",a+(c-h)/6,s+(u-d)/6,f,p,c,u])}return i.unshift(["M",r.x,r.y]),i},nr=function(t,e){return L.c.scale([0,0],L.c.normalize([0,0],t),e)},rr=function(t,e){e=[t[1]-e[1],e[0]-t[0]],t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(0===t)throw new Error("p0 should not be equal to p1");return[e[0]/t,e[1]/t]},ir=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function or(t){this.graph=t,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}function ar(t){var r=this;this.edgeToBeUpdateMap={},this.throttleRefresh=Object(X.throttle)(function(t){var e,i,n=r.graph;!n||n.get("destroyed")||(i=r.edgeToBeUpdateMap)&&null!==(e=Object.keys(i))&&void 0!==e&&e.length&&(Object.keys(i).forEach(function(t){var e,n,r=i[t].edge;r&&!r.destroyed&&(e=r.getSource(),n=r.getTarget(),e&&!e.destroyed&&n&&!n.destroyed&&r.refresh(i[t].updateType))}),r.edgeToBeUpdateMap={})},16,{trailing:!0,leading:!0}),this.graph=t,this.destroyed=!1}function sr(){return null!==Un&&Un.apply(this,arguments)||this}function cr(){return null!==Wn&&Wn.apply(this,arguments)||this}function ur(){return null!==zn&&zn.apply(this,arguments)||this}function lr(t){this._cfg={},this.destroyed=!1;this._cfg=Object.assign({id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]},this.getDefaultCfg(),t);var e=this.get("model"),n=e.id,r=this.get("type"),t=(n||(n=vn(r),this.get("model").id=n),this.set("id",n),t.group),t=(t&&(t.set("item",this),t.set("id",n)),this.init(),this.draw(),e.shape||e.type||("edge"===r?"line":"circle")),n=this.get("shapeFactory");n&&n[t]&&((r=n[t].options)&&r.stateStyles&&(n=this.get("styles")||e.stateStyles,n=Object(X.deepMix)({},r.stateStyles,n),this.set("styles",n)))}function hr(t,e){if(!t||t.length<1)return"";if(1===t.length)return r=[t[0][0],t[0][1]-e],n=[t[0][0],t[0][1]+e],"M ".concat(r," A ").concat(e,",").concat(e,",0,0,0,").concat(n," A ").concat(e,",").concat(e,",0,0,0,").concat(r);var n,r,i,o,a;if(2===t.length)return n=t,r=L.c.scale([0,0],rr(n[0],n[1]),e),i=L.c.scale([0,0],r,-1),o=L.c.add([0,0],n[0],r),r=L.c.add([0,0],n[1],r),a=L.c.add([0,0],n[1],i),n=L.c.add([0,0],n[0],i),"M ".concat(o," L ").concat(r," A ").concat([e,e,"0,0,0",a].join(",")," L ").concat(n," A ").concat([e,e,"0,0,0",o].join(","));for(var s=new Array(t.length),c=0;c<s.length;++c){var u=0===c?t[t.length-1]:t[c-1],l=t[c],h=L.c.scale([0,0],rr(u,l),e);s[c]=[L.c.add([0,0],u,h),L.c.add([0,0],l,h)]}var d="A ".concat([e,e,"0,0,0,"].join(","));return(s=s.map(function(t,e){var n="";return(n=0===e?"M ".concat(s[s.length-1][1]," "):n)+"".concat(d+t[0]," L ").concat(t[1])})).join(" ")}function dr(n,t){var e,r,i,o,a,s=n.length;if(!n||s<1)return"";if(1===s)return r=[n[0][0],n[0][1]-t],e=[n[0][0],n[0][1]+t],"M ".concat(r," A ").concat([t,t,"0,0,0",e].join(",")," A ").concat([t,t,"0,0,0",r].join(","));if(2===s)return r=ir((e=n)[0],e[1]),i=nr(r,t),o=L.c.add([0,0],e[0],L.c.scale([0,0],i,-1)),e=L.c.add([0,0],e[1],i),i=1.2*t,r=nr(L.c.normalize([0,0],r),i),i=L.c.scale([0,0],r,-1),a=L.c.add([0,0],o,i),i=L.c.add([0,0],e,i),r=L.c.add([0,0],o,r),"M ".concat(o," C ").concat([a,i,e].join(",")," S ").concat([r,o].join(",")," Z");for(var c=n.map(function(t,e){e=n[(e+1)%s];return{p:t,v:L.c.normalize([0,0],ir(t,e))}}),u=0;u<c.length;++u){var l=L.c.normalize([0,0],L.c.add([0,0],c[0<u?u-1:s-1].v,L.c.scale([0,0],c[u].v,-1)));c[u].p=L.c.add([0,0],c[u].p,L.c.scale([0,0],l,t))}return c.map(function(t){t=t.p;return{x:t[0],y:t[1]}})}function fr(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)}function pr(t){var e=t.map(function(t){return{x:t.getModel().x,y:t.getModel().y}});if(e.sort(function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x}),1===e.length)return e;for(var n=[],r=0;r<e.length;r++){for(;2<=n.length&&fr(n[n.length-2],n[n.length-1],e[r])<=0;)n.pop();n.push(e[r])}for(var i=[],r=e.length-1;0<=r;r--){for(;2<=i.length&&fr(i[i.length-2],i[i.length-1],e[r])<=0;)i.pop();i.push(e[r])}return i.pop(),n.pop(),n.concat(i)}var gr={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function yr(c,u,r){function i(t,e){return u.cells[t+e*u.width]}function l(t,e){var n=0;return i(t-1,e-1)>=r&&(n+=1),i(t,e-1)>r&&(n+=2),i(t-1,e)>r&&(n+=4),i(t,e)>r&&(n+=8),n}var n=!1;this.march=function(){for(var t=0;t<u.width&&!n;t+=1)for(var e=0;e<u.height&&!n;e+=1)i(t,e)>r&&15!==l(t,e)&&(n=function(t,e){for(var n,r,i=t,o=e,a=0;a<u.width*u.height;a++){if(n=i,r=o,-1<c.findIndex(function(t){return t.x===i&&t.y===o})){if(c[0].x===i&&c[0].y===o)return!0}else c.push({x:i,y:o});var s=l(i,o);switch(s){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:i++;break;case 12:case 14:case 4:i--;break;case 6:0===n&&(-1===r?--i:i+=1);break;case 1:case 13:case 5:o--;break;case 9:1===n&&(0===r?--o:o+=1);break;case 10:case 8:case 11:o++;break;default:return console.warn("Marching squares invalid state: ".concat(s)),!0}}}(t,e));return n}}var _r=function(t,n){var r=Number.POSITIVE_INFINITY,i=null;return t.forEach(function(t){var e=Re(t,n);0<=e&&e<r&&(i=t,r=e)}),i};function mr(i,e,t){var n=Object.assign(gr,t),l=Be(i.map(function(t){return{x:t.getModel().x,y:t.getModel().y}})),h=(i=i.sort(function(t,e){return Ne({x:t.getModel().x,y:t.getModel().y},l)-Ne({x:e.getModel().x,y:e.getModel().y},l)}),[]),r=[];i.forEach(function(t){(function(t,e,n,l,h){o=t,d=e,a=null,s=Number.POSITIVE_INFINITY,n.forEach(function(t){var e={x:o.getModel().x,y:o.getModel().y},n={x:t.getModel().x,y:t.getModel().y},r=Ne(e,n),i=new Ie(e.x,e.y,n.x,n.y),e=d.reduce(function(t,e){return 0<Re(e,i)?t+1:t},0);r*Math.pow(e+1,2)<s&&(a=t,s=r*Math.pow(e+1,2))});var o,d,a,s,n=a;if(null===n)return[];for(var r=function(t,c,e,u){var l=[],h=[];h.push(t);for(var d=!0,n=0,f=function(e,t){var n=!1;return t.forEach(function(t){n||(Ue(e,{x:t.x1,y:t.y1})||Ue(e,{x:t.x2,y:t.y2}))&&(n=!0)}),n},p=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n].getBBox(),i=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(je(i,t.x,t.y))return!0}return!1};d&&n<e;)for(d=!1;!d&&h.length;)!function(){var o,t,a=h.pop(),s=_r(c,a);s&&(t=Le(s,a),o=t[0],2===t[1]&&((t=function(t){for(var e=u,n=vr(s,e,o,t),r=f(n,h)||f(n,l),i=p(n,c);!r&&i&&1<=e;)n=vr(s,e/=1.5,o,t),r=f(n,h)||f(n,l),i=p(n,c);!n||r||t&&i||(h.push(new Ie(a.x1,a.y1,n.x,n.y)),h.push(new Ie(n.x,n.y,a.x2,a.y2)),d=!0)})(!0),d||t(!1))),d||l.push(a),n+=1}();for(;h.length;)l.push(h.pop());return l}(new Ie(t.getModel().x,t.getModel().y,n.getModel().x,n.getModel().y),e,l,h),i=[];0<r.length;){var c=r.pop();if(0===r.length){i.push(c);break}var u=r.pop(),f=new Ie(c.x1,c.y1,u.x2,u.y2);_r(e,f)?(i.push(c),r.push(u)):r.push(f)}return i})(t,e,h,n.maxRoutingIterations,n.morphBuffer).forEach(function(t){r.push(t)}),h.push(t)});for(var d,o,a=function(t,e,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];t.forEach(function(t){i.push(t.getBBox())}),e.forEach(function(t){i.push(t.getBBox())});for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s:r).minX-n,r.minY=(s.minY<r.minY?s:r).minY-n,r.maxX=(s.maxX>r.maxX?s:r).maxX+n,r.maxY=(s.maxY>r.maxY?s:r).maxY+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(i,r,n.nodeR0),f=(t=a.width,o=a.height,d=n.pixelGroupSize,t=Math.ceil(t/d),o=Math.ceil(o/d),{cells:new Float32Array(Math.max(0,t*o)).fill(0),width:t,height:o}),p=[],s=[],g=0;g<n.maxMarchingIterations;g++)if(function(t,e,o,h,d,f){function n(t,e){t=Math.floor((t-e)/f.pixelGroupSize);return t<0?0:t}function p(t,e){return t*f.pixelGroupSize+e}function g(t,e){return[Math.min(n(t.minX,e+h.minX),d.width),Math.min(n(t.minY,e+h.minY),d.height),Math.min(n(t.maxX,-e+h.minX),d.width),Math.min(n(t.maxY,-e+h.minY),d.height)]}function r(t,e){for(var n,r,i=t.getBBox(),o=(t=g(i,f.nodeR1))[0],a=t[1],s=t[2],l=t[3],c=a;c<l;c+=1)for(var u=o;u<s;u+=1)e<0&&d[u+c*d.width]<=0||(n=p(u,h.minX),r=p(c,h.minY),(n=We({x:n,y:r},{x:i.minX,y:i.minY,width:i.width,height:i.height}))<Math.pow(f.nodeR1,2)&&(r=Math.sqrt(n)-f.nodeR1,d.cells[u+c*d.width]+=e*r*r))}var i=(f.nodeR0-f.nodeR1)*(f.nodeR0-f.nodeR1),y=(f.edgeR0-f.edgeR1)*(f.edgeR0-f.edgeR1);f.nodeInfluenceFactor&&t.forEach(function(t){r(t,f.nodeInfluenceFactor/i)}),f.edgeInfluenceFactor&&o.forEach(function(t){for(var e,n,r=t,i=f.edgeInfluenceFactor/y,t=r.getBBox(),o=(t=g(t,f.edgeR1))[0],a=t[1],s=t[2],l=t[3],c=a;c<l;c+=1)for(var u=o;u<s;u+=1)i<0&&d.cells[u+c*d.width]<=0||(e=p(u,h.minX),n=p(c,h.minY),(e=Fe({x:e,y:n},r))<Math.pow(f.edgeR1,2)&&(n=Math.sqrt(e)-f.edgeR1,d.cells[u+c*d.width]+=i*n*n))}),f.negativeNodeInfluenceFactor&&e.forEach(function(t){r(t,f.negativeNodeInfluenceFactor/i)})}(i,e,r,a,f,n),s=[],new yr(p=[],f,n.threshold).march()){var c=p.map(function(t){return{x:Math.round(t.x*n.pixelGroupSize+a.minX),y:Math.round(t.y*n.pixelGroupSize+a.minY)}});if(c){var u=c.length;if(1<n.skip)for(u=Math.floor(c.length/n.skip);u<3&&1<n.skip;)--n.skip,u=Math.floor(c.length/n.skip);for(var y=0,_=0;_<u;_+=1,y+=n.skip)s.push({x:c[y].x,y:c[y].y})}if(s&&function(){for(var t=0,e=i;t<e.length;t++){var n=e[t],r=s.map(function(t){return[t.x,t.y]});if(!je(r,n.getBBox().centerX,n.getBBox().centerY))return}return 1}())return s;if(n.threshold*=.9,g<=.5*n.maxMarchingIterations)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else{if(!(0!==n.nonMemberInfluenceFactor&&0<e.length))break;n.nonMemberInfluenceFactor*=.8}}return s}function vr(t,e,n,r){var i=t.getBBox(),t=n[0],o=n[1],a=n[2],n=n[3],s={x:i.minX-e,y:i.minY-e},c={x:i.maxX+e,y:i.minY-e},u={x:i.minX-e,y:i.maxY+e},e={x:i.maxX+e,y:i.maxY+e},l=i.height*i.width;function h(t,e){return i.width*(.5*(t.y-i.minY+(e.y-i.minY)))}if(o)return t?r?s:e:a?r?u:c:h(o,n)<.5*l?o.y>n.y?r?s:e:r?c:u:o.y<n.y?r?u:c:r?e:s;if(n){if(t)return r?c:u;if(a)return r?e:s}return h(t,a)<.5*l?t.x>a.x?r?s:e:r?u:c:t.x<a.x?r?c:u:r?e:s}Er.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},Er.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=0<this.cfg.padding?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},Er.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},Er.prototype.calcPath=function(t,e){var n,r,i;switch(this.type){case"round-convex":i=hr((n=pr(t)).map(function(t){return[t.x,t.y]}),this.padding),r=Object(qn.c)(i);break;case"smooth-convex":2===(n=pr(t)).length?(i=hr(n.map(function(t){return[t.x,t.y]}),this.padding),r=Object(qn.c)(i)):2<n.length&&(i=dr(n.map(function(t){return[t.x,t.y]}),this.padding),r=er(i));break;case"bubble":r=2<=(n=mr(t,e,this.cfg.bubbleCfg)).length&&er(n)}return r},Er.prototype.render=function(){this.group.addShape("path",{attrs:g({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},Er.prototype.addMember=function(t){if(t)return Object(X.isString)(t)&&(t=this.graph.findById(t)),this.members.push(t),-1<(t=this.nonMembers.indexOf(t))&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0},Er.prototype.addNonMember=function(t){if(t)return Object(X.isString)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t),-1<(t=this.members.indexOf(t))&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0},Er.prototype.removeMember=function(t){if(t)return Object(X.isString)(t)&&(t=this.graph.findById(t)),-1<(t=this.members.indexOf(t))&&(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0)},Er.prototype.removeNonMember=function(t){if(t)return Object(X.isString)(t)&&(t=this.graph.findById(t)),-1<(t=this.nonMembers.indexOf(t))&&(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0)},Er.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map(function(t){return Object(X.isString)(t)?n.graph.findById(t):t})),e&&(this.nonMembers=e.map(function(t){return Object(X.isString)(t)?n.graph.findById(t):t})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},Er.prototype.updateStyle=function(t){this.group.findById(this.id).attr(g({},t))},Er.prototype.updateCfg=function(t){var e=this;this.cfg=Object(X.deepMix)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map(function(t){return Object(X.isString)(t)?e.graph.findById(t):t})),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(t){return Object(X.isString)(t)?e.graph.findById(t):t})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},Er.prototype.contain=function(t){var e=this,n=(t=Object(X.isString)(t)?this.graph.findById(t):t).getKeyShape();return n=(n="path"===t.get("type")?tr(n.attr("path")):[[(t=n.getCanvasBBox()).minX,t.minY],[t.maxX,t.minY],[t.maxX,t.maxY],[t.minX,t.maxY]]).map(function(t){t=e.graph.getPointByCanvas(t[0],t[1]);return[t.x,t.y]}),Te(n,tr(this.path))},Er.prototype.destroy=function(){this.group.remove(),this.cfg=null};var br,Or=Er,xr=L.a.transform,Ke=(j(r,br=k.a),r.prototype.init=function(){this.initCanvas();var t=new Pn(this),e=new _n(this),n=new Xn(this),r=new Hn(this);this.set({viewController:t,modeController:e,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},r.prototype.initGroups=function(){var t,e,n,r,i=this.get("canvas");i&&(t=(i.get("el")||{}).id,t=i.addGroup({id:"".concat(i=void 0===t?"g6":t,"-root"),className:y.rootContainerClassName}),this.get("groupByTypes")&&(e=t.addGroup({id:"".concat(i,"-edge"),className:y.edgeContainerClassName}),r=t.addGroup({id:"".concat(i,"-node"),className:y.nodeContainerClassName}),(n=t.addGroup({id:"".concat(i,"-combo"),className:y.comboContainerClassName})).toBack(),this.set({nodeGroup:r,edgeGroup:e,comboGroup:n})),r=t.addGroup({id:"".concat(i,"-delegate"),className:y.delegateContainerClassName}),this.set({delegateGroup:r}),this.set("group",t))},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return Object(X.isPlainObject)(t)?this.cfg=g(g({},this.cfg),t):this.cfg[t]=e,"enabledStack"!==t||!e||this.undoStack||this.redoStack||(this.undoStack=new Zt(this.cfg.maxStep),this.redoStack=new Zt(this.cfg.maxStep)),this},r.prototype.get=function(t){var e;return null===(e=this.cfg)||void 0===e?void 0:e[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){Object(X.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e=e||t.get("states"),n.clearItemStates(t,e),this.get("stateController").updateStates(t,e,!1)},r.prototype.node=function(t){"function"==typeof t&&this.set("nodeMapper",t)},r.prototype.edge=function(t){"function"==typeof t&&this.set("edgeMapper",t)},r.prototype.combo=function(t){"function"==typeof t&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,n){var r,t=this.get("".concat(t,"s"));return Object(X.each)(t,function(t,e){if(n(t,e))return r=t}),r},r.prototype.findAll=function(t,n){var r=[];return Object(X.each)(this.get("".concat(t,"s")),function(t,e){n(t,e)&&r.push(t)}),r},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(t){return t.hasState(e)})},r.prototype.getAnimateCfgWithCallback=function(t){var e,n,r=t.animateCfg,i=t.callback;return r?(e=Object(X.clone)(r),r.callback?(n=r.callback,e.callback=function(){i(),n()}):e.callback=i):e={duration:500,callback:i},e},r.prototype.translate=function(t,e,n,r){var i=this,o=this.get("group"),a=(a=Object(X.clone)(o.getMatrix()))||[1,0,0,0,1,0,0,0,1];n?(r=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}}),pe(o,{x:o.getCanvasBBox().x+t,y:o.getCanvasBBox().y+e},n,r||{duration:500,easing:"easeCubic"})):(a=xr(a,[["t",t,e]]),o.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint())},r.prototype.moveTo=function(t,e,n,r){var i=this.get("group");pe(i,{x:t,y:e},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()})},r.prototype.fitView=function(t,e){t&&this.set("fitViewPadding",t);t=this.get("viewController");e?t.fitViewByRules(e):t.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!1),this},r.prototype.updateBehavior=function(t,e,n){return this.get("modeController").updateBehavior(t,e,n),this},r.prototype.zoom=function(t,e,n,l){var r,i,o,h=this,a=this.get("group"),s=Object(X.clone)(a.getMatrix()),c=this.get("minZoom"),u=this.get("maxZoom");return s=xr(s=s||[1,0,0,0,1,0,0,0,1],e?[["t",-e.x,-e.y],["s",t,t],["t",e.x,e.y]]:[["s",t,t]]),!(c&&s[0]<c||u&&s[0]>u)&&(n?(r=Object(X.clone)(a.getMatrix()),i=(r=r||[1,0,0,0,1,0,0,0,1])[0],o=i*t,c=this.getAnimateCfgWithCallback({animateCfg:l,callback:function(){return h.emit("viewportchange",{action:"zoom",matrix:a.getMatrix()})}}),a.animate(function(t){return{matrix:r=1===t?s:(t=Ge(i,o,t)/r[0],xr(r,e?[["t",-e.x,-e.y],["s",t,t],["t",e.x,e.y]]:[["s",t,t]]))}},c)):(a.setMatrix(s),this.emit("viewportchange",{action:"zoom",matrix:s}),this.autoPaint()),!0)},r.prototype.zoomTo=function(t,e,n,r){t/=this.getZoom();return this.zoom(t,e,n,r)},r.prototype.focusItem=function(t,e,n){var r=this.get("viewController"),i=!1,e=(e?i=!0:void 0===e&&(i=this.get("animate")),{});n?e=n:void 0===n&&(e=this.get("animateCfg")),r.focus(t,i,e),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){return this.get("viewController").getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){return this.get("viewController").getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){return this.get("viewController").getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){return this.get("viewController").getCanvasByPoint(t,e)},r.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},r.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},r.prototype.showItem=function(t,e){void 0===e&&(e=!0);t=this.get("itemController").changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var n=t.getID(),r={},i={};switch(t.getType()){case"node":r.nodes=[{id:n,visible:!1}],i.nodes=[{id:n,visible:!0}];break;case"edge":r.nodes=[{id:n,visible:!1}],i.edges=[{id:n,visible:!0}];break;case"combo":r.nodes=[{id:n,visible:!1}],i.combos=[{id:n,visible:!0}]}this.pushStack("visible",{before:r,after:i})}},r.prototype.hideItem=function(t,e){void 0===e&&(e=!0);t=this.get("itemController").changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var n=t.getID(),r={},i={};switch(t.getType()){case"node":r.nodes=[{id:n,visible:!0}],i.nodes=[{id:n,visible:!1}];break;case"edge":r.nodes=[{id:n,visible:!0}],i.edges=[{id:n,visible:!1}];break;case"combo":r.nodes=[{id:n,visible:!0}],i.combos=[{id:n,visible:!1}]}this.pushStack("visible",{before:r,after:i})}},r.prototype.refreshItem=function(t){this.get("itemController").refreshItem(t)},r.prototype.setAutoPaint=function(t){this.set("autoPaint",t),this.get("canvas").set("autoDraw",t)},r.prototype.remove=function(t,e){this.removeItem(t,e=void 0===e?!0:e)},r.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var n=t;if(!(n=Object(X.isString)(t)?this.findById(t):n)&&Object(X.isString)(t))console.warn("The item ".concat(t," to be removed does not exist!"));else if(n){t="";if(n.getType&&(t=n.getType()),e&&this.get("enabledStack")){var r=g(g({},n.getModel()),{itemType:t}),i={};switch(t){case"node":i.nodes=[r],i.edges=[];for(var o=n.getEdges(),a=o.length-1;0<=a;a--)i.edges.push(g(g({},o[a].getModel()),{itemType:"edge"}));break;case"edge":i.edges=[r];break;case"combo":i.combos=[r]}this.pushStack("delete",{before:i,after:{}})}"node"===t&&n.getModel().comboId&&this.updateComboTree(n,void 0,!1),this.get("itemController").removeItem(n),"combo"===t&&(e=fn(this.get("comboTrees")),this.set("comboTrees",e))}},r.prototype.addItem=function(n,r,l,t){void 0===l&&(l=!0),void 0===t&&(t=!0);var e=this.get("comboSorted"),i=(this.set("comboSorted",e&&!t),this.get("itemController"));if(!function(t,e){if("node"===t||"combo"===t){if(e.id&&!Object(X.isString)(e.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(e.id,"%c is not a string."),"font-size: 20px; color: red;",""),0}else if(!("edge"!==t||e.source&&e.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),0;return 1}(n,r))return!1;if(!r.id||!this.findById(r.id)){var o,h,a,s,c,u,d,e=this.get("comboTrees")||[],t=("combo"===n?(h=this.get("itemMap"),a=!1,e.forEach(function(t){a||un(t,function(t){r.parentId===t.id&&(a=!0,e=g({id:r.id,depth:t.depth+2},r),t.children?t.children.push(e):t.children=[e],r.depth=e.depth,o=i.addItem(n,r));var e=h[t.id];return a&&e&&e.getType&&"combo"===e.getType()&&i.updateCombo(e,t.children),!0})}),a||(t=g({id:r.id,depth:0},r),r.depth=t.depth,e.push(t),o=i.addItem(n,r)),this.set("comboTrees",e)):"node"===n&&Object(X.isString)(r.comboId)&&e?((s=this.findById(r.comboId))&&s.getType&&"combo"!==s.getType()&&console.warn("'".concat(r.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),o=i.addItem(n,r),c=this.get("itemMap"),d=u=!1,e.forEach(function(t){d||u||un(t,function(t){return t.id===r.id?!(d=!0):(r.comboId!==t.id||d||(u=!0,(e=Object(X.clone)(r)).itemType="node",t.children?t.children.push(e):t.children=[e],e.depth=t.depth+1),u&&c[t.id].getType&&"combo"===c[t.id].getType()&&i.updateCombo(c[t.id],t.children),!0);var e})})):o=i.addItem(n,r),("node"===n&&r.comboId||"combo"===n&&r.parentId)&&(s=this.findById(r.comboId||r.parentId))&&s.getType&&"combo"===s.getType()&&s.addChild(o),this.get("combos"));if(t&&0<t.length&&this.sortCombos(),this.autoPaint(),l&&this.get("enabledStack")){var f=g(g({},o.getModel()),{itemType:n}),p={};switch(n){case"node":p.nodes=[f];break;case"edge":p.edges=[f];break;case"combo":p.combos=[f]}this.pushStack("add",{before:{},after:p})}return o}console.warn("This item exists already. Be sure the id %c".concat(r.id,"%c is unique."),"font-size: 20px; color: red;","")},r.prototype.add=function(t,e,n,r){return this.addItem(t,e,n=void 0===n?!0:n,r=void 0===r?!0:r)},r.prototype.updateItem=function(t,e,n){var r=this;void 0===n&&(n=!0);var l=this.get("itemController"),i=Object(X.isString)(t)?this.findById(t):t,o=Object(X.clone)(i.getModel()),t="",a=(i.getType&&(t=i.getType()),T([],i.getStates(),!0));if("combo"===t&&Object(X.each)(a,function(t){return r.setItemState(i,t,!1)}),l.updateItem(i,e),"combo"===t&&Object(X.each)(a,function(t){return r.setItemState(i,t,!0)}),n&&this.get("enabledStack")){var s={nodes:[],edges:[],combos:[]},c={nodes:[],edges:[],combos:[]},u=g({id:o.id},e);switch(t){case"node":s.nodes.push(o),c.nodes.push(u);break;case"edge":s.edges.push(o),c.edges.push(u);break;case"combo":s.combos.push(o),c.combos.push(u)}"node"===t&&s.nodes.push(o),this.pushStack("update",{before:s,after:c})}},r.prototype.update=function(t,e,n){this.updateItem(t,e,n=void 0===n?!0:n)},r.prototype.setItemState=function(t,e,n){Object(X.isString)(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,e,n);var r=this.get("stateController");Object(X.isString)(n)?r.updateState(t,"".concat(e,":").concat(n),!0):r.updateState(t,e,n)},r.prototype.priorityState=function(t,e){this.get("itemController").priorityState(t,e)},r.prototype.data=function(t){Ae(t),this.set("data",t)},r.prototype.render=function(){var e=this,t=(this.set("comboSorted",!1),this.get("data"));if(this.get("enabledStack")&&this.clearStack(),!t)throw new Error("data must be defined first");var n=t.nodes,n=void 0===n?[]:n,r=t.edges,r=void 0===r?[]:r,i=t.combos,i=void 0===i?[]:i,o=(this.clear(!0),this.emit("beforerender"),Object(X.each)(n,function(t){e.add("node",t,!1,!1)}),0!==(null==i?void 0:i.length)&&(n=dn(i,n),this.set("comboTrees",n),e.addCombos(i)),Object(X.each)(r,function(t){e.add("edge",t,!1,!1)}),e.get("animate")),n=((e.get("fitView")||e.get("fitCenter"))&&e.set("animate",!1),e.get("layoutController"));if(n){if(n.layout(function(){e.get("fitView")?e.fitView():e.get("fitCenter")&&e.fitCenter(),e.autoPaint(),e.emit("afterrender"),(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",o)}),this.destroyed)return}else e.get("fitView")&&e.fitView(),e.get("fitCenter")&&e.fitCenter(),e.emit("afterrender"),e.set("animate",o);this.get("groupByTypes")||(i&&0!==i.length?this.sortCombos():t.nodes&&t.edges&&t.nodes.length<t.edges.length?this.getNodes().forEach(function(t){t.toFront()}):this.getEdges().forEach(function(t){t.toBack()})),this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(n,r,t){var i,o=this,a=this.get("itemMap");Object(X.each)(t,function(t){var e;(i=a[t.id])?(o.get("animate")&&"node"===n&&(e=i.getContainer().getMatrix()||[1,0,0,0,1,0,0,0,1],i.set("originAttrs",{x:e[6],y:e[7]})),o.updateItem(i,t,!1)):i=o.addItem(n,t,!1),i&&r["".concat(n,"s")].push(i)})},r.prototype.changeData=function(t,e){void 0===e&&(e=!0);var n=this,t=t||n.get("data");if(!Ae(t))return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(t){return n.clearItemStates(t)}),this.getEdges().map(function(t){return n.clearItemStates(t)});var r=this.get("canvas"),i=r.get("localRefresh"),o=(r.set("localRefresh",!1),n.get("data")||(n.data(t),n.render()),this.get("itemMap")),a={nodes:[],edges:[]},e=t.combos;e?(u=dn(e,t.nodes),this.set("comboTrees",u)):this.set("comboTrees",[]),this.diffItems("node",a,t.nodes),Object(X.each)(o,function(t,e){o[e].getModel().depth=0,t.getType&&"edge"===t.getType()||(t.getType&&"combo"===t.getType()?(delete o[e],t.destroy()):a.nodes.indexOf(t)<0&&(delete o[e],n.remove(t,!1)))});for(var s=this.getCombos(),c=s.length-1;0<=c;c--)s[c].destroyed&&s.splice(c,1);e&&(n.addCombos(e),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",a,t.edges),Object(X.each)(o,function(t,e){(!t.getType||"node"!==t.getType()&&"combo"!==t.getType())&&a.edges.indexOf(t)<0&&(delete o[e],n.remove(t,!1))}),this.set({nodes:a.nodes,edges:a.edges});var u=this.get("layoutController");return u&&(u.changeData(),n.get("animate")&&!u.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout(function(){r.set("localRefresh",i)},16),this},r.prototype.addCombos=function(t){var e=this.get("comboTrees");this.get("itemController").addCombos(e,t)},r.prototype.createCombo=function(t,e){var r=this;this.set("comboSorted",!1);var n,i="";if(t){if(Object(X.isString)(t))n={id:i=t};else{if(!(i=t.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");n=t}var o=e.map(function(t){var t=r.findById(t),e=t.getModel(),n="",t=(t.getType&&(n=t.getType()),{id:t.getID(),itemType:n});return"combo"===n?(t.parentId=i,e.parentId=i):"node"===n&&(t.comboId=i,e.comboId=i),t}),t=(n.children=o,this.addItem("combo",n,!1),this.set("comboSorted",!1),this.get("comboTrees"));(t||[]).forEach(function(t){un(t,function(t){return t.id!==i||(t.itemType="combo",t.children=o,!1)})}),t&&this.sortCombos()}},r.prototype.uncombo=function(t){var r,n,i,h,o,a,s,c,u=this,l=t;!(l=Object(X.isString)(t)?this.findById(t):l)||l.getType&&"combo"!==l.getType()?console.warn("The item is not a combo!"):(r=l.getModel().parentId,n=this.get("comboTrees")||[],h=this.get("itemMap"),o=l.get("id"),a=[],s=this.get("combos"),c=this.findById(r),n.forEach(function(t){i||un(t,function(t){var e;return t.id===o&&(i=t,l.getEdges().map(function(t){return t.getID()}).forEach(function(t){u.removeItem(t,!1)}),e=s.indexOf(l),s.splice(e,1),delete h[o],l.destroy(),u.emit("afterremoveitem",{item:l,type:"combo"})),!r||!i||t.id!==r||(c.removeCombo(l),-1!==(e=(a=t.children).indexOf(i))&&a.splice(e,1),null===(t=i.children)||void 0===t||t.forEach(function(t){var e=u.findById(t.id),n=e.getModel();e.getType&&"combo"===e.getType()?(t.parentId=r,delete t.comboId,n.parentId=r,delete n.comboId):e.getType&&"node"===e.getType()&&(t.comboId=r,n.comboId=r),c.addChild(e),a.push(t)}),!1)})}),!r&&i&&(t=n.indexOf(i),n.splice(t,1),null===(t=i.children)||void 0===t||t.forEach(function(t){t.parentId=void 0;var e=u.findById(t.id).getModel();delete e.parentId,delete e.comboId,"node"!==t.itemType&&n.push(t)})))},r.prototype.updateCombos=function(r){var i=this,t=(void 0===r&&(r=!1),this.get("comboTrees")),o=this.get("itemController"),a=this.get("itemMap");(t||[]).forEach(function(t){un(t,function(t){if(!t)return!0;var e,n=a[t.id];return n&&n.getType&&"combo"===n.getType()&&(e=T([],n.getStates(),!0),Object(X.each)(e,function(t){return i.setItemState(n,t,!1)}),o.updateCombo(n,t.children,r),Object(X.each)(e,function(t){return i.setItemState(n,t,!0)})),!0})}),this.sortCombos()},r.prototype.updateCombo=function(t){var r,i,o,a=this,e=t;!(e=Object(X.isString)(t)?this.findById(t):e)||e.getType&&"combo"!==e.getType()?console.warn("The item to be updated is not a combo!"):(r=e.get("id"),t=this.get("comboTrees"),i=this.get("itemController"),o=this.get("itemMap"),(t||[]).forEach(function(t){un(t,function(t){if(!t)return!0;var e,n=o[t.id];return r===t.id&&n&&n.getType&&"combo"===n.getType()&&(e=T([],n.getStates(),!0),Object(X.each)(e,function(t){n.getStateStyle(t)&&a.setItemState(n,t,!1)}),i.updateCombo(n,t.children),Object(X.each)(e,function(t){n.getStateStyle(t)&&a.setItemState(n,t,!0)}),r=r&&t.parentId),!0})}))},r.prototype.updateComboTree=function(t,e,n){var r;void 0===n&&(n=!0),this.set("comboSorted",!1);var i,t=(r=Object(X.isString)(t)?this.findById(t):t).getModel(),o=t.comboId||t.parentId,a="";if(r.getType&&(a=r.getType()),e&&"combo"===a){var s,c=this.get("comboTrees"),u=!0;if((c||[]).forEach(function(t){s||cn(t,function(t){if(!s)return t.id===r.getID()&&(s=t),!0})}),cn(s,function(t){return t.id!==e||(u=!1)}),!u)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}n&&this.get("enabledStack")&&(c={},n={},"combo"===a?(c.combos=[{id:t.id,parentId:t.parentId}],n.combos=[{id:t.id,parentId:e}]):"node"===a&&(c.nodes=[{id:t.id,parentId:t.comboId}],n.nodes=[{id:t.id,parentId:e}]),this.pushStack("updateComboTree",{before:c,after:n})),!t.parentId&&!t.comboId||(c=this.findById(t.parentId||t.comboId))&&c.removeChild(r),"combo"===a?t.parentId=e:"node"===a&&(t.comboId=e),e&&(i=this.findById(e))&&i.addChild(r),o&&(i=this.findById(o))&&i.removeChild(r);n=fn(this.get("comboTrees"),t.id,e);this.set("comboTrees",n),this.updateCombos()},r.prototype.save=function(){var e=[],n=[],r=[];return Object(X.each)(this.get("nodes"),function(t){e.push(t.getModel())}),Object(X.each)(this.get("edges"),function(t){n.push(t.getModel())}),Object(X.each)(this.get("combos"),function(t){r.push(t.getModel())}),{nodes:e,edges:n,combos:r}},r.prototype.changeSize=function(t,e){return this.get("viewController").changeSize(t,e),this},r.prototype.refresh=function(){var t,e,n;this.emit("beforegraphrefresh"),this.get("animate")?this.positionsAnimate():(t=this.get("nodes"),e=this.get("edges"),n=this.get("edges"),Object(X.each)(t,function(t){t.refresh()}),Object(X.each)(e,function(t){t.refresh()}),Object(X.each)(n,function(t){t.refresh()})),this.emit("aftergraphrefresh"),this.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((t=Object(X.isString)(t)?this.findById(t):t)&&(!t.getType||"combo"===t.getType()))return t.getChildren();console.warn("The combo does not exist!")},r.prototype.positionsAnimate=function(t){var a=this,e=(a.emit("beforeanimate"),a.get("animateCfg")),s=e.onFrame,n=t?a.getNodes().concat(a.getCombos()):a.getNodes(),r=n.map(function(t){t=t.getModel();return{id:t.id,x:t.x,y:t.y}});a.isAnimating()&&a.stopAnimate(),a.get("canvas").animate(function(o){Object(X.each)(r,function(t){var e,n,r,i=a.findById(t.id);i&&!i.destroyed&&(e=i.get("originAttrs"),n=i.get("model"),r=i.getContainer().getMatrix(),void 0===e&&i.set("originAttrs",r?{x:r[6],y:r[7]}:0),s?(r=s(i,o,t,e||{x:0,y:0}),i.set("model",Object.assign(n,r))):e?(n.x=e.x+(t.x-e.x)*o,n.y=e.y+(t.y-e.y)*o):(n.x=t.x,n.y=t.y))}),a.refreshPositions(t)},{duration:e.duration,easing:e.easing,callback:function(){Object(X.each)(n,function(t){t.set("originAttrs",null)}),e.callback&&e.callback(),a.emit("afteranimate"),a.animating=!1}})},r.prototype.refreshPositions=function(t){this.emit("beforegraphrefreshposition");function e(t){Object(X.each)(t,function(t){n=t.getModel();var e=t.get("originAttrs");e&&n.x===e.x&&n.y===e.y||(e=t.updatePosition({x:n.x,y:n.y}),s[n.id]=e,n.comboId&&(s[n.comboId]=s[n.comboId]||e))})}var n,r=this.get("nodes"),i=this.get("edges"),o=this.get("vedges"),a=this.get("combos"),s={};e(r),a&&0!==a.length&&(this.updateCombos(),t&&e(a)),Object(X.each)(i,function(t){var e=t.getSource().getModel(),n=t.getTarget();Object(X.isPlainObject)(n)||(n=n.getModel(),(s[e.id]||s[n.id]||t.getModel().isComboEdge)&&t.refresh())}),Object(X.each)(o,function(t){t.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},r.prototype.setMode=function(t){return this.get("modeController").setMode(t),this},r.prototype.clear=function(t){var e;return void 0===t&&(t=!1),null===(e=this.get("canvas"))||void 0===e||e.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},r.prototype.updateLayout=function(t,o,e){var a,s=this,n=this.get("layoutController"),e=(Object(X.isString)(t)&&(t={type:t}),o&&(a=(a=e)||("begin"===o?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),a=this.getPointByCanvas(a.x,a.y),(e=["force","gForce","fruchterman"]).includes(t.type)||!t.type&&e.includes(null==n?void 0:n.layoutType)?t.center=[a.x,a.y]:this.once("afterlayout",function(t){var e=s.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1],e=(a.x=a.x*e[0]+e[6],a.y=a.y*e[0]+e[7],s.getGroup().getCanvasBBox()),n=e.minX,r=e.maxX,i=e.minY,r={x:(n+r)/2,y:(i+e.maxY)/2};"begin"===o&&(r.x=n,r.y=i),s.translate(a.x-r.x,a.y-r.y)})),this.get("layout")),r={};Object.assign(r,e,t),this.set("layout",r),n&&(n.isLayoutTypeSame(r)&&r.gpuEnabled===e.gpuEnabled?n.updateLayoutCfg(r):n.changeLayout(r))},r.prototype.destroyLayout=function(){var t=this.get("layoutController");null==t||t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");e&&t&&(!e.workerEnabled&&t.layoutMethod?t.relayout(!0):t.layout())},r.prototype.collapseCombo=function(t){var c,e,u,l,n,r,h,d,f=this;this.destroyed||((t=Object(X.isString)(t)?this.findById(t):t)?(this.emit("beforecollapseexpandcombo",{action:"expand",item:t}),c=t.getModel(),this.get("itemController").collapseCombo(t),c.collapsed=!0,e=this.getEdges().concat(this.get("vedges")),u=[],l=[],n=this.get("comboTrees"),r=!1,(n||[]).forEach(function(t){r||cn(t,function(t){return!(r&&t.depth<=c.depth)&&((r=c.id===t.id||r)&&(e=f.findById(t.id))&&e.getType&&"combo"===e.getType()&&(u=u.concat(e.getNodes()),l=l.concat(e.getCombos())),!0);var e})}),h={},d=[],e.forEach(function(t){if(!t.isVisible()||t.getModel().isVEdge){var e,n=t.getSource(),r=t.getTarget();if((u.includes(n)||l.includes(n))&&!u.includes(r)&&!l.includes(r)||n.getModel().id===c.id)if((e=t.getModel()).isVEdge)f.removeItem(t,!1);else{for(var i=r.getModel();!r.isVisible();){if(!(r=f.findById(i.parentId||i.comboId))||!i.parentId&&!i.comboId)return;i=r.getModel()}var o,a=i.id;h["".concat(c.id,"-").concat(a)]?h["".concat(c.id,"-").concat(a)]+=e.size||1:(o=f.addItem("vedge",{source:c.id,target:a,isVEdge:!0},!1),h["".concat(c.id,"-").concat(a)]=e.size||1,d.push(o))}else if(!u.includes(n)&&!l.includes(n)&&(u.includes(r)||l.includes(r))||r.getModel().id===c.id)if((e=t.getModel()).isVEdge)f.removeItem(t,!1);else{for(var s=n.getModel();!n.isVisible();){if(!(n=f.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=n.getModel()}a=s.id;h["".concat(a,"-").concat(c.id)]?h["".concat(a,"-").concat(c.id)]+=e.size||1:(o=f.addItem("vedge",{target:c.id,source:a,isVEdge:!0},!1),h["".concat(a,"-").concat(c.id)]=e.size||1,d.push(o))}}}),d.forEach(function(t){var e=t.getModel();f.updateItem(t,{size:h["".concat(e.source,"-").concat(e.target)]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})):console.warn("The combo to be collapsed does not exist!"))},r.prototype.expandCombo=function(t){var u,e,l,h,n,r,d,f,p=this;!(t=Object(X.isString)(t)?this.findById(t):t)||t.getType&&"combo"!==t.getType()?console.warn("The combo to be collapsed does not exist!"):(this.emit("beforecollapseexpandcombo",{action:"expand",item:t}),u=t.getModel(),this.get("itemController").expandCombo(t),u.collapsed=!1,e=this.getEdges().concat(this.get("vedges")),l=[],h=[],n=this.get("comboTrees"),r=!1,(n||[]).forEach(function(t){r||cn(t,function(t){return!(r&&t.depth<=u.depth)&&((r=u.id===t.id||r)&&(e=p.findById(t.id))&&e.getType&&"combo"===e.getType()&&(l=l.concat(e.getNodes()),h=h.concat(e.getCombos())),!0);var e})}),d={},f={},e.forEach(function(t){if(!t.isVisible()||t.getModel().isVEdge){var e=t.getSource(),n=t.getTarget(),r=e.get("id"),i=n.get("id");if((l.includes(e)||h.includes(e))&&!l.includes(n)&&!h.includes(n)||r===u.id)if(t.getModel().isVEdge)p.removeItem(t,!1);else{for(var o=n.getModel();!n.isVisible();){if(!(n=p.findById(o.comboId||o.parentId))||!o.parentId&&!o.comboId)return;o=n.getModel()}for(var i=o.id,a=e.getModel();!e.isVisible();){if(!(e=p.findById(a.comboId||a.parentId))||!a.parentId&&!a.comboId)return;if(a.comboId===u.id||a.parentId===u.id)break;a=e.getModel()}if(r=a.id,i){var s="".concat(r,"-").concat(i);if(d[s])return d[s]+=t.getModel().size||1,void p.updateItem(f[s],{size:d[s]},!1);var c=p.addItem("vedge",{source:r,target:i,isVEdge:!0},!1);d[s]=t.getModel().size||1,f[s]=c}}else if(!l.includes(e)&&!h.includes(e)&&(l.includes(n)||h.includes(n))||i===u.id)if(t.getModel().isVEdge)p.removeItem(t,!1);else{for(a=e.getModel();!e.isVisible();){if(!(e=p.findById(a.comboId||a.parentId))||!a.parentId&&!a.comboId)return;a=e.getModel()}for(r=a.id,o=n.getModel();!n.isVisible();){if(!(n=p.findById(o.comboId||o.parentId))||!o.parentId&&!o.comboId)return;if(o.comboId===u.id||o.parentId===u.id)break;o=n.getModel()}if(i=o.id,r){if(s="".concat(r,"-").concat(i),d[s])return d[s]+=t.getModel().size||1,void p.updateItem(f[s],{size:d[s]},!1);c=p.addItem("vedge",{target:i,source:r,isVEdge:!0},!1),d[s]=t.getModel().size||1,f[s]=c}}else(l.includes(e)||h.includes(e))&&(l.includes(n)||h.includes(n))&&e.isVisible()&&n.isVisible()&&t.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:t}))},r.prototype.collapseExpandCombo=function(t){if((t=Object(X.isString)(t)?this.findById(t):t)&&(!t.getType||"combo"===t.getType())){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var r=n.getModel();if(r.collapsed)return void console.warn("Fail to expand the combo since it's ancestor combo is collapsed.");n=this.findById(r.parentId)}e.collapsed?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.sortCombos=function(){var r,i,o=this;this.get("comboSorted")||(this.set("comboSorted",!0),r=[],i={},(this.get("comboTrees")||[]).forEach(function(t){cn(t,function(t){return r[t.depth]?r[t.depth].push(t.id):r[t.depth]=[t.id],i[t.id]=t.depth,!0})}),(this.getEdges().concat(this.get("vedges"))||[]).forEach(function(t){var t=t.getModel(),e=i[t.source]||0,n=i[t.target]||0,e=Math.max(e,n);r[e]?r[e].push(t.id):r[e]=[t.id]}),r.forEach(function(t){if(t&&t.length)for(var e=t.length-1;0<=e;e--){var n=o.findById(t[e]);n&&n.toFront()}}))},r.prototype.getNeighbors=function(t,e){var n=t;return(n=Object(X.isString)(t)?this.findById(t):n).getNeighbors(e)},r.prototype.getNodeDegree=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=!1);var r=t,t=(Object(X.isString)(t)&&(r=this.findById(t)),this.get("degrees")),i=(t&&!n||(t=Q(this.save()),this.set("degrees",t)),t[r.getID()]),o=0;if(!i)return 0;switch(e){case"in":o=i.inDegree;break;case"out":o=i.outDegree;break;case"all":o=i;break;default:o=i.degree}return o},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){void 0===t&&(t="update"),void 0===n&&(n="undo"),this.get("enabledStack")?(e=e?Object(X.clone)(e):{before:{},after:Object(X.clone)(this.save())},("redo"===n?this.redoStack:this.undoStack).push({action:t,data:e}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})):console.warn("请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !")},r.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix");return n&&t||(n=R(this.save(),e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&t||(n=R(this.save(),e),this.set("adjMatrix",n)),r&&t||(r=dt(this.save(),e),this.set("shortestPathMatrix",r)),r},r.prototype.on=function(t,e,n){return br.prototype.on.call(this,t,e,n)},r.prototype.destroy=function(){var t;this.clear(),this.clearStack(),null===(t=this.get("itemController"))||void 0===t||t.destroy(),null===(t=this.get("modeController"))||void 0===t||t.destroy(),null===(t=this.get("viewController"))||void 0===t||t.destroy(),null===(t=this.get("stateController"))||void 0===t||t.destroy(),null===(t=this.get("canvas"))||void 0===t||t.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){if(t.members&&!(t.members.length<1)){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||this.set("hullMap",n={}),e&&!e.get("destroyed")||((e=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];e=e.addGroup({id:"".concat(t.id,"-container")}),t=new Or(this,g(g({},t),{group:e}));return n[t.id]=t}console.warn("Create hull failed! The members is empty.")},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e,t=Object(X.isString)(t)?this.getHullById(t):t;null===(e=this.get("hullMap"))||void 0===e||delete e[t.id],t.destroy()},r.prototype.removeHulls=function(){var e=this.getHulls();e&&Object.keys(e).length&&(Object.keys(e).forEach(function(t){e[t].destroy()}),this.set("hullMap",{}))},r);function r(t){var e=br.call(this)||this;return e.cfg=Object(X.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new Zt(e.cfg.maxStep),e.redoStack=new Zt(e.cfg.maxStep)),e}function Er(e,t){this.cfg=Object(X.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(t){return Object(X.isString)(t)?e.findById(t):t}),this.nonMembers=this.cfg.nonMembers.map(function(t){return Object(X.isString)(t)?e.findById(t):t}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}function wr(t){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Mr=L.a.transform,Pr=["startArrow","endArrow"],Ye={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Cr={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:Ye,combo:Ye},He={options:{labelCfg:{style:{fontFamily:y.windowFontFamily}},descriptionCfg:{style:{fontFamily:y.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t,e){return"move"===e||null!=e&&e.includes("bbox")?{}:Object(X.deepMix)({},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){e.shapeMap={},this.mergeStyle=this.getOptions(t);var n=this.drawShape(t,e);return n.set("className",this.itemType+"-shape"),e.shapeMap[this.itemType+"-shape"]=n,t.label&&((t=this.drawLabel(t,e)).set("className",this.itemType+"-label"),e.shapeMap[this.itemType+"-label"]=t),n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n,r=(this.mergeStyle||this.getOptions(t)||{}).labelCfg||{},i=this.getLabelStyle(t,r,e),o=i.rotate,r=(delete i.rotate,e.addShape("text",{attrs:i,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0}));if(e.shapeMap["text-shape"]=r,!isNaN(o)&&""!==o){var a=r.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(i.rotateCenter)switch(i.rotateCenter){case"center":s=Mr(s,[["t",-a.width/2,-a.height/2],["r",o],["t",a.width/2,a.height/2]]);break;case"lefttop":s=Mr(s,[["t",-i.x,-i.y],["r",o],["t",i.x,i.y]]);break;case"leftcenter":s=Mr(s,[["t",-i.x,-i.y-a.height/2],["r",o],["t",i.x,i.y+a.height/2]]);break;default:s=Mr(s,[["t",-a.width/2,-a.height/2],["r",o],["t",a.width/2,a.height/2]])}else s=Mr(s,[["t",-i.x,-i.y-a.height/2],["r",o],["t",i.x,i.y+a.height/2]]);r.setMatrix(s)}return i.background&&(t=this.drawLabelBg(t,e,r),n=this.itemType+"-label-bg",t.set("classname",n),e.shapeMap[n]=t,r.toFront()),r},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,r=Object(X.mix)({},r,t.labelCfg),t=this.getLabelBgStyleByPosition(n,r),n=e.addShape("rect",{name:"text-bg-shape",attrs:t,labelRelated:!0});return e.shapeMap["text-bg-shape"]=n},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e){return{}},getLabelStyle:function(t,e,n){t=this.getLabelStyleByPosition(t,e,n),n="".concat(this.itemType,"Label"),n=y[n]?y[n].style:null;return g(g(g({},n),t),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e,n){this.updateShapeStyle(t,e,n),this.updateLabel(t,e,n)},updateShapeStyle:function(t,e,n){var r,i,o=e.getContainer(),a=e.getKeyShape(),s=Object(X.mix)({},a.attr(),t.style);for(i in s)!function(e){var t,n=s[e];Object(X.isPlainObject)(n)?null==(t=(null===(r=o.shapeMap)||void 0===r?void 0:r[e])||o.find(function(t){return t.get("name")===e}))||t.attr(n):a.attr(((t={})[e]=n,t))}(i)},updateLabel:function(t,e,n){var r,i,o,a,s,c,u;!t.label&&""!==t.label||(e=e.getContainer(),r=void 0===(r=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg)?{}:r,i=this.itemType+"-label",o=e.shapeMap[i]||e.find(function(t){return t.get("className")===i}),a=this.itemType+"-label-bg",s=e.shapeMap[a]||e.find(function(t){return t.get("className")===a}),o?(n&&"bbox|label"!==n&&("edge"!==this.itemType||"style"===n)||(r=Object(X.deepMix)(r,t.labelCfg)),n=this.getLabelStyleByPosition(t,r,e),c=null===(c=t.labelCfg)||void 0===c?void 0:c.style,c=(n=g(g({},n),c)).rotate,delete n.rotate,isNaN(c)||""===c?1!==(null===(u=o.getMatrix())||void 0===u?void 0:u[4])&&o.resetMatrix():(u=Mr(u=[1,0,0,0,1,0,0,0,1],[["t",-n.x,-n.y],["r",c],["t",n.x,n.y]]),n.matrix=u),o.attr(n),s?n.background?(c=this.getLabelBgStyleByPosition(o,r),s.attr(c)):e.removeChild(s):n.background&&((s=this.drawLabelBg(t,e,o)).set("classname",a),e.shapeMap[a]=s,o.toFront())):((u=this.drawLabel(t,e)).set("className",i),e.shapeMap[i]=u))},afterUpdate:function(t,e){},setState:function(t,r,e){var i,o,a=e.get("keyShape");if(a&&!a.destroyed){var s=e.getType(),t=Object(X.isBoolean)(r)?t:"".concat(t,":").concat(r),f=this.getStateStyle(t,e),t=e.getStateStyle(t);if(t||f){var p=Object(X.mix)({},t||f),c=e.getContainer(),u={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(u.r=1,u.width=1,u.height=1),r)for(n in p)!function(e){var t,n=p[e];Object(X.isPlainObject)(n)&&!Pr.includes(e)?null==(t=(null===(o=c.shapeMap)||void 0===o?void 0:o[e])||c.find(function(t){return t.get("name")===e}))||t.attr(n):a.attr(((t={})[e]=n,t))}(n);else{var g,n,y,_=yn(e.getCurrentStatesStyle()),t=e.getModel(),l=Object(X.mix)({},t.style,yn(e.getOriginStyle())),h=a.get("name"),m=a.attr(),d={},v=(Object.keys(m).forEach(function(t){var e;"img"!==t&&((e=m[t])&&"object"===wr(e)?d[t]=Object(X.clone)(e):d[t]=e)}),{});for(g in p)!function(r){var i,o,t=p[r];Object(X.isPlainObject)(t)&&!Pr.includes(r)?(i=c.shapeMap[r]||c.find(function(t){return t.get("name")===r}))&&(o=yn(i.attr()),Object(X.each)(t,function(t,e){var n;r===h&&d[e]&&!u[e]?(delete d[e],n=l[r][e]||Cr[s][e],a.attr(e,n)):!o[e]&&0!==o[e]||(delete o[e],n=l[r][e]||Cr[s][e],i.attr(e,n))}),v[r]=o):d[r]&&!u[r]&&(delete d[r],t=l[r]||(l[h]?l[h][r]:void 0)||Cr[s][r],a.attr(r,t))}(g);for(n in h?v[h]=d:Object(X.mix)(v,d),_)u[n]||(y=_[n],Object(X.isPlainObject)(y)&&!Pr.includes(n)||(h?(Object(X.mix)(l[h],((i={})[n]=y,i)),delete l[n]):Object(X.mix)(l,((i={})[n]=y,i)),delete _[n]));var b,O={},x=(Object(X.deepMix)(O,l,v,_),!1);for(b in O)!function(e){var t,n=O[e];Object(X.isPlainObject)(n)&&!Pr.includes(e)?(t=c.shapeMap[e]||c.find(function(t){return t.get("name")===e}))&&("text"!==t.get("type")&&!t.get("labelRelated")||(delete n.x,delete n.y,delete n.matrix),e===h&&("combo"===s&&(delete n.r,delete n.width,delete n.height),x=!0),t.attr(n)):x||(t=n||Cr[s][e],"combo"===s?h||a.attr(((n={})[e]=t,n)):a.attr(((n={})[e]=t,n)))}(b)}}}},getStateStyle:function(t,e){var n=e.getModel(),e=e.getType(),r=this.getOptions(n),i=r.stateStyles,r=r.style,r=void 0===r?{}:r,n=n.stateStyles?n.stateStyles[t]:i&&i[t];return"combo"===e?Object(X.clone)(n):Object(X.mix)({},r,n)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){return(null==t?void 0:t.anchorPoints)||(null===(t=this.getCustomConfig(t))||void 0===t?void 0:t.anchorPoints)||(null===(t=this.options)||void 0===t?void 0:t.anchorPoints)}},qe={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:y.nodeLabel.offset,getSize:function(t){var e=(null===(e=this.mergeStyle)||void 0===e?void 0:e.size)||t.size||this.getOptions({}).size||y.defaultNode.size;return Object(X.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),e=Object(X.isArray)(e)?e:[e,e]},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition;if("center"===n)return{x:0,y:0,text:t.label,textBaseline:"middle",textAlign:"center"};var r=e.offset;Object(X.isNil)(r)&&(r=this.offset);var i,o=this.getSize(t);switch(n){case"top":i={x:0,y:-o[1]/2-r,textBaseline:"bottom",textAlign:"center"};break;case"bottom":i={x:0,y:o[1]/2+r,textBaseline:"top",textAlign:"center"};break;case"left":i={x:-o[0]/2-r,y:0,textBaseline:"middle",textAlign:"right"};break;default:i={x:o[0]/2+r,y:0,textBaseline:"middle",textAlign:"left"}}return i.text=t.label,i},getLabelBgStyleByPosition:function(t,e){if(!t)return{};e=null===(e=e.style)||void 0===e?void 0:e.background;if(!e)return{};var t=t.getBBox(),n=bn(e.padding),r=t.width+n[1]+n[3],i=t.height+n[0]+n[2];return g(g({x:t.minX-n[3],y:t.minY-n[0]},e),{width:r,height:i})},drawShape:function(t,e){var n=this.shapeType,t=this.getShapeStyle(t),n=e.addShape(n,{attrs:t,draggable:!0,name:"node-shape"});return e.shapeMap["node-shape"]=n},updateLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=e.shapeMap["link-point-left"]||e.find(function(t){return"link-point-left"===t.get("className")}),i=e.shapeMap["link-point-right"]||e.find(function(t){return"link-point-right"===t.get("className")}),o=e.shapeMap["link-point-top"]||e.find(function(t){return"link-point-top"===t.get("className")}),a=e.shapeMap["link-point-bottom"]||e.find(function(t){return"link-point-bottom"===t.get("className")}),n=(r&&(s=r.attr()),i&&!s&&(s=i.attr()),o&&!s&&(s=o.attr()),s=(s=a&&!s?a.attr():s)||n,Object(X.mix)({},s,t.linkPoints)),s=n.fill,c=n.stroke,l=n.lineWidth,u=(u=n.size/2)||n.r,n=t.linkPoints||{left:void 0,right:void 0,top:void 0,bottom:void 0},h=n.left,d=n.right,f=n.top,n=n.bottom,t=this.getSize(t),p=t[0],t=t[1],u={r:u,fill:s,stroke:c,lineWidth:l};r?h||void 0===h?r.attr(g(g({},u),{x:-p/2,y:0})):(r.remove(),delete e.shapeMap["link-point-left"]):h&&(e.shapeMap[s="link-point-left"]=e.addShape("circle",{attrs:g(g({},u),{x:-p/2,y:0}),className:s,name:s,isAnchorPoint:!0})),i?(d||void 0===d||(i.remove(),delete e.shapeMap["link-point-right"]),i.attr(g(g({},u),{x:p/2,y:0}))):d&&(e.shapeMap[c="link-point-right"]=e.addShape("circle",{attrs:g(g({},u),{x:p/2,y:0}),className:c,name:c,isAnchorPoint:!0})),o?(f||void 0===f||(o.remove(),delete e.shapeMap["link-point-top"]),o.attr(g(g({},u),{x:0,y:-t/2}))):f&&(e.shapeMap[l="link-point-top"]=e.addShape("circle",{attrs:g(g({},u),{x:0,y:-t/2}),className:l,name:l,isAnchorPoint:!0})),a?n||void 0===n?a.attr(g(g({},u),{x:0,y:t/2})):(a.remove(),delete e.shapeMap["link-point-bottom"]):n&&(e.shapeMap[r="link-point-bottom"]=e.addShape("circle",{attrs:g(g({},u),{x:0,y:t/2}),className:r,name:r,isAnchorPoint:!0}))},updateShape:function(t,e,n,r,i){e.get("keyShape").attr(g({},n)),this.updateLabel(t,e,i),r&&this.updateIcon(t,e)},updateIcon:function(t,e){var n,r,i,o=this,e=e.getContainer(),a=(this.mergeStyle||this.getOptions(t)).icon,t=t.icon||{show:void 0,text:void 0},s=t.show,t=t.text,c=e.shapeMap["".concat(this.type,"-icon")]||e.find(function(t){return t.get("name")==="".concat(o.type,"-icon")});c?s||void 0===s?(n=void 0===(n=(i=Object(X.mix)({},c.attr(),a)).width)?20:n,r=void 0===(r=i.height)?20:r,"iconfont"!==i.fontFamily&&!i.hasOwnProperty("text")||(r=n=0),c.attr(g(g({},i),{x:-n/2,y:-r/2}))):c.remove():s&&(i="".concat(this.type,"-icon"),t?e.shapeMap[i]=e.addShape("text",{attrs:g({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:i,name:i}):(n=a.width,r=a.height,e.shapeMap[i]=e.addShape("image",{attrs:g(g({},a),{x:-n/2,y:-r/2}),className:i,name:i})),(c=e.shapeMap["node-label"]||e.find(function(t){return"node-label"===t.get("name")}))&&c.toFront())}},Ze=g(g({},He),qe),n=(Nn.registerNode("single-node",Ze),{itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:y.defaultEdge.size,style:{x:0,y:0,stroke:y.defaultEdge.style.stroke,lineAppendWidth:y.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:y.edgeLabel.style.fill,fontSize:y.edgeLabel.style.fontSize,fontFamily:y.windowFontFamily}},stateStyles:g({},y.edgeStateStyles)},getPath:function(t){var n=[];return Object(X.each)(t,function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),n},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},e=Object(X.mix)({},e,n,t.style),n=t.size||y.defaultEdge.size,r=(t=this.getPathPoints(t)).startPoint,i=t.endPoint,t=this.getControlPoints(t),r=[r],t=((r=t?r.concat(t):r).push(i),this.getPath(r));return Object(X.mix)({},y.defaultEdge.style,{stroke:y.defaultEdge.color,lineWidth:n,path:t},e)},updateShapeStyle:function(t,e,n){var r=e.getContainer(),i=(null===(i=e.getKeyShape)||void 0===i?void 0:i.call(e))||r.shapeMap["edge-shape"],e=t.size,r=(t=this.getPathPoints(t)).startPoint,o=t.endPoint,a=this.getControlPoints(t),r=[r],o=((r=a?r.concat(a):r).push(o),i.attr()),s=t.style||{},c=(void 0===s.stroke&&(s.stroke=t.color),t.sourceNode),l=t.targetNode,u={radius:s.radius},a=(a||(u={source:c,target:l,offset:s.offset,radius:s.radius}),this.getPath(r,u)),c={};"move"===n?c={path:a}:(o.endArrow&&!1===s.endArrow&&(t.style.endArrow={path:""}),o.startArrow&&!1===s.startArrow&&(t.style.startArrow={path:""}),void 0===(c=g({},t.style)).lineWidth&&(c.lineWdith=(Object(X.isNumber)(e)?e:null==e?void 0:e[0])||o.lineWidth),void 0===c.path&&(c.path=a),void 0===c.stroke&&(c.stroke=o.stroke||t.color)),i&&i.attr(c)},getLabelStyleByPosition:function(t,e,n){var r=e.position||this.labelPosition,i={},n=null==n?void 0:n.shapeMap["edge-shape"],o="start"===r?0:"end"===r?1:.5,a=e.refX||this.refX,s=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return i.x=t.startPoint.x+a,i.y=t.startPoint.y+s,i.text=t.label,i;e=Object(X.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,n=sn(n,o,a,s,e);return i.x=n.x,i.y=n.y,i.rotate=n.rotate,i.textAlign=this._getTextAlign(r,n.angle),i.text=t.label,i},getLabelBgStyleByPosition:function(t,e){if(!t)return{};var n=t.getBBox(),r=e.style&&e.style.background;if(!r)return{};var i=r.padding,o=n.width+i[1]+i[3],a=n.height+i[0]+i[2],r=g(g({},r),{width:o,height:a,x:n.minX-i[3],y:n.minY-i[0],matrix:[1,0,0,0,1,0,0,0,1]});return(Object(X.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate)&&(r.matrix=t.attr("matrix")||[1,0,0,0,1,0,0,0,1]),r},_getTextAlign:function(t,e){var n="center";return e?(e%=2*Math.PI,n="center"!==t?0<=e&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:("start"===(e=t)?e="end":"end"===t&&(e="start"),e):n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){t=this.getShapeStyle(t),t=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:t});return e.shapeMap["edge-shape"]=t},drawLabel:function(t,e){var n=this.options.labelCfg,n=Object(X.deepMix)({},n,t.labelCfg),n=this.getLabelStyle(t,n,e),r=n.rotate,i=(delete n.rotate,e.addShape("text",{attrs:n,name:"text-shape",labelRelated:!0}));return e.shapeMap["text-shape"]=i,isNaN(r)||""===r||i.rotateAtStart(r),n.background&&(t=this.drawLabelBg(t,e,i,n,r),n=this.itemType+"-label-bg",t.set("classname",n),e.shapeMap[n]=t,i.toFront()),i},drawLabelBg:function(t,e,n,r,i){var o=this.options.labelCfg,o=Object(X.deepMix)({},o,t.labelCfg),t=this.getLabelBgStyleByPosition(n,o),n=e.addShape("rect",{name:"text-bg-shape",attrs:t,labelRelated:!0});return e.shapeMap["text-bg-shape"]=n}}),$e=g(g({},He),n),Xe=(Nn.registerEdge("single-edge",$e),Nn.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Nn.registerEdge("spline",{getPath:function(t){return Zn(t)}},"single-edge"),Nn.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,i=(e.y+n.y)/2;if(void 0!==t.controlPoints){if(a=t.controlPoints[0],s=ce(e,a,n),e.x<=n.x&&e.y>n.y?this.clockwise=s.x>a.x?0:1:e.x<=n.x&&e.y<n.y?this.clockwise=s.x>a.x?1:0:e.x>n.x&&e.y<=n.y?this.clockwise=s.y<a.y?0:1:this.clockwise=s.y<a.y?1:0,(a.x-e.x)/(a.y-e.y)==(n.x-e.x)/(n.y-e.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),Object(X.isArray)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var o={x:n.x-e.x,y:n.y-e.y},o=Math.atan2(o.y,o.x),a={x:t.curveOffset*Math.cos(-Math.PI/2+o)+r,y:t.curveOffset*Math.sin(-Math.PI/2+o)+i},s=ce(e,a,n)}r=ue(e,s);return[{x:r,y:r}]},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),2===t.length?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge"),Nn.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e,n,r=t.controlPoints;return r&&r.length||(e=t.startPoint,n=t.endPoint,void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),Object(X.isArray)(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),Object(X.isArray)(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]),r=[Qn(e,n,t.curvePosition,t.curveOffset)]),r},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge"),Nn.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e,n,r=t.controlPoints;return void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),Object(X.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(X.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),r&&r.length&&!(r.length<2)||(e=t.startPoint,n=t.endPoint,r=[Qn(e,n,t.curvePosition[0],t.curveOffset[0]),Qn(e,n,t.curvePosition[1],t.curveOffset[1])]),r},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge"),Nn.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint,r=(void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),Object(X.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(X.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),Object(X.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),n.y-e.y),i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x,y:e.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),Nn.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint,r=(void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),Object(X.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(X.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),Object(X.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),n.x-e.x),i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x+r*this.curvePosition[0]+i[0],y:e.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),Nn.registerEdge("loop",{getPathPoints:function(t){return an(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic"),{itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:y.comboLabel.refX,refY:y.comboLabel.refY,options:{style:{stroke:y.defaultCombo.style.stroke,fill:y.defaultCombo.style.fill,lineWidth:y.defaultCombo.style.lineWidth},labelCfg:{style:{fill:y.comboLabel.style.fill,fontSize:y.comboLabel.style.fontSize,fontFamily:y.windowFontFamily}},stateStyles:g({},y.comboStateStyles)},getSize:function(t){t=Object(X.clone)(t.size||this.options.size||y.defaultCombo.size);return Object(X.isArray)(t)&&1===t.length&&(t=[t[0],t[0]]),t=Object(X.isArray)(t)?t:[t,t]},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding,o=(Object(X.isArray)(i)&&(i=i[0]),e.refX),a=e.refY;Object(X.isNil)(o)&&(o=this.refX),Object(X.isNil)(a)&&(a=this.refY);var s,e=this.getSize(t),c=(Math.max(r.r,e[0]/2)||e[0]/2)+i;switch(n){case"top":s={x:0,y:-c-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:c+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-c+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:c+o,y:0,textAlign:"right"}}return s.text=t.label,s},drawShape:function(t,e){var n=this.shapeType,t=this.getShapeStyle(t);return e.addShape(n,{attrs:t,draggable:!0,name:"combo-shape"})},updateShape:function(t,e,n){var r=e.get("keyShape");(void 0===t.animate?this.options:t).animate&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr(g({},n)),this.updateLabel(t,e)}}),Ve=g(g({},He),Xe);Nn.registerCombo("single-combo",Ve),Nn.registerCombo("circle",{options:{size:[y.defaultCombo.size[0],y.defaultCombo.size[0]],padding:y.defaultCombo.padding[0],animate:!0,style:{stroke:y.defaultCombo.style.stroke,fill:y.defaultCombo.style.fill,lineWidth:y.defaultCombo.style.lineWidth},labelCfg:{style:{fill:y.comboLabel.style.fill,fontSize:y.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:g({},y.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){t=this.getShapeStyle(t);return delete t.height,delete t.width,e.addShape("circle",{attrs:t,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(X.isArray)(n)&&(n=n[0]);var r={stroke:t.color},e=Object(X.mix)({},e,r,t.style),n=(r=t.fixSize?Object(X.isNumber)(t.fixSize)?t.fixSize:t.fixSize[0]:(r=this.getSize(t),!Object(X.isNumber)(e.r)||isNaN(e.r)?r[0]/2||y.defaultCombo.style.r:Math.max(e.r,r[0]/2)||r[0]/2),e.r=r+n,g({x:0,y:0},e));return t.style?t.style.r=r:t.style={r:r},n},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(X.isArray)(r)&&(r=r[0]);var i=Object(X.clone)(t.style),n=t.fixSize?Object(X.isNumber)(t.fixSize)?t.fixSize:t.fixSize[0]:Math.max(i.r,n[0]/2)||n[0]/2,r=(i.r=n+r,e.get("sizeCache")),r=(r&&(r.r=i.r),{stroke:t.color}),o=e.get("keyShape"),o=Object(X.mix)({},o.attr(),r,i);t.style?t.style.r=n:t.style={r:n},this.updateShape(t,e,o,!0)}},"single-combo"),Nn.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:y.defaultCombo.style.stroke,fill:y.defaultCombo.style.fill,lineWidth:y.defaultCombo.style.lineWidth},labelCfg:{style:{fill:y.comboLabel.style.fill,fontSize:y.comboLabel.style.fontSize,fontFamily:y.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:g({},y.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){t=this.getShapeStyle(t);return e.addShape("rect",{attrs:t,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding,o=(Object(X.isNumber)(i)&&(i=[i,i,i,i]),e.refX),a=e.refY;Object(X.isNil)(o)&&(o=this.refX),Object(X.isNil)(a)&&(a=this.refY);var s,c=r.width/2+i[3],u=r.height/2+i[0];switch(n){case"top":s={x:0-c+o,y:0-u+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:u+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-c+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:c+o,y:0,textAlign:"right"}}return s.text=t.label,s},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(X.isNumber)(n)&&(n=[n,n,n,n]);var r,i={stroke:t.color},e=Object(X.mix)({},e,i,t.style),i=this.getSize(t),o=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize,o=o?Object(X.isNumber)(o)?r=o:(r=o[0],o[1]):(r=!Object(X.isNumber)(e.width)||isNaN(e.width)?i[0]||y.defaultCombo.style.width:Math.max(e.width,i[0])||i[0],!Object(X.isNumber)(e.height)||isNaN(e.height)?i[1]||y.defaultCombo.style.height:Math.max(e.height,i[1])||i[1]),i=-r/2-n[3],a=-o/2-n[0],n=(e.width=r+n[1]+n[3],e.height=o+n[0]+n[2],g({x:i,y:a},e));return t.style?(t.style.width=r,t.style.height=o):t.style={width:r,height:o},n},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(X.isNumber)(r)&&(r=[r,r,r,r]);var i,o=Object(X.clone)(t.style),a=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize,a=a?Object(X.isNumber)(a)?i=a:(i=a[0],a[1]):(i=Math.max(o.width,n[0])||n[0],Math.max(o.height,n[1])||n[1]),n=(o.width=i+r[1]+r[3],o.height=a+r[0]+r[2],e.get("sizeCache")),n=(n&&(n.width=o.width,n.height=o.height),o.x=-i/2-r[3],o.y=-a/2-r[0],{stroke:t.color}),r=e.get("keyShape"),r=Object(X.mix)({},r.attr(),n,o);t.style?(t.style.width=i,t.style.height=a):t.style={width:i,height:a},this.updateShape(t,e,r,!1)},updateShape:function(t,e,n){var r=e.get("keyShape");(void 0===t.animate?this.options:t).animate&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr(g({},n)),this.updateLabel(t,e)}},"single-combo"),Nn.registerNode("simple-circle",{options:{size:y.defaultNode.size,style:{x:0,y:0,stroke:y.defaultNode.style.stroke,fill:y.defaultNode.style.fill,lineWidth:y.defaultNode.style.lineWidth},labelCfg:{style:{fill:y.nodeLabel.style.fill,fontSize:y.nodeLabel.style.fontSize,fontFamily:y.windowFontFamily}},stateStyles:g({},y.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(t,e){var t=this.getShapeStyle(t),n="".concat(this.type,"-keyShape"),t=e.addShape("circle",{attrs:t,className:"".concat(this.type,"-keyShape"),name:n,draggable:!0});return e.shapeMap[n]=t},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},e=Object(X.deepMix)({},e,n),n=this.getSize(t)[0]/2;return g({x:0,y:0,r:n},e)},update:function(t,e,n){var r=this.getSize(t),r={stroke:t.color,r:r[0]/2},i=e.get("keyShape"),i=Object(X.deepMix)({},i.attr(),r,t.style);this.updateShape(t,e,i,!0,n)}},"single-node"),Nn.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:y.defaultNode.style.stroke,fill:y.defaultNode.style.fill,lineWidth:y.defaultNode.style.lineWidth},labelCfg:{style:{fill:y.nodeLabel.style.fill,fontSize:y.nodeLabel.style.fontSize,fontFamily:y.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:g({},y.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,e){t=this.getShapeStyle(t);return e.addShape("rect",{attrs:t,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},e=Object(X.mix)({},e,n),n=this.getSize(t),t=e.width||n[0],n=e.height||n[1];return g({x:-t/2,y:-n/2,width:t,height:n},e)},update:function(t,e,n){e.getContainer();var r=(this.mergeStyle||this.getOptions(t)).style,i=this.getSize(t),o=e.get("keyShape"),i=(t.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height),{stroke:t.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]}),r=Object(X.mix)({},r,o.attr(),i),r=Object(X.mix)(r,t.style);this.updateShape(t,e,r,!1,n)}},"single-node"),Nn.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:y.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t),e=(delete r.fill,e.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0}));return this.drawClip(t,e),e},drawClip:function(t,e){var n,r,i,o,a,s,t=(this.mergeStyle||this.getOptions(t)).clipCfg;t.show&&(n=t.type,a=t.x,s=t.y,r=t.style,"circle"===n?(i=t.r,e.setClip({type:"circle",attrs:g({r:i,x:a,y:s},r)})):"rect"===n?(i=t.width,o=t.height,e.setClip({type:"rect",attrs:g({x:a-i/2,y:s-o/2,width:i,height:o},r)})):"ellipse"===n?(i=t.rx,o=t.ry,e.setClip({type:"ellipse",attrs:g({x:a,y:s,rx:i,ry:o},r)})):"polygon"===n?(a=t.points,e.setClip({type:"polygon",attrs:g({points:a},r)})):"path"===n&&(s=t.path,e.setClip({type:"path",attrs:g({path:s},r)})))},getShapeStyle:function(t){var e=this.mergeStyle||this.getOptions(t),n=e.style,e=e.img,t=this.getSize(t),r=t[0],i=t[1];return n&&(r=n.width||t[0],i=n.height||t[1]),g({x:-r/2,y:-i/2,width:r,height:i,img:e},n)},updateShapeStyle:function(t,e){var n=e.getContainer(),r="".concat(this.itemType,"-shape"),n=n.shapeMap[r]||n.find(function(t){return t.get("className")===r})||e.getKeyShape(),e=this.getShapeStyle(t);n&&!n.destroyed&&n.attr(e)}},"single-node");var Ar,k={collapse:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t+n-4,e]]},expand:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t-n+2*n-4,e],["M",t-n+n,e-n+4],["L",t,e+n-4]]},upTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e+i],["L",t+r,e+i],["L",t,e-n],["Z"]]},downTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e-i],["L",t+r,e-i],["L",t,e+n],["Z"]]}},Ye=Nn,Sr=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],qe=L.a.transform,jr=g(g(g(g(g(g({},d),h),e),l),f),{transform:qe,mat3:L.b}),Ze=(Dr.prototype.initLayout=function(){},Dr.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},Dr.prototype.getLayoutCfgType=function(t){var e=t.type;if(e)return e;e=t.pipes;return Array.isArray(e)?e.map(function(t){return(null==t?void 0:t.type)||""}):null},Dr.prototype.isLayoutTypeSame=function(t){var n=this.getLayoutCfgType(t);return Array.isArray(this.layoutType)?this.layoutType.every(function(t,e){return t===n[e]}):(null==t?void 0:t.type)===this.layoutType},Dr.prototype.refreshLayout=function(){var t=this.graph,e=this.layoutType;this.data,t&&(t.get("animate")?t.positionsAnimate("comboCombined"===e):t.refreshPositions("comboCombined"===e))},Dr.prototype.changeLayout=function(t){this.layoutCfg=t,this.destoryLayoutMethods(),this.layout()},Dr.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},Dr.prototype.destoryLayoutMethods=function(){var t=this.layoutMethods;null==t||t.forEach(function(t){t.destroy()}),this.layoutMethods=[]},Dr.prototype.destroyLayout=function(){var t=this.graph;this.destoryLayoutMethods(),t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},Dr.prototype.setDataFromGraph=function(){for(var t=[],e=[],n=[],r=[],i=[],l=[],h=[],d=this.graph.getNodes(),f=this.graph.getEdges(),p=this.graph.getCombos(),g=d.length,o=0;o<g;o++){var a,s=d[o];s&&!s.destroyed&&(a=s.getModel(),(s.isVisible()?t:e).push(a))}for(var y=f.length,o=0;o<y;o++){var c=f[o];c&&!c.destroyed&&(a=c.getModel(),(c.isVisible()?a.isComboEdge?i:n:r).push(a))}var _=p.length;for(o=0;o<_;o++){var u=p[o];u.destroyed||(a=u.getModel(),(u.isVisible()?l:h).push(a))}return{nodes:t,hiddenNodes:e,edges:n,hiddenEdges:r,combos:l,hiddenCombos:h,comboEdges:i}},Dr.prototype.reLayoutMethod=function(i,o){var a=this;return new Promise(function(t,e){var n=a.graph,r=null==o?void 0:o.type;o.onLayoutEnd=function(){n.emit("aftersublayout",{type:r}),t()},i.init(a.data),"force"===r&&(i.ticking=!1,i.forceSimulation.stop()),n.emit("beforesublayout",{type:r}),i.execute(),i.isCustomLayout&&o.onLayoutEnd&&o.onLayoutEnd()})},Dr.prototype.relayout=function(t){var r=this,e=this.graph,n=this.layoutMethods,i=this.layoutCfg;if(t){this.data=this.setDataFromGraph();t=this.data.nodes;if(!t)return!1;this.initPositions(i.center,t)}e.emit("beforelayout");var o=Promise.resolve();null==n||n.forEach(function(t,e){var n=i[e];o=o.then(function(){return r.reLayoutMethod(t,n)})}),null!=n&&n.length&&o.then(function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()}).catch(function(t){console.warn("relayout failed",t)})},Dr.prototype.filterLayoutData=function(t,e){var n=t.nodes,r=t.edges,i=D(t,["nodes","edges"]);if(!n)return t;var o,t=Object(X.isFunction)(null==e?void 0:e.nodesFilter)?e.nodesFilter:function(){return!0},n=n.filter(t);return t=Object(X.isFunction)(null==e?void 0:e.edgesFilter)?e.edgesFilter:(o=n.reduce(function(t,e){return t[e.id]=!0,t},{}),function(t){return o[t.source]&&o[t.target]}),g({nodes:n,edges:r.filter(t)},i)},Dr.prototype.getLayoutBBox=function(t){var e=this.graph,e=Object(X.groupBy)(e.getNodes(),function(t){return t.getModel().layoutOrder}),e=Object.values(e).map(function(t){t=wn(t);return t.size=[t.width,t.height],t});return{groupNodes:Object.values(Object(X.groupBy)(t,"layoutOrder")),layoutNodes:e}},Dr.prototype.layoutAnimate=function(){},Dr.prototype.moveToZero=function(){var t=this.graph.get("data").nodes;if(void 0!==t[0].x&&null!==t[0].x&&!En(t[0].x)){for(var e=[0,0],n=t.length,r=0;r<n;r++){var i=t[r];e[0]+=i.x,e[1]+=i.y}for(e[0]/=t.length,e[1]/=t.length,r=0;r<n;r++)(i=t[r]).x-=e[0],i.y-=e[1]}},Dr.prototype.initPositions=function(l,t){var e=this.graph;if(!t)return!1;var n=t?t.length:0;if(n){var r=.85*e.get("width"),e=.85*e.get("height"),i=Math.ceil(Math.sqrt(n)*(r/e)),o=r/(i-1),a=e/(Math.ceil(n/i)-1);isFinite(o)&&o||(o=0),isFinite(a)&&o||(a=0);for(var h=l[0]-r/2,d=l[1]-e/2,s=!0,c=0;c<n;c++){var u=t[c];En(+u.x)&&(s=!1,u.x=c%i*o+h),En(+u.y)&&(s=!1,u.y=Math.floor(c/i)*a+d)}return s}},Dr.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},Dr);function Dr(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}(n=Ar=Ar||{}).CLICK="click",n.DBLCLICK="dblclick",n.MOUSEDOWN="mousedown",n.MOUDEUP="mouseup",n.CONTEXTMENU="contextmenu",n.MOUSEENTER="mouseenter",n.MOUSEOUT="mouseout",n.MOUSEOVER="mouseover",n.MOUSEMOVE="mousemove",n.MOUSELEAVE="mouseleave",n.DRAGSTART="dragstart",n.DRAGEND="dragend",n.DRAG="drag",n.DRAGENTER="dragenter",n.DRAGLEAVE="dragleave",n.DRAGOVER="dragover",n.DRAGOUT="dragout",n.DDROP="drop",n.KEYUP="keyup",n.KEYDOWN="keydown",n.WHEEL="wheel",n.FOCUS="focus",n.BLUR="blur",n.TOUCHSTART="touchstart",n.TOUCHMOVE="touchmove",n.TOUCHEND="touchend",n.CANVAS_TOUCHSTART="canvas:touchstart",n.CANVAS_TOUCHMOVE="canvas:touchmove",n.CANVAS_TOUCHEND="canvas:touchend",n.NODE_TOUCHSTART="node:touchstart",n.NODE_TOUCHMOVE="node:touchmove",n.NODE_TOUCHEND="node:touchend",n.COMBO_TOUCHSTART="combo:touchstart",n.COMBO_TOUCHMOVE="combo:touchmove",n.COMBO_TOUCHEND="combo:touchend",n.EDGE_TOUCHSTART="edge:touchstart",n.EDGE_TOUCHMOVE="edge:touchmove",n.EDGE_TOUCHEND="edge:touchend",n.NODE_CONTEXTMENU="node:contextmenu",n.NODE_CLICK="node:click",n.NODE_DBLCLICK="node:dblclick",n.NODE_MOUSEDOWN="node:mousedown",n.NODE_MOUSEUP="node:mouseup",n.NODE_MOUSEENTER="node:mouseenter",n.NODE_MOUSELEAVE="node:mouseleave",n.NODE_MOUSEMOVE="node:mousemove",n.NODE_MOUSEOUT="node:mouseout",n.NODE_MOUSEOVER="node:mouseover",n.NODE_DROP="node:drop",n.NODE_DRAGOVER="node:dragover",n.NODE_DRAGENTER="node:dragenter",n.NODE_DRAGLEAVE="node:dragleave",n.NODE_DRAGSTART="node:dragstart",n.NODE_DRAG="node:drag",n.NODE_DRAGEND="node:dragend",n.NODE_TAP="node:tap",n.NODE_PANSTART="node:panstart",n.NODE_PANMOVE="node:panmove",n.NODE_PANEND="node:panend",n.COMBO_CONTEXTMENU="combo:contextmenu",n.COMBO_CLICK="combo:click",n.COMBO_DBLCLICK="combo:dblclick",n.COMBO_MOUSEDOWN="combo:mousedown",n.COMBO_MOUSEUP="combo:mouseup",n.COMBO_MOUSEENTER="combo:mouseenter",n.COMBO_MOUSELEAVE="combo:mouseleave",n.COMBO_MOUSEMOVE="combo:mousemove",n.COMBO_MOUSEOUT="combo:mouseout",n.COMBO_MOUSEOVER="combo:mouseover",n.COMBO_DROP="combo:drop",n.COMBO_DRAGOVER="combo:dragover",n.COMBO_DRAGENTER="combo:dragenter",n.COMBO_DRAGLEAVE="combo:dragleave",n.COMBO_DRAGSTART="combo:dragstart",n.COMBO_DRAG="combo:drag",n.COMBO_DRAGEND="combo:dragend",n.COMBO_TAP="combo:tap",n.COMBO_PANSTART="combo:panstart",n.COMBO_PANMOVE="combo:panmove",n.COMBO_PANEND="combo:panend",n.EDGE_CONTEXTMENU="edge:contextmenu",n.EDGE_CLICK="edge:click",n.EDGE_DBLCLICK="edge:dblclick",n.EDGE_MOUSEDOWN="edge:mousedown",n.EDGE_MOUSEUP="edge:mouseup",n.EDGE_MOUSEENTER="edge:mouseenter",n.EDGE_MOUSELEAVE="edge:mouseleave",n.EDGE_MOUSEMOVE="edge:mousemove",n.EDGE_MOUSEOUT="edge:mouseout",n.EDGE_MOUSEOVER="edge:mouseover",n.EDGE_DROP="edge:drop",n.EDGE_DRAGOVER="edge:dragover",n.EDGE_DRAGENTER="edge:dragenter",n.EDGE_DRAGLEAVE="edge:dragleave",n.CANVAS_CONTEXTMENU="canvas:contextmenu",n.CANVAS_CLICK="canvas:click",n.CANVAS_DBLCLICK="canvas:dblclick",n.CANVAS_MOUSEDOWN="canvas:mousedown",n.CANVAS_MOUSEUP="canvas:mouseup",n.CANVAS_MOUSEENTER="canvas:mouseenter",n.CANVAS_MOUSELEAVE="canvas:mouseleave",n.CANVAS_MOUSEMOVE="canvas:mousemove",n.CANVAS_MOUSEOUT="canvas:mouseout",n.CANVAS_MOUSEOVER="canvas:mouseover",n.CANVAS_DROP="canvas:drop",n.CANVAS_DRAGENTER="canvas:dragenter",n.CANVAS_DRAGLEAVE="canvas:dragleave",n.CANVAS_DRAGSTART="canvas:dragstart",n.CANVAS_DRAG="canvas:drag",n.CANVAS_DRAGEND="canvas:dragend",n.CANVAS_TAP="canvas:tap",n.CANVAS_PANSTART="canvas:panstart",n.CANVAS_PANMOVE="canvas:panmove",n.CANVAS_PANEND="canvas:panend",n.BEFORERENDER="beforerender",n.AFTERRENDER="afterrender",n.BEFOREADDITEM="beforeadditem",n.AFTERADDITEM="afteradditem",n.BEFOREREMOVEITEM="beforeremoveitem",n.AFTERREMOVEITEM="afterremoveitem",n.BEFOREUPDATEITEM="beforeupdateitem",n.AFTERUPDATEITEM="afterupdateitem",n.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",n.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",n.BEFOREITEMSTATECHANGE="beforeitemstatechange",n.AFTERITEMSTATECHANGE="afteritemstatechange",n.BEFOREITEMREFRESH="beforeitemrefresh",n.AFTERITEMREFRESH="afteritemrefresh",n.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",n.AFTERITEMSTATESCLEAR="afteritemstatesclear",n.BEFOREMODECHANGE="beforemodechange",n.AFTERMODECHANGE="aftermodechange",n.BEFORELAYOUT="beforelayout",n.AFTERLAYOUT="afterlayout",n.BEFORECREATEEDGE="beforecreateedge",n.AFTERCREATEEDGE="aftercreateedge",n.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",n.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",n.BEFOREGRAPHREFRESH="beforegraphrefresh",n.AFTERGRAPHREFRESH="aftergraphrefresh",n.BEFOREANIMATE="beforeanimate",n.AFTERANIMATE="afteranimate",n.BEFOREPAINT="beforepaint",n.AFTERPAINT="afterpaint",n.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",n.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",n.GRAPHSTATECHANGE="graphstatechange",n.AFTERACTIVATERELATIONS="afteractivaterelations",n.NODESELECTCHANGE="nodeselectchange",n.TOOLTIPCHANGE="tooltipchange",n.WHEELZOOM="wheelzoom",n.VIEWPORTCHANGE="viewportchange",n.DRAGNODEEND="dragnodeend",n.STACKCHANGE="stackchange",n.TAP="tap",n.PINCHSTART="pinchstart",n.PINCHMOVE="pinchmove",n.PANSTART="panstart",n.PANMOVE="panmove",n.PANEND="panend";var $e=Ye.registerNode,He=Ye.registerEdge,Xe=Ye.registerCombo,Tr=E.registerBehavior,u=y,Ve=(Ye.registerNode,Ye.registerEdge,Ye.registerCombo,E.registerBehavior,t(397)),Ir=t(70),kr=t(100),d=t(146),Lr=t.n(d),h=t(161),Rr=t.n(h),Br=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Nr(t,e,n){return(n=60<=Math.round(t.h)&&Math.round(t.h)<=240?n?Math.round(t.h)-2*e:Math.round(t.h)+2*e:n?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?n+=360:360<=n&&(n-=360),n}function Fr(t,e,n){return 0===t.h&&0===t.s?t.s:(1<(t=n?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)&&(t=1),(t=n&&5===e&&.1<t?.1:t)<.06&&(t=.06),Number(t.toFixed(2)))}function Ur(t,e,n){return 1<(n=n?t.v+.05*e:t.v-.15*e)&&(n=1),Number(n.toFixed(2))}function Wr(t,e){for(var n=1<arguments.length&&void 0!==e?e:{},r=[],i=Rr()(t),o=5;0<o;--o){var a=i.toHsv(),a=Rr()({h:Nr(a,o,!0),s:Fr(a,o,!0),v:Ur(a,o,!0)}).toHexString();r.push(a)}r.push(i.toHexString());for(var s=1;s<=4;s+=1){var c=i.toHsv(),c=Rr()({h:Nr(c,s),s:Fr(c,s),v:Ur(c,s)}).toHexString();r.push(c)}return"dark"===n.theme?Br.map(function(t){var e=t.index,t=t.opacity;return Rr.a.mix(n.backgroundColor||"#141414",r[e],100*t).toHexString()}):r}var zr,Gr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},$r={},Kr={},Vr=(Object.keys(Gr).forEach(function(t){$r[t]=Wr(Gr[t]),$r[t].primary=$r[t][5],Kr[t]=Wr(Gr[t],{theme:"dark",backgroundColor:"#141414"}),Kr[t].primary=Kr[t][5]}),$r.red,$r.volcano,$r.gold,$r.orange,$r.yellow,$r.lime,$r.green,$r.cyan,$r.blue,$r.geekblue,$r.purple,$r.magenta,$r.grey,function(t,e,n){t=Lr()(t),e=Lr()(e);return Lr()([(1-n)*t.red()+n*e.red(),(1-n)*t.green()+n*e.green(),(1-n)*t.blue()+n*e.blue()]).rgb()}),Xr=function(l,h,t,e){return void 0===h&&(h="#fff"),void 0===e&&(e="rgb(150, 150, 150)"),"default"===(t=void 0===t?"default":t)?(void 0===(e="rgb(150, 150, 150)")&&(e="rgb(150, 150, 150)"),r=Vr(t=void 0===(t=h)?"#fff":t,n=l,.05).rgb().toString(),i=Vr(t,n,.1).rgb().toString(),d=Vr(t,n,.2).rgb().toString(),o=Vr(t,n,.4).rgb().toString(),a=Vr(t,e,.02).rgb().toString(),f=Vr(t,e,.05).rgb().toString(),p=Vr(t,e,.1).rgb().toString(),s=Vr(t,e,.2).rgb().toString(),e=Vr(t,e,.3).rgb().toString(),c=Wr(n,{theme:"default",backgroundColor:t}),g=Lr()(n).hex().toLowerCase(),g=c.indexOf(g),{mainStroke:u=n,mainFill:i,activeStroke:n,activeFill:r,inactiveStroke:o,inactiveFill:r,selectedStroke:n,selectedFill:t,highlightStroke:u=-1!==g?c[g+1]:u,highlightFill:d,disableStroke:e,disableFill:f,edgeMainStroke:e,edgeActiveStroke:n,edgeInactiveStroke:s,edgeSelectedStroke:n,edgeHighlightStroke:n,edgeDisableStroke:p,comboMainStroke:e,comboMainFill:a,comboActiveStroke:n,comboActiveFill:r,comboInactiveStroke:e,comboInactiveFill:a,comboSelectedStroke:n,comboSelectedFill:a,comboHighlightStroke:u,comboHighlightFill:a,comboDisableStroke:s,comboDisableFill:f}):(void 0===(i="#777")&&(i="#777"),c=Vr(o=void 0===(o=h)?"#fff":o,t=l,.2).rgb().toString(),g=Vr(o,t,.3).rgb().toString(),d=Vr(o,t,.6).rgb().toString(),p=Vr(o,t,.8).rgb().toString(),r=Vr(o,i,.2).rgb().toString(),e=Vr(o,i,.25).rgb().toString(),n=Vr(o,i,.3).rgb().toString(),u=Vr(o,i,.4).rgb().toString(),a=Vr(o,i,.5).rgb().toString(),o=Wr(t,{theme:"dark",backgroundColor:o}),s=Lr()(t).hex().toLowerCase(),s=o.indexOf(s),{mainStroke:p,mainFill:c,activeStroke:f=t,activeFill:g,inactiveStroke:p,inactiveFill:c,selectedStroke:t,selectedFill:c,highlightStroke:t,highlightFill:d,disableStroke:a,disableFill:e,edgeMainStroke:i,edgeActiveStroke:t,edgeInactiveStroke:i,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:n,comboMainStroke:u,comboMainFill:e,comboActiveStroke:t,comboActiveFill:r,comboInactiveStroke:u,comboInactiveFill:e,comboSelectedStroke:t,comboSelectedFill:r,comboHighlightStroke:f=-1!==s?o[s+1]:f,comboHighlightFill:e,comboDisableStroke:u,comboDisableFill:r});var n,r,i,d,o,a,f,p,s,c,g,u},Yr=function(t,e,n,r){void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return t.forEach(function(t){i.push(Xr(t,e,n,r))}),i},e=Xr("rgb(95, 149, 255)","rgb(255, 255, 255)"),Hr={version:"0.6.1",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:e.mainStroke,fill:e.mainFill},size:20,color:e.mainStroke,linkPoints:{size:8,lineWidth:1,fill:e.activeFill,stroke:e.activeStroke}},nodeStateStyles:{active:{fill:e.activeFill,stroke:e.activeStroke,lineWidth:2,shadowColor:e.mainStroke,shadowBlur:10},selected:{fill:e.selectedFill,stroke:e.selectedStroke,lineWidth:4,shadowColor:e.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:e.highlightFill,stroke:e.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:e.inactiveFill,stroke:e.inactiveStroke,lineWidth:1},disable:{fill:e.disableFill,stroke:e.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:e.edgeMainStroke,lineAppendWidth:2},color:e.edgeMainStroke},edgeStateStyles:{active:{stroke:e.edgeActiveStroke,lineWidth:1},selected:{stroke:e.edgeSelectedStroke,lineWidth:2,shadowColor:e.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:e.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:e.edgeInactiveStroke,lineWidth:1},disable:{stroke:e.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:e.comboMainFill,lineWidth:1,stroke:e.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:e.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:e.comboActiveStroke,lineWidth:1,fill:e.comboActiveFill},selected:{stroke:e.comboSelectedStroke,lineWidth:2,fill:e.comboSelectedFill,shadowColor:e.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:e.comboHighlightStroke,lineWidth:2,fill:e.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:e.comboInactiveStroke,fill:e.comboInactiveFill,lineWidth:1},disable:{stroke:e.comboDisableStroke,fill:e.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},m=t(18),qr=jr.cloneEvent,Zr=jr.isViewportChanged,Qr=(zr=function(t){this.graph=t,this.destroyed=!1,this.initEvents()},Object(_.c)(di,zr),di.prototype.initEvents=function(){var t=this.graph,e=this.extendEvents,e=void 0===e?[]:e,t=t.get("canvas"),n=t.get("el"),r=Object(X.wrapBehavior)(this,"onCanvasEvents"),i=Object(X.wrapBehavior)(this,"onExtendEvents"),o=Object(X.wrapBehavior)(this,"onWheelEvent");t.off("*").on("*",r),this.canvasHandler=r,e.push(Object(m.a)(n,"DOMMouseScroll",o)),e.push(Object(m.a)(n,"mousewheel",o)),"undefined"!=typeof window&&(e.push(Object(m.a)(window,"keydown",i)),e.push(Object(m.a)(window,"keyup",i)),e.push(Object(m.a)(window,"focus",i)))},di.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},di.prototype.onCanvasEvents=function(t){var e=this.graph,n=e.get("canvas"),r=t.target,i=t.type,o=(t.canvasX=t.x,t.canvasY=t.y,{x:t.canvasX,y:t.canvasY}),a=e.get("group").getMatrix();if(Zr(a=a||[1,0,0,0,1,0,0,0,1])&&(o=e.getPointByClient(t.clientX,t.clientY)),t.x=o.x,t.y=o.y,t.currentTarget=e,r===n)return"mousemove"!==i&&"mouseleave"!==i||this.handleMouseMove(t,"canvas"),t.target=n,t.item=null,e.emit(i,t),void e.emit("canvas:".concat(i),t);var a=di.getItemRoot(r);a?(o=a.get("item")).destroyed||(n=o.getType(),t.target=r,t.item=o,t.canvasX===t.x&&t.canvasY===t.y&&(a=e.getCanvasByPoint(t.x,t.y),t.canvasX=a.x,t.canvasY=a.y),e.emit(i,t),t.name&&!t.name.includes(":")?e.emit("".concat(n,":").concat(i),t):e.emit(t.name,t),"dragstart"===i&&(this.dragging=!0),"dragend"===i&&(this.dragging=!1),"mousemove"===i&&this.handleMouseMove(t,n)):e.emit(i,t)},di.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},di.prototype.onWheelEvent=function(t){Object(X.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},di.prototype.handleMouseMove=function(t,e){var n=this.graph,r=this.preItem,n=n.get("canvas"),n=t.target===n?null:t.item;t=qr(t),r&&r!==n&&!r.destroyed&&(t.item=r,this.emitCustomEvent(r.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",t)),n&&r!==n&&(t.item=n,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=n},di.prototype.emitCustomEvent=function(t,e,n){n.type=e,this.graph.emit("".concat(t,":").concat(e),n)},di.prototype.destroy=function(){var t=this.graph,e=this.canvasHandler,n=this.extendEvents;t.get("canvas").off("*",e),Object(X.each)(n,function(t){t.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},di),Jr=t(38),l=t(145),ti=t.n(l),ei=jr.traverseTree,ni=function(e,n){return e?Object(X.isNumber)(e)?function(t){return e}:e:function(t){return n||1}},ri=function(t,e){for(var n=[],r=[],i={},o=0,o=0;o<t.length;o++){var a=t[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){var s=e[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var l=0;for(o=0;o<t.length;o++){var h=n.length,c=r[o],d=c.length;n[4*o+2]=h,n[4*o+3]=c.length;for(var l=Math.max(l,c.length),u=0;u<d;++u){var f=c[u];n.push(+f)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:l}},ii=function(t,e,l){for(var n=[],r=[],i={},o=0,o=0;o<t.length;o++){var a=t[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){var s=e[o];r[i[s.source]].push(i[s.target]),r[i[s.source]].push(l(s)),r[i[s.target]].push(i[s.source]),r[i[s.target]].push(l(s))}var h=0;for(o=0;o<t.length;o++){var d=n.length,f=r[o],c=f.length;n[4*o+2]=d,n[4*o+3]=c/2;for(var h=Math.max(h,c/2),u=0;u<c;++u){var p=f[u];n.push(+p)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:h}},oi=function(t,e,l,h){for(var n=[],r=[],i={},o=0,o=0;o<t.length;o++){var a=t[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){var s=e[o];r[i[s.source]].push(i[s.target]),r[i[s.source]].push(l(s)),r[i[s.source]].push(h(s)),r[i[s.source]].push(0),r[i[s.target]].push(i[s.source]),r[i[s.target]].push(l(s)),r[i[s.target]].push(h(s)),r[i[s.target]].push(0)}var d=0;for(o=0;o<t.length;o++){var f=n.length,p=r[o],c=p.length;n[4*o+2]=f+1048576*c/4,n[4*o+3]=0;for(var d=Math.max(d,c/4),u=0;u<c;++u){var g=p[u];n.push(+g)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:d}},ai=function(t,e){var r=[],i=t.length,o={};return e.forEach(function(n){t.forEach(function(t,e){if(void 0===o[n[t]]&&(o[n[t]]=Object.keys(o).length),r.push(o[n[t]]),e===i-1)for(;r.length%4!=0;)r.push(0)})}),{array:new Float32Array(r),count:Object.keys(o).length}},si=function(t){for(var r=[],i=t.length,e=t[0].length,n=0;n<e;n++)!function(n){t.forEach(function(t,e){if(r.push(t[n]),e===i-1)for(;r.length%4!=0;)r.push(0)})}(n);return new Float32Array(r)},ci=function(r,t){var i={x:1/0,y:1/0},e={x:-1/0,y:-1/0},o="x",a="y",n=(t&&0<=["V","TB","BT"].indexOf(t)&&(a="x",o="y"),0),s=(ei(r,function(t){return n++,t.x>e.x&&(e.x=t.x),t.x<i.x&&(i.x=t.x),t.y>e.y&&(e.y=t.y),t.y<i.y&&(i.y=t.y),!0}),2*Math.PI/n),c=e[a]-i[a];return 0==c||ei(r,function(t){var e=(t[a]-i[a])/c*(2*Math.PI-s)+s,n=Math.abs("x"===o?t.x-r.x:t.y-r.y);return t.x=n*Math.cos(e),t.y=n*Math.sin(e),!0}),r},ui=function r(){return"undefined"==typeof window||"undefined"==typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=(window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.']:['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.']).join("\n")),t},addGetWebGLMessage:function(t){var e=void 0!==(t=t||{}).parent?t.parent:document.body,t=void 0!==t.id?t.id:"oldie",n=r().getWebGLErrorMessage();n.id=t,e.appendChild(n)}}},f=Object(_.a)(Object(_.a)(Object(_.a)(Object(_.a)({},jr),p),v),b),li=f.radialLayout,qe=(hi.prototype.init=function(t){var e=this;this.data=t,this.radial?this.layoutMethod=function(t){t=ti.a[e.type](t,e.config);return li(t),t}:this.layoutMethod=function(t){return ti.a[e.type](t,e.config)}},hi.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},hi.prototype.layout=function(t){return this.init(t),this.execute()},hi);function hi(t){this.type=t.type,this.radial=t.radial,this.config=t}function di(t){var e=zr.call(this,t)||this;return e.extendEvents=[],e.dragging=!1,e.preItem=null,e.graph=t,e.destroyed=!1,e.initEvents(),e}Object(Jr.registerLayout)("grid",Jr.GridLayout),Object(Jr.registerLayout)("random",Jr.RandomLayout),Object(Jr.registerLayout)("force",Jr.ForceLayout),Object(Jr.registerLayout)("circular",Jr.CircularLayout),Object(Jr.registerLayout)("dagre",Jr.DagreLayout),Object(Jr.registerLayout)("dagreCompound",Jr.DagreCompoundLayout),Object(Jr.registerLayout)("radial",Jr.RadialLayout),Object(Jr.registerLayout)("concentric",Jr.ConcentricLayout),Object(Jr.registerLayout)("mds",Jr.MDSLayout),Object(Jr.registerLayout)("fruchterman",Jr.FruchtermanLayout),Object(Jr.registerLayout)("fruchterman-gpu",Jr.FruchtermanGPULayout),Object(Jr.registerLayout)("gForce",Jr.GForceLayout),Object(Jr.registerLayout)("gForce-gpu",Jr.GForceGPULayout),Object(Jr.registerLayout)("comboForce",Jr.ComboForceLayout),Object(Jr.registerLayout)("comboCombined",Jr.ComboCombinedLayout),Object(Jr.registerLayout)("forceAtlas2",Jr.ForceAtlas2Layout);function fi(t,e){return t=t.toString(),e=new Blob(["importScripts('".concat(e,"');(").concat(t,")()")],{type:"text/javascript"}),new Worker(URL.createObjectURL(e))}function pi(t){return new fi(function(){var h="LAYOUT_RUN",d="LAYOUT_END",f="LAYOUT_ERROR",p="GPU_LAYOUT_RUN";layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(t){var e;(e=t.data.type)!==h&&e!==p||function(t){var e=this;switch(t.data.type){case h:var n,r=t.data,i=r.nodes,o=r.edges,r=r.layoutCfg,a=(r=void 0===r?{}:r).type;if(!(s=layout.getLayoutByName(a))){this.postMessage({type:f,message:"layout ".concat(a," not found")});break}r.onLayoutEnd=function(){e.postMessage({type:d,nodes:i}),null==n||n.destroy()},(n=new s(r)).init({nodes:i,edges:o}),n.execute();break;case p:var s,c=t.data,l=c.nodes,u=(o=c.edges,c.layoutCfg),r=void 0===u?{}:u,u=c.canvas,a=r.type;if(!(s=layout.getLayoutByName(a))){this.postMessage({type:f,message:"layout ".concat(a," not found")});break}if("gpu"!==a.split("-")[1]){this.postMessage({type:f,message:"layout ".concat(a," does not support GPU")});break}c=new s(r);c.init({nodes:l,edges:o}),c.executeWithWorker(u,this)}}(t)}},t=void 0===t?"https://unpkg.com/@antv/layout@latest/dist/layout.min.js":t)}function gi(t){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t){return setTimeout(t,16)}function _i(t){return clearTimeout(t)}function mi(t){return("undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||yi)(t)}function vi(t){return("undefined"!=typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||_i)(t)}var bi,Oi=["fruchterman","gForce"],xi=["force","grid","circular"],Ei=(bi=Ze,Object(_.c)(wi,bi),wi.prototype.initLayout=function(){},wi.prototype.getWorker=function(){return this.worker||("undefined"==typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=pi(this.layoutCfg.workerScriptURL)),this.worker},wi.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(vi(t.requestId),t.requestId=null),t.requestId2&&(vi(t.requestId2),t.requestId2=null))},wi.prototype.execLayoutMethod=function(f,p){var t=this;return new Promise(function(h,d){return Object(_.b)(t,void 0,void 0,function(){var i,o,a,s,c,u,l;return Object(_.d)(this,function(t){switch(t.label){case 0:if(!(i=this.graph)||i.get("destroyed"))return[2];o=f.type,f.onLayoutEnd=function(){i.emit("aftersublayout",{type:o}),h()},o&&this.isGPU&&(this.hasGPUVersion(o)?o="".concat(o,"-gpu"):console.warn("The '".concat(o,"' layout does not support GPU calculation for now, it will run in CPU."))),"force"===o||"g6force"===o||"gForce"===o?(a=f.onTick,u=function(){a&&a(),i.refreshPositions()},f.tick=u):"comboForce"!==o&&"comboCombined"!==o||(f.comboTrees=i.get("comboTrees"));try{s=new Jr.Layouts[o](f)}catch(t){console.warn("The layout method: '".concat(o,"' does not exist! Please specify it first.")),d()}return s.enableTick&&(c=f.onTick,u=function(){c&&c(),i.refreshPositions()},s.tick=u),e=l=this.filterLayoutData(this.data,f),n=p,null!==(r=null==e?void 0:e.nodes)&&void 0!==r&&r.length&&e.nodes.forEach(function(t){t.layoutOrder=n}),s.init(l),i.emit("beforesublayout",{type:o}),[4,s.execute()];case 1:return t.sent(),s.isCustomLayout&&f.onLayoutEnd&&f.onLayoutEnd(),this.layoutMethods[p]=s,[2]}var e,n,r})})})},wi.prototype.updateLayoutMethod=function(o,a){var e=this;return new Promise(function(i,t){return Object(_.b)(e,void 0,void 0,function(){var e,n,r;return Object(_.d)(this,function(t){switch(t.label){case 0:return e=this.graph,n=null==a?void 0:a.type,a.onLayoutEnd=function(){e.emit("aftersublayout",{type:n}),i()},r=this.filterLayoutData(this.data,a),o.init(r),o.updateCfg(a),e.emit("beforesublayout",{type:n}),[4,o.execute()];case 1:return t.sent(),o.isCustomLayout&&a.onLayoutEnd&&a.onLayoutEnd(),[2]}})})})},wi.prototype.layout=function(t){var r=this,e=this.graph,n=(this.data=this.setDataFromGraph(),this.data),i=n.nodes,n=n.hiddenNodes;if(!i)return!1;var o=e.get("width"),a=e.get("height"),s={},o=(Object.assign(s,{width:o,height:a,center:[o/2,a/2]},this.layoutCfg),this.layoutCfg=s,this.destoryLayoutMethods(),e.emit("beforelayout"),this.initPositions(s.center,i),this.initPositions(s.center,n),s.type),a=(o&&"gpu"===o.split("-")[1]&&(o=o.split("-")[0],s.gpuEnabled=!0),!1),c=(s.gpuEnabled&&(a=!0,ui().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),a=!1)),this.isGPU=a,s.onLayoutEnd),i=s.layoutEndFormatted,l=s.adjust;if(i||(s.layoutEndFormatted=!0,s.onAllLayoutEnd=function(){return Object(_.b)(r,void 0,void 0,function(){return Object(_.d)(this,function(t){switch(t.label){case 0:return c&&c(),this.refreshLayout(),l&&s.pipes?[4,this.adjustPipesBox(this.data,l)]:[3,2];case 1:t.sent(),this.refreshLayout(),t.label=2;case 2:return e.emit("afterlayout"),[2]}})})}),this.stopWorker(),s.workerEnabled&&this.layoutWithWorker(this.data))return!0;var u=Promise.resolve(),n=!1;return s.type?(n=!0,u=u.then(function(){return Object(_.b)(r,void 0,void 0,function(){return Object(_.d)(this,function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(s,0)];case 1:return[2,t.sent()]}})})})):s.pipes&&(n=!0,s.pipes.forEach(function(e,n){u=u.then(function(){return Object(_.b)(r,void 0,void 0,function(){return Object(_.d)(this,function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(e,n)];case 1:return[2,t.sent()]}})})})})),n&&u.then(function(){s.onAllLayoutEnd&&s.onAllLayoutEnd(),t&&t()}).catch(function(t){console.warn("graph layout failed,",t)}),!1},wi.prototype.layoutWithWorker=function(e){var n=this,t=this.layoutCfg,r=this.graph,i=this.getWorker(),o=this.workerData;if(!i)return!1;o.requestId=null,o.requestId2=null,o.currentTick=null,o.currentTickData=null,r.emit("beforelayout");var a=Promise.resolve(),o=!1;if(t.type)o=!0,a=a.then(function(){return n.runWebworker(i,e,t)});else if(t.pipes)for(var o=!0,s=0,c=t.pipes;s<c.length;s++)!function(t){a=a.then(function(){return n.runWebworker(i,e,t)})}(c[s]);return o&&a.then(function(){t.onAllLayoutEnd&&t.onAllLayoutEnd()}).catch(function(t){console.error("layout failed",t)}),!0},wi.prototype.runWebworker=function(t,e,r){var n,i,l=this,o=this.isGPU,a=this.filterLayoutData(e,r),e=a.nodes,s=a.edges,c=document.createElement("canvas"),o=o&&"undefined"!=typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in c,u=(i={},(n=r)&&"object"===gi(n)?(Object.keys(n).forEach(function(t){n.hasOwnProperty(t)&&"function"!=typeof n[t]&&(i[t]=n[t])}),i):n);return o?(o=c.transferControlToOffscreen(),u.type="".concat(u.type,"-gpu"),t.postMessage({type:"GPU_LAYOUT_RUN",nodes:e,edges:s,layoutCfg:u,canvas:o},[o])):t.postMessage({type:"LAYOUT_RUN",nodes:e,edges:s,layoutCfg:u}),new Promise(function(e,n){t.onmessage=function(t){l.handleWorkerMessage(e,n,t,a,r)}})},wi.prototype.handleWorkerMessage=function(t,e,n,r,i){function o(){i.onTick&&i.onTick()}var a=this.graph,s=this.workerData,c=n.data,n=c.type;switch(n){case"LAYOUT_TICK":s.currentTick=c.currentTick,s.currentTickData=c,s.requestId||(s.requestId=mi(function(){Mi(r,c),a.refreshPositions(),o(),c.currentTick===c.totalTicks?t():s.currentTick===c.totalTicks&&(s.requestId2=mi(function(){Mi(r,s.currentTickData),a.refreshPositions(),s.requestId2=null,o(),t()})),s.requestId=null}));break;case"LAYOUT_END":null==s.currentTick&&(Mi(r,c),t());break;case"GPU_LAYOUT_END":if(null==s.currentTick){for(var l=r.nodes,h=c.vertexEdgeData,d=l.length,u=0;u<d;u++){var f=l[u],p=h[4*u],g=h[4*u+1];f.x=p,f.y=g}t()}break;case"LAYOUT_ERROR":console.warn("Web-Worker layout error!",c.message),e();break;default:e()}},wi.prototype.updateLayoutCfg=function(t){var r,i=this,e=this.graph,n=this.layoutMethods,o=Object(X.mix)({},this.layoutCfg,t);this.layoutCfg=o,null!=n&&n.length?(this.data=this.setDataFromGraph(),this.stopWorker(),t.workerEnabled&&this.layoutWithWorker(this.data)||(e.emit("beforelayout"),r=Promise.resolve(),t=!1,1===n.length?(t=!0,r=r.then(function(){return Object(_.b)(i,void 0,void 0,function(){return Object(_.d)(this,function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(n[0],o)];case 1:return[2,t.sent()]}})})})):(t=!0,null==n||n.forEach(function(e,t){var n=o.pipes[t];r=r.then(function(){return Object(_.b)(i,void 0,void 0,function(){return Object(_.d)(this,function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(e,n)];case 1:return[2,t.sent()]}})})})})),t&&r.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()}).catch(function(t){console.warn("layout failed",t)}))):this.layout()},wi.prototype.adjustPipesBox=function(i,s){var c=this;return new Promise(function(t){var e=i.nodes,n=(null!=e&&e.length||t(),xi.includes(s)||(console.warn("The adjust type ".concat(s," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),t()),{center:c.layoutCfg.center,nodeSize:function(t){return Math.max(t.height,t.width)},preventOverlap:!0,onLayoutEnd:function(){}}),e=c.getLayoutBBox(e),o=e.groupNodes,r=e.layoutNodes,a=Object(X.clone)(r);n.onLayoutEnd=function(){null==r||r.forEach(function(t,e){var n,r=t.x-(null===(n=a[e])||void 0===n?void 0:n.x),i=t.y-(null===(n=a[e])||void 0===n?void 0:n.y);null===(t=o[e])||void 0===t||t.forEach(function(t){t.x+=r,t.y+=i})}),t()},new Jr.Layouts[s](n).layout({nodes:r})})},wi.prototype.hasGPUVersion=function(t){return Oi.includes(t)},wi.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},wi);function wi(t){var e=bi.call(this,t)||this;return e.graph=t,e.layoutCfg=t.get("layout")||{},e.layoutType=e.getLayoutType(),e.worker=null,e.workerData={},e.initLayout(),e}function Mi(t,e){for(var n=t.nodes,r=e.nodes,i=n.length,o=0;o<i;o++){var a=n[o];a.x=r[o].x,a.y=r[o].y}}var Pi,Ci,Ai,Si,ji=L.a.transform,n=(Si=Ke,Object(_.c)(Ri,Si),Ri.prototype.initLayoutController=function(){var t=new Ei(this);this.set({layoutController:t})},Ri.prototype.initEventController=function(){var t=new Qr(this);this.set({eventController:t})},Ri.prototype.initCanvas=function(){var t=this.get("container");if("string"==typeof t&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=t.clientWidth,n=t.clientHeight,r=this.get("width")||e,i=this.get("height")||n;this.get("width")||this.get("height")||(this.set("width",e),this.set("height",n)),t="svg"===this.get("renderer")?new kr.Canvas({container:t,width:r,height:i}):(e={container:t,width:r,height:i},(n=this.get("pixelRatio"))&&(e.pixelRatio=n),new Ir.Canvas(e)),this.set("canvas",t)},Ri.prototype.initPlugins=function(){var e=this;Object(X.each)(e.get("plugins"),function(t){!t.destroyed&&t.initPlugin&&t.initPlugin(e)})},Ri.prototype.downloadImageWatermark=function(r,i,o,a){return Object(_.b)(this,void 0,void 0,function(){var e,n;return Object(_.d)(this,function(t){switch(t.label){case 0:return e=r.style.backgroundImage,e=e.slice(5,e.length-2),(n=new Image).src=e,[4,new Promise(function(e){n.onload=function(){var t=i.createPattern(n,"repeat");i.rect(0,0,o,a),i.fillStyle=t,i.fill(),e("")}})];case 1:return t.sent(),[2]}})})},Ri.prototype.asyncToDataUrl=function(c,u,l,h,d,t){var n=this,f=document.querySelector(".g6-graph-watermarker"),e=this.get("canvas"),y=e.getRenderer(),p=t||e.get("el"),g="";c=c||"image/png",setTimeout(function(){return Object(_.b)(n,void 0,void 0,function(){var e,n,r,i,o,a,s;return Object(_.d)(this,function(t){switch(t.label){case 0:return"svg"!==y?[3,1]:(e=p.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(s=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s)).replaceChild(e,s.documentElement),e=(new XMLSerializer).serializeToString(s),g="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(e)),[3,4]);case 1:return n=void 0,r=p.getContext("2d"),i=h||this.get("width"),o=d||this.get("height"),a=void 0,f?[4,this.downloadImageWatermark(f,r,i,o)]:[3,3];case 2:t.sent(),t.label=3;case 3:if(u){s="undefined"!=typeof window?window.devicePixelRatio:1;try{n=r.getImageData(0,0,i*s,o*s),a=r.globalCompositeOperation,r.globalCompositeOperation="destination-over",r.fillStyle=u,r.fillRect(0,0,i,o)}catch(t){console.error("Download image failed. Out of memory at ImageData creation")}}g=p.toDataURL(c),u&&(r.clearRect(0,0,i,o),r.putImageData(n,0,0),r.globalCompositeOperation=a),t.label=4;case 4:return l&&l(g),[2]}})})},16)},Ri.prototype.toDataURL=function(t,e){var n=this.get("canvas"),r=n.getRenderer(),n=n.get("el"),i=(t=t||"image/png","");if("svg"===r)var r=n.cloneNode(!0),o=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),o=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o),r=(o.replaceChild(r,o.documentElement),(new XMLSerializer).serializeToString(o)),i="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(r));else{var o=void 0,r=n.getContext("2d"),a=this.get("width"),s=this.get("height"),c=void 0;if(e){var u="undefined"!=typeof window?window.devicePixelRatio:1;try{o=r.getImageData(0,0,a*u,s*u),c=r.globalCompositeOperation,r.globalCompositeOperation="destination-over",r.fillStyle=e,r.fillRect(0,0,a,s)}catch(t){console.error("Download image failed. Out of memory at ImageData creation")}}i=n.toDataURL(t),e&&(r.clearRect(0,0,a,s),r.putImageData(o,0,0),r.globalCompositeOperation=c)}return i},Ri.prototype.toFullDataURL=function(l,i,t){var e=this.get("group").getCanvasBBox(),h=e.height,d=e.width,f=this.get("renderer"),n=Object(m.b)('<div id="virtual-image"></div>'),o=t?t.backgroundColor:void 0,t=t?t.padding:void 0,a=(t?Object(X.isNumber)(t)&&(t=[t,t,t,t]):t=[0,0,0,0],h+t[0]+t[2]),s=d+t[1]+t[3],n={container:n,height:a,width:s,quickHit:!0},n=new("svg"===f?kr:Ir).Canvas(n),r=this.get("group").clone(),c=(c=Object(X.clone)(r.getMatrix()))||[1,0,0,0,1,0,0,0,1],p=(e.maxX+e.minX)/2,e=(e.maxY+e.minY)/2,u=(c=ji(c,[["t",-p,-e],["t",d/2+t[3],h/2+t[0]]]),r.resetMatrix(),r.setMatrix(c),n.add(r),n.get("el")),g="";i=i||"image/png",setTimeout(function(){if("svg"===f){var t=u.cloneNode(!0),e=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),e=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",e),t=(e.replaceChild(t,e.documentElement),(new XMLSerializer).serializeToString(e));g="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(t))}else{var e=void 0,t=u.getContext("2d"),n=void 0;if(o){var r="undefined"!=typeof window?window.devicePixelRatio:1;try{e=t.getImageData(0,0,s*r,a*r),n=t.globalCompositeOperation,t.globalCompositeOperation="destination-over",t.fillStyle=o,t.fillRect(0,0,s,a)}catch(t){console.error("Download image failed. Out of memory at ImageData creation")}}g=u.toDataURL(i),o&&(t.clearRect(0,0,s,a),t.putImageData(e,0,0),t.globalCompositeOperation=n)}l&&l(g)},16)},Ri.prototype.downloadFullImage=function(l,r,t){var h=this,e=this.get("group").getCanvasBBox(),n=e.height,d=e.width,i=this.get("renderer"),o=Object(m.b)('<div id="virtual-image"></div>'),a=document.querySelector(".g6-graph-watermarker"),f=t?t.backgroundColor:void 0,t=t?t.padding:void 0,s=(t?Object(X.isNumber)(t)&&(t=[t,t,t,t]):t=[0,0,0,0],n+t[0]+t[2]),c=d+t[1]+t[3],a=(a&&(u=(a=this.get("graphWaterMarker").cfg||{}).width,a=a.height,s=Math.ceil(s/a)*a,c=Math.ceil(c/u)*u),{container:o,height:s,width:c}),u=new("svg"===i?kr:Ir).Canvas(a),o=this.get("group").clone(),a=(a=Object(X.clone)(o.getMatrix()))||[1,0,0,0,1,0,0,0,1],p=(e.maxX+e.minX)/2,e=(e.maxY+e.minY)/2,p=(a=ji(a,[["t",-p,-e],["t",d/2+t[3],n/2+t[0]]]),o.resetMatrix(),o.setMatrix(a),u.add(o),u.get("el"));r=r||"image/png",this.asyncToDataUrl(r,f,function(t){var e=document.createElement("a"),n=(l||"graph")+("svg"===i?".svg":".".concat(r.split("/")[1])),t=(h.dataURLToImage(t,i,e,n),document.createEvent("MouseEvents"));t.initEvent("click",!1,!1),e.dispatchEvent(t)},c,s,p)},Ri.prototype.downloadImage=function(t,e,n){var r=this,i=(this.isAnimating()&&this.stopAnimate(),this.get("canvas").getRenderer()),o=(e=e||"image/png",(t||"graph")+("svg"===i?".svg":e.split("/")[1])),a=document.createElement("a");this.asyncToDataUrl(e,n,function(t){r.dataURLToImage(t,i,a,o);t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),a.dispatchEvent(t)})},Ri.prototype.dataURLToImage=function(t,e,n,r){if(t&&"data:"!==t){if("undefined"!=typeof window)if(window.Blob&&window.URL&&"svg"!==e){var i,e=t.split(","),o="";e&&0<e.length&&((i=e[0].match(/:(.*?);/))&&2<=i.length&&(o=i[1]));for(var a=atob(e[1]),s=a.length,c=new Uint8Array(s);s--;)c[s]=a.charCodeAt(s);var u=new Blob([c],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(u,r):n.addEventListener("click",function(){n.download=r,n.href=window.URL.createObjectURL(u)})}else n.addEventListener("click",function(){n.download=r,n.href=t})}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},Ri.prototype.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},Ri.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);0<=n&&(t.destroyPlugin(),e.splice(n,1))},Ri.prototype.setImageWaterMarker=function(t,e){void 0===t&&(t=Hr.waterMarkerImage);var n=this.get("container"),r=((n=Object(X.isString)(n)?document.getElementById(n):n).style.position||(n.style.position="relative"),this.get("graphWaterMarker")),e=Object(X.deepMix)({},Hr.imageWaterMarkerConfig,e),i=e.width,o=e.height,l=e.compatible,a=e.image,s=(r||(e={container:n,width:i,height:o,capture:!1},(i=this.get("pixelRatio"))&&(e.pixelRatio=i),r=new Ir.Canvas(e),this.set("graphWaterMarker",r)),r.get("el").style.display="none",r.get("context")),c=a.rotate,h=a.x,d=a.y,u=(s.rotate(-c*Math.PI/180),new Image);u.crossOrigin="anonymous",u.src=t,u.onload=function(){var t;s.drawImage(u,h,d,a.width,a.height),s.rotate(c*Math.PI/180),l?n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;"):((t=document.querySelector(".g6-graph-watermarker"))||((t=document.createElement("div")).className="g6-graph-watermarker"),t.className="g6-graph-watermarker",r.destroyed||(t.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(t)))}},Ri.prototype.setTextWaterMarker=function(t,e){var n=this.get("container"),r=((n=Object(X.isString)(n)?document.getElementById(n):n).style.position||(n.style.position="relative"),this.get("graphWaterMarker")),e=Object(X.deepMix)({},Hr.textWaterMarkerConfig,e),i=e.width,o=e.height,a=e.compatible,e=e.text,s=(r||(i={container:n,width:i,height:o,capture:!1},(o=this.get("pixelRatio"))&&(i.pixelRatio=o),r=new Ir.Canvas(i),this.set("graphWaterMarker",r)),r.get("el").style.display="none",r.get("context")),o=e.rotate,i=e.fill,c=e.fontFamily,l=e.fontSize,h=e.baseline,d=e.x,f=e.y,p=e.lineHeight;s.rotate(-o*Math.PI/180),s.font="".concat(l,"px ").concat(c),s.fillStyle=i,s.textBaseline=h;for(var u=t.length-1;0<=u;u--)s.fillText(t[u],d,f+u*p);s.rotate(o*Math.PI/180),a?n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;"):((e=document.querySelector(".g6-graph-watermarker"))||((e=document.createElement("div")).className="g6-graph-watermarker"),e.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(e))},Ri.prototype.destroy=function(){Object(X.each)(this.get("plugins"),function(t){t.destroyPlugin()});var t,e=this.get("tooltips");if(e)for(var n=0;n<e.length;n++){var r,i=e[n];!i||(r=i.parentElement)&&r.removeChild(i)}null===(t=this.get("eventController"))||void 0===t||t.destroy(),null===(t=this.get("layoutController"))||void 0===t||t.destroy(),null===(t=this.get("graphWaterMarker"))||void 0===t||t.destroy(),null===(t=document.querySelector(".g6-graph-watermarker"))||void 0===t||t.remove(),Si.prototype.destroy.call(this)},Ri),Di=f.radialLayout,Ti=f.traverseTree,E=(Ai=n,Object(_.c)(Li,Ai),Li.prototype.getLayout=function(){var e=this.get("layout");return e?"function"==typeof e?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="TB"),e.radial?function(t){t=ti.a[e.type](t,e);return Di(t),t}:function(t){return ti.a[e.type](t,e)}):null},Li.indexOfChild=function(t,n){var r=-1;return Object(X.each)(t,function(t,e){if(n===t.id)return r=e,!1}),r},Li.prototype.getDefaultCfg=function(){var t=Ai.prototype.getDefaultCfg.call(this);return t.animate=!0,t},Li.prototype.innerAddChild=function(t,e,n){var r=this,i=t.data,o=(i&&(i.x=t.x,i.y=t.y,i.depth=t.depth),r.addItem("node",i,!1));return e&&(o.set("parent",e),n&&((i=e.get("originAttrs"))?o.set("originAttrs",i):(i=e.getModel(),o.set("originAttrs",{x:i.x,y:i.y}))),(i=e.get("children"))?i.push(o):e.set("children",[o]),r.addItem("edge",{source:e.get("id"),target:o.get("id"),id:"".concat(e.get("id"),":").concat(o.get("id"))},!1)),Object(X.each)(t.children||[],function(t){r.innerAddChild(t,o,n)}),r.emit("afteraddchild",{item:o,parent:e}),o},Li.prototype.innerUpdateChild=function(t,l,e){var n=this,r=n.findById(t.id);if(r){Object(X.each)(t.children||[],function(t){n.innerUpdateChild(t,r,e)});var i,o,a=r.get("children");if(a&&0<a.length)for(var s=a.length-1;0<=s;s--){var c=a[s].getModel();-1===Li.indexOfChild(t.children||[],c.id)&&(n.innerRemoveChild(c.id,{x:t.x,y:t.y},e),a.splice(s,1))}r.get("originAttrs")&&(i=r.get("originAttrs").x,o=r.get("originAttrs").y);var u=r.getModel();e&&r.set("originAttrs",{x:u.x,y:u.y}),r.set("model",t.data),i===t.x&&o===t.y||r.updatePosition({x:t.x,y:t.y})}else n.innerAddChild(t,l,e)},Li.prototype.innerRemoveChild=function(t,e,n){var r,i=this,t=i.findById(t);t&&(Object(X.each)(t.get("children"),function(t){i.innerRemoveChild(t.getModel().id,e,n)}),n?(r=t.getModel(),t.set("to",e),t.set("originAttrs",{x:r.x,y:r.y}),i.get("removeList").push(t)):i.removeItem(t,!1))},Li.prototype.changeData=function(t){var e=this;this.getNodes().map(function(t){return e.clearItemStates(t)}),this.getEdges().map(function(t){return e.clearItemStates(t)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},Li.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon"),this.updateLayout(t)},Li.prototype.updateLayout=function(t){t?(this.set("layout",t),this.set("layoutMethod",this.getLayout()),this.layout()):console.warn("layout cannot be null")},Li.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon"),this.layout(t)},Li.prototype.layout=function(t){var e=this.get("data"),n=this.get("layoutMethod"),n=n?n(e,this.get("layout")):e,r=this.get("animate");this.emit("beforerefreshlayout",{data:e,layoutData:n}),this.emit("beforelayout"),this.innerUpdateChild(n,void 0,r),t&&this.get("viewController").fitView(),r?this.layoutAnimate(n):(this.refresh(),this.paint()),this.emit("afterrefreshlayout",{data:e,layoutData:n}),this.emit("afterlayout")},Li.prototype.addChild=function(t,e){this.emit("beforeaddchild",{model:t,parent:e}),Object(X.isString)(e)||(e=e.get("id"));e=this.findDataById(e);e&&(e.children||(e.children=[]),e.children.push(t),this.changeData())},Li.prototype.updateChildren=function(t,e){e&&this.findById(e)?(this.findDataById(e).children=t,this.changeData()):console.warn("Update children failed! There is no node with id '".concat(e,"'"))},Li.prototype.updateChild=function(t,e){var n;e&&this.findById(e)?(e=this.findDataById(e),n=this.findById(t.id),e.children||(e.children=[]),n?(n=Li.indexOfChild(e.children,t.id),e.children[n]=t):e.children.push(t),this.changeData()):this.changeData(t)},Li.prototype.removeChild=function(t){var e,t=this.findById(t);t&&((e=t.get("parent"))&&!e.destroyed&&(e=(e=this.findDataById(e.get("id")))&&e.children||[],t=t.getModel(),t=Li.indexOfChild(e,t.id),e.splice(t,1)),this.changeData())},Li.prototype.findDataById=function(e,t){var n=this;if(t=t||n.get("data"),e===t.id)return t;var r=null;return Object(X.each)(t.children||[],function(t){return t.id===e?(r=t,!1):!(r=n.findDataById(e,t))&&void 0}),r},Li.prototype.layoutAnimate=function(a,s){var c=this,t=this.get("animateCfg");c.emit("beforeanimate",{data:a}),c.getEdges().forEach(function(t){var e=t.get("model");e.sourceAnchor||(e.sourceAnchor=t.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Ti(a,function(t){var e,n,r,i=c.findById(t.id);return i&&(e=i.get("originAttrs"),n=i.get("model"),e||(e={x:n.x,y:n.y},i.set("originAttrs",e)),s?(r=s(i,o,e,a),i.set("model",Object.assign(n,r))):(n.x=e.x+(t.x-e.x)*o,n.y=e.y+(t.y-e.y)*o)),!0}),Object(X.each)(c.get("removeList"),function(t){var e=t.getModel(),n=t.get("originAttrs"),t=t.get("to");e.x=n.x+(t.x-n.x)*o,e.y=n.y+(t.y-n.y)*o}),c.refreshPositions()},{duration:t.duration,easing:t.ease,callback:function(){Object(X.each)(c.getNodes(),function(t){t.set("originAttrs",null)}),Object(X.each)(c.get("removeList"),function(t){c.removeItem(t)}),c.set("removeList",[]),t.callback&&t.callback(),c.emit("afteranimate",{data:a})},delay:t.delay})},Li.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},Li.prototype.isLayoutAnimating=function(){return this.layoutAnimating},Li.prototype.render=function(){var t=this.get("data");if(!t||!Object(X.isObject)(t)||!Object.keys(t).length)throw new Error("data must be defined first");this.clear(),this.emit("beforerender"),this.layout(this.get("fitView")),this.emit("afterrender")},Li.prototype.save=function(){return this.get("data")},Li),d=(ki.prototype.getDefaultCfgs=function(){return{}},ki.prototype.initPlugin=function(n){var r=this,t=(r.set("graph",n),r.getEvents()),i={};Object(X.each)(t,function(t,e){t=Object(X.wrapBehavior)(r,t);i[e]=t,n.on(e,t)}),this._events=i,this.init()},ki.prototype.getEvents=function(){return{}},ki.prototype.get=function(t){var e;return null===(e=this._cfgs)||void 0===e?void 0:e[t]},ki.prototype.set=function(t,e){this._cfgs[t]=e},ki.prototype.destroy=function(){},ki.prototype.destroyPlugin=function(){this.destroy();var n=this.get("graph"),t=this._events;Object(X.each)(t,function(t,e){n.off(e,t)}),this._events=null,this._cfgs=null,this.destroyed=!0},ki),Ii=(Pi=function(t,e){return(Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},"url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)"),h=function(e){function t(t){return e.call(this,t)||this}var n=t,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=n}return Pi(n,r),n.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i),t.prototype.getDefaultCfgs=function(){return{img:Ii,follow:!0}},t.prototype.init=function(){var t=this.get("graph"),e=t.get("container"),t=t.get("canvas").get("el"),n=this.get("img")||Ii,r=Object(m.b)("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),n=Object(m.b)("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(n,";\n        user-select: none\n        '></div>"));this.set("container",r),this.set("gridContainer",n),this.positionInit(),r.appendChild(n),e.insertBefore(r,t)},t.prototype.positionInit=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("width"),t=t.get("height"),n=(Object(m.e)(this.get("container"),{width:"".concat(n,"px"),height:"".concat(t,"px")}),80*n/e),t=80*t/e;Object(m.e)(this.get("gridContainer"),{width:"".concat(n,"px"),height:"".concat(t,"px"),left:"-".concat(n/2,"px"),top:"-".concat(t/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(t){var e=this.get("gridContainer"),t=(t=t.matrix)||[1,0,0,0,1,0,0,0,1],n=this.get("follow"),n="matrix(".concat(t[0],", ").concat(t[1],", ").concat(t[3],", ").concat(t[4],", ").concat(n?t[6]:"0",", ").concat(n?t[7]:"0",")");Object(m.e)(e,{transform:n})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var t=this.get("graph").get("container"),e=this.get("container");t.removeChild(e)},t}(d),e=t(142),l=t.n(e),p=(Ci=function(t,e){return(Ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ci(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function ki(t){this._cfgs=Object(X.deepMix)(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}function Li(t){t=Ai.call(this,t)||this;return t.layoutAnimating=!1,t.set("removeList",[]),t.set("layoutMethod",t.getLayout()),t}function Ri(t){var t=Si.call(this,t)||this,e=t.get("defaultNode");return e||t.set("defaultNode",{type:"circle"}),e.type||(e.type="circle",t.set("defaultNode",e)),t.destroyed=!1,t}"undefined"!=typeof document&&l()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");p(Ki,Ui=d),Ki.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(t){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>菜单项1</li>\n            <li>菜单项2</li>\n          </ul>\n        "},shouldBegin:function(t){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},Ki.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},Ki.prototype.init=function(){var t=this.get("className"),t=Object(m.b)("<div class=".concat(t||"g6-component-contextmenu","></div>"));Object(m.e)(t,{top:"0px",position:"absolute",visibility:"hidden"});var e=(e=this.get("container"))||this.get("graph").get("container");(e=Object(X.isString)(e)?document.getElementById(e):e).appendChild(t),this.set("menu",t)},Ki.prototype.onMenuShow=function(e){var n,l,h,t,r,i,o,d,a,s,f,c,p=this,u=(e.preventDefault(),this.get("itemTypes"));if(e.item){if(e.item&&e.item.getType&&-1===u.indexOf(e.item.getType()))return void p.onMenuHide()}else if(-1===u.indexOf("canvas"))return void p.onMenuHide();this.get("shouldBegin")(e)&&(u=this.get("menu"),c=this.get("getContent"),n=this.get("graph"),c=c(e,n),Object(X.isString)(c)?u.innerHTML=c:u.innerHTML=c.outerHTML,this.removeMenuEventListener(),(l=this.get("handleMenuClick"))&&(this.set("handleMenuClickWrapper",c=function(t){l(t.target,e.item,n)}),u.addEventListener("click",c)),c=n.get("width"),h=n.get("height"),t=u.getBoundingClientRect(),r=this.get("offsetX")||0,i=this.get("offsetY")||0,o=n.getContainer().offsetTop,d=n.getContainer().offsetLeft,a=e.canvasX+d+r,s=e.canvasY+o+i,a+t.width>c&&(a=e.canvasX-t.width-r+d),s+t.height>h&&(s=e.canvasY-t.height-i+o),Object(m.e)(u,{top:"".concat(s,"px"),left:"".concat(a,"px"),visibility:"visible"}),f="click"===this.get("trigger"),c=function(t){f?f=!1:p.onMenuHide()},document.body.addEventListener("click",c),this.set("handler",c))},Ki.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");t&&(this.get("menu").removeEventListener("click",t),this.set("handleMenuClickWrapper",null)),e&&document.body.removeEventListener("click",e)},Ki.prototype.onMenuHide=function(){var t=this.get("menu");t&&Object(m.e)(t,{visibility:"hidden"}),this.removeMenuEventListener()},Ki.prototype.destroy=function(){var t,e=this.get("menu");this.removeMenuEventListener(),e&&(t=(t=this.get("container"))||this.get("graph").get("container"),(t=Object(X.isString)(t)?document.getElementById(t):t).removeChild(e))};var Bi,Ni,Fi,Ui,v=Ki,b=(Fi=function(t,e){return(Fi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Fi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wi=function(){return(Wi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},zi=Math.max,Gi=L.a.transform,Ze=(b($i,Ni=d),$i.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},$i.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},$i.prototype.disableRefresh=function(){this.set("refresh",!1)},$i.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},$i.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},$i.prototype.initViewport=function(){var t,i,e,o,a,s,c,u,l,h,d,p,g=this,f=this._cfgs,y=f.size,_=f.graph;this.destroyed||(t=this.get("canvas").get("container"),i=Object(m.b)("\n      <div\n        class=".concat(f.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff'\n        draggable=true>\n      </div>")),e=-1<navigator.userAgent.toLowerCase().indexOf("firefox"),s=!1,p=d=h=l=u=c=a=o=0,i.addEventListener("dragstart",function(e){var t,n;if(e.dataTransfer){var r=new Image;r.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(n=(t=e.dataTransfer).setDragImage)||void 0===n||n.call(t,r,0,0);try{e.dataTransfer.setData("text/html","view-port-minimap")}catch(t){e.dataTransfer.setData("text","view-port-minimap")}}f.refresh=!1,e.target===i&&(n=i.style,c=parseInt(n.left,10),u=parseInt(n.top,10),l=parseInt(n.width,10),h=parseInt(n.height,10),l>y[0]||h>y[1]||(p=_.getZoom(),d=g.get("ratio"),s=!0,o=e.clientX,a=e.clientY))},!1),i.addEventListener(e?"dragover":"drag",function(t){var e,n;!s||Object(X.isNil)(t.clientX)||Object(X.isNil)(t.clientY)||(e=o-t.clientX,n=a-t.clientY,(c-e<0||c-e+l>=y[0])&&(e=0),(u-n<0||u-n+h>=y[1])&&(n=0),c-=e,u-=n,Object(m.e)(i,{left:"".concat(c,"px"),top:"".concat(u,"px")}),_.translate(e*p/d,n*p/d),o=t.clientX,a=t.clientY)},!1),i.addEventListener("dragend",function(){s=!1,f.refresh=!0},!1),this.set("viewport",i),t.appendChild(i))},$i.prototype.updateViewport=function(){var t,e,n,r,i,o,a,s,c;this.destroyed||(t=this.get("ratio"),this.get("dx"),this.get("dy"),o=this.get("totaldx"),c=this.get("totaldy"),i=this.get("graph"),e=this.get("size"),n=i.get("width"),r=i.get("height"),a=i.getPointByCanvas(0,0),i=i.getPointByCanvas(n,r),(n=this.get("viewport"))||this.initViewport(),r=(i.x-a.x)*t,i=(i.y-a.y)*t,s=(o=a.x*t+o)+r,c=(a=a.y*t+c)+i,o<0&&(r+=o,o=0),s>e[0]&&(r-=s-e[0]),a<0&&(i+=a,a=0),c>e[1]&&(i-=c-e[1]),this.set("ratio",t),s="".concat(o,"px"),c="".concat(a,"px"),Object(m.e)(n,{left:s,top:c,width:"".concat(r,"px"),height:"".concat(i,"px")}))},$i.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");n.destroyed||((n=n.clone()).resetMatrix(),e.clear(),e.add(n),"svg"===t.get("renderer")&&this.updateVisible(n))},$i.prototype.updateVisible=function(t){var e,n=this;t.isGroup()||t.get("visible")?(e=t.get("children"))&&e.length&&e.forEach(function(t){t.get("visible")||t.hide(),n.updateVisible(t)}):t.hide()},$i.prototype.updateKeyShapes=function(){var e,n=this,t=this._cfgs.graph,r=this.get("canvas"),i=r.get("children")[0]||r.addGroup(),o=(Object(X.each)(t.getEdges(),function(t){n.updateOneEdgeKeyShape(t,i)}),Object(X.each)(t.getNodes(),function(t){n.updateOneNodeKeyShape(t,i)}),t.getCombos());o&&o.length&&(e=i.find(function(t){return"comboGroup"===t.get("name")})||i.addGroup({name:"comboGroup"}),setTimeout(function(){n.destroyed||(Object(X.each)(o,function(t){n.updateOneComboKeyShape(t,e)}),null==e||e.sort(),null==e||e.toBack(),n.updateCanvas())},250)),this.clearDestroyedShapes()},$i.prototype.updateOneComboKeyShape=function(t,e){var n,r,i,o,a,s;this.destroyed||(r=(n=this.get("itemMap")||{})[t.get("id")],i=t.getBBox(),s=(o=t.get("keyShape").clone()).attr(),a={x:i.centerX,y:i.centerY},r?a=Object.assign(s,a):e.add(r=o),"rect"!==(s=r.get("type"))&&"image"!==s||(a.x=i.minX,a.y=i.minY),r.attr(a),t.isVisible()?r.show():r.hide(),r.exist=!0,e=t.getModel().depth,isNaN(e)||r.set("zIndex",e),n[t.get("id")]=r,this.set("itemMap",n))},$i.prototype.updateOneNodeKeyShape=function(t,e){var n=this.get("itemMap")||{},r=n[t.get("id")],i=t.getBBox(),o=t.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY},a=(r?s=Object.assign(a,s):e.add(r=o),r.get("type")),e=("rect"!==a&&"image"!==a||(s.x=i.minX,s.y=i.minY),r.attr(s),t.isVisible()?r.show():r.hide(),r.exist=!0,t.getModel().depth);isNaN(e)||r.set("zIndex",e),n[t.get("id")]=r,this.set("itemMap",n)},$i.prototype.updateDelegateShapes=function(){var e,n=this,t=this._cfgs.graph,r=this.get("canvas"),i=r.get("children")[0]||r.addGroup(),o=(Object(X.each)(t.getEdges(),function(t){n.updateOneEdgeKeyShape(t,i)}),Object(X.each)(t.getNodes(),function(t){n.updateOneNodeDelegateShape(t,i)}),t.getCombos());o&&o.length&&(e=i.find(function(t){return"comboGroup"===t.get("name")})||i.addGroup({name:"comboGroup"}),setTimeout(function(){n.destroyed||(Object(X.each)(o,function(t){n.updateOneComboKeyShape(t,e)}),null==e||e.sort(),null==e||e.toBack(),n.updateCanvas())},250)),this.clearDestroyedShapes()},$i.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(e&&0!==e.length)for(var n=e.length-1;0<=n;n--){var r=t[e[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete t[e[n]])}},$i.prototype.updateOneEdgeKeyShape=function(t,e){var n,r=this.get("itemMap")||{},i=r[t.get("id")];i?(n=t.get("keyShape").attr("path"),i.attr("path",n)):(i=t.get("keyShape").clone(),e.add(i)),t.isVisible()?i.show():i.hide(),i.exist=!0,r[t.get("id")]=i,this.set("itemMap",r)},$i.prototype.updateOneNodeDelegateShape=function(t,e){var n,r=this.get("delegateStyle"),i=this.get("itemMap")||{},o=i[t.get("id")],a=t.getBBox();o?(n={x:a.minX,y:a.minY,width:a.width,height:a.height},o.attr(n)):o=e.addShape("rect",{attrs:Wi({x:a.minX,y:a.minY,width:a.width,height:a.height},r),name:"minimap-node-shape"}),t.isVisible()?o.show():o.hide(),o.exist=!0,i[t.get("id")]=o,this.set("itemMap",i)},$i.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},$i.prototype.initContainer=function(){var t=this.get("graph"),e=this.get("size"),n=this.get("className"),r=this.get("container"),n=Object(m.b)("<div class='".concat(n,"' style='width: ").concat(e[0],"px; height: ").concat(e[1],"px; overflow: hidden'></div>"));((r=Object(X.isString)(r)?document.getElementById(r):r)||t.get("container")).appendChild(n),this.set("container",n);r=Object(m.b)('<div class="g6-minimap-container" style="position: relative;"></div>');n.appendChild(r),r.addEventListener("dragenter",function(t){t.preventDefault()}),r.addEventListener("dragover",function(t){t.preventDefault()}),n=new("svg"===t.get("renderer")?kr:Ir).Canvas({container:r,width:e[0],height:e[1]}),this.set("canvas",n),this.updateCanvas()},$i.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var e=this.get("size"),n=this.get("canvas"),r=this.get("type"),i=this.get("padding");if(!n.destroyed){switch(r){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o,a,s,c,u,r=n.get("children")[0];r&&(r.resetMatrix(),n=r.getCanvasBBox(),o=t.get("canvas").getCanvasBBox(),t=t.getZoom()||1,c=o.width/t,o=o.height/t,Number.isFinite(n.width)&&(c=zi(n.width,c),o=zi(n.height,o)),c+=2*i,o+=2*i,t=Math.min(e[0]/c,e[1]/o),u=[1,0,0,0,1,0,0,0,1],s=a=0,Number.isFinite(n.minX)&&(a=-n.minX),Number.isFinite(n.minY)&&(s=-n.minY),n=(e[0]-(c-2*i)*t)/2,c=(e[1]-(o-2*i)*t)/2,u=Gi(u,[["t",a,s],["s",t,t],["t",n,c]]),r.setMatrix(u),this.set("ratio",t),this.set("totaldx",n+a*t),this.set("totaldy",c+s*t),this.set("dx",n),this.set("dy",c),this.updateViewport())}}}},$i.prototype.getCanvas=function(){return this.get("canvas")},$i.prototype.getViewport=function(){return this.get("viewport")},$i.prototype.getContainer=function(){return this.get("container")},$i.prototype.destroy=function(){null===(t=this.get("canvas"))||void 0===t||t.destroy();var t=this.get("container");null!=t&&t.parentNode&&t.parentNode.removeChild(t)},$i);function $i(t){var n=Ni.call(this,t)||this;return n.handleUpdateCanvas=Object(X.debounce)(function(t){var e=n;e.destroyed||e.updateCanvas()},100,!1),n}function Ki(t){return Ui.call(this,t)||this}function Vi(t,e,n){var r=t.x-e.x,t=t.y-e.y;return!n||Math.abs(r)>n||Math.abs(t)>n?Math.sqrt(r*r+t*t):n}function Xi(t,e){var n=(e.source.y-e.target.y)/(e.source.x-e.target.x),t=(n*n*e.source.x+n*(t.y-e.source.y)+t.x)/(n*n+1);return{x:t,y:n*(t-e.source.x)+e.source.y}}Bi=function(t,e){return(Bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Bi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(eo,Zi=d),eo.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},eo.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick");this.set("tick",function(){e&&e(),t.refreshPositions()})},eo.prototype.bundling=function(t){var o=this;if(o.set("data",t),!o.isTicking()){var e=t.edges||[],t=t.nodes||[],a={},n=!1;if(t.forEach(function(t){null!==t.x&&null!==!t.y&&void 0!==t.x?t.y:n=!0,a[t.id]=t}),n)throw new Error("please layout the graph or assign x and y for nodes first");o.set("nodeIdMap",a);var s=o.get("divisions"),l=o.get("divRate"),c=o.divideEdges(s),t=(o.set("edgePoints",c),o.getEdgeBundles());o.set("edgeBundles",t);for(var h=o.get("cycles"),r=o.get("iterations"),d=o.get("iterRate"),u=o.get("lambda"),i=0;i<h;i++){for(var f=0;f<r;f++)!function(){var i=[];e.forEach(function(t,e){if(t.source!==t.target){var n=a[t.source],t=a[t.target];i[e]=o.getEdgeForces({source:n,target:t},e,s,u);for(var r=0;r<s+1;r++)c[e][r].x+=i[e][r].x,c[e][r].y+=i[e][r].y}})}();u/=2,s*=l,r*=d,c=o.divideEdges(s),o.set("edgePoints",c)}e.forEach(function(t,e){t.source!==t.target&&(t.type="polyline",t.controlPoints=c[e].slice(1,c[e].length-1))}),o.get("graph").refresh()}},eo.prototype.updateBundling=function(e){var t,n=this,r=e.data;r&&n.set("data",r),n.get("ticking")&&n.set("ticking",!1),Object.keys(e).forEach(function(t){n.set(t,e[t])}),e.onTick&&(t=this.get("graph"),n.set("tick",function(){e.onTick(),t.refresh()})),n.bundling(r)},eo.prototype.divideEdges=function(n){var r=this,t=r.get("data").edges,i=r.get("nodeIdMap"),u=r.get("edgePoints");return u&&void 0!==u||(u=[]),t.forEach(function(t,o){u[o]&&void 0!==u[o]||(u[o]=[]);var a,s,c,e=i[t.source],t=i[t.target];1===n?(u[o].push({x:e.x,y:e.y}),u[o].push({x:.5*(e.x+t.x),y:.5*(e.y+t.y)}),u[o].push({x:t.x,y:t.y})):(a=(u[o]&&u[o]!==[]?r.getEdgeLength(u[o]):Vi({x:e.x,y:e.y},{x:t.x,y:t.y}))/(n+1),s=a,c=[{x:e.x,y:e.y}],u[o].forEach(function(t,e){if(0!==e){for(var n=Vi(t,u[o][e-1]);s<n;){var r=s/n,i={x:u[o][e-1].x,y:u[o][e-1].y};i.x+=r*(t.x-u[o][e-1].x),i.y+=r*(t.y-u[o][e-1].y),c.push(i),n-=s,s=a}s-=n}}),c.push({x:t.x,y:t.y}),u[o]=c)}),u},eo.prototype.getEdgeLength=function(n){var r=0;return n.forEach(function(t,e){0!==e&&(r+=Vi(t,n[e-1]))}),r},eo.prototype.getEdgeBundles=function(){var a=this,e=a.get("data").edges||[],s=a.get("bundleThreshold"),c=a.get("nodeIdMap"),u=(u=a.get("edgeBundles"))||[];return e.forEach(function(t,e){u[e]&&void 0!==u[e]||(u[e]=[])}),e.forEach(function(t,r){var i=c[t.source],o=c[t.target];e.forEach(function(t,e){var n;e<=r||(n=c[t.source],t=c[t.target],a.getBundleScore({source:i,target:o},{source:n,target:t})>=s&&(u[r].push(e),u[e].push(r)))})}),u},eo.prototype.getBundleScore=function(t,e){return t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Vi({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Vi({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),this.getAngleScore(t,e)*this.getScaleScore(t,e)*this.getPositionScore(t,e)*this.getVisibilityScore(t,e)},eo.prototype.getAngleScore=function(t,e){return n={x:t.vx,y:t.vy},r={x:e.vx,y:e.vy},(n.x*r.x+n.y*r.y)/(t.length*e.length);var n,r},eo.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2;return 2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n)},eo.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2;return n/(n+Vi({x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},{x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2}))},eo.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),e=this.getEdgeVisibility(e,t);return n<e?n:e},eo.prototype.getEdgeVisibility=function(t,e){var n=Xi(e.source,t),e=Xi(e.target,t),r={x:(n.x+e.x)/2,y:(n.y+e.y)/2},t={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Vi(r,t)/Vi(n,e))},eo.prototype.getEdgeForces=function(t,e,n,r){for(var i=this.get("edgePoints"),l=this.get("K")/(Vi(t.source,t.target)*(n+1)),o=[{x:0,y:0}],a=1;a<n;a++){var s={x:0,y:0},c=this.getSpringForce({pre:i[e][a-1],cur:i[e][a],next:i[e][a+1]},l),u=this.getElectrostaticForce(a,e);s.x=r*(c.x+u.x),s.y=r*(c.y+u.y),o.push(s)}return o.push({x:0,y:0}),o},eo.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,t=t.pre.y+t.next.y-2*t.cur.y;return{x:n*=e,y:t*=e}},eo.prototype.getElectrostaticForce=function(n,r){var i=this.get("eps"),t=this.get("edgeBundles"),o=this.get("edgePoints"),t=t[r],a={x:0,y:0};return t.forEach(function(t){var e={x:o[t][n].x-o[r][n].x,y:o[t][n].y-o[r][n].y};(Math.abs(e.x)>i||Math.abs(e.y)>i)&&(t=1/Vi(o[t][n],o[r][n]),a.x+=e.x*t,a.y+=e.y*t)}),a},eo.prototype.isTicking=function(){return this.get("ticking")},eo.prototype.getSimulation=function(){return this.get("forceSimulation")},eo.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),Zi.prototype.destroy.call(this)};Ke=eo;qi=function(t,e){return(qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Yi,Hi,qi,Zi,Qi=function(){return(Qi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ji={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},e=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(to,Hi=d),to.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(X.clone)(Ji),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},to.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"}}return t},to.prototype.init=function(){var t=this.get("r"),e=(this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{}),this.set("r2",t*t),this.get("d"));this.set("molecularParam",(e+1)*t)},to.prototype.createDelegate=function(t){var e=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(t),(r=n.get("delegate")).on("dragstart",function(t){n.set("delegateCenterDiff",{x:r.attr("x")-t.x,y:r.attr("y")-t.y})}),r.on("drag",function(t){n.magnify(t)}),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",function(t){e.scaleDByWheel(t)}),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",function(t){n.scaleRByWheel(t)}))},to.prototype.scaleRByWheel=function(t){var e,n,r,i,o,a;t&&t.originalEvent&&(t.preventDefault&&t.preventDefault(),e=this.get("graph"),n=((n=this.get("delegate"))?{x:n.attr("x"),y:n.attr("y")}:void 0)||e.getPointByClient(t.clientX,t.clientY),r=t.originalEvent.wheelDelta<0?.95:1/.95,a=this.get("maxR"),i=this.get("minR"),((o=this.get("r"))>(a||e.get("height"))&&1<r||o<(i||.05*e.get("height"))&&r<1)&&(r=1),this.set("r",o*=r),this.set("r2",o*o),a=this.get("d"),this.set("molecularParam",(a+1)*o),this.set("delegateCenterDiff",void 0),this.magnify(t,n))},to.prototype.scaleRByDrag=function(t){var e,n,r,i,o,a;t&&(r=this.get("dragPrePos"),n=(e=this.get("graph")).getPointByClient(t.clientX,t.clientY),r=t.x-r.x<0?.95:1/.95,a=this.get("maxR"),i=this.get("minR"),((o=this.get("r"))>(a||e.get("height"))&&1<r||o<(i||.05*e.get("height"))&&r<1)&&(r=1),this.set("r",o*=r),this.set("r2",o*o),a=this.get("d"),this.set("molecularParam",(a+1)*o),this.magnify(t,n),this.set("dragPrePos",{x:t.x,y:t.y}))},to.prototype.scaleDByWheel=function(t){var e,n,r;(t||t.originalEvent)&&(t.preventDefault&&t.preventDefault(),r=t.originalEvent.wheelDelta<(r=0)?-.1:.1,r=this.get("d")+r,e=this.get("maxD"),n=this.get("minD"),r<e&&n<r&&(this.set("d",r),e=this.get("r"),this.set("molecularParam",(r+1)*e),r=(n=this.get("delegate"))?{x:n.attr("x"),y:n.attr("y")}:void 0,this.set("delegateCenterDiff",void 0),this.magnify(t,r)))},to.prototype.scaleDByDrag=function(t){var e=this.get("dragPrePos"),e=0<t.x-e.x?.1:-.1,e=this.get("d")+e,n=this.get("maxD"),r=this.get("minD");e<n&&r<e&&(this.set("d",e),n=this.get("r"),this.set("molecularParam",(e+1)*n),this.magnify(t)),this.set("dragPrePos",{x:t.x,y:t.y})},to.prototype.magnify=function(l,t){this.restoreCache();var h=this.get("graph"),d=this.get("cachedMagnifiedModels"),e=this.get("cachedOriginPositions"),f=this.get("showLabel"),n=this.get("r"),p=this.get("r2"),g=this.get("d"),y=this.get("molecularParam"),_=h.getNodes(),m=_.length,r=t?{x:t.x,y:t.y}:{x:l.x,y:l.y},t=(!this.get("dragging")||"mousemove"!==this.get("trigger")&&"click"!==this.get("trigger")||(r=this.get("cacheCenter")),this.get("delegateCenterDiff"));t&&(r.x+=t.x,r.y+=t.y),this.updateDelegate(r,n);for(var i=0;i<m;i++){var o=_[i].getModel(),a=o.x,s=o.y;if(!isNaN(a)&&!isNaN(s)){var c=(a-r.x)*(a-r.x)+(s-r.y)*(s-r.y);if(!isNaN(c)&&c<p&&0!=c){var c=Math.sqrt(c),v=y*c/(g*c+n),b=(a-r.x)/c,O=(s-r.y)/c;if(o.x=b*v+r.x,o.y=O*v+r.y,e[o.id]||(e[o.id]={x:a,y:s,texts:[]}),d.push(o),f&&2*c<n)for(var x=_[i].getContainer().getChildren(),E=x.length,w=0;w<E;w++){var u=x[w];"text"===u.get("type")&&(e[o.id].texts.push({visible:u.get("visible"),shape:u}),u.set("visible",!0))}}}}h.refreshPositions()},to.prototype.restoreCache=function(){for(var t=this.get("cachedMagnifiedModels"),e=this.get("cachedOriginPositions"),n=t.length,r=0;r<n;r++){var i=t[r],o=e[i.id];i.x=o.x,i.y=o.y;for(var a=o.texts.length,s=0;s<a;s++){var c=o.texts[s];c.shape.set("visible",c.visible)}}this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{})},to.prototype.updateParams=function(t){var e=t.r,n=t.d,r=t.trigger,i=t.minD,o=t.maxD,a=t.minR,l=t.maxR,s=t.scaleDBy,c=t.scaleRBy;isNaN(t.r)||(this.set("r",e),this.set("r2",e*e)),isNaN(n)||this.set("d",n),isNaN(o)||this.set("maxD",o),isNaN(i)||this.set("minD",i),isNaN(l)||this.set("maxR",l),isNaN(a)||this.set("minR",a);var u,t=this.get("d"),e=this.get("r");this.set("molecularParam",(t+1)*e),"mousemove"!==r&&"click"!==r&&"drag"!==r||this.set("trigger",r),"drag"!==s&&"wheel"!==s&&"unset"!==s||(this.set("scaleDBy",s),this.get("delegate").remove(),this.get("delegate").destroy(),(u=this.get("dPercentText"))&&(u.remove(),u.destroy())),"drag"!==c&&"wheel"!==c&&"unset"!==c||(this.set("scaleRBy",c),this.get("delegate").remove(),this.get("delegate").destroy(),(u=this.get("dPercentText"))&&(u.remove(),u.destroy()))},to.prototype.updateDelegate=function(t,e){var n,r,i=this,o=this,a=o.get("graph"),s=o.get("delegate");!s||s.destroyed?(n=a.get("group"),r=o.get("delegateStyle")||Ji,s=n.addShape("circle",{attrs:Qi({r:e/1.5,x:t.x,y:t.y},r),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?s.on("mousewheel",function(t){o.scaleRByWheel(t)}):"drag"===this.get("scaleRBy")&&(s.on("dragstart",function(t){o.set("dragging",!0),o.set("cacheCenter",{x:t.x,y:t.y}),o.set("dragPrePos",{x:t.x,y:t.y})}),s.on("drag",function(t){o.scaleRByDrag(t)}),s.on("dragend",function(t){o.set("dragging",!1)})),"wheel"===this.get("scaleDBy")?s.on("mousewheel",function(t){i.scaleDByWheel(t)}):"drag"===this.get("scaleDBy")&&(s.on("dragstart",function(t){o.set("dragging",!0),o.set("cacheCenter",{x:t.x,y:t.y}),o.set("dragPrePos",{x:t.x,y:t.y})}),s.on("drag",function(t){i.scaleDByDrag(t)}),s.on("dragend",function(t){o.set("dragging",!1)})))):s.attr({x:t.x,y:t.y,r:e/1.5}),o.get("showDPercent")&&(n=Math.round((o.get("d")-o.get("minD"))/(o.get("maxD")-o.get("minD"))*100),r=o.get("dPercentText"),e=t.y+e/1.5+16,!r||r.destroyed?(r=a.get("group").addShape("text",{attrs:{text:"".concat(n,"%"),x:t.x,y:e,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),o.set("dPercentText",r)):r.attr({text:"".concat(n,"%"),x:t.x,y:e})),o.set("delegate",s)},to.prototype.clear=function(){var t=this.get("graph"),t=(this.restoreCache(),t.refreshPositions(),this.get("delegate")),t=(t&&!t.destroyed&&(t.remove(),t.destroy()),this.get("dPercentText"));t&&!t.destroyed&&(t.remove(),t.destroy())},to.prototype.destroy=function(){this.clear()},to),p=(Yi=function(t,e){return(Yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Yi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function to(t){return Hi.call(this,t)||this}function eo(t){return Zi.call(this,t)||this}"undefined"!=typeof document&&l()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");p(io,ro=d),io.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(t){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},io.prototype.init=function(){var e=this,n=this.get("graph"),t=this.get("getContent")(n),r=t,t=(Object(X.isString)(t)&&(r=Object(m.b)(t)),this.get("className"));r.setAttribute("class",t||"g6-component-toolbar");var t=(t=this.get("container"))||this.get("graph").get("container"),i=((t=Object(X.isString)(t)?document.getElementById(t):t).appendChild(r),this.set("toolBar",r),this.get("handleClick")),t=(r.addEventListener("click",function(t){var t=function(t){if(!t)return[];if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;){if(e.push(n),"HTML"===n.tagName)return e.push(document,window),e;n=n.parentElement}return e}(t).filter(function(t){return"LI"===t.nodeName});0===t.length||(t=t[0].getAttribute("code"))&&(i?i(t,n):e.handleDefaultOperator(t,n))}),this.get("position"));t&&Object(m.e)(r,{top:"".concat(t.y,"px"),left:"".concat(t.x,"px")}),this.bindUndoRedo()},io.prototype.bindUndoRedo=function(){var t=this.get("graph"),n=document.querySelector('.g6-component-toolbar li[code="undo"]'),r=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),i=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');n&&r&&i&&o&&t.on("stackchange",function(t){var e=t.undoStack,t=t.redoStack,e=e.length,t=t.length;1===e?(n.setAttribute("style","cursor: not-allowed"),r.setAttribute("style","opacity: 0.4")):(n.removeAttribute("style"),r.removeAttribute("style")),0===t?(i.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(i.removeAttribute("style"),o.removeAttribute("style"))})},io.prototype.undo=function(){var n=this.get("graph"),t=n.getUndoStack();if(t&&1!==t.length){t=t.pop();if(t){var e=t.action,r=(n.pushStack(e,Object(X.clone)(t.data),"redo"),t.data.before);if(r="add"===e?t.data.after:r)switch(e){case"visible":Object.keys(r).forEach(function(t){t=r[t];t&&t.forEach(function(t){var e=n.findById(t.id);t.visible?n.showItem(e,!1):n.hideItem(e,!1)})});break;case"render":case"update":Object.keys(r).forEach(function(t){t=r[t];t&&t.forEach(function(t){n.updateItem(t.id,t,!1)})});break;case"changedata":n.changeData(r,!1);break;case"delete":Object.keys(r).forEach(function(t){t=r[t];t&&t.forEach(function(t){var e=t.itemType;delete t.itemType,n.addItem(e,t,!1)})});break;case"add":Object.keys(r).forEach(function(t){t=r[t];t&&t.forEach(function(t){n.removeItem(t.id,!1)})});break;case"updateComboTree":Object.keys(r).forEach(function(t){t=r[t];t&&t.forEach(function(t){n.updateComboTree(t.id,t.parentId,!1)})})}}}},io.prototype.redo=function(){var n=this.get("graph"),t=n.getRedoStack();if(t&&0!==t.length){t=t.pop();if(t){var e=t.action,r=t.data.after;if(n.pushStack(e,Object(X.clone)(t.data)),r="delete"===e?t.data.before:r)switch(e){case"visible":Object.keys(r).forEach(function(t){t=r[t];t&&t.forEach(function(t){var e=n.findById(t.id);t.visible?n.showItem(e,!1):n.hideItem(e,!1)})});break;case"render":case"update":Object.keys(r).forEach(function(t){t=r[t];t&&t.forEach(function(t){n.updateItem(t.id,t,!1)})});break;case"changedata":n.changeData(r,!1);break;case"delete":r.edges&&r.edges.forEach(function(t){n.removeItem(t.id,!1)}),r.nodes&&r.nodes.forEach(function(t){n.removeItem(t.id,!1)}),r.combos&&r.combos.forEach(function(t){n.removeItem(t.id,!1)});break;case"add":Object.keys(r).forEach(function(t){t=r[t];t&&t.forEach(function(t){var e=t.itemType;delete t.itemType,n.addItem(e,t,!1)})});break;case"updateComboTree":Object.keys(r).forEach(function(t){t=r[t];t&&t.forEach(function(t){n.updateComboTree(t.id,t.parentId,!1)})})}}}},io.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":var r=1/(1-.05*this.get("zoomSensitivity"));if(r*n>(this.get("maxZoom")||e.get("maxZoom")))return;e.zoomTo(n*r);break;case"zoomIn":r=1-.05*this.get("zoomSensitivity");if(r*n<(this.get("minZoom")||e.get("minZoom")))return;e.zoomTo(n*r);break;case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20])}},io.prototype.destroy=function(){var t=this.get("toolBar"),e=(t&&(e=(e=this.get("container"))||this.get("graph").get("container"),(e=Object(X.isString)(e)?document.getElementById(e):e).removeChild(t)),this.get("handleClick"));e&&t.removeEventListener("click",e)};var no,ro,b=io,p=(no=function(t,e){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}no(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function io(t){return ro.call(this,t)||this}"undefined"!=typeof document&&l()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");p(so,oo=d),so.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(t){return"\n          <h4 class='tooltip-type'>类型：".concat(t.item.getType(),"</h4>\n          <span class='tooltip-id'>ID：").concat(t.item.getID(),"</span>\n        ")},shouldBegin:function(t){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},so.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},so.prototype.init=function(){var e=this,t=e.get("className")||"g6-component-tooltip",n=Object(m.b)("<div class=".concat(t,"></div>")),t=(t=e.get("container"))||e.get("graph").get("container");Object(X.isString)(t)&&(t=document.getElementById(t)),Object(m.e)(n,{position:"absolute",visibility:"hidden",display:"none"}),t.appendChild(n),"click"!==e.get("trigger")&&(n.addEventListener("mouseenter",function(t){Object(m.e)(n,{visibility:"visible",display:"unset"})}),n.addEventListener("mouseleave",function(t){e.hideTooltip()})),e.set("tooltip",n)},so.prototype.onClick=function(t){var e,n=this.get("itemTypes");t.item&&t.item.getType&&-1===n.indexOf(t.item.getType())||(n=t.item,e=this.get("graph"),this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),e.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),e.emit("tooltipchange",{item:t.item,action:"show"})))},so.prototype.onMouseEnter=function(t){var e,n=this.get("itemTypes");t.item&&t.item.getType&&-1===n.indexOf(t.item.getType())||(n=t.item,e=this.get("graph"),this.currentTarget=n,this.showTooltip(t),e.emit("tooltipchange",{item:t.item,action:"show"}))},so.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&-1===e.indexOf(t.item.getType())||this.currentTarget&&t.item===this.currentTarget&&this.showTooltip(t)},so.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},so.prototype.clearContainer=function(){var t=this.get("tooltip");t&&(t.innerHTML="")},so.prototype.showTooltip=function(t){var e,n;t.item&&(e=this.get("itemTypes"),t.item.getType&&-1===e.indexOf(t.item.getType())||(e=this.get("tooltip"),n=this.get("getContent")(t),Object(X.isString)(n)?e.innerHTML=n:(this.clearContainer(),e.appendChild(n)),this.updatePosition(t)))},so.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Object(m.e)(t,{visibility:"hidden",display:"none"})},so.prototype.updatePosition=function(t){var e,n,r,i,o,a,s=this.get("shouldBegin"),c=this.get("tooltip");s(t)?(e=(s=this.get("graph")).get("width"),n=s.get("height"),r=this.get("offsetX")||0,i=this.get("offsetY")||0,a=s.getPointByClient(t.clientX,t.clientY),o=this.get("fixToNode"),(t=t.item).getType&&"node"===t.getType()&&o&&Object(X.isArray)(o)&&2<=o.length&&(a={x:(t=t.getBBox()).minX+t.width*o[0],y:t.minY+t.height*o[1]}),o=(t=s.getCanvasByPoint(a.x,a.y)).x,a=t.y,s={x:o+(t=s.getContainer()).offsetLeft+r,y:a+t.offsetTop+i},Object(m.e)(c,{visibility:"visible",display:"unset"}),o+(t=c.getBoundingClientRect()).width+r>e&&(s.x-=t.width+r),a+t.height+i>n&&(s.y-=t.height+i),Object(m.e)(c,{left:"".concat(s.x,"px"),top:"".concat(s.y,"px")})):Object(m.e)(c,{visibility:"hidden",display:"none"})},so.prototype.hide=function(){this.onMouseLeave()},so.prototype.destroy=function(){var t,e=this.get("tooltip");e&&(t=(t=this.get("container"))||this.get("graph").get("container"),(t=Object(X.isString)(t)?document.getElementById(t):t).removeChild(e))};var oo,l=so,ao=t(69);function so(t){return oo.call(this,t)||this}function co(t){return t=t,Object(X.map)(t,function(t,e){return[0===e?"M":"L",t[0],t[1]]})}function uo(t,l,h,d){void 0===d&&(d=5);for(var e,n,r,i,o,f=new ao.b({values:t}),p=new ao.a({values:Object(X.map)(t,function(t,e){return e})}),g=Object(X.map)(t,function(t,e){return[p.scale(e)*l,h-f.scale(t)*h]}),y=[],_=0;_<g.length;_++){var a=g[_],a=(a={x:a[0],y:a[1],y0:h,size:d},r=o=i=r=n=e=void 0,r=a.x,i=a.y,o=a.y0,a=a.size,o=Object(X.isArray)(i)?(e=i[0],i[1]):(e=o,i),i=Object(X.isArray)(r)?(n=r[0],r[1]):(n=r-a/2,r+a/2),(r=[{x:n,y:e},{x:n,y:o}]).push({x:i,y:o},{x:i,y:e}),r);y.push.apply(y,a)}var s=y,t=void 0,c=(void 0===t&&(t=!0),[]),u=s[0];c.push(["M",u.x,u.y]);for(var m=1,v=s.length;m<v;m++)c.push(["L",s[m].x,s[m].y]);return t&&(c.push(["L",u.x,u.y]),c.push(["z"])),c}function lo(t,e,n,r){var i,t=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],t,!0),r=(n=n,r=new ao.b({values:r}),i=Math.max(0,r.min),n-r.scale(i)*n);return t.push(["L",e,r]),t.push(["L",0,r]),t.push(["Z"]),t}var ho=function(){return(ho=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},fo={stroke:"#C5C5C5",strokeOpacity:.85},po={fill:"#CACED4",opacity:.85},go=(aa.prototype.renderLine=function(){var t,n,r,i,l,e=this,h=e.x,d=e.y,o=e.width,a=e.height,s=(e.barWidth,e.data),c=e.smooth,f=e.isArea,p=e.lineStyle,e=e.areaStyle,u=this.group.addGroup({name:"trend-group"});s&&(t=s,n=o,r=a,void 0===(c=c)&&(c=!0),i=new ao.b({values:t}),l=new ao.a({values:Object(X.map)(t,function(t,e){return e})}),t=Object(X.map)(t,function(t,e){return[l.scale(e)*n,r-i.scale(t)*r]}),c=(c?function(t){if(t.length<=2)return co(t);var e=[],n=(Object(X.each)(t,function(t){Object(X.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])}),qn.a(e,!1)),t=Object(X.head)(t),r=t[0],t=t[1];return n.unshift(["M",r,t]),n}:co)(t),u.addShape("path",{attrs:ho({path:c},p),name:"trend-line"}),f&&(t=lo(c,o,a,s),u.addShape("path",{attrs:ho({path:t},e),name:"trend-area"}))),this.intervalConfig&&u.addShape("path",{attrs:ho({path:uo(this.intervalConfig.data,o,a,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),u.move(h,d)},aa.prototype.destory=function(){this.group.destroy()},aa),yo=function(){return(yo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},_o={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},mo={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},vo=(oa.prototype.setX=function(t){this.setXY(t,void 0)},oa.prototype.setY=function(t){this.setXY(void 0,t)},oa.prototype.setXY=function(t,e){Object(X.isNumber)(t)&&(this.x=t),Object(X.isNumber)(e)&&(this.y=e),this.updateXY()},oa.prototype.renderHandle=function(){var t=this.width,e=this.height,n=this.style,r=this.name,i=n.fill,o=n.stroke,a=n.radius,s=n.opacity,n=n.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:i,stroke:o,radius:a,opacity:s,cursor:n},name:"".concat(r,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:i,stroke:o,radius:a,opacity:s,cursor:n,lineAppendWidth:12},name:"".concat(r,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:i,stroke:o,radius:a,opacity:s,cursor:n},name:"".concat(r,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:i,stroke:o,radius:a,opacity:s,cursor:n,lineWidth:2},name:"".concat(r,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},oa.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var t=e.style.highLightFill;e.topCircle.attr("fill",t)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var t=e.style.fill;e.topCircle.attr("fill",t)})},oa.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var t=e.style.highLightFill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var t=e.style.fill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)})},oa.prototype.show=function(){this.handleGroup.show()},oa.prototype.hide=function(){this.handleGroup.hide()},oa.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},oa),bo=function(){return(bo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Oo=(ia.prototype.update=function(t){this.config=Object(X.deepMix)({},this.config,t),this.updateElement(),this.renderMarker()},ia.prototype.init=function(){this.initElement(),this.renderMarker()},ia.prototype.initElement=function(){var t=this.config,e=t.group,t=t.style,n=t.scale,n=void 0===n?1:n,r=t.offsetX,i=t.offsetY,r=this.config.x+(void 0===r?0:r),i=this.config.y+(void 0===i?0:i),o=e.addGroup({name:"playPauseBtn"}),e=(this.startMarkerGroup=o.addGroup({name:"playPauseBtn"}),this.circle=e.addShape("circle",{attrs:bo({x:r,y:i,r:this.config.r*n},t),name:"playPauseBtn"}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(r,i,n),fill:t.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=o.addGroup({name:"playPauseBtn"}),.25*this.config.r*n),o=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:r-.375*this.config.r*n,y:i-o/2,width:e,height:o,fill:t.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:r+1/8*this.config.r*n,y:i-o/2,width:e,height:o,fill:t.stroke||"#aaa",lineWidth:0}})},ia.prototype.updateElement=function(){var t=this.config.style,e=t.scale,e=void 0===e?1:e,n=t.offsetX,t=t.offsetY,n=this.config.x+(void 0===n?0:n),t=this.config.y+(void 0===t?0:t),r=(this.circle.attr("x",n),this.circle.attr("y",t),this.circle.attr("r",this.config.r*e),this.startMarker.attr("path",this.getStartMarkerPath(n,t,e)),.25*this.config.r*e),i=.5*this.config.r*Math.sqrt(3)*e;this.pauseLeftMarker.attr("x",n-.375*this.config.r*e),this.pauseLeftMarker.attr("y",t-i/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",i),this.pauseRightMarker.attr("x",n+1/8*this.config.r*e),this.pauseRightMarker.attr("y",t-i/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",i)},ia.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},ia.prototype.getStartMarkerPath=function(t,e,n){n=.5*this.config.r*Math.sqrt(3)*n;return[["M",t-n/Math.sqrt(3)/2,e-n/2],["L",t+n/Math.sqrt(3),e],["L",t-n/Math.sqrt(3)/2,e+n/2]]},ia),xo=function(){return(xo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Eo=L.a.transform,wo={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},Mo={fill:"#fff"},Po={fill:"green"},Co={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},Ao={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},So={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:Co,timeTypeControllerStyle:Ao},jo=(ra.prototype.init=function(){this.renderPlayButton()},ra.prototype.getNextMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t+n,e],["L",t,e+n],["Z",t,e-n],["M",t,e],["L",t-n,e-n],["L",t-n,e+n],["Z"]]},ra.prototype.getPreMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t-n,e],["L",t,e+n],["L",t,e-n],["M",t,e],["L",t+n,e-n],["L",t+n,e+n],["Z"]]},ra.prototype.renderPlayButton=function(){var t=this.controllerCfg,e=t.width,n=t.height,r=t.x,i=t.y,l=t.hideTimeTypeController,o=t.fill,o=void 0===o?"#aaa":o,a=t.stroke,a=void 0===a?"green":a,s=t.containerStyle,s=void 0===s?{}:s,h=xo(xo({},wo),t.playBtnStyle||{}),c=xo(xo({},Mo),t.preBtnStyle||{}),t=xo(xo({},Po),t.nextBtnStyle||{}),u=n/2-5,i=i+10,r=this.controllerGroup.addShape("rect",{attrs:xo({x:r,y:i,width:e,height:n,stroke:a,fill:o},s),name:"container-rect"}),n=(this.playButton?this.playButton.update({x:e/2,y:i,r:u}):this.playButton=new Oo({group:this.controllerGroup,x:e/2,y:i+u+5,r:u,isPlay:this.isPlay,style:h}),c.offsetX||0),a=c.offsetY||0,o=(c.scale||1)*u,s=(this.controllerGroup.addShape("path",{attrs:xo({path:this.getPreMarkerPath(e/2-5*u+n,i+u+5+a,.5*o)},c),name:"preStepBtn"}),t.offsetX||0),h=t.offsetY||0,n=(t.scale||1)*u,a=(this.controllerGroup.addShape("path",{attrs:xo({path:this.getNextMarkerPath(e/2+5*u+s,i+u+5+h,.5*n)},t),name:"nextStepBtn"}),r.toBack(),this.renderSpeedBtn(),l||this.renderToggleTime(),this.bindEvent(),this.controllerCfg.scale),o=void 0===a?1:a,c=this.controllerGroup.getCanvasBBox(),e=(c.maxX+c.minX)/2,s=(c.maxY+c.minY)/2,i=Eo([1,0,0,0,1,0,0,0,1],[["t",-e,-s],["s",o,o],["t",e,s]]);this.controllerGroup.setMatrix(i)},ra.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,l=t.y,e=t.width,n=t.hideTimeTypeController,t=xo(xo({},Co),this.controllerCfg.speedControllerStyle||{}),r=t.scroller,h=void 0===r?{}:r,r=t.text,r=void 0===r?{}:r,i=t.pointer,i=void 0===i?{}:i,o=t.scale,o=void 0===o?1:o,a=t.offsetX,a=void 0===a?0:a,t=t.offsetY,t=void 0===t?0:t,s=this.controllerGroup.addGroup({name:"speed-group"}),d=(this.speedGroup=s,[]),c=5;this.speedAxisY=[19,22,26,32,39];for(var u=0;u<5;u++){var f=l+this.speedAxisY[u],p=e-(n?50:110);s.addShape("line",{attrs:xo({x1:p,x2:15+p,y1:f,y2:f},h),speed:c,name:"speed-rect"}),this.speedAxisY[u]=f,d.push(c),--c}this.speedText=s.addShape("text",{attrs:xo({x:e-(n?50:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},r),name:"speed-text"}),this.speedPoint=s.addShape("path",{attrs:xo({path:this.getPointerPath(e-(n?50:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},i),name:"speed-pointer"});var r=this.speedGroup.getCanvasBBox(),i=(r.maxX+r.minX)/2,r=(r.maxY+r.minY)/2,g=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1],g=Eo(g,[["t",-i,-r],["s",o,o],["t",i+a*o,r+t*o]]);this.speedGroup.setMatrix(g)},ra.prototype.getPointerPath=function(t,e){return[["M",t,e],["L",t-10,e-4],["L",t-10,e+4],["Z"]]},ra.prototype.renderToggleTime=function(){var t=this.controllerCfg.width,e=xo(xo({},Ao),this.controllerCfg.timeTypeControllerStyle||{}),n=e.scale,n=void 0===n?1:n,r=e.offsetX,r=void 0===r?0:r,i=e.offsetY,i=void 0===i?0:i,o=e.box,o=void 0===o?{}:o,a=e.check,a=void 0===a?{}:a,e=e.text,e=void 0===e?{}:e,a=(this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:xo({x:t-50,y:this.speedAxisY[0]+3.5},o),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:xo({path:[["M",t-50+3,this.speedAxisY[1]+6],["L",t-50+7,this.speedAxisY[1]+10],["L",t-50+12,this.speedAxisY[1]+4]]},a),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:xo({text:(null===(o=this.controllerCfg)||void 0===o?void 0:o.timePointControllerText)||"单一时间",x:t-50+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e),name:"checked-text"}),this.toggleGroup.getCanvasBBox()),o=(a.maxX+a.minX)/2,t=(a.maxY+a.minY)/2,e=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1],e=Eo(e,[["t",-o,-t],["s",n,n],["t",o+r*n,t+i*n]]);this.toggleGroup.setMatrix(e)},ra.prototype.bindEvent=function(){var o=this;this.speedGroup.on("speed-rect:click",function(t){var t=t.target.attr("y1"),e=o.speedPoint.attr("matrix"),n=o.speedAxisY.indexOf(e[7]||0),t=o.speedAxisY.indexOf(t),n=o.speedAxisY[t]-o.speedAxisY[n],e=Eo(e,[["t",0,n]]);o.speedPoint.setMatrix(e),o.currentSpeed=o.speedAxisY.length-t,o.speedText.attr("text","".concat(o.currentSpeed,".0X")),o.group.emit("timebarConfigChanged",{speed:o.currentSpeed,type:o.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var n,r=(e=o.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1])[7],i=o.speedAxisY.indexOf(r),t=(-1===i&&(n=1/0,o.speedAxisY.forEach(function(t,e){t=Math.abs(t-r);t<n&&(n=t,i=e)})),i=0<t.originalEvent.deltaY?Math.max(0,i-1):Math.min(o.speedAxisY.length-1,i+1),o.speedAxisY[i]-r),e=Eo(e,[["t",0,t]]);o.speedPoint.setMatrix(e),o.currentSpeed=o.speedAxisY.length-i,o.speedText.attr("text","".concat(o.currentSpeed,".0X")),o.group.emit("timebarConfigChanged",{speed:o.currentSpeed,type:o.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var e,n=t.target.get("isChecked");n?(o.checkedIcon.hide(),o.checkedText.attr("text",(null===(e=o.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"单一时间"),o.currentType="range"):(o.checkedIcon.show(),o.checkedText.attr("text",(null===(e=o.controllerCfg)||void 0===e?void 0:e.timeRangeControllerText)||"时间范围"),o.currentType="single"),t.target.set("isChecked",!n),o.group.emit("timebarConfigChanged",{type:o.currentType,speed:o.currentSpeed})})},ra.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},ra),Do=function(){return(Do=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},To=L.a.transform,Io={fill:"#416180",opacity:.05},ko={fill:"#416180",opacity:.15,radius:5},Lo={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Ro={width:2,height:24},Bo={textBaseline:"middle",fill:"#000",opacity:.45},No={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},Fo={lineWidth:1,stroke:"#ccc"},Uo=(na.prototype.update=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.minText,a=t.maxText,s=t.start,t=t.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(t,0)),Object(X.assign)(this,{x:e,y:n,width:r,height:i,minText:o,maxText:a}),this.updateUI()},na.prototype.setText=function(t,e){this.minTextShape.attr("text",t),this.maxTextShape.attr("text",e)},na.prototype.renderSlider=function(){var i=this,t=this.width,o=this.height,e=this.timeBarType,n=("trend"===e&&Object(X.size)(Object(X.get)(this.trendCfg,"data"))&&(n=new go(Do(Do({x:this.x,y:this.y,width:t,height:o},this.trendCfg),{group:this.group})),this.trendComponent=n),this.group.addGroup({name:"slider-group"})),r=(n.addShape("rect",{attrs:Do({x:0,y:0,width:t,height:o},this.backgroundStyle),name:"background"}),this.group.addGroup()),r=("trend"===e?(this.minTextShape=r.addShape("text",{attrs:Do({x:0,y:o/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=r.addShape("text",{attrs:Do({y:o/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=r.addShape("text",{attrs:Do({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=r.addShape("text",{attrs:Do({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Do({x:0,y:this.y,height:o},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(t){t.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(t){t.target.attr("cursor",i.foregroundStyle.cursor||"grab")}),Object(X.get)(this.handlerStyle,"width",2)),a=Object(X.get)(this.handlerStyle,"height",24),s=this.group.addGroup({name:"minHandlerShape"}),s=(this.minHandlerShape=new vo({name:"minHandlerShape",group:s,type:e,x:this.x,y:this.y,width:r,height:a,style:this.handlerStyle}),this.group.addGroup({name:"maxHandlerShape"})),c=(this.maxHandlerShape=new vo({name:"maxHandlerShape",group:s,type:e,x:this.x,y:this.y,width:r,height:a,style:this.handlerStyle}),this.ticks),u=t/(c.length-1),l=(this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(t){t.destroy()}),-1/0),h=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=c.map(function(t,e){i.tickPosList.push(i.x+e*u),i.tickLabelFormatter?(r=i.tickLabelFormatter(t),!Object(X.isString)(r)&&r&&(r=t.date)):r=t.date;var t=i.x+e*u,n=i.y+o+5,r=i.group.addShape("text",{attrs:Do({x:t,y:n,text:r,fontFamily:i.fontFamily||"Arial, sans-serif"},i.tickLabelStyle),name:"tick-label"}),n=(Object(X.isNumber)(h)&&e!==c.length-1&&(t=To([1,0,0,0,1,0,0,0,1],[["t",-t,-n],["r",h],["t",t-5,n+2]]),r.attr({textAlign:"left",matrix:t})),0===e?r.attr({textAlign:"left"}):e!==c.length-1&&r.attr({textAlign:"right"}),i.group.addShape("line",{attrs:Do({x1:i.x+e*u,y1:i.y+o+2,x2:i.x+e*u,y2:i.y+o+6},i.tickLineStyle),name:"tick-line"})),t=(n.toBack(),r.getBBox());return t.minX>l?(r.show(),n.show(),l=t.minX+t.width+10):(r.hide(),n.hide()),r}),this.controllerBtnGroup=new jo(Do({group:this.group,x:this.x,y:this.y+o+25,width:t,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),n.move(this.x,this.y),this.bindEvents()},na.prototype.bindEvents=function(){var n=this,t=this.group.find(function(t){return"minHandlerShape"===t.get("name")}),t=(t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape))),this.group.find(function(t){return"maxHandlerShape"===t.get("name")}));t&&(t.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),t.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat("playPauseBtn",":click"),function(){n.isPlay=!n.isPlay,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()}),this.group.on("".concat("nextStepBtn",":click"),function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(.01),n.updateUI()}),this.group.on("".concat("preStepBtn",":click"),function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(-.01),n.updateUI()}),this.group.on("timebarConfigChanged",function(t){var e=t.type,t=t.speed;n.currentSpeed=t,"single"===(n.currentMode=e)?(n.minHandlerShape.hide(),n.foregroundShape.hide(),n.minTextShape.hide()):"range"===e&&(n.minHandlerShape.show(),n.foregroundShape.show(),n.minTextShape.show())})},na.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1;return 0},na.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:var e=0-this.start,n=1-this.start;return Math.min(n,Math.max(e,t));case this.maxHandlerShape:return e=0-this.end,n=1-this.end,Math.min(n,Math.max(e,t));case this.foregroundShape:return e=0-this.start,n=1-this.end,Math.min(n,Math.max(e,t));default:return 0}},na.prototype.updateStartEnd=function(t){var e=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):null==e?void 0:e.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null==n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=t,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=t,this.end+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},na.prototype.updateUI=function(){var n=this,t=(this.start<0&&(this.start=0),1<this.end&&(this.end=1),this.x+this.start*this.width),e=this.x+this.end*this.width,r=(this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t),Object(X.get)(this.handlerStyle,"width",2)),i=(this.setText(this.minText,this.maxText),this.dodgeText([t,e])),o=i[0],i=i[1];this.minHandlerShape.setX(t-r/2),Object(X.each)(o,function(t,e){return n.minTextShape.attr(e,t)}),this.maxHandlerShape.setX(e-r/2),Object(X.each)(i,function(t,e){return n.maxTextShape.attr(e,t)}),"range"===this.currentMode?this.graph.emit("valuechange",{value:[this.start,this.end].sort()}):"single"===this.currentMode&&this.graph.emit("valuechange",{value:[this.end,this.end]})},na.prototype.dodgeText=function(t){var e=Object(X.get)(this.handlerStyle,"width",2),n=this.minTextShape,r=this.maxTextShape,i=t[0],t=t[1],o=!1,a=(t<i&&(i=(a=[t,i])[0],t=a[1],n=(a=[r,n])[0],r=a[1],o=!0),n.getBBox()),s=r.getBBox(),c=null,u=null;return"trend"===this.timeBarType?(c=i-a.width<this.x+2?{x:i+e/2+2,textAlign:"left"}:{x:i-e/2-2,textAlign:"right"},u=t+s.width>this.x+this.width?{x:t-e/2-2,textAlign:"right"}:{x:t+e/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(c=n.attr("x")>a.width?{x:i,textAlign:"center"}:{x:i,textAlign:"left"},u=r.attr("x")>this.width-s.width?{x:t,textAlign:"right"}:{x:t,textAlign:"center"}),o?[u,c]:[c,u]},na.prototype.startPlay=function(){var r=this;return"undefined"!=typeof window?window.requestAnimationFrame(function(){var t=r.ticks,e=r.width,n=r.currentSpeed,e=e/t.length/(1e3*(10-n)/60),t=r.adjustOffsetRange(e/r.width);r.updateStartEnd(t),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())}):void 0},na.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timebarstartplay",null)):this.playHandler&&("undefined"!=typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit("timebarendplay",null))},na.prototype.destory=function(){this.graph.off("valuechange");var t=this.group,e=t.find(function(t){return"minHandlerShape"===t.get("name")}),e=(e&&(e.off("minHandlerShape-handler:mousedown"),e.off("minHandlerShape-handler:touchstart"),e.destroy()),t.find(function(t){return"maxHandlerShape"===t.get("name")}));e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),t.off("".concat("playPauseBtn",":click")),t.off("".concat("nextStepBtn",":click")),t.off("".concat("preStepBtn",":click")),t.off("timebarConfigChanged"),t.destroy(),this.trendComponent&&this.trendComponent.destory()},na),Wo=(ea.prototype.render=function(){var t=this.className,e=(this.x,this.y,this.backgroundColor),n=this.textColor,r=this.text,i=this.padding,o=this.opacity,a=this.fontSize,s=this.container,t=Object(m.b)("<div class='".concat(t,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(o,'"></div>')),o=((s=Object(X.isString)(s)?document.getElementById(s):s).appendChild(t),this.parentHeight=s.offsetHeight,this.parentWidth=s.offsetWidth,Object(m.e)(t,{visibility:"hidden",top:0,left:0}),Object(m.b)("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(e,"; font-size: ").concat(a,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(n,"; padding: ").concat(i[0],"px ").concat(i[1],"px ").concat(i[2],"px ").concat(i[3],"px'></div>"))),s=(o.innerHTML=r,t.appendChild(o),this.backgroundDOM=o,Object(m.b)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(e,"'></div>")));t.appendChild(s),this.arrowDOM=s,this.container=t},ea.prototype.show=function(t){var e=t.text,n=t.x,t=(t.y,t.clientX,t.clientY,this.backgroundDOM.innerHTML=e,this.backgroundDOM.offsetWidth),e=this.backgroundDOM.offsetHeight,r=this.arrowDOM.offsetWidth,i=this.arrowDOM.offsetHeight,i=(Object(m.e)(this.container,{top:"".concat(-e-i,"px"),left:"".concat(n,"px"),visibility:"visible"}),Object(m.e)(this.backgroundDOM,{marginLeft:"".concat(-t/2,"px")}),Object(m.e)(this.arrowDOM,{marginLeft:"".concat(-r/2,"px"),top:"".concat(e,"px")}),n-t/2),r=n+t/2;i<0?Object(m.e)(this.backgroundDOM,{marginLeft:"".concat(-t/2-i,"px")}):r>this.parentWidth&&Object(m.e)(this.backgroundDOM,{marginLeft:"".concat(-t/2-r+this.parentWidth+12,"px")})},ea.prototype.hide=function(){Object(m.e)(this.container,{top:0,left:0,visibility:"hidden"})},ea),zo=function(){return(zo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Go=L.a.transform,$o={fill:"#5B8FF9"},Ko={fill:"#e6e8e9"},Vo=(ta.prototype.renderSlices=function(){var p=this,t=this,s=t.width,e=t.height,c=t.padding,n=t.data,r=t.start,i=t.end,g=t.tickLabelFormatter,y=t.selectedTickStyle,_=t.unselectedTickStyle,u=t.tickLabelStyle,m=e-(3*c+4+10)-2*c,l=n.length,h=(s-2*c-2*(l-1))/l,d=(this.tickWidth=h,this.sliceGroup),v=[],f=[],b=Math.round(l*r),O=Math.round(l*i),x=(this.startTickRectId=b,this.endTickRectId=O,u.rotate),t=(delete u.rotate,n.forEach(function(t,e){var n=d.addShape("rect",{attrs:zo({x:c+e*(2+h),y:c,width:h,height:m},b<=e&&e<=O?y:_),draggable:!0,name:"tick-rect-".concat(e)}),r=d.addShape("rect",{attrs:{x:c+e*h+2*(2*e-1)/2,y:c,width:0===e||e===l-1?1+h:2+h,height:m,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(e)});r.toFront();var i,o=n.getBBox(),a=(o.minX+o.maxX)/2;v.push({rect:n,pickRect:r,value:t.date,x:a,y:o.minY}),g?(i=g(t),!Object(X.isString)(i)&&i&&(i=t.date)):e%Math.round(l/10)==0&&(i=t.date),i&&(f.push(i),n=o.maxY+2*c,d.addShape("line",{attrs:{stroke:"#BFBFBF",x1:a,y1:n,x2:a,y2:n+4},name:"tick-line"}),(t=(e=d.addShape("text",{attrs:zo({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:a,y:r=n+4+c,textAlign:"center",text:i,textBaseline:"top",fontSize:10,fontFamily:p.fontFamily||"Arial, sans-serif"},u),capture:!1,name:"tick-label"})).getBBox()).maxX>s?e.attr("textAlign","right"):t.minX<0&&e.attr("textAlign","left"),Object(X.isNumber)(x)&&10!==f.length&&(o=Go([1,0,0,0,1,0,0,0,1],[["t",-a,-r],["r",x],["t",a-5,r+2]]),e.attr({textAlign:"left",matrix:o})),1===f.length?e.attr({textAlign:"left"}):10===f.length&&e.attr({textAlign:"right"}))}),this.tickRects=v,this.group);this.currentSpeed=1,this.controllerBtnGroup=new jo({group:t,x:this.x,y:this.y+e+5,width:s,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},ta.prototype.initEvent=function(){var c=this,t=this.sliceGroup,t=(t.on("click",function(t){var e,n,r,t=t.target;"rect"===t.get("type")&&t.get("name")&&(t=parseInt(t.get("name").split("-")[2],10),isNaN(t)||(e=c.tickRects,n=c.unselectedTickStyle,e.forEach(function(t){t.rect.attr(n)}),r=c.selectedTickStyle,e[t].rect.attr(r),c.startTickRectId=t,r=(c.endTickRectId=t)/e.length,c.graph.emit("valuechange",{value:[r,r]})))}),t.on("dragstart",function(t){var e=c.tickRects,n=c.unselectedTickStyle,t=(e.forEach(function(t){t.rect.attr(n)}),t.target),t=parseInt(t.get("name").split("-")[2],10),r=c.selectedTickStyle,r=(e[t].rect.attr(r),(c.startTickRectId=t)/e.length);c.graph.emit("valuechange",{value:[r,r]}),c.dragging=!0}),t.on("dragover",function(t){if(c.dragging&&"rect"===t.target.get("type")){for(var e=parseInt(t.target.get("name").split("-")[2],10),n=c.startTickRectId,r=c.tickRects,i=c.selectedTickStyle,o=c.unselectedTickStyle,a=0;a<r.length;a++)r[a].rect.attr(n<=a&&a<=e?i:o);var t=r.length,s=(c.endTickRectId=e,n/t);c.graph.emit("valuechange",{value:[s,e/t]})}}),t.on("drop",function(t){var e,n,r;c.dragging&&(c.dragging=!1,"rect"===t.target.get("type"))&&(e=c.startTickRectId,(t=parseInt(t.target.get("name").split("-")[2],10))<e||(r=c.selectedTickStyle,(n=c.tickRects)[t].rect.attr(r),c.endTickRectId=t,r=n.length,c.graph.emit("valuechange",{value:[e/r,t/r]})))}),this.tooltipBackgroundColor),n=this.tooltipFomatter,r=this.canvas,i=new Wo({container:r.get("container"),backgroundColor:t}),o=this.tickRects,t=(o.forEach(function(t){t=t.pickRect;t.on("mouseenter",function(t){var e,t=t.target;"rect"===t.get("type")&&(t=parseInt(t.get("name").split("-")[2],10),e=r.getClientByPoint(o[t].x,o[t].y),i.show({x:o[t].x,y:o[t].y,clientX:e.x,clientY:e.y,text:n?n(o[t].value):o[t].value}))}),t.on("mouseleave",function(t){i.hide()})}),this.group);t.on("".concat("playPauseBtn",":click"),function(){c.isPlay=!c.isPlay,c.changePlayStatus()}),t.on("".concat("nextStepBtn",":click"),function(){c.updateStartEnd(1)}),t.on("".concat("preStepBtn",":click"),function(){c.updateStartEnd(-1)}),t.on("timebarConfigChanged",function(t){t.type;t=t.speed;c.currentSpeed=t})},ta.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timebarstartplay",null)):this.playHandler&&("undefined"!=typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit("timebarendplay",null))},ta.prototype.startPlay=function(){var e=this;return"undefined"!=typeof window?window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)==0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())}):void 0},ta.prototype.updateStartEnd=function(t){var e=this.tickRects,n=e.length,r=this.unselectedTickStyle,i=this.selectedTickStyle,o=this.endTickRectId;if(0<t?this.endTickRectId++:(e[this.endTickRectId].rect.attr(r),this.endTickRectId--),o!==this.startTickRectId)this.endTickRectId<this.startTickRectId&&(this.startTickRectId=this.endTickRectId);else{for(var a=this.startTickRectId;a<=this.endTickRectId-1;a++)e[a].rect.attr(r);this.startTickRectId=this.endTickRectId}e[this.endTickRectId]&&(e[this.endTickRectId].rect.attr(i),t=this.startTickRectId/n,o=this.endTickRectId/n,this.graph.emit("valuechange",{value:[t,o]}))},ta.prototype.destory=function(){this.graph.off("valuechange");var t=this.sliceGroup;t.off("click"),t.off("dragstart"),t.off("dragover"),t.off("drop"),this.tickRects.forEach(function(t){t=t.pickRect;t.off("mouseenter"),t.off("mouseleave")}),this.tickRects.length=0,t.off("".concat("playPauseBtn",":click")),t.off("".concat("nextStepBtn",":click")),t.off("".concat("preStepBtn",":click")),t.off("timebarConfigChanged"),this.sliceGroup.destroy()},ta);Ho=function(t,e){return(Ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Xo,Yo,Ho,qo=function(){return(qo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ho(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(Jo,Yo=d),Jo.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},Jo.prototype.initContainer=function(){var t,e=this.get("graph"),n=this._cfgs,r=n.width,n=n.height,i=this.get("className")||"g6-component-timebar",o=this.get("container"),a=this.get("graph").get("container");o?t=o=Object(X.isString)(o)?document.getElementById(o):o:(t=Object(m.b)("<div class='".concat(i,"'></div>")),Object(m.e)(t,{position:"relative"})),a.appendChild(t),this.set("timeBarContainer",t),o=new("SVG"===e.get("renderer")?kr:Ir).Canvas({container:t,width:r,height:n}),this.get("containerCSS")&&Object(m.e)(t,this.get("containerCSS")),this.set("canvas",o)},Jo.prototype.init=function(){this.initContainer();var t=this.get("canvas").addGroup({name:"timebar-group"}),t=(this.set("timeBarGroup",t),this.renderTrend(),this.initEvent(),"undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif");this.set("fontFamily",t)},Jo.prototype.renderTrend=function(){function l(){var t=h.get("timebar");t.draggingHandler=!1,t.isPlay&&(t.isPlay=!1,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()),document.removeEventListener("mouseup",l)}var e,h=this,t=this._cfgs,d=t.width,f=t.x,n=t.y,r=t.padding,i=t.type,o=t.trend,a=t.slider,p=t.controllerCfg,g=t.textStyle,s=t.tick,y=t.backgroundStyle,t=t.foregroundStyle,_=o.data,o=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(o,["data"]),m=d-2*r,v="trend"===i?26:4,b=this.get("graph"),O=this.get("timeBarGroup"),c=this.get("canvas"),u=null;"trend"===i||"simple"===i?(e=this.get("getValue"),u=new Uo(qo(qo({graph:b,canvas:c,group:O,type:i,x:f+r,y:"trend"===i?n+r:n+r+15,width:m,height:v,padding:r,backgroundStyle:y,foregroundStyle:t,trendCfg:qo(qo({},o),{data:_.map(function(t){return(null==e?void 0:e(t))||t.value})})},a),{tick:{ticks:_,tickLabelFormatter:s.tickLabelFormatter,tickLabelStyle:s.tickLabelStyle,tickLineStyle:s.tickLineStyle},handlerStyle:qo(qo({},a.handlerStyle),{height:a.height||v}),controllerCfg:p,textStyle:g}))):"tick"===i&&(u=new Vo(qo({graph:b,canvas:c,group:O,x:f+r,y:n+r,width:d,height:42,padding:2},s)));c.on("mousedown",function(t){"maxHandlerShape-handler"!==t.target.get("name")&&"minHandlerShape-handler"!==t.target.get("name")&&t.target!==u.foregroundShape||document.addEventListener("mouseup",l)}),this.set("timebar",u)},Jo.prototype.filterData=function(t){var n,r,i,l,o,a,s,c,h,d,t=t.value,u=null,e=this._cfgs.type;"trend"===e||"simple"===e?u=this._cfgs.trend.data:"tick"===e&&(u=this._cfgs.tick.data),u&&0!==u.length?(l=this.get("rangeChange"),n=this.get("graph"),i=Math.round(u.length*t[0]),r=(r=Math.round(u.length*t[1]))>=u.length?u.length-1:r,i=i>=u.length?u.length-1:i,h=(t=null===(t=this._cfgs.tick)||void 0===t?void 0:t.tickLabelFormatter)?t(u[i]):u[i].date,t=t?t(u[r]):u[r].date,"tick"!==e&&this.get("timebar").setText(h,t),l?l(n,h,t):((!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=n.get("data")),e=this.get("filterItemTypes"),l=this.get("changeData"),o=this.get("getDate"),a=this.get("shouldIgnore"),s=u[i].date,c=u[r].date,l||void 0===l?(h=this.cacheGraphData.nodes,t=this.cacheGraphData.edges,e.includes("node")&&(d=(h=h.filter(function(t){var e=+((null==o?void 0:o(t))||t.date);return s<=e&&e<=c||(null==a?void 0:a("node",t,{min:s,max:c}))})).map(function(t){return t.id}),t=t&&t.filter(function(t){return d.includes(t.source)&&d.includes(t.target)||(null==a?void 0:a("edge",t,{min:s,max:c}))})),(this.get("filterEdge")||e.includes("edge"))&&(t=t.filter(function(t){var e=+((null==o?void 0:o(t))||t.date);return s<=e&&e<=c||(null==a?void 0:a("edge",t,{min:s,max:c}))})),n.changeData({nodes:h,edges:t})):(e.includes("node")&&n.getNodes().forEach(function(t){var e=t.getModel();null!=a&&a("node",e,{min:s,max:c})||((e=+((null==o?void 0:o(e))||e.date))<s||c<e?n.hideItem(t):n.showItem(t))}),(this.get("filterEdge")||e.includes("edge"))&&n.getEdges().forEach(function(t){var e=t.getModel();null!=a&&a("edge",e,{min:u[i].date,max:u[r].date})||((e=+((null==o?void 0:o(e))||e.date))<u[i].date||e>u[r].date?n.hideItem(t):n.showItem(t))})))):console.warn("请配置 TimeBar 组件的数据")},Jo.prototype.initEvent=function(){var e=this,n=0,r=0,t=this._cfgs.type,t=(t&&"trend"!==t&&"simple"!==t?"tick"===t&&(n=this._cfgs.tick.start,r=this._cfgs.tick.end):(n=this._cfgs.slider.start,r=this._cfgs.slider.end),this.get("graph"));t.on("afterrender",function(t){e.filterData({value:[n,r]})}),t.on("valuechange",Object(X.throttle)(function(t){e.filterData(t)},200,{trailing:!0,leading:!0}))},Jo.prototype.destroy=function(){var t,e=this.get("timebar"),e=(e&&e.destory&&e.destory(),Yo.prototype.destroy.call(this),this.get("timeBarContainer"));e&&(t=(t=this.get("container"))||this.get("graph").get("container"),(t=Object(X.isString)(t)?document.getElementById(t):t).removeChild(e))},Jo),Zo=(Xo=function(t,e){return(Xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Xo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qo=jr.applyMatrix;function Jo(t){return Yo.call(this,t)||this}function ta(t){this.frameCount=0,this.fontFamily="Arial, sans-serif";var e=t.graph,n=t.canvas,r=t.group,i=t.width,o=t.height,l=t.padding,h=t.data,d=t.start,f=t.end,a=t.x,a=void 0===a?0:a,s=t.y,s=void 0===s?0:s,p=t.tickLabelFormatter,c=t.selectedTickStyle,c=void 0===c?$o:c,u=t.unselectedTickStyle,u=void 0===u?Ko:u,g=t.tooltipBackgroundColor,y=t.tooltipFomatter,t=t.tickLabelStyle;this.graph=e,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=l,this.data=h,this.start=d,this.end=f,this.tickLabelFormatter=p,this.tickLabelStyle=t||{},this.selectedTickStyle=c,this.unselectedTickStyle=u,this.x=a,this.y=s,this.tooltipBackgroundColor=g,this.tooltipFomatter=y,this.fontFamily="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}function ea(t){var e=t.x,e=void 0===e?0:e,n=t.y,n=void 0===n?0:n,r=t.container,i=t.text,o=t.padding,o=void 0===o?[4,4,4,4]:o,a=t.className,a=void 0===a?"g6-component-timebar-tooltip":a,s=t.backgroundColor,s=void 0===s?"#000":s,c=t.textColor,c=void 0===c?"#fff":c,u=t.opacity,u=void 0===u?.8:u,t=t.fontSize,t=void 0===t?12:t;this.container=r,this.className=a,this.backgroundColor=s,this.textColor=c,this.x=e,this.y=n,this.text=i,this.padding=o,this.opacity=u,this.fontSize=t,this.render()}function na(t){var n=this,e=(this.prevX=0,this.onMouseDown=function(e){return function(t){n.currentHandler=e;t=t.originalEvent,t.stopPropagation(),t.preventDefault(),n.prevX=Object(X.get)(t,"touches.0.pageX",t.pageX),t=n.canvas.get("container");t.addEventListener("mousemove",n.onMouseMove),t.addEventListener("mouseup",n.onMouseUp),t.addEventListener("mouseleave",n.onMouseUp),t.addEventListener("touchmove",n.onMouseMove),t.addEventListener("touchend",n.onMouseUp),t.addEventListener("touchcancel",n.onMouseUp)}},this.onMouseMove=function(t){t.stopPropagation(),t.preventDefault();var t=Object(X.get)(t,"touches.0.pageX",t.pageX),e=t-n.prevX,e=n.adjustOffsetRange(e/n.width);n.updateStartEnd(e),n.updateUI(),n.prevX=t},this.onMouseUp=function(){n.currentHandler&&(n.currentHandler=void 0);var t=n.canvas.get("container");t&&(t.removeEventListener("mousemove",n.onMouseMove),t.removeEventListener("mouseup",n.onMouseUp),t.removeEventListener("mouseleave",n.onMouseUp),t.removeEventListener("touchmove",n.onMouseMove),t.removeEventListener("touchend",n.onMouseUp),t.removeEventListener("touchcancel",n.onMouseUp))},t.x),e=void 0===e?0:e,r=t.y,r=void 0===r?0:r,i=t.width,i=void 0===i?100:i,l=t.height,o=t.padding,o=void 0===o?10:o,h=t.trendCfg,a=t.controllerCfg,a=void 0===a?{speed:1}:a,s=t.backgroundStyle,s=void 0===s?{}:s,c=t.foregroundStyle,c=void 0===c?{}:c,d=t.handlerStyle,d=void 0===d?{}:d,f=t.textStyle,f=void 0===f?{}:f,p=t.start,p=void 0===p?0:p,g=t.end,g=void 0===g?1:g,y=t.minText,y=void 0===y?"":y,_=t.maxText,_=void 0===_?"":_,m=t.group,v=t.graph,b=t.canvas,u=t.tick,u=void 0===u?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(t){return t},ticks:[]}:u,t=t.type;this.graph=v,this.canvas=b,this.group=m,this.timeBarType=t,this.x=e,this.y=r,this.width=i,this.height=l,this.padding=o,this.ticks=u.ticks,this.trendCfg=h,this.controllerCfg=a,this.currentSpeed=a.speed||1,this.tickLabelFormatter=u.tickLabelFormatter,"trend"===t?this.backgroundStyle=Do(Do({},Io),s):"simple"===t&&(this.backgroundStyle=Do(Do({},ko),s)),this.foregroundStyle=Do(Do({},Lo),c),this.handlerStyle=Do(Do({},Ro),d),this.textStyle=Do(Do({},Bo),f),this.tickLabelStyle=Do(Do({},No),u.tickLabelStyle),this.tickLineStyle=Do(Do({},Fo),u.tickLineStyle),this.currentMode="range",this.start=p,this.end=g,this.minText=y,this.maxText=_,this.fontFamily="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}function ra(t){this.controllerCfg=Object(X.deepMix)({},So,t),this.group=t.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=t.fontFamily||"Arial, sans-serif",this.init()}function ia(t){this.config=Object(X.deepMix)({},t),this.init()}function oa(t){var e=t.group,n=t.name,r=t.type,i=t.x,i=void 0===i?0:i,o=t.y,o=void 0===o?0:o,a=t.width,a=void 0===a?2:a,s=t.height,s=void 0===s?24:s,t=t.style,t=void 0===t?{}:t;this.group=e,this.name=n,this.handleType=r,this.x=i,this.y=o,this.width=a,this.height=s,"trend"===r?this.style=yo(yo({},_o),t):"simple"===r&&(this.style=yo(yo({},mo),t)),this.renderHandle()}function aa(t){var e=t.x,e=void 0===e?0:e,n=t.y,n=void 0===n?0:n,r=t.width,r=void 0===r?200:r,i=t.height,i=void 0===i?26:i,o=t.smooth,o=void 0===o||o,a=t.isArea,a=void 0!==a&&a,s=t.data,s=void 0===s?[]:s,c=t.lineStyle,u=t.areaStyle,l=t.group,t=t.interval,t=void 0===t?null:t;this.group=l,this.x=e,this.y=n,this.width=r,this.height=i,this.data=s,this.smooth=o,this.isArea=a,this.lineStyle=Object.assign({},fo,c),this.areaStyle=Object.assign({},po,u),this.intervalConfig=t,this.renderLine()}Zo(Pa,ba=d),Pa.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},Pa.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},Pa.prototype.disableRefresh=function(){this.set("refresh",!1)},Pa.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},Pa.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},Pa.prototype.initViewport=function(){var t,o,a,f,s,c,u,l,h,p,g,d=this,r=this._cfgs,y=r.graph;this.destroyed||(t=this.get("container"),Object(X.isString)(t)&&(t=document.getElementById(t)),o=Object(m.b)("<div class=".concat(r.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff'>\n      </div>")),s=!1,g=p=h=l=u=c=f=a=0,t.addEventListener("mousedown",function(t){var e,n;r.refresh=!1,t.target===o&&(e=o.style,l=parseInt(e.width,10),h=parseInt(e.height,10),e=d.get("width"),n=d.get("height"),e<l||n<h||(g=y.getZoom(),p=d.get("ratio"),s=!0,a=t.clientX,f=t.clientY))},!1),t.addEventListener("mousemove",function(t){var e,n,r,i;!s||Object(X.isNil)(t.clientX)||Object(X.isNil)(t.clientY)||(e=d.get("width"),n=d.get("height"),r=o.style,c=parseInt(r.left,10),u=parseInt(r.top,10),l=parseInt(r.width,10),h=parseInt(r.height,10),r=a-t.clientX,i=f-t.clientY,c-r<0?r=c:e<=c-r+l&&(r=0),u-i<0?i=u:n<=u-i+h&&(i=0),c-=r,u-=i,Object(m.e)(o,{left:"".concat(c,"px"),top:"".concat(u,"px")}),y.translate(r*g/p,i*g/p),a=t.clientX,f=t.clientY)},!1),t.addEventListener("mouseleave",function(){s=!1,r.refresh=!0},!1),t.addEventListener("mouseup",function(){s=!1,r.refresh=!0},!1),this.set("viewport",o),t.appendChild(o))},Pa.prototype.updateViewport=function(){var l,t,e,n,r,i,o,a,s,c,u;this.destroyed||(l=this.get("ratio"),t=this.get("width"),e=this.get("height"),u=(a=(r=this.get("graph")).get("width"))/r.get("height"),i=[((c=(n=r.getGroup()).getCanvasBBox()).minX+c.maxX)/2,(c.minY+c.maxY)/2],o=[c.maxX-c.minX,c.maxY-c.minY],s={centerX:i[0],centerY:i[1],width:0,height:0,minX:0,minY:0},c[0]/c[1]>u?(s.width=o[0],s.height=s.width/u):(s.height=o[1],s.width=s.height*u),s.minX=i[0]-s.width/2,s.minY=i[1]-s.height/2,c=n.getMatrix()||[1,0,0,0,1,0,0,0,1],o=L.b.invert([1,0,0,0,1,0,0,0,1],c),u=Qo({x:s.minX,y:s.minY},o),i=r.getCanvasByPoint(u.x,u.y),(n=this.get("viewport"))||this.initViewport(),c=a/s.width,u=(o=t*-i.x/s.width)+(r=c*t),s=(a=e*-i.y/s.height)+(i=c*e),o<0&&(r+=o,o=0),t<u&&(r-=u-t),a<0&&(i+=a,a=0),e<s&&(i-=s-e),this.set("ratio",l),c="".concat(o,"px"),u="".concat(a,"px"),Object(m.e)(n,{left:c,top:u,width:"".concat(r,"px"),height:"".concat(i,"px")}))},Pa.prototype.init=function(){this.initContainer()},Pa.prototype.initContainer=function(){var t=this.get("graph"),e=t.get("width"),e=t.get("height")/e,n=this.get("className"),r=this.get("container"),i=this.get("width"),o=this.get("height"),e=((i=i||o?i:200)?this.set("height",o=e*i):this.set("width",i=1/e*o),Object(m.b)("<div class='".concat(n,"' style='width: ").concat(i,"px; height: ").concat(o,"px; overflow: hidden; position: relative;'></div>"))),n=(((r=Object(X.isString)(r)?document.getElementById(r):r)||t.get("container")).appendChild(e),this.set("container",e),Object(m.b)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>')),i=(e.appendChild(n),Object(m.b)('<span style="display: table-cell; vertical-align: middle; "></span>')),o=(n.appendChild(i),this.set("containerDOM",n),this.set("containerSpan",i),Object(m.b)('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />')));this.set("imgDOM",o),this.updateImgSize(),i.appendChild(o),this.updateCanvas()},Pa.prototype.updateImgSize=function(){var i=this.get("imgDOM"),o=this.get("width"),a=this.get("height");i.onload=function(){(r=i).naturalWidth?(t=r.naturalWidth,e=r.naturalHeight):((n=new Image).src=r.src,n.onload=function(){});var t,e,n,r=[t,e];r[1]<r[0]?i.width=o:i.height=a}},Pa.prototype.updateCanvas=function(){var t;this.get("refresh")&&((t=this.get("graph")).get("destroyed")||(this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport()),t=this.get("width")/t.get("canvas").getCanvasBBox().width,this.set("ratio",t),this.updateViewport()))},Pa.prototype.getViewport=function(){return this.get("viewport")},Pa.prototype.getContainer=function(){return this.get("container")},Pa.prototype.updateGraphImg=function(t){this.get("imgDOM").remove(),this.set("graphImg",t);var e=Object(m.b)('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));this.set("imgDOM",e),e.src=t,this.updateImgSize(),this.get("containerSpan").appendChild(e),this.updateCanvas()},Pa.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)};var Zo=Pa,sa=(va=function(t,e){return(va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}va(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ca=function(){return(ca=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ua=jr.distance,la={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},sa=(sa(Ma,ma=d),Ma.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(X.clone)(la),showLabel:"edge",scaleRBy:"wheel"}},Ma.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"}}return t},Ma.prototype.init=function(){var t=this.get("showLabel"),e="edge"===t||"both"===t;this.set("showNodeLabel","node"===t||"both"===t),this.set("showEdgeLabel",e),this.get("shouldShow")||this.set("shouldShow",function(){return!0})},Ma.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");n&&!n.destroyed||(e.filter(t),(n=e.get("delegate")).on("dragstart",function(t){}),n.on("drag",function(t){e.filter(t)}),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",function(t){e.scaleRByWheel(t)}))},Ma.prototype.scaleRByWheel=function(t){var e,n,r,i,o;t&&t.originalEvent&&(t.preventDefault&&t.preventDefault(),e=this.get("graph"),(n=this.get("delegate"))?(n.attr("x"),n.attr("y")):e.getPointByClient(t.clientX,t.clientY),n=t.originalEvent.wheelDelta<0?.95:1/.95,r=this.get("maxR"),i=this.get("minR"),((o=this.get("r"))>(r||e.get("height"))&&1<n||o<(i||.05*e.get("height"))&&n<1)&&(n=1),this.set("r",o*=n),this.filter(t))},Ma.prototype.filter=function(t){var e=this.get("graph"),n=e.getNodes(),i={},o=this.get("r"),a=this.get("type"),s={x:t.x,y:t.y},h=(this.updateDelegate(s,o),this.get("shouldShow")),c=this.get("vShapes"),t=(c&&c.forEach(function(t){t.remove(),t.destroy()}),c=[],n.forEach(function(t){var e=t.getModel(),n=e.x,r=e.y;ua({x:n,y:r},s)<o&&(i[e.id]=t)}),e.getEdges()),u=[],r=(t.forEach(function(t){var e=t.getModel(),n=e.source,r=e.target;h(e)&&("only-source"===a||"one"===a?i[n]&&!i[r]&&u.push(t):"only-target"===a||"one"===a?i[r]&&!i[n]&&u.push(t):"both"===a&&i[n]&&i[r]&&u.push(t))}),this.get("showNodeLabel")),d=this.get("showEdgelabel"),l=e.get("group");u.forEach(function(t){t.get("group").get("children").forEach(function(t){var e=t.get("type"),t=l.addShape(e,{attrs:t.attr()});c.push(t),r&&"text"===e&&t.set("visible",!0)})}),Object.keys(i).forEach(function(t){t=i[t].get("group").clone();if(l.add(t),c.push(t),d)for(var e=t.get("children"),n=0;n<e.length;n++){var r=e[n];"text"===r.get("type")&&r.set("visible",!0)}}),this.set("vShapes",c)},Ma.prototype.updateParams=function(t){var e=t.r,n=t.trigger,r=t.minR,i=t.maxR,o=t.scaleRBy,a=t.showLabel,s=t.shouldShow;isNaN(t.r)||this.set("r",e),isNaN(i)||this.set("maxR",i),isNaN(r)||this.set("minR",r),"mousemove"!==n&&"click"!==n||this.set("trigger",n),"wheel"!==o&&"unset"!==o||(this.set("scaleRBy",o),this.get("delegate").remove(),this.get("delegate").destroy(),(t=this.get("dPercentText"))&&(t.remove(),t.destroy())),"node"!==a&&"both"!==a||this.set("showNodeLabel",!0),"edge"!==a&&"both"!==a||this.set("showEdgeLabel",!0),s&&this.set("shouldShow",s)},Ma.prototype.updateDelegate=function(t,e){var n,r=this,i=r.get("graph"),o=r.get("delegate");!o||o.destroyed?(i=i.get("group"),n=r.get("delegateStyle")||la,o=i.addShape("circle",{attrs:ca({r:e,x:t.x,y:t.y},n),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&o.on("mousewheel",function(t){r.scaleRByWheel(t)})):o.attr({x:t.x,y:t.y,r:e}),r.set("delegate",o)},Ma.prototype.clear=function(){var t=this.get("vShapes"),t=(t&&t.forEach(function(t){t.remove(),t.destroy()}),this.set("vShapes",t=[]),this.get("delegate"));t&&!t.destroyed&&(t.remove(),t.destroy())},Ma.prototype.destroy=function(){this.clear()},Ma),ha=(_a=function(t,e){return(_a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),da=jr.pointLineDistance,fa={stroke:"#FA8C16",lineWidth:1},ha=(ha(wa,ya=d),wa.prototype.getDefaultCfgs=function(){return{line:fa,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},wa.prototype.init=function(){},wa.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},wa.prototype.onDragStart=function(){this.initBoxLine()},wa.prototype.onDrag=function(t){var t=t.item,e=(t.get("delegateShape")||t).getBBox(),t=t.getModel(),n=t.x-e.x,t=t.y-e.y;this.show({x:e.minX+n,y:e.minY+t},{width:e.width,height:e.height})},wa.prototype.onDragEnd=function(){this.destory()},wa.prototype.initBoxLine=function(){var t=this._cfgs,r=t.horizontalLines,i=t.verticalLines,o=t.itemAlignType;this.get("graph").getNodes().forEach(function(t){var e=t.getBBox(),n=t.get("id");!0===o||"horizontal"===o?(r["".concat(n,"tltr")]=[e.minX,e.minY,e.maxX,e.minY,t],r["".concat(n,"lcrc")]=[e.minX,e.centerY,e.maxX,e.centerY,t],r["".concat(n,"blbr")]=[e.minX,e.maxY,e.maxX,e.maxY,t]):"center"===o&&(r["".concat(n,"lcrc")]=[e.minX,e.centerY,e.maxX,e.centerY,t]),!0===o||"vertical"===o?(i["".concat(n,"tlbl")]=[e.minX,e.minY,e.minX,e.maxY,t],i["".concat(n,"tcbc")]=[e.centerX,e.minY,e.centerX,e.maxY,t],i["".concat(n,"trbr")]=[e.maxX,e.minY,e.maxX,e.maxY,t]):"center"===o&&(i["".concat(n,"tcbc")]=[e.centerX,e.minY,e.centerX,e.maxY,t])})},wa.prototype.show=function(t,e){var n=Object(X.mix)({},t);return this.itemAlign(t,e,n),t},wa.prototype.itemAlign=function(t,e,n){var r=this,i=this._cfgs,l=i.horizontalLines,h=i.verticalLines,i=i.tolerance,d={x:n.x+e.width/2,y:n.y},o={x:n.x+e.width/2,y:n.y+e.height/2},f={x:n.x+e.width/2,y:n.y+e.height},p={x:n.x,y:n.y+e.height/2},g={x:n.x+e.width,y:n.y+e.height/2},a=[],s=[],c=null;if(this.clearAlignLine(),Object(X.each)(l,function(t){t[4].isVisible&&(a.push(r.getLineDisObject(t,d)),a.push(r.getLineDisObject(t,o)),a.push(r.getLineDisObject(t,f)))}),Object(X.each)(h,function(t){t[4].isVisible&&(s.push(r.getLineDisObject(t,p)),s.push(r.getLineDisObject(t,o)),s.push(r.getLineDisObject(t,g)))}),a.sort(function(t,e){return t.dis-e.dis}),s.sort(function(t,e){return t.dis-e.dis}),0!==a.length&&a[0].dis<i){t.y=a[0].line[1]-a[0].point.y+n.y;for(var c={type:"item",horizontals:[a[0]]},u=1;u<3;u++)a[0].dis===a[u].dis&&c.horizontals.push(a[u])}if(0!==s.length&&s[0].dis<i)for(t.x=s[0].line[0]-s[0].point.x+n.x,c?c.verticals=[s[0]]:c={type:"item",verticals:[s[0]]},u=1;u<3;u++)s[0].dis===s[u].dis&&c.verticals.push(s[u]);c&&(c.bbox=e,this.addAlignLine(c))},wa.prototype.addAlignLine=function(t){var i=t.bbox,e=t.type,n=t.horizontals,t=t.verticals,r=this._cfgs,o=r.line,a=r.alignLines,s=this.get("graph").get("group");"item"===e&&(n&&Object(X.each)(n,function(t){var e=t.line,t=t.point,n=(e[0]+e[2])/2,n=t.x<n?(r=t.x-i.width/2,Math.max(e[0],e[2])):(r=t.x+i.width/2,Math.min(e[0],e[2])),t=Object(X.mix)({x1:r,y1:e[1],x2:n,y2:e[1]},o),r=s.addShape("line",{attrs:t,capture:!1});a.push(r)}),t&&Object(X.each)(t,function(t){var e=t.line,t=t.point,n=(e[1]+e[3])/2,n=t.y<n?(r=t.y-i.height/2,Math.max(e[1],e[3])):(r=t.y+i.height/2,Math.min(e[1],e[3])),t=Object(X.mix)({x1:e[0],y1:r,x2:e[0],y2:n},o),r=s.addShape("line",{attrs:t,capture:!1});a.push(r)}))},wa.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:da(t,e)}},wa.prototype.getContainer=function(){return this.get("container")},wa.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;Object(X.each)(t,function(t){t.remove()}),t.length=0},wa.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines;this.get("graph").getNodes().forEach(function(t){t=t.get("id");delete e["".concat(t,"tltr")],delete e["".concat(t,"lcrc")],delete e["".concat(t,"blbr")],delete n["".concat(t,"tlbl")],delete n["".concat(t,"tcbc")],delete n["".concat(t,"trbr")]}),this.clearAlignLine()},wa);ga=function(t,e){return(ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var pa,ga,ya,_a,ma,va,ba,Oa=function(){return(Oa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},xa=["click","mouseenter"],v={PluginBase:d,Menu:v,Grid:h,Minimap:Ze,Bundling:Ke,ToolBar:b,Tooltip:l,Fisheye:e,TimeBar:p,ImageMinimap:Zo,EdgeFilterLens:sa,SnapLine:ha,Legend:(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ga(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(Ea,pa=d),Ea.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},Ea.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},t=(t.multiple&&"mouseenter"===t.trigger&&this.set("multiple",!1),this.get("align")),e=(t||((e=this.get("position").split("-")).includes("left")&&(t="left"),t=e.includes("right")?"right":"center",this.set("align",t)),this.get("graph").get("container")),t=Object(m.b)("<div class='g6-legend-container' style=\"position: absolute;\"></div>"),e=(e.appendChild(t),this.set("container",t),this.render());Object(m.e)(t,this.getContainerPos(e)),this.bindEvents()},Ea.prototype.getContainerPos=function(r){void 0===r&&(r=[0,0]);var i=this.get("graph"),t=this.get("offsetX"),e=this.get("offsetY"),o=this.get("margin"),n=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(i.getWidth()-r[0])/2+0,top:(i.getHeight()-r[1])/2+0};return n.forEach(function(t){var e=o[a[t]],n=t;switch(t){case"top":case"left":e+=0;break;case"bottom":e=i.getHeight()-r[1]-e+0,n="top";break;default:e=i.getWidth()-r[0]-e+0,n="left"}s[n]=e}),s.top+=e+i.getContainer().offsetTop,s.left+=t+i.getContainer().offsetLeft,Object.keys(s).forEach(function(t){s[t]="".concat(s[t],"px")}),s},Ea.prototype.bindEvents=function(){var t,e=this,n=e.get("filter");n&&n.enable&&(n=n.trigger||"click",xa.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click"),t=e.get("legendCanvas"),"mouseenter"===n?(t.on("node-container:mouseenter",function(t){return e.filterData(t)}),t.on("node-container:mouseleave",function(t){e.clearFilter(),e.clearActiveLegend()})):(t.on("node-container:click",function(t){return e.filterData(t)}),t.on("click",function(t){t.target&&t.target.isCanvas&&t.target.isCanvas()&&(e.clearFilter(),e.clearActiveLegend())})))},Ea.prototype.changeData=function(t){this.set("data",t);t=this.render();Object(m.e)(this.get("container"),this.getContainerPos(t))},Ea.prototype.activateLegend=function(t){var e=this.get("filter"),t=(null!=e&&e.multiple||this.clearActiveLegend(),t.get("parent")),t=(t.get("active")?(t.set("active",!1),this.findLegendItemsByState("active").length&&t.set("inactive",!0)):(t.set("inactive",!1),t.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(t){t.set("inactive",!0)}):this.clearActiveLegend(),(null==e?void 0:e.lengedStateStyles)||{}),n=(null==t?void 0:t.inactive)||{opacity:.5,"text-shape":{opacity:.5}},r=n["text-shape"]||{},i=(this.findLegendItemsByState("inactive").forEach(function(t){var t=t.get("children"),e=t[0],t=t[1];e.attr(Oa(Oa({},e.get("oriAttrs")),n)),t.attr(Oa(Oa({},t.get("oriAttrs")),r))}),(null==t?void 0:t.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}}),o=i["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(t){var t=t.get("children"),e=t[0],t=t[1];e.attr(Oa(Oa({},e.get("oriAttrs")),i)),t.attr(Oa(Oa({},t.get("oriAttrs")),o))})},Ea.prototype.findLegendItemsByState=function(e,t,n){void 0===t&&(t="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find(function(t){return"root"===t.get("name")}),i=r.find(function(t){return"node-group"===t.get("name")}),r=r.find(function(t){return"edge-group"===t.get("name")});return"node"===t?i.get("children").filter(function(t){return!!t.get(e)===n}):"edge"===t?r.get("children").filter(function(t){return!!t.get(e)===n}):i.get("children").filter(function(t){return!!t.get(e)===n}).concat(r.get("children").filter(function(t){return!!t.get(e)===n}))},Ea.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas").find(function(t){return"root"===t.get("name")});[t.find(function(t){return"node-group"===t.get("name")}),t.find(function(t){return"edge-group"===t.get("name")})].forEach(function(t){t.get("children").forEach(function(t){t.set("active",!1),t.set("inactive",!1);var t=t.get("children"),e=t[0],t=t[1];e.attr(e.get("oriAttrs")),t.attr(t.get("oriAttrs"))})})},Ea.prototype.filterData=function(t){var r,i,o,e,a,s,c,n=this.get("filter"),u=null==n?void 0:n.filterFunctions;n&&u&&(e=this.get("legendCanvas"),r=this.get("graph"),i=n.graphActiveState||"active",o=n.graphInactiveState||"inactive",n=n.multiple,this.clearFilter(),n||this.clearActiveLegend(),this.activateLegend(t.target),t=(n=e.find(function(t){return"root"===t.get("name")})).find(function(t){return"node-group"===t.get("name")}),e=n.find(function(t){return"edge-group"===t.get("name")}),a=t.get("children").filter(function(t){return t.get("active")}),s=e.get("children").filter(function(t){return t.get("active")}),c=0,(n=["getNodes","getEdges"]).forEach(function(t){r[t]().forEach(function(e){var n=!1;("getNodes"===t?a:s).forEach(function(t){t=u[t.get("id")];n=n||t(e.getModel())}),n?(r.setItemState(e,o,!1),r.setItemState(e,i,!0),c++):(r.setItemState(e,i,!1),r.setItemState(e,o,!0))})}),c||n.forEach(function(t){r[t]().forEach(function(t){r.clearItemStates(t,[o])})}))},Ea.prototype.clearFilter=function(){var e,n,r=this.get("graph"),t=this.get("filter");t&&(e=t.graphActiveState||"active",n=t.graphInactiveState||"inactive",r.getNodes().forEach(function(t){r.clearItemStates(t,[e,n])}),r.getEdges().forEach(function(t){r.clearItemStates(t,[e,n])}))},Ea.prototype.render=function(){var h=this,l=(this.processData(),this.get("legendCanvas")),t=(l||((t=(l=new Ir.Canvas({container:this.get("container"),width:200,height:200})).addGroup({name:"root"})).addGroup({name:"node-group"}),t.addGroup({name:"edge-group"}),this.set("legendCanvas",l)),l.find(function(t){return"root"===t.get("name")})),d=t.find(function(t){return"node-group"===t.get("name")}),f=t.find(function(t){return"edge-group"===t.get("name")}),p=this.get("itemsData"),g=[d,f];["nodes","edges"].forEach(function(u,l){p[u].forEach(function(t){var e,n=g[l].addGroup({id:t.id,name:"node-container"}),r=t.type,i=h.getShapeSize(t),o=i.width,a=i.height,s=i.r,i=h.getStyle(u.substr(0,4),t);switch(t.type){case"circle":e={r:s,x:0,y:0};break;case"rect":e={width:o,height:a,x:-o/2,y:-a/2};break;case"ellipse":e={r1:o,r2:a,x:0,y:0};break;case"line":e={x1:-o/2,y1:0,x2:o/2,y2:0},r="line";break;case"quadratic":e={path:[["M",-o/2,0],["Q",0,o/2,o/2,0]]},r="path";break;case"cubic":e={path:[["M",-o/2,0],["C",-o/6,o/2,o/6,-o/2,o/2,0]]},r="path";break;default:e={r:s,x:0,y:0}}var c,i=n.addShape(r,{attrs:Oa(Oa({},e),i),name:"".concat(t.type,"-node-keyShape"),oriAttrs:Oa({opacity:1},i)});t.label&&(i=i.getBBox(),c=(null===(c=t.labelCfg)||void 0===c?void 0:c.style)||{},c=Oa({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},c),n.addShape("text",{attrs:Oa({x:i.maxX+4,y:0,text:t.label},c),className:"legend-label",name:"".concat(t.type,"-node-text"),oriAttrs:c}))})});var e=this.get("padding"),n=t.find(function(t){return"title-container"===t.get("name")}),r={height:0,maxY:0,width:0},i=(this.get("title")&&(n=n||t.addGroup({name:"title-container"}),c={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:e[0]},s=this.get("titleConfig")||{},c=Object.assign(c,s.style||{}),c=n.addShape("text",{attrs:Oa({text:this.get("title")},c)}),r=n.getCanvasBBox(),n.setMatrix([1,0,0,0,1,0,s.offsetX,s.offsetY,1])),this.layoutItems(),t.getCanvasBBox(),d.getCanvasBBox()),o=[1,0,0,0,1,0,i.minX<0?Math.abs(i.minX)+e[3]:e[3],r.maxY<i.minY?Math.abs(r.maxY-i.minY)+e[0]:r.maxY+e[0],1],a=(d.setMatrix(o),[(a=t.getCanvasBBox()).minX+a.width+e[1],a.minY+a.height+e[2]]),r=(c?(s=Oa({position:"center",offsetX:0,offsetY:0},this.get("titleConfig")),r=n.getCanvasBBox(),u=n.getMatrix()||[1,0,0,0,1,0,0,0,1],"center"===s.position?u[6]=a[0]/2+s.offsetX:"right"===s.position?(u[6]=a[0]-e[3]+s.offsetX,c.attr({textAlign:"right"})):(u[6]=e[3]+s.offsetX,c.attr({textAlign:"left"})),n.setMatrix(u),r=n.getCanvasBBox(),o=[1,0,0,0,1,0,s=i.minX<0?Math.abs(i.minX)+e[3]:e[3],c=i.minY<r.maxY?Math.abs(r.maxY-i.minY)+e[0]:r.maxY+e[0],1],d.setMatrix(o),u=[1,0,0,0,1,0,s,c,1],"vertical"===this.get("layout")?u[6]+=i.maxX+this.get("horiSep"):u[7]+=i.maxY+this.get("vertiSep"),f.setMatrix(u)):(i=d.getCanvasBBox(),n=[1,0,0,0,1,0,0,0,1],"vertical"===this.get("layout")?n[6]+=o[6]+i.maxX+this.get("horiSep"):n[7]+=o[7]+i.maxY+this.get("vertiSep"),f.setMatrix(n)),t.getCanvasBBox(),i=d.getCanvasBBox(),o=d.getMatrix()||[1,0,0,0,1,0,0,0,1],f.getMatrix()||[1,0,0,0,1,0,0,0,1]),s=f.getCanvasBBox(),a=[Math.max(i.width+o[6],s.width+r[6])+e[1],Math.max(i.height+o[7],s.height+r[7])+e[2]],c=(l.changeSize(a[0],a[1]),this.get("containerStyle")),u=t.getMatrix()||[1,0,0,0,1,0,0,0,1],n=jr.invertMatrix({x:0,y:0},u);return t.addShape("rect",{attrs:Oa({x:n.x+(c.lineWidth||1),y:n.y+(c.lineWidth||1),width:a[0]-2*(c.lineWidth||1),height:a[1]-2*(c.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},c),name:"legend-back-rect",capture:!1}).toBack(),a},Ea.prototype.layoutItems=function(){var n,t=this.get("legendCanvas"),s=this.get("horiSep"),c=this.get("vertiSep"),u=this.get("layout"),e=this.get("align"),l=[0,0],t=t.find(function(t){return"root"===t.get("name")}),i=t.find(function(t){return"node-group"===t.get("name")}),t=t.find(function(t){return"edge-group"===t.get("name")}),h={min:0,max:-1/0},d=-1/0,r=(i.get("children").forEach(function(t,e){0===e&&(h.min=l[0]);var e=t.get("children")[0],n=t.getCanvasBBox(),e=e.getBBox(),r=e.width,e=e.height,i=0,o=0,a=0,i="vertical"===u?(o=l[1],a=l[0]+r/2,l[0]=a+n.height+c,n.maxX+o+r/2):(o=l[0]+r/2,a=l[1],l[0]=o+n.width+s,n.maxY+a+e/2);l[0]>h.max&&(h.max=l[0]),d<i&&(d=i),t.setMatrix([1,0,0,0,1,0,o,a,1])}),h.max-h.min),a={min:0,max:-1/0},o=i.getCanvasBBox(),o=(l[0]=0,l[1]="vertical"===u?o.maxX+s:o.maxY+c,t.get("children").forEach(function(t,e){0===e&&(a.min=l[0]);var e=t.get("children")[0],n=t.getCanvasBBox(),e=e.getBBox(),r=e.width,e=e.height,i=0,o=0;"vertical"===u?(i=l[1],o=l[0],l[0]=o+n.height+c,t.setMatrix([1,0,0,0,1,0,0,o+e/2,1])):(i=l[0],o=l[1],l[0]=i+n.width+s,t.setMatrix([1,0,0,0,1,0,i+r/2,0,1])),l[0]>a.max&&(a.max=l[0])}),a.max-a.min);e&&""!==e&&"left"!==e&&(r=r-o,n="center"===e?Math.abs(r)/2:Math.abs(r),(r<0?i:t).get("children").forEach(function(t){var e=t.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===u?e[7]+=n:e[6]+=n,t.setMatrix(e)}))},Ea.prototype.processData=function(){var t=this.get("data"),i={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(t,e){return t.order-e.order}),t.nodes.forEach(function(t){var e=t.size||[(null===(e=t.style)||void 0===e?void 0:e.width)||(null===(e=t.style)||void 0===e?void 0:e.r)||8,(null===(e=t.style)||void 0===e?void 0:e.height)||(null===(e=t.style)||void 0===e?void 0:e.r)||8],n=(null===(n=t.labelCfg)||void 0===n?void 0:n.style)||{};i.nodes.push({id:t.id||Object(X.uniqueId)(),type:t.type||"circle",style:Oa({},t.style),order:t.order,label:t.label,itemType:"node",size:e,labelCfg:{position:"right",style:Oa({fontFamily:"Arial"},n)}})})),t.edges&&(t.edges.sort(function(t,e){return t.order-e.order}),t.edges.forEach(function(t){var e=t.type||"line",n=("cubic-horizontal"===t.type&&(e="cubic"),(null===(n=t.labelCfg)||void 0===n?void 0:n.style)||{}),r=t.size||[(null===(r=t.style)||void 0===r?void 0:r.width)||8,1];i.edges.push({id:t.id||Object(X.uniqueId)(),type:e,size:r,style:Oa({lineWidth:Object(X.isArray)(r)?r[1]:1},t.style),order:t.order,label:t.label,itemType:"edge",labelCfg:{position:"right",style:Oa({fontFamily:"Arial"},n)}})})),this.set("itemsData",i)},Ea.prototype.getContainer=function(){return this.get("container")},Ea.prototype.formatArray=function(t){var e=this.get(t);if(Object(X.isNumber)(e))this.set(t,[e,e,e,e]);else if(Object(X.isArray)(e))switch(e.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[e[0],e[0],e[0],e[0]]);break;case 2:this.set(t,[e[0],e[1],e[0],e[1]]);break;case 3:this.set(t,[e[0],e[1],e[2],e[1]])}return this.get(t)},Ea.prototype.getShapeSize=function(t){var e,n,r;return t.size&&(Object(X.isArray)(t.size)?(e=t.size[0],n=t.size[1]||t.size[0],r=t.size[0]/2):Object(X.isNumber)(t.size)&&(e=t.size,n=t.size,r=t.size/2)),t.style&&(t.style.width&&(e=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(r=t.style.r)),r=r||5,{width:e=e||r,height:n=n||r,r:r}},Ea.prototype.getStyle=function(t,e){return Oa(Oa({},"node"===t?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),e.style||{})},Ea.prototype.destroy=function(){var t=this.get("graph").get("container"),e=this.get("container");t.removeChild(e)},Ea)};function Ea(t){return pa.call(this,t)||this}function wa(t){return ya.call(this,t)||this}function Ma(t){return ma.call(this,t)||this}function Pa(t){return ba.call(this,t)||this}$e("circle",{options:{size:u.defaultNode.size,style:{x:0,y:0,stroke:u.defaultNode.style.stroke,fill:u.defaultNode.style.fill,lineWidth:u.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.nodeLabel.style.fill,fontSize:u.nodeLabel.style.fontSize,fontFamily:u.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.defaultNode.linkPoints.size,lineWidth:u.defaultNode.linkPoints.lineWidth,fill:u.defaultNode.linkPoints.fill,stroke:u.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(_.a)({},u.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,n=void 0===n?{}:n,r=this.getShapeStyle(t),n=Object(X.deepMix)({},n,t.icon),i="".concat(this.type,"-keyShape"),r=e.addShape("circle",{attrs:r,className:i,name:i,draggable:!0}),i=(e.shapeMap[i]=r,n.width),o=n.height,a=n.show,s=n.text;return a&&(a="".concat(this.type,"-icon"),e.shapeMap[a]=s?e.addShape("text",{attrs:Object(_.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:a,name:a,draggable:!0}):e.addShape("image",{attrs:Object(_.a)({x:-i/2,y:-o/2},n),className:a,name:a,draggable:!0})),this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n,r,i,o,a,s,c=(this.mergeStyle||this.getOptions(t)).linkPoints;c&&(n=(c=c||{}).top,s=c.left,a=c.right,r=c.bottom,i=c.size,o=c.r,c=Object(_.e)(c,["top","left","right","bottom","size","r"]),t=this.getSize(t)[0]/2,s&&(e.shapeMap[s="link-point-left"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},c),{x:-t,y:0,r:i/2||o||5}),className:s,name:s,isAnchorPoint:!0})),a&&(e.shapeMap[s="link-point-right"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},c),{x:t,y:0,r:i/2||o||5}),className:s,name:s,isAnchorPoint:!0})),n&&(e.shapeMap[a="link-point-top"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},c),{x:0,y:-t,r:i/2||o||5}),className:a,name:a,isAnchorPoint:!0})),r&&(e.shapeMap[s="link-point-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},c),{x:0,y:t,r:i/2||o||5}),className:s,name:s,isAnchorPoint:!0})))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},e=Object(X.deepMix)({},e,n),n=this.getSize(t)[0]/2;return Object(_.a)({x:0,y:0,r:n},e)},update:function(t,e,n){var r=e.getContainer(),i=this.getSize(t),o=Object(_.a)({},t.style);void 0===t.style.stroke&&t.color&&(o.stroke=t.color),void 0!==t.style.r||isNaN(i[0])||(o.r=i[0]/2),this.updateShape(t,e,o,!0,n),this.updateLinkPoints(t,r)}},"single-node"),$e("rect",{options:{size:[100,30],style:{radius:0,stroke:u.defaultNode.style.stroke,fill:u.defaultNode.style.fill,lineWidth:u.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.nodeLabel.style.fill,fontSize:u.nodeLabel.style.fontSize,fontFamily:u.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.defaultNode.linkPoints.size,lineWidth:u.defaultNode.linkPoints.lineWidth,fill:u.defaultNode.linkPoints.fill,stroke:u.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(_.a)({},u.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),n=e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return e.shapeMap["".concat(this.type,"-keyShape")]=n,this.drawLinkPoints(t,e),n},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,n=void 0===n?{}:n,r=n.top,i=n.left,o=n.right,a=n.bottom,s=n.size,c=n.r,n=Object(_.e)(n,["top","left","right","bottom","size","r"]),t=this.getSize(t),u=t[0],t=t[1];i&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:-u/2,y:0,r:s/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),o&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:u/2,y:0,r:s/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),r&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:0,y:-t/2,r:s/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:0,y:t/2,r:s/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},e=Object(X.mix)({},e,n),n=this.getSize(t),t=e.width||n[0],n=e.height||n[1];return Object(_.a)({x:-t/2,y:-n/2,width:t,height:n},e)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),a=e.get("keyShape"),o=(t.size||(o[0]=a.attr("width")||i.width,o[1]=a.attr("height")||i.height),{stroke:t.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]}),i=Object(X.mix)({},i,a.attr(),o),i=Object(X.mix)(i,t.style);this.updateShape(t,e,i,!1,n),this.updateLinkPoints(t,r)}},"single-node"),$e("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:u.defaultNode.style.stroke,fill:u.defaultNode.style.fill,lineWidth:u.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.nodeLabel.style.fill,fontSize:u.nodeLabel.style.fontSize,fontFamily:u.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.defaultNode.linkPoints.size,lineWidth:u.defaultNode.linkPoints.lineWidth,fill:u.defaultNode.linkPoints.fill,stroke:u.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(_.a)({},u.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,n=void 0===n?{}:n,r=this.getShapeStyle(t),r=e.addShape("ellipse",{attrs:r,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),i=(e.shapeMap["ellipse-keyShape"]=r,n.width),o=n.height,a=n.show,s=n.text;return a&&(e.shapeMap["".concat(this.type,"-icon")]=s?e.addShape("text",{attrs:Object(_.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(_.a)({x:-i/2,y:-o/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,n=void 0===n?{}:n,r=n.top,i=n.left,o=n.right,a=n.bottom,s=n.size,c=n.r,n=Object(_.e)(n,["top","left","right","bottom","size","r"]),t=this.getSize(t),u=t[0]/2,t=t[1]/2;i&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:-u,y:0,r:s/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),o&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:u,y:0,r:s/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),r&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:0,y:-t,r:s/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:0,y:t,r:s/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},e=Object(X.mix)({},e,n),n=this.getSize(t),t=n[0]/2,n=n[1]/2;return Object(_.a)({x:0,y:0,rx:t,ry:n},e)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),o={stroke:t.color,rx:o[0]/2,ry:o[1]/2},a=e.get("keyShape"),i=Object(X.mix)({},i,a.attr(),o),i=Object(X.mix)(i,t.style);this.updateShape(t,e,i,!0,n),this.updateLinkPoints(t,r)}},"single-node"),$e("diamond",{options:{size:[80,80],style:{stroke:u.defaultNode.style.stroke,fill:u.defaultNode.style.fill,lineWidth:u.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.nodeLabel.style.fill,fontSize:u.nodeLabel.style.fontSize,fontFamily:u.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.defaultNode.linkPoints.size,lineWidth:u.defaultNode.linkPoints.lineWidth,fill:u.defaultNode.linkPoints.fill,stroke:u.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(_.a)({},u.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,n=void 0===n?{}:n,r=this.getShapeStyle(t),r=e.addShape("path",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0}),i=(e.shapeMap["".concat(this.type,"-keyShape")]=r,n.width),o=n.height,a=n.show,s=n.text;return a&&(e.shapeMap["".concat(this.type,"-icon")]=s?e.addShape("text",{attrs:Object(_.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(_.a)({x:-i/2,y:-o/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,n=void 0===n?{}:n,r=n.top,i=n.left,o=n.right,a=n.bottom,s=n.size,c=n.r,n=Object(_.e)(n,["top","left","right","bottom","size","r"]),t=this.getSize(t),u=t[0],t=t[1];i&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:-u/2,y:0,r:s/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),o&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:u/2,y:0,r:s/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),r&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:0,y:-t/2,r:s/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:0,y:t/2,r:s/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(t){var t=this.getSize(t),e=t[0],t=t[1];return[["M",0,-t/2],["L",e/2,0],["L",0,t/2],["L",-e/2,0],["Z"]]},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},e=Object(X.mix)({},e,n),n=this.getPath(t);return Object(_.a)({path:n},e)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),o={stroke:t.color,path:o},a=e.get("keyShape"),i=Object(X.mix)({},i,a.attr(),o),i=Object(X.mix)(i,t.style);this.updateShape(t,e,i,!0,n),this.updateLinkPoints(t,r)}},"single-node"),$e("triangle",{options:{size:40,direction:"up",style:{stroke:u.defaultNode.style.stroke,fill:u.defaultNode.style.fill,lineWidth:u.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.nodeLabel.style.fill,fontSize:u.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.defaultNode.linkPoints.size,lineWidth:u.defaultNode.linkPoints.lineWidth,fill:u.defaultNode.linkPoints.fill,stroke:u.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(_.a)({},u.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.icon,r=void 0===r?{}:r,n=n.direction,i=this.getShapeStyle(t),n=t.direction||n,i=e.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0}),o=(e.shapeMap["".concat(this.type,"-keyShape")]=i,r.width),a=r.height,s=r.show,c=r.offset,u=r.text;return s&&(u?e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:Object(_.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):(s=-o/2,u=-a/2,"up"!==n&&"down"!==n||(u+=c),"left"!==n&&"right"!==n||(s+=c),e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:Object(_.a)({x:s,y:u},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}))),this.drawLinkPoints(t,e),i},drawLinkPoints:function(t,e){var n,r,i=this.mergeStyle||this.getOptions(t),o=i.linkPoints,o=void 0===o?{}:o,i=i.direction,i=t.direction||i,l=o.top,a=o.left,s=o.right,h=o.bottom,c=o.size,u=o.r,o=Object(_.e)(o,["top","left","right","bottom","size","r"]),t=this.getSize(t)[0];a&&(a=null,n=t*Math.sin(1/3*Math.PI),r=t*Math.sin(1/3*Math.PI),"up"===i?a=[-r,n]:"down"===i?a=[-r,-n]:"left"===i&&(a=[-r,r-n]),a&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},o),{x:a[0],y:a[1],r:c/2||u||5}),className:"link-point-left",name:"link-point-left"}))),s&&(a=null,n=t*Math.sin(1/3*Math.PI),r=t*Math.sin(1/3*Math.PI),"up"===i?a=[r,n]:"down"===i?a=[r,-n]:"right"===i&&(a=[r,r-n]),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},o),{x:a[0],y:a[1],r:c/2||u||5}),className:"link-point-right",name:"link-point-right"}))),l&&(s=null,n=t*Math.sin(1/3*Math.PI),r=t*Math.sin(1/3*Math.PI),"up"===i?s=[r-n,-n]:"left"===i?s=[r,-n]:"right"===i&&(s=[-r,-n]),s&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},o),{x:s[0],y:s[1],r:c/2||u||5}),className:"link-point-top",name:"link-point-top"}))),h&&(a=null,n=t*Math.sin(1/3*Math.PI),r=t*Math.sin(1/3*Math.PI),"down"===i?a=[-r+n,n]:"left"===i?a=[r,n]:"right"===i&&(a=[-r,n]),a&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},o),{x:a[0],y:a[1],r:c/2||u||5}),className:"link-point-bottom",name:"link-point-bottom"})))},getPath:function(t){var e=(this.mergeStyle||this.getOptions(t)).direction,e=t.direction||e,t=this.getSize(t)[0],n=t*Math.sin(1/3*Math.PI),t=t*Math.sin(1/3*Math.PI),r=[["M",-t,n],["L",0,-n],["L",t,n],["Z"]];return"down"===e?r=[["M",-t,-n],["L",t,-n],["L",0,n],["Z"]]:"left"===e?r=[["M",-t,t-n],["L",t,-t],["L",t,t],["Z"]]:"right"===e&&(r=[["M",t,t-n],["L",-t,t],["L",-t,-t],["Z"]]),r},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},e=Object(X.mix)({},e,n),n=this.getPath(t);return Object(_.a)({path:n},e)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),o={stroke:t.color,path:o},a=e.get("keyShape"),i=Object(X.mix)({},i,a.attr(),o),i=Object(X.mix)(i,t.style);this.updateShape(t,e,i,!0,n),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var n=this.getOptions({}),r=n.linkPoints,n=n.direction,n=t.direction||n,i=e.shapeMap["link-point-left"]||e.find(function(t){return"link-point-left"===t.get("className")}),l=e.shapeMap["link-point-right"]||e.find(function(t){return"link-point-right"===t.get("className")}),h=e.shapeMap["link-point-top"]||e.find(function(t){return"link-point-top"===t.get("className")}),d=e.shapeMap["link-point-bottom"]||e.find(function(t){return"link-point-bottom"===t.get("className")}),o=i||l||h||d,o=(o&&(r=o.attr()),Object(X.mix)({},r,t.linkPoints)),r=o.fill,a=o.stroke,s=o.lineWidth,c=(c=o.size/2)||o.r,o=t.linkPoints||{left:void 0,right:void 0,top:void 0,bottom:void 0},u=o.left,f=o.right,p=o.top,o=o.bottom,t=this.getSize(t)[0],c={r:c,fill:r,stroke:a,lineWidth:s},r=null,a=t*Math.sin(1/3*Math.PI),s=t*Math.sin(1/3*Math.PI),t=("up"===n?r=[-s,a]:"down"===n?r=[-s,-a]:"left"===n&&(r=[-s,s-a]),r&&(i?u||void 0===u?i.attr(Object(_.a)(Object(_.a)({},c),{x:r[0],y:r[1]})):(i.remove(),delete e.shapeMap["link-point-left"]):u&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},c),{x:r[0],y:r[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}))),null),i=("up"===n?t=[s,a]:"down"===n?t=[s,-a]:"right"===n&&(t=[s,s-a]),t&&(l?f||void 0===f?l.attr(Object(_.a)(Object(_.a)({},c),{x:t[0],y:t[1]})):(l.remove(),delete e.shapeMap["link-point-right"]):f&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},c),{x:t[0],y:t[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}))),null),u=("up"===n?i=[s-a,-a]:"left"===n?i=[s,-a]:"right"===n&&(i=[-s,-a]),i&&(h?p||void 0===p?h.attr(Object(_.a)(Object(_.a)({},c),{x:i[0],y:i[1]})):(h.remove(),delete e.shapeMap["link-point-top"]):p&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},c),{x:i[0],y:i[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}))),null);"down"===n?u=[a-s,a]:"left"===n?u=[s,a]:"right"===n&&(u=[-s,a]),u&&(d?o||void 0===o?d.attr(Object(_.a)(Object(_.a)({},c),{x:u[0],y:u[1]})):(d.remove(),delete e.shapeMap["link-point-bottom"]):o&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},c),{x:u[0],y:u[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),$e("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:u.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:u.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:u.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).preRect,n=void 0===n?{}:n,r=this.getShapeStyle(t),i=this.getSize(t),o=i[0],i=i[1],r=e.addShape("rect",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0}),a=(e.shapeMap["".concat(this.type,"-keyShape")]=r,n.show),n=Object(_.e)(n,["show"]);return a&&(e.shapeMap["pre-rect"]=e.addShape("rect",{attrs:Object(_.a)({x:-o/2,y:-i/2,height:i},n),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),r},drawLogoIcon:function(t,e){var n,r,i,o,a,s,c=(this.mergeStyle||this.getOptions(t)).logoIcon,c=void 0===c?{}:c,t=this.getSize(t)[0];c.show&&(n=c.width,r=c.height,i=c.x,o=c.y,a=c.offset,s=c.text,c=Object(_.e)(c,["width","height","x","y","offset","text"]),e.shapeMap["rect-logo-icon"]=s?e.addShape("text",{attrs:Object(_.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},c),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):e.addShape("image",{attrs:Object(_.a)(Object(_.a)({},c),{x:i||-t/2+n+a,y:o||-r/2,width:n,height:r}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}))},drawStateIcon:function(t,e){var n,r,i,o,a,s,c=(this.mergeStyle||this.getOptions(t)).stateIcon,c=void 0===c?{}:c,t=this.getSize(t)[0];c.show&&(n=c.width,r=c.height,i=c.x,o=c.y,a=c.offset,s=c.text,c=Object(_.e)(c,["width","height","x","y","offset","text"]),e.shapeMap["rect-state-icon"]=s?e.addShape("text",{attrs:Object(_.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},c),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):e.addShape("image",{attrs:Object(_.a)(Object(_.a)({},c),{x:i||t/2-n+a,y:o||-r/2,width:n,height:r}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}))},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,n=void 0===n?{}:n,r=n.top,i=n.left,o=n.right,a=n.bottom,s=n.size,c=n.r,n=Object(_.e)(n,["top","left","right","bottom","size","r"]),t=this.getSize(t),u=t[0],t=t[1];i&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:-u/2,y:0,r:s/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),o&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:u/2,y:0,r:s/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),r&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:0,y:-t/2,r:s/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},n),{x:0,y:t/2,r:s/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(t,e){var n=this.getOptions(t),r=n.labelCfg,r=void 0===r?{}:r,i=n.logoIcon,i=void 0===i?{}:i,n=n.descriptionCfg,n=void 0===n?{}:n,o=this.getSize(t)[0],a=null,s=i.show,i=i.width,c=-o/2+r.offset,s=(s&&(c=-o/2+i+r.offset),r.style),o=n.style,i=n.paddingTop;return Object(X.isString)(t.description)?(a=e.addShape("text",{attrs:Object(_.a)(Object(_.a)({},s),{x:c,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=a,e.shapeMap["rect-description"]=e.addShape("text",{attrs:Object(_.a)(Object(_.a)({},o),{x:c,y:17+(i||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(a=e.addShape("text",{attrs:Object(_.a)(Object(_.a)({},s),{x:c,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=a),a},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},e=Object(X.mix)({},e,n),n=this.getSize(t),t=e.width||n[0],n=e.height||n[1];return Object(_.a)({x:-t/2,y:-n/2,width:t,height:n},e)},update:function(t,l){var h,d,f,e,n,r=this.mergeStyle||this.getOptions(t),i=r.style,i=void 0===i?{}:i,o=r.labelCfg,o=void 0===o?{}:o,r=r.descriptionCfg,r=void 0===r?{}:r,p=this.getSize(t),g=p[0],p=p[1],i=(l.get("keyShape").attr(Object(_.a)(Object(_.a)({},i),{x:-g/2,y:-p/2,width:g,height:p})),l.getContainer()),l=i.shapeMap["rect-logo-icon"]||i.find(function(t){return"rect-logo-icon"===t.get("className")}),a=l?l.attr():{},a=Object(X.mix)({},a,t.logoIcon),s=a.width,y=(void 0===s&&(s=this.options.logoIcon.width),t.logoIcon?t.logoIcon.show:void 0),c=o.offset,s=-g/2+s+c,c=(y||void 0===y||(s=-g/2+c),i.shapeMap["node-label"]||i.find(function(t){return"node-label"===t.get("className")})),u=i.shapeMap["rect-description"]||i.find(function(t){return"rect-description"===t.get("className")}),o=(t.label&&(c?(n=t.labelCfg?t.labelCfg.style:{},e=Object(X.mix)({},c.attr(),n),t.label&&(e.text=t.label),e.x=s,Object(X.isString)(t.description)&&(e.y=-5),u&&(u.resetMatrix(),u.attr({x:s})),c.resetMatrix(),c.attr(e)):i.shapeMap["node-label"]=i.addShape("text",{attrs:Object(_.a)(Object(_.a)({},o.style),{x:s,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0})),Object(X.isString)(t.description)&&(c=r.paddingTop,u?(n=t.descriptionCfg?t.descriptionCfg.style:{},e=Object(X.mix)({},u.attr(),n),Object(X.isString)(t.description)&&(e.text=t.description),e.x=s,u.resetMatrix(),u.attr(Object(_.a)(Object(_.a)({},e),{y:17+(c||0)}))):i.shapeMap["rect-description"]=i.addShape("text",{attrs:Object(_.a)(Object(_.a)({},r.style),{x:s,y:17+(c||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})),i.shapeMap["pre-rect"]||i.find(function(t){return"pre-rect"===t.get("className")})),s=(o&&!o.destroyed&&(n=Object(X.mix)({},o.attr(),t.preRect),o.attr(Object(_.a)(Object(_.a)({},n),{x:-g/2,y:-p/2,height:p}))),l&&!l.destroyed?y||void 0===y?(u=a.width,h=a.height,d=a.x,f=a.y,e=a.offset,r=Object(_.e)(a,["width","height","x","y","offset"]),l.attr(Object(_.a)(Object(_.a)({},r),{x:d||-g/2+u+e,y:f||-h/2,width:u,height:h}))):(l.remove(),delete i.shapeMap["pre-rect"]):y&&this.drawLogoIcon(t,i),i.shapeMap["rect-state-icon"]||i.find(function(t){return"rect-state-icon"===t.get("className")})),c=s?s.attr():{},o=Object(X.mix)({},c,t.stateIcon);s?(o.show||void 0===o.show||(s.remove(),delete i.shapeMap["rect-state-icon"]),n=o.width,h=o.height,d=o.x,f=o.y,p=o.offset,a=Object(_.e)(o,["width","height","x","y","offset"]),s.attr(Object(_.a)(Object(_.a)({},a),{x:d||g/2-n+p,y:f||-h/2,width:n,height:h}))):o.show&&this.drawStateIcon(t,i),this.updateLinkPoints(t,i)}},"single-node"),$e("star",{options:{size:60,style:{stroke:u.defaultNode.style.stroke,fill:u.defaultNode.style.fill,lineWidth:u.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.nodeLabel.style.fill,fontSize:u.nodeLabel.style.fontSize,fontFamily:u.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.defaultNode.linkPoints.size,lineWidth:u.defaultNode.linkPoints.lineWidth,fill:u.defaultNode.linkPoints.fill,stroke:u.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(_.a)({},u.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,n=void 0===n?{}:n,r=this.getShapeStyle(t),r=e.addShape("path",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0}),i=(e.shapeMap["".concat(this.type,"-keyShape")]=r,n.width),o=n.height,a=n.show,s=n.text;return a&&(e.shapeMap["".concat(this.type,"-icon")]=s?e.addShape("text",{attrs:Object(_.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(_.a)({x:-i/2,y:-o/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n,r,i=(this.mergeStyle||this.getOptions(t)).linkPoints,i=void 0===i?{}:i,o=i.top,a=i.left,s=i.right,l=i.leftBottom,h=i.rightBottom,c=i.size,u=i.r,i=Object(_.e)(i,["top","left","right","leftBottom","rightBottom","size","r"]),t=this.getSize(t)[0];s&&(n=Math.cos(.1*Math.PI)*t,r=Math.sin(.1*Math.PI)*t,e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},i),{x:n,y:-r,r:c/2||u||5}),className:"link-point-right",name:"link-point-right"})),o&&(n=Math.cos(.5*Math.PI)*t,r=Math.sin(.5*Math.PI)*t,e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},i),{x:n,y:-r,r:c/2||u||5}),className:"link-point-top",name:"link-point-top"})),a&&(n=Math.cos(.9*Math.PI)*t,r=Math.sin(.9*Math.PI)*t,e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},i),{x:n,y:-r,r:c/2||u||5}),className:"link-point-left",name:"link-point-left"})),l&&(n=Math.cos(1.3*Math.PI)*t,r=Math.sin(1.3*Math.PI)*t,e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},i),{x:n,y:-r,r:c/2||u||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})),h&&(n=Math.cos(1.7*Math.PI)*t,r=Math.sin(1.7*Math.PI)*t,e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},i),{x:n,y:-r,r:c/2||u||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"}))},getPath:function(t){for(var e=this.getSize(t)[0],n=t.innerR||3*e/8,r=[],i=0;i<5;i++){var o=Math.cos((18+72*i)/180*Math.PI)*e,a=Math.sin((18+72*i)/180*Math.PI)*e,s=Math.cos((54+72*i)/180*Math.PI)*n,c=Math.sin((54+72*i)/180*Math.PI)*n;0===i?r.push(["M",o,-a]):r.push(["L",o,-a]),r.push(["L",s,-c])}return r.push(["Z"]),r},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},e=Object(X.mix)({},e,n),n=this.getPath(t);return Object(_.a)({path:n},e)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),o={stroke:t.color,path:o},a=e.get("keyShape"),i=Object(X.mix)({},i,a.attr(),o),i=Object(X.mix)(i,t.style);this.updateShape(t,e,i,!0,n),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,r=e.shapeMap["link-point-left"]||e.find(function(t){return"link-point-left"===t.get("className")}),i=e.shapeMap["link-point-right"]||e.find(function(t){return"link-point-right"===t.get("className")}),o=e.shapeMap["link-point-top"]||e.find(function(t){return"link-point-top"===t.get("className")}),a=e.shapeMap["link-point-left-bottom"]||e.find(function(t){return"link-point-left-bottom"===t.get("className")}),l=e.shapeMap["link-point-left-bottom"]||e.find(function(t){return"link-point-right-bottom"===t.get("className")}),s=r||i||o||a||l,s=(s&&(n=s.attr()),Object(X.mix)({},n,t.linkPoints)),n=s.fill,c=s.stroke,h=s.lineWidth,u=(u=s.size/2)||s.r,s=t.linkPoints||{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},d=s.left,f=s.right,p=s.top,g=s.leftBottom,s=s.rightBottom,t=this.getSize(t)[0],u={r:u,fill:n,stroke:c,lineWidth:h},n=Math.cos(.1*Math.PI)*t,c=Math.sin(.1*Math.PI)*t;i?f||void 0===f?i.attr(Object(_.a)(Object(_.a)({},u),{x:n,y:-c})):(i.remove(),delete e.shapeMap["link-point-right"]):f&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},u),{x:n,y:-c}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),n=Math.cos(.5*Math.PI)*t,c=Math.sin(.5*Math.PI)*t,o?p||void 0===p?o.attr(Object(_.a)(Object(_.a)({},u),{x:n,y:-c})):(o.remove(),delete e.shapeMap["link-point-top"]):p&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},u),{x:n,y:-c}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),n=Math.cos(.9*Math.PI)*t,c=Math.sin(.9*Math.PI)*t,r?d||void 0===d?r.attr(Object(_.a)(Object(_.a)({},u),{x:n,y:-c})):(r.remove(),delete e.shapeMap["link-point-left"]):d&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},u),{x:n,y:-c}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),n=Math.cos(1.3*Math.PI)*t,c=Math.sin(1.3*Math.PI)*t,a?g||void 0===g?a.attr(Object(_.a)(Object(_.a)({},u),{x:n,y:-c})):(a.remove(),delete e.shapeMap["link-point-left-bottom"]):g&&(e.shapeMap["link-point-left-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},u),{x:n,y:-c}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),n=Math.cos(1.7*Math.PI)*t,c=Math.sin(1.7*Math.PI)*t,l?s||void 0===s?l.attr(Object(_.a)(Object(_.a)({},u),{x:n,y:-c})):(a.remove(),delete e.shapeMap["link-point-right-bottom"]):s&&(e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:Object(_.a)(Object(_.a)({},u),{x:n,y:-c}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");function Ca(t){var e=t.x,t=t.y;return{x:e,y:t,centerX:e,centerY:t,minX:e,minY:t,maxX:e,maxY:t,height:0,width:0}}function Aa(t){return Ja(t)}function Sa(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),t=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+t)/2,minX:n,minY:r,maxX:i,maxY:t,height:t-r,width:i-n}}function ja(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]}function Da(t,e){var n=t.x,t=t.y;return n<e.minX||n>e.maxX||t<e.minY||t>e.maxY}function Ta(t,e,n,r,i){return ns(t,e)+ns(t,n)+(o=t,a=0,[e,n,r,i].forEach(function(t){t&&(o.x===t.x&&(a+=-2),o.y===t.y&&(a+=-2))}),a);var o,a}function Ia(t,e,n,r,i){void 0===i&&(i=0),t.unshift(e[r]),n[r]&&n[r]!==r&&i<=100&&Ia(t,e,n,n[r],i+1)}function ka(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=r.x-t.x,t=r.y-t.y,s=n.x-e.x,n=n.y-e.y,c=r.x-e.x,r=r.y-e.y;return(i*t-o*a)*(s*r-n*c)<=0&&(i*n-o*s)*(a*r-t*c)<=0}function La(s,c){var u=[],t=s[0];return u.push("M".concat(t.x," ").concat(t.y)),s.forEach(function(t,e){var n,r,i,o,a=s[e+1],e=s[e+2];a&&e?t.x===a.x&&a.x===e.x||t.y===a.y&&a.y===e.y?u.push("L".concat(a.x," ").concat(a.y)):(e=e,r=c,i=ns(t=t,n=a),o=ns(e,n),t=(i=[{x:n.x-(r=o<(r=i<r?i:r)?o:r)/i*(n.x-t.x),y:n.y-r/i*(n.y-t.y)},{x:n.x-r/o*(n.x-e.x),y:n.y-r/o*(n.y-e.y)}])[1],u.push("L".concat((r=i[0]).x," ").concat(r.y)),u.push("Q".concat(a.x," ").concat(a.y," ").concat(t.x," ").concat(t.y)),u.push("L".concat(t.x," ").concat(t.y))):a&&u.push("L".concat(a.x," ").concat(a.y))}),u.join("")}function Ra(t,e,n,r,i){n&&n.getType()?"combo"===n.getType()?((o=n.getKeyShape().getCanvasBBox()||Ca(t)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2):o=n.getBBox():o=Ca(t),r&&r.getType()?"combo"===r.getType()?(n=r.getKeyShape().getBBox())?((a={x:a=(s=r.getModel()).x,y:s=s.y,width:n.width,height:n.height,minX:n.minX+a,maxX:n.maxX+a,minY:n.minY+s,maxY:n.maxY+s}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2):a=Ca(e):a=r&&r.getBBox():a=Ca(e);var o,a,l,h,d=ts(o,i),f=ts(a,i),n=es(d,t,e),s=es(f,e,t),c=(l=[],h=[],(r=void 0===(r=[n,s])?[]:r).forEach(function(t){l.push(t.x),h.push(t.y)}),r=Math.min.apply(Math,l),i=Math.max.apply(Math,l),p=Math.min.apply(Math,h),c=Math.max.apply(Math,h),{centerX:(r+i)/2,centerY:(p+c)/2,maxX:i,maxY:c,minX:r,minY:p,height:c-p,width:i-r}),p=Sa(d,c),i=Sa(f,c),u=(u=[]).concat(ja(p)).concat(ja(i)),g={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return[c,p,i].forEach(function(t){var e;u=u.concat(((e=g.x)<(t=t).minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]).concat((e=g.y)<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]).filter(function(t){return Da(t,d)&&Da(t,f)}))}),[{x:n.x,y:s.y},{x:s.x,y:n.y}].forEach(function(t){Da(t,d)&&Da(t,f)&&u.push(t)}),u.unshift(n),u.push(s),(r=function(t,n,r,l,h,d,f){var i=[],o=[n],a={},s={},c={};s[n.id]=0,c[n.id]=Ta(n,r,n);var p,g,y={};for(t.forEach(function(t){y[t.id]=t});o.length;){var e,u=void 0,_=1/0;if(o.forEach(function(t){c[t.id]<=_&&(_=c[t.id],u=t)}),u===r)return Ia(e=[],y,a,r.id),e;e=u,-1<(g=(p=o).indexOf(e))&&p.splice(g,1),i.push(u),function(t,e,n,r){var i=[];return t.forEach(function(t){t===e||t.x!==e.x&&t.y!==e.y||rs(t,e,n)||rs(t,e,r)||i.push(t)}),Ja(i)}(t,u,l,h).forEach(function(t){var e;-1===i.indexOf(t)&&(-1===o.indexOf(t)&&o.push(t),e=c[u.id]+ns(u,t),s[t.id]&&e>=s[t.id]||(a[t.id]=u.id,s[t.id]=e,c[t.id]=s[t.id]+Ta(t,r,n,d,f)))})}return[n,r]}(u=Ja(u),n,s,o,a,t,e)).unshift(t),r.push(e),Aa(r)}function Ba(t,e,n){for(var r=1/0,i=0,o=e.length;i<o;i++){var a=n(t,e[i]);a<r&&(r=a)}return r}function Na(t,e,n,l,r){var i=[];if(!n)return[t];var h=r.directions,d=r.offset,o=n.getBBox(),n=e.x>o.minX&&e.x<o.maxX&&e.y>o.minY&&e.y<o.maxY,a=ts(o,d);for(c in a)a[c]=os(a[c],r.gridSize);if(n){for(var s=0,f=h;s<f.length;s++)for(var p=f[s],g=[[{x:a.minX,y:a.minY},{x:a.maxX,y:a.minY}],[{x:a.minX,y:a.minY},{x:a.minX,y:a.maxY}],[{x:a.maxX,y:a.minY},{x:a.maxX,y:a.maxY}],[{x:a.minX,y:a.maxY},{x:a.maxX,y:a.maxY}]],c=0;c<4;c++){var u=g[c],u=jr.getLineIntersect(t,{x:t.x+p.stepX*a.width,y:t.y+p.stepY*a.height},u[0],u[1]);u&&!rs(t,u,o)&&(u.id="".concat(u.x,"|||").concat(u.y),i.push(u))}return i}return(e=es(a,t,l)).id="".concat(e.x,"|||").concat(e.y),[e]}function Fa(t,e,l,h,d){if(isNaN(t.x)||isNaN(e.x))return[];var f,p,g,n=Object(X.deepMix)(is,d),r=(n.obstacles=n.obstacles||[],n.gridSize),y=(d=n.obstacles.concat([l,h]),f=r,p=n.offset,g={},d.forEach(function(t){if(t)for(var e=ts(t.getBBox(),p),n=os(e.minX,f);n<=os(e.maxX,f);n+=1)for(var r=os(e.minY,f);r<=os(e.maxY,f);r+=1)g["".concat(n,"|||").concat(r)]=!0}),g),_={x:os(t.x,r),y:os(t.y,r)},m={x:os(e.x,r),y:os(e.y,r)},v=(t.id="".concat(_.x,"|||").concat(_.y),e.id="".concat(m.x,"|||").concat(m.y),Na(_,t,l,m,n)),b=Na(m,e,h,_,n);v.forEach(function(t){delete y[t.id]}),b.forEach(function(t){delete y[t.id]});for(var i={},O={},x={},E={},w={},o=0;o<v.length;o++){var M=v[o];E[(i[M.id]=M).id]=0,w[M.id]=Ba(M,b,n.distFunc)}for(var a,P,s,C,A,S=n.maximumLoops,j=n.penalties;0<Object.keys(i).length&&0<S&&(a=void 0,P=1/0,Object.keys(i).forEach(function(t){t=i[t].id;w[t]<=P&&(P=w[t],a=i[t])}),a);){if(-1<b.findIndex(function(t){return t.x===a.x&&t.y===a.y})){var D=a;var T=x;var I=_;var k=e;var L=t;var R=m;var B=r;var c=[k],u=D.id,N=D.x,F=D.y,D={x:N,y:F,id:u};for(cs(D,R,T,I)&&c.unshift({x:R.x===k.x?k.x:D.x*B,y:R.y===k.y?k.y:D.y*B});T[u]&&T[u].id!==u;){var U={x:N,y:F,id:u},W=T[u].id,z=T[u].x,G=T[u].y,$={x:z,y:G,id:W};cs($,U,T,I)&&c.unshift({x:$.x===U.x?c[0].x:$.x*B,y:$.y===U.y?c[0].y:$.y*B}),u=W,N=z,F=G}R=N,k=F;return c[0].x=(R===I.x?L:c[0]).x,c[0].y=(k===I.y?L:c[0]).y,c.unshift(L),c;return}for(delete i[a.id],O[a.id]=!0,o=0;o<n.directions.length;o++)s=n.directions[o],O[(s={x:a.x+s.stepX,y:a.y+s.stepY,id:"".concat(Math.round(a.x)+s.stepX,"|||").concat(Math.round(a.y)+s.stepY)}).id]||(A=cs(a,s,x,_))>n.maxAllowedDirectionChange||y[s.id]||(i[s.id]||(i[s.id]=s),C=n.distFunc(a,s)+(isNaN(j[A])?r:j[A]),C=E[a.id]+C,E[s.id]&&C>=E[s.id]||(x[s.id]=a,E[s.id]=C,w[s.id]=C+Ba(s,b,n.distFunc)));--S}return n.fallbackRoute(t,e,l,h,n)}function Ua(r,i){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){c=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){c.label=e[1];break}if(6===e[0]&&c.label<s[1]){c.label=s[1],s=e;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(e);break}s[2]&&c.ops.pop(),c.trys.pop();continue}e=i.call(r,c)}catch(t){e=[6,t],a=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}}function Wa(t,e,n){var r,i;return n&&n.current&&(r=n.current.offsetWidth,i=n.current.offsetHeight||500),!t&&!r||!e&&!i?(Ls.warn("请为 Graph 指定 width 与 height！否则将使用默认值 500 * 500"),[500,500]):[t||r||500,e||i||500]}function za(t,e){void 0===t&&(t={});var n,r=null==e?void 0:e.get("id");if(e&&!e.destroyed)return t&&t.show||!Ns[r]||((n=e.get("plugins")[0])&&e.removePlugin(n),Ns[r]=null),t.show&&!Ns[r]?(n=Object.assign(Ts,t),t=new Ss.Minimap(ks(ks({},n),{id:r})),e.addPlugin(t),Ns[r]=t):null;Ns[r]=null}function Ga(t,e){var n=e[0],r=e[1],i=0,o=0;switch(t=void 0===t?"right":t){case"top":i=n/2,o=0;break;case"right":i=n,o=r/2;break;case"bottom":i=n/2,o=r;break;case"left":i=0,o=r/2}return{x:i,y:o}}function $a(t){if("number"==typeof t)return[t,t,t,t];var e=[];switch(t.length){case 1:e=[t[0],t[0],t[0],t[0]];break;case 2:e=[t[0],t[1],t[0],t[1]];break;case 3:e=[t[0],t[1],t[2],t[1]];break;case 4:e=t}return e}function Ka(t,e){var n,r;if(t&&("object"!=typeof t||!1!==(null==t?void 0:t.show)))return t=(e="function"==typeof t?t(e):t).type,n=e.d,r=e.size,ks({path:Ss.Arrow[void 0===t?"vee":t](t=void 0===r?10:r,t,r=void 0===n?0:n),fill:"#ccc",d:r},e)}function Va(l,t){function e(e,c,u,t){t="node"===t?l.findAll("edge",function(t){return t.getSource()===e||t.getTarget()===e}):l.findAll("node",function(t){return e.getSource().get("id")===t.get("id")||e.getTarget().get("id")===t.get("id")}),[e].concat(t).forEach(function(t){var e,n,r,i,o,a,s;t=t,e=c,(n=u)?t.toFront():t.toBack(),a=null!==(a=t.getModel().style)&&void 0!==a?a:{},s=a.endArrow,a=a.startArrow,(s||a)&&(h[t.getID()]||(r=(null!=s?s:{}).fill,o=(null!=a?a:{}).fill,i=null===(i=null===(i=t.getModel().style)||void 0===i?void 0:i[e])||void 0===i?void 0:i.stroke,h[t.getID()]=[[null!=i?i:r,r],[null!=i?i:o,o]]),r=h[t.getID()],i=s&&r[0][n?0:1],o=a&&r[1][n?0:1],l.updateItem(t,{style:{endArrow:!!i&&{fill:i},startArrow:!!o&&{fill:o}}})),l.setItemState(t,e,n)})}var n=(t=null!=t?t:{}).nodeCfg,t=t.edgeCfg,n=(void 0===n?{}:n).nodeStateStyles,t=(void 0===t?{}:t).edgeStateStyles,h={};n&&(l.on("node:mouseenter",function(t){t=t.item;e(t,"hover",!0,"node")}),l.on("node:mouseleave",function(t){t=t.item;e(t,"hover",!1,"node")})),t&&(l.on("edge:mouseenter",function(t){t=t.item;e(t,"hover",!0,"edge")}),l.on("edge:mouseleave",function(t){t=t.item;e(t,"hover",!1,"edge")}))}function Xa(t,e,n,r){return"function"==typeof t?t(e,n,r)||{}:t||{}}function Ya(t,e,n){return"function"==typeof t?t(e,n):t}function Ha(t){return Array.isArray(t)?t:t?[t,t]:js}function qa(e){var i={};return Object.keys(e).forEach(function(t){var n,r=e[t];Object(X.isObject)(r)?(n={},Object.keys(r).forEach(function(t){var e=r[t];"img"===t&&!Object(X.isString)(e)||(n[t]=Object(X.clone)(e))}),i[t]=n):i[t]=Object(X.clone)(r)}),i}function Za(t){function e(){return a?{x:a.clientWidth/2,y:a.clientHeight/2}:{x:0,y:0}}function n(){var t;null===(t=c.current)||void 0===t||t.zoom(Math.min(h.current+d,5),e())}function r(){var t;null===(t=c.current)||void 0===t||t.zoom(Math.max(h.current-d,.25),e())}function i(){var t,e;p(),t=(t=!document.fullscreenElement)?[window.outerWidth,window.outerHeight]:[u.current,l.current],null===(e=c.current)||void 0===e||e.changeSize(t[0],t[1])}var o=t.toolbarCfg,a=t.container,s=t.graph,c=Object(O.useRef)(),u=Object(O.useRef)(),l=Object(O.useRef)(),h=Object(O.useRef)(1),d=void 0===(t=o.zoomFactor)?.25:t,t=o.renderIcon,f=(o=zs(a))[0],p=o[1];return Object(O.useEffect)(function(){s&&(c.current=s,u.current=null==a?void 0:a.clientWidth,l.current=null==a?void 0:a.clientHeight)},[s]),t?(null!==(o=null===(o=t.toString().match(/\(([^)]*)\)/))||void 0===o?void 0:o[1])&&void 0!==o&&o.includes("{")||Ls.warn("renderIcon 用法已经升级，renderIcon(zoomIn, xx) => renderIcon({zoomIn, xx})"),t({zoomIn:n,zoomOut:r,toggleFullscreen:i,fullscreen:f})):x.a.createElement(O.Fragment,null,f?x.a.createElement("span",{style:{cursor:"pointer"},onClick:i},"⚄"):x.a.createElement("span",{style:{cursor:"pointer"},onClick:i},"☐"),x.a.createElement("span",{style:{cursor:"pointer"},onClick:n},"+"),x.a.createElement("span",{style:{cursor:"pointer"},onClick:r},"-"))}var Qa=jr.defaultSubjectColors,Ja=($e("donut",{options:{size:u.defaultNode.size,style:{x:0,y:0,stroke:u.defaultNode.style.stroke,fill:u.defaultNode.style.fill,lineWidth:u.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.nodeLabel.style.fill,fontSize:u.nodeLabel.style.fontSize,fontFamily:u.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.defaultNode.linkPoints.size,lineWidth:u.defaultNode.linkPoints.lineWidth,fill:u.defaultNode.linkPoints.fill,stroke:u.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(_.a)({},u.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,r){var e=(this.mergeStyle||this.getOptions(t)).icon,e=void 0===e?{}:e,n=this.getShapeStyle(t),e=Object(X.deepMix)({},e,t.icon),n=r.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")}),i=(r.shapeMap["".concat(this.type,"-keyShape")]=n,e.width),o=e.height,a=e.show,s=e.text,a=(a&&(r.shapeMap["".concat(this.type,"-icon")]=s?r.addShape("text",{attrs:Object(_.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},e),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):r.addShape("image",{attrs:Object(_.a)({x:-i/2,y:-o/2},e),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),n.attr("r")),s=.6*a,c=(a+s)/2,i=t.donutAttrs,u=void 0===i?{}:i,o=t.donutColorMap,l=void 0===o?{}:o,e=Object.keys(u).length;if(u&&1<e){var h=[],d=0;if(Object.keys(u).forEach(function(t){var e=u[t]||0;Object(X.isNumber)(e)&&(h.push({key:t,value:e,color:l[t]}),d+=e)}),d){var f=a-s;if(1===e)return void(r.shapeMap["fan-shape-0"]=r.addShape("circle",{attrs:{r:c,x:0,y:0,stroke:h[0].color||Qa[0],lineWidth:f},name:"fan-shape-0"}));var p=[c,0],g=0;h.forEach(function(t,e){var n=t.value/d;n<.001||(1!==(n=.999<n?1:n)?(t.percent=n,t.angle=n*Math.PI*2,t.beginAgnle=g,g+=t.angle,t.endAngle=g,t.arcBegin=p,t.arcEnd=[c*Math.cos(t.endAngle),-c*Math.sin(t.endAngle)],n=t.angle>Math.PI?1:0,n=[["M",t.arcBegin[0],t.arcBegin[1]],["A",c,c,0,n,0,t.arcEnd[0],t.arcEnd[1]],["L",t.arcEnd[0],t.arcEnd[1]]],r.shapeMap["fan-shape-".concat(e)]=r.addShape("path",{attrs:{path:n,lineWidth:f,stroke:t.color||Qa[e%Qa.length]},name:"fan-shape-".concat(e)}),p=t.arcEnd):r.shapeMap["fan-shape-".concat(e)]=r.addShape("circle",{attrs:{r:c,x:0,y:0,stroke:t.color||Qa[e%Qa.length],lineWidth:f},name:"fan-shape-".concat(e)}))})}}return this.drawLinkPoints(t,r),n},update:void 0},"circle"),function(t){for(var e=[],n={},r=t.length-1;0<=r;r--){var i=t[r];i.id="".concat(i.x,"|||").concat(i.y),n[i.id]=i,e.push(i)}return e}),ts=function(t,e){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}:t},es=function(t,e,n){r=e,i=t,o=Math.abs(r.x-i.centerX),r=Math.abs(r.y-i.centerY);var r,i,o=0===o&&0===r?0:o/i.width>r/i.height;return 0===o?(r=t.centerX,i=t.centerY,n.y<e.y?i=t.minY:n.x>e.x?r=t.maxX:n.x<e.x?r=t.minX:n.x===e.x&&(i=t.maxY),{x:r,y:i}):o?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},ns=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},rs=function(t,e,n){var r,i,o;return!(!n.width&&!n.height)&&(r=(n=ja(n))[0],i=n[1],o=n[2],n=n[3],ka(t,e,r,i)||ka(t,e,r,n)||ka(t,e,i,o)||ka(t,e,o,n))},is={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fallbackRoute:function(t,e,n,r,i){return Aa(Ra(t,e,n,r,i.offset))}},os=(Math.PI,function(t,e){e=Math.round(Math.abs(t/e));return e<0?0:(t<0?-1:1)*e}),as=function(t,e){var n=e.x-t.x,e=e.y-t.y;return n||e?Math.atan2(e,n):0},ss=function(t,e){t=Math.abs(t-e);return t>Math.PI?2*Math.PI-t:t},cs=function(t,e,n,r){e=as(t,e);if(!n[t.id])return r=as(r,t),ss(r,e);r=as({x:n[t.id].x,y:n[t.id].y},t);return ss(r,e)},us=(He("polyline",{options:{color:u.defaultEdge.color,size:u.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:u.defaultEdge.style.stroke,lineAppendWidth:u.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:u.edgeLabel.style.fill,fontSize:u.edgeLabel.style.fontSize,fontFamily:u.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:Object(_.a)({},u.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){t=this.getShapeStyle(t),0===t.radius&&delete t.radius,t=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:t});return e.shapeMap["edge-shape"]=t},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},e=Object(X.mix)({},e,n,t.style),n=(t=this.getPathPoints(t),this.radius=e.radius,this.offset=e.offset,t.startPoint),r=t.endPoint,i=this.getControlPoints(t),o=[n],i=((o=i?o.concat(i):o).push(r),t.sourceNode),a=t.targetNode,s=e.radius,c=this.options.routeCfg,c=Object(X.mix)({},c,t.routeCfg),o=(c.offset=e.offset,this.getPath(o,i,a,s,c));return(Object(X.isArray)(o)&&o.length<=1||Object(X.isString)(o)&&-1===o.indexOf("L"))&&(o="M0 0, L0 0"),(isNaN(n.x)||isNaN(n.y)||isNaN(r.x)||isNaN(r.y))&&(o="M0 0, L0 0"),Object(X.mix)({},u.defaultEdge.style,e,{lineWidth:t.size,path:o})},updateShapeStyle:function(t,e){var l,n,r,i,o,h,d,a,s,c,u=e.getContainer();e.isVisible()&&(l={stroke:t.color},u=u.shapeMap["edge-shape"]||u.find(function(t){return"edge-shape"===t.get("className")})||e.getKeyShape(),e=t.size,n=(t=this.getPathPoints(t)).startPoint,r=t.endPoint,s=[n],(s=(i=this.getControlPoints(t))?s.concat(i):s).push(r),i=u.attr(),o=Object(X.mix)({},l,i,t.style),c=t.sourceNode,h=t.targetNode,d=o.radius,a=this.options.routeCfg,(a=Object(X.mix)({},a,t.routeCfg)).offset=o.offset,s=this.getPath(s,c,h,d,a),(Object(X.isArray)(s)&&s.length<=1||Object(X.isString)(s)&&-1===s.indexOf("L"))&&(s="M0 0, L0 0"),(isNaN(n.x)||isNaN(n.y)||isNaN(r.x)||isNaN(r.y))&&(s="M0 0, L0 0"),i.endArrow&&!1===o.endArrow&&(t.style.endArrow={path:""}),i.startArrow&&!1===o.startArrow&&(t.style.startArrow={path:""}),c=Object(X.mix)(l,u.attr(),{lineWidth:e,path:s},t.style),u&&u.attr(c))},getPath:function(t,e,n,r,i){var o=i.offset,a=i.simple;if(!o||2<t.length){if(r)return La(t,r);var s=[];return Object(X.each)(t,function(t,e){0===e?s.push(["M",t.x,t.y]):s.push(["L",t.x,t.y])}),s}a=a?Ra(t[t.length-1],t[0],n,e,o):Fa(t[0],t[t.length-1],e,n,i);return a&&a.length?r?La(a,r):jr.pointsToPolygon(a):"M0 0, L0 0"}},"single-edge"),f.cloneEvent),ls=f.isNaN,hs=Math.abs,ds=["shift","ctrl","alt","control"],h={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(t){var e,n,r,i,o=this.origin,a=+t.clientX,t=+t.clientY;ls(a)||ls(t)||(e=a-o.x,o=t-o.y,"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(e=0),this.origin={x:a,y:t},a=this.graph.get("width"),t=this.graph.get("height"),n=this.graph.get("canvas").getCanvasBBox(),r=this.scalableRange,i=this.scalableRange,r<1&&-1<r&&(r*=a,i*=t),(n.minX<=a+r&&n.minX+e>a+r||0<=n.maxX+r&&n.maxX+r+e<0)&&(e=0),(n.minY<=t+i&&n.minY+o>t+i||0<=n.maxY+i&&n.maxY+i+o<0)&&(o=0),this.graph.translate(e,o))},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],e=e[1];n&&e||(t.preventDefault(),this.onMouseDown(t))},onMouseDown:function(t){var e=t.originalEvent;if((!e||t.name===Ar.TOUCHSTART||0===e.button)&&(t.name===Ar.TOUCHSTART||"undefined"==typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,t)&&!this.keydown){e=t.target,e=e&&e.isCanvas&&e.isCanvas();if((this.allowDragOnItem||e)&&(this.origin={x:t.clientX,y:t.clientY},this.dragging=!1,this.enableOptimize)){for(var e=this.graph,n=e.getEdges(),r=0,l=n.length;r<l;r++){var i=n[r].get("group").get("children");i&&i.forEach(function(t){t.set("ori-visibility",t.get("ori-visibility")||t.get("visible")),t.hide()})}for(var o=e.getNodes(),a=0,h=o.length;a<h;a++)for(var s=0,c=o[a].getContainer().get("children");s<c.length;s++){var u=c[s];u.get("isKeyShape")||(u.set("ori-visibility",u.get("ori-visibility")||u.get("visible")),u.hide())}}}},onTouchMove:function(t){var e=t.originalEvent.touches,n=e[0],e=e[1];n&&e?this.onMouseUp(t):(t.preventDefault(),this.onMouseMove(t))},onMouseMove:function(t){var e=this.graph;if(!this.keydown){var n=t.target,n=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||n)&&(t=us(t),this.origin)){if(this.dragging)t.type="drag",e.emit("canvas:drag",t);else{if(hs(this.origin.x-t.clientX)+hs(this.origin.y-t.clientY)<10)return;this.shouldBegin.call(this,t)&&(t.type="dragstart",e.emit("canvas:dragstart",t),this.originPosition={x:t.clientX,y:t.clientY},this.dragging=!0)}this.shouldUpdate.call(this,t)&&this.updateViewport(t)}}},onMouseUp:function(t){var e=this.graph;if(!this.keydown){var l=e.getZoom(),n=e.get("modeController"),n=null===(n=null===(n=null==n?void 0:n.modes[n.mode])||void 0===n?void 0:n.filter(function(t){return"zoom-canvas"===t.type}))||void 0===n?void 0:n[0],n=n?n.optimizeZoom||.1:0;if(this.enableOptimize){for(var r=e.getEdges(),i=0,h=r.length;i<h;i++){var o=r[i].get("group").get("children");o&&o.forEach(function(t){t.get("ori-visibility")&&t.show()})}if(n<l)for(var a=e.getNodes(),s=0,d=a.length;s<d;s++)for(var c=0,f=a[s].getContainer().get("children");c<f.length;c++){var u=f[c];u.get("isKeyShape")||u.get("ori-visibility")&&u.show()}}this.dragging?(t=us(t),this.shouldEnd.call(this,t)&&this.updateViewport(t),t.type="dragend",t.dx=t.clientX-this.originPosition.x,t.dy=t.clientY-this.originPosition.y,e.emit("canvas:dragend",t),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(t){t=t.key;t&&(-1<ds.indexOf(t.toLowerCase())?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},Ze={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(t){return!(!this.origin||!t||t.destroyed)&&"combo"===t.getType()},onTouchStart:function(t){if(t.item){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.onDragStart(t)}},onTouchMove:function(t){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return void this.onDragEnd(t);t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.onDrag(t)},onDragStart:function(t){var e,n,r,i,o=this;this.currentShouldEnd=!0,this.shouldBegin.call(this,t)&&(!(e=t.item)||e.destroyed||e.hasLocked()||(e.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(e),(n=t.target)&&n.get("isAnchorPoint")||(n=this.graph,this.targets=[],this.targetCombo=null,n=n.findAllByState("node",this.selectedState),r=e.get("id"),0!==n.filter(function(t){t=t.get("id");return r===t}).length&&1<n.length?n.forEach(function(t){t.hasLocked()||o.targets.push(t)}):this.targets.push(e),i=[],this.targets.forEach(function(t){i.push(Object(X.clone)(t.getModel()))}),this.set("beforeDragNodes",i),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(t){t.getEdges().forEach(function(t){t.isVisible()&&(o.hidenEdge[t.getID()]=!0,t.hide())})}),this.origin={x:t.x,y:t.y},this.point={},this.originPoint={})))},onDrag:function(e){var n=this;this.origin&&this.shouldUpdate.call(this,e)&&(this.get("enableDelegate")?this.updateDelegate(e):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge")}):this.targets.map(function(t){n.update(t,e)}))},onDragEnd:function(t){var e,n,r=this;this.origin&&(null===(e=this.cachedCaptureItems)||void 0===e||e.forEach(function(t){t.getContainer().set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(t){t.getEdges().forEach(function(t){r.hidenEdge[t.getID()]&&t.show(),t.refresh()})}),this.hidenEdge={},(e=this.graph).get("enabledStack")&&this.enableStack&&(n={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}},this.get("beforeDragNodes").forEach(function(t){n.before.nodes.push({id:t.id,x:t.x,y:t.y})}),this.targets.forEach(function(t){t=t.getModel();n.after.nodes.push({id:t.id,x:t.x,y:t.y})}),e.pushStack("update",Object(X.clone)(n))),e.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null)},onDropCombo:function(t){var e,n,r=t.item;this.currentShouldEnd=this.shouldEnd.call(this,t,r),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(r)&&(e=this.graph,this.comboActiveState&&e.setItemState(r,this.comboActiveState,!1),this.targetCombo=r,this.onlyChangeComboSize?e.updateCombos():(n=r.getModel(),this.targets.map(function(t){t.getModel().comboId!==n.id&&e.updateComboTree(t,n.id)}),e.updateCombo(r)),e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo}))},onDropCanvas:function(t){var e=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,t,void 0),this.updatePositions(t,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?e.updateCombos():this.targets.map(function(t){t.getModel().comboId&&e.updateComboTree(t)}))},onDropNode:function(t){var e,n,r,i;this.targets&&0!==this.targets.length&&(e=t.item,n=this.graph,i=(r=e.getModel().comboId)?n.findById(r):void 0,this.currentShouldEnd=this.shouldEnd.call(this,t,i),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&(this.onlyChangeComboSize?n.updateCombos():r?(i=n.findById(r),this.comboActiveState&&n.setItemState(i,this.comboActiveState,!1),this.targets.map(function(t){var e=t.getModel();r!==e.comboId&&n.updateComboTree(t,r)}),n.updateCombo(i)):this.targets.map(function(t){t.getModel().comboId&&n.updateComboTree(t)}),n.emit("dragnodeend",{items:this.targets,targetItem:e})))},onDragEnter:function(t){var e,t=t.item;this.validationCombo(t)&&(e=this.graph,this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0))},onDragLeave:function(t){var e,t=t.item;this.validationCombo(t)&&(e=this.graph,this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1))},updatePositions:function(e,n){var r=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),updateFunc:this.update}):n||this.targets.map(function(t){return r.update(t,e)}):this.targets.map(function(t){return r.update(t,e,n)}))},update:function(t,e,n){var r=this.origin,i=t.get("model"),o=t.get("id"),i=(this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0}),e.x-r.x+this.point[o].x),o=e.y-r.y+this.point[o].y,n=(n&&(i+=r.x-e.x,o+=r.y-e.y),{x:i,y:o});this.get("updateEdge")?this.graph.updateItem(t,n,!1):t.updatePosition(n)},debounceUpdate:Object(X.debounce)(function(t){var e=t.targets,r=t.graph,i=t.point,o=t.origin,a=t.evt,s=t.updateEdge;t.updateFunc,e.map(function(t){var e=t.get("model"),n=t.get("id"),e=(i[n]||(i[n]={x:e.x||0,y:e.y||0}),{x:a.x-o.x+i[n].x,y:a.y-o.y+i[n].y});s?r.updateItem(t,e,!1):t.updatePosition(e)})},50,!0),updateDelegate:function(t){var e,n,r,i,o,a,s=this.graph;this.delegateRect?(e=t.x-this.origin.x+this.originPoint.minX,n=t.y-this.origin.y+this.originPoint.minY,this.delegateRect.attr({x:e,y:n})):(e=s.get("group"),n=Object(X.deepMix)({},Hr.delegateStyle,this.delegateStyle),t=(s=this.calculationGroupPosition(t)).x,r=s.y,i=s.width,o=s.height,a=s.minX,s=s.minY,this.originPoint={x:t,y:r,width:i,height:o,minX:a,minY:s},this.delegateRect=e.addShape("rect",{attrs:Object(_.a)({width:i,height:o,x:t,y:r},n),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1))},calculationGroupPosition:function(l){var t=this.targets;0===t.length&&t.push(l.item);for(var e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o].getBBox(),s=a.minX,c=a.minY,u=a.maxX,a=a.maxY;s<e&&(e=s),c<r&&(r=c),n<u&&(n=u),i<a&&(i=a)}return{x:Math.floor(e),y:Math.floor(r),width:Math.ceil(n)-Math.floor(e),height:Math.ceil(i)-Math.floor(r),minX:e,minY:r}}},Ke={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(t){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.setAllItemStates(t)},clearOnTouchStart:function(t){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.clearActiveState(t)},setAllItemStates:function(t){var e=t.item,n=this.graph;if(this.item=e,this.shouldUpdate(t.item,{event:t,action:"activate"})){for(var r=this.activeState,i=this.inactiveState,o=n.getNodes(),l=n.getCombos(),h=n.getEdges(),d=n.get("vedges"),f=o.length,p=l.length,g=h.length,y=d.length,a=0;a<f;a++){var s=o[a],_=s.hasState("selected");this.resetSelected&&_&&n.setItemState(s,"selected",!1),n.setItemState(s,r,!1),i&&n.setItemState(s,i,!0)}for(a=0;a<p;a++){var c=l[a],_=c.hasState("selected");this.resetSelected&&_&&n.setItemState(c,"selected",!1),n.setItemState(c,r,!1),i&&n.setItemState(c,i,!0)}for(a=0;a<g;a++){var u=h[a];n.setItemState(u,r,!1),i&&n.setItemState(u,i,!0)}for(a=0;a<y;a++){var m=d[a];n.setItemState(m,r,!1),i&&n.setItemState(m,i,!0)}i&&n.setItemState(e,i,!1),n.setItemState(e,r,!0);for(var v=e.getEdges(),b=v.length,a=0;a<b;a++){var O=(u=v[a]).getSource()===e?u.getTarget():u.getSource();i&&n.setItemState(O,i,!1),n.setItemState(O,r,!0),n.setItemState(u,i,!1),n.setItemState(u,r,!0),u.toFront()}n.emit("afteractivaterelations",{item:t.item,action:"activate"})}},clearActiveState:function(t){var e=this.get("graph");if(this.shouldUpdate(t.item,{event:t,action:"deactivate"})){var n=this.activeState,r=this.inactiveState,i=e.get("autoPaint");e.setAutoPaint(!1);for(var o=e.getNodes()||[],a=e.getCombos()||[],s=e.getEdges()||[],c=e.get("vedges")||[],l=o.length,h=a.length,d=s.length,f=c.length,u=0;u<l;u++){var p=o[u];e.clearItemStates(p,[n,r])}for(u=0;u<h;u++){var g=a[u];e.clearItemStates(g,[n,r])}for(u=0;u<d;u++){var y=s[u];e.clearItemStates(y,[n,r,"deactivate"])}for(u=0;u<f;u++){var _=c[u];e.clearItemStates(_,[n,r,"deactivate"])}e.paint(),e.setAutoPaint(i),e.emit("afteractivaterelations",{item:t.item||this.get("item"),action:"deactivate"})}}},fs=Math.min,ps=Math.max,gs=Math.abs,ys=["drag","shift","ctrl","alt","control"],b={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return-1<ys.indexOf(this.trigger.toLowerCase())||(this.trigger="shift",console.warn("Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){var e=t.item,n=this.brush;e||"drag"!==this.trigger&&!this.keydown||(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n=n||this.createBrush(),this.originPoint={x:t.canvasX,y:t.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(t)},onMouseUp:function(t){this.graph,!this.brush&&!this.dragging||"drag"!==this.trigger&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1)},clearStates:function(){var e=this.graph,n=this.selectedState,t=e.findAllByState("node",n),r=e.findAllByState("edge",n);t.forEach(function(t){return e.setItemState(t,n,!1)}),r.forEach(function(t){return e.setItemState(t,n,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(t){var r=this,i=this.graph,e=this.originPoint,o=this.shouldUpdate,n=this.selectedState,t={x:t.x,y:t.y},e=i.getPointByCanvas(e.x,e.y),a=fs(t.x,e.x),l=ps(t.x,e.x),h=fs(t.y,e.y),d=ps(t.y,e.y),s=[],c=[],u=(i.getNodes().forEach(function(t){var e;!t.isVisible()||(e=t.getBBox()).centerX>=a&&e.centerX<=l&&e.centerY>=h&&e.centerY<=d&&o(t,"select")&&(s.push(t),e=t.getModel(),c.push(e.id),i.setItemState(t,n,!0))}),[]);this.includeEdges&&s.forEach(function(t){t.getOutEdges().forEach(function(t){var e,n;t.isVisible()&&(e=(n=t.getModel()).source,n=n.target,c.includes(e)&&c.includes(n)&&o(t,"select")&&(u.push(t),i.setItemState(t,r.selectedState,!0)))})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),i.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createBrush:function(){var t=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t},updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:gs(t.canvasX-e.x),height:gs(t.canvasY-e.y),x:fs(t.canvasX,e.x),y:fs(t.canvasY,e.y)})},onKeyDown:function(t){var e,t=t.key;t&&(e=this.trigger.toLowerCase(),t=t.toLowerCase(),this.keydown=t===e||"control"===t&&"ctrl"===e||"ctrl"===t&&"control"===e)},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},_s=["shift","ctrl","alt","control"],l={getDefaultCfg:function(){return{multiple:!0,trigger:"shift",selectedState:"selected"}},getEvents:function(){return-1<_s.indexOf(this.trigger.toLowerCase())||(this.trigger="shift",console.warn("Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),this.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var e,n,r,i,o,a,s=this,c=t.item;c&&!c.destroyed&&(c.getType(),e=s.graph,i=s.keydown,n=s.multiple,r=s.shouldUpdate,s.shouldBegin.call(s,t)&&(i&&n||(i=e.findAllByState("node",s.selectedState).concat(e.findAllByState("combo",s.selectedState)),Object(X.each)(i,function(t){t!==c&&e.setItemState(t,s.selectedState,!1)})),c.hasState(s.selectedState)?(r.call(s,t)&&e.setItemState(c,s.selectedState,!1),o=e.findAllByState("node",s.selectedState),a=e.findAllByState("combo",s.selectedState),e.emit("nodeselectchange",{target:c,selectedItems:{nodes:o,combos:a},select:!1})):(r.call(s,t)&&e.setItemState(c,s.selectedState,!0),o=e.findAllByState("node",s.selectedState),a=e.findAllByState("combo",s.selectedState),e.emit("nodeselectchange",{target:c,selectedItems:{nodes:o,combos:a},select:!0}))))},onCanvasClick:function(t){var e=this,n=this.graph;this.shouldBegin.call(this,t)&&(t=n.findAllByState("node",this.selectedState),Object(X.each)(t,function(t){n.setItemState(t,e.selectedState,!1)}),t=n.findAllByState("combo",this.selectedState),Object(X.each)(t,function(t){n.setItemState(t,e.selectedState,!1)}),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1}))},onKeyDown:function(t){t=t.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()||"control"===t.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},ms=L.a.transform,e={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],e=e[1];t.preventDefault(),e&&(this.shouldBegin&&!this.shouldBegin.call(this,t)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,e&&(this.endPoint={pageX:e.pageX,pageY:e.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(t){var e,n,r,i;this.moveable&&(t.preventDefault(),n=(e=t.originalEvent.touches)[0],(e=e[1])&&(this.endPoint||(this.endPoint={pageX:e.pageX,pageY:e.pageY}),n=(r=function(t,e){return Math.hypot(e.x-t.x,e.y-t.y)})({x:n.pageX,y:n.pageY},{x:e.pageX,y:e.pageY})/r({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),e=this.originScale*n,this.currentScale=e,r=this.get("minZoom")||this.graph.get("minZoom"),e>(this.get("maxZoom")||this.graph.get("maxZoom"))||e<r||(n=this.get("animate"),r=this.get("animateCfg"),i=this.graph.get("canvas").getPointByClient(t.clientX,t.clientY),this.graph.zoomTo(e,{x:i.x,y:i.y},n,r),this.graph.emit("wheelzoom",t))))},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(t){var d=this,h=this.graph,e=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin.call(this,t))&&this.shouldUpdate.call(this,t)){t.preventDefault();var u=h.get("canvas").getPointByClient(t.clientX,t.clientY),n=this.get("sensitivity"),l=h.getZoom(),r=l*(t.wheelDelta<0?1-.05*n:1/(1-.05*n)),n=this.get("minZoom")||h.get("minZoom");if(!(r>(this.get("maxZoom")||h.get("maxZoom"))||r<n)){if(this.get("enableOptimize")){var f=this.get("optimizeZoom"),n=this.get("optimized"),p=h.getNodes(),g=h.getEdges(),y=p.length,_=g.length;if(!n){for(var m=0;m<y;m++)if(!(a=p[m]).destroyed)for(var i=(c=a.get("group").get("children")).length,o=0;o<i;o++)(s=c[o]).destoryed||s.get("isKeyShape")||(s.set("ori-visibility",s.get("ori-visibility")||s.get("visible")),s.hide());for(var v=0;v<_;v++)for(i=(c=(G=g[v]).get("group").get("children")).length,o=0;o<i;o++)(s=c[o]).set("ori-visibility",s.get("ori-visibility")||s.get("visible")),s.hide();this.set("optimized",!0)}clearTimeout(this.get("timeout"));n=setTimeout(function(){var t=h.getZoom();if(d.get("optimized")){d.set("optimized",!1);for(var e=0;e<y;e++){var n=p[e],r=(s=n.get("group").get("children")).length;if(t<f)(o=(c=n.getKeyShape()).get("ori-visibility"))&&c.show();else for(var i=0;i<r;i++){var o=(u=s[i]).get("ori-visibility");!u.get("visible")&&o&&o&&u.show()}}for(var a=0;a<_;a++){var s,c,u,l=g[a],r=(s=l.get("group").get("children")).length;if(t<f)(o=(c=l.getKeyShape()).get("ori-visibility"))&&c.show();else for(i=0;i<r;i++)(u=s[i]).get("visible")||(o=u.get("ori-visibility"))&&u.show()}}},100);this.set("timeout",n)}if(l<=1){var b=void 0,O=void 0;if(e.fixAll||e.fixLineWidth||e.fixLabel){for(var b=h.findAllByState("node",e.fixState),O=h.findAllByState("edge",e.fixState),x=l/r,E=b.length,w=0;w<E;w++){var a,M,P,C,A=(a=b[w]).getContainer(),S=a.getModel(),j=a.getOriginStyle(),D=a.getStateStyle(e.fixState),T=a.get("shapeFactory").getShape(S.type).getStateStyle(e.fixState,a)[e.fixState];if(e.fixAll)r<=1&&(M=Object(X.clone)(A.getMatrix())||[1,0,0,0,1,0,0,0,1],P=(C=a.getModel()).x,C=C.y,M=ms(M,[["t",-P,-C],["s",x,x],["t",P,C]]),A.setMatrix(M));else for(i=(c=A.get("children")).length,o=0;o<i;o++){var s=c[o],I=void 0,k=void 0;if(e.fixLabel&&"text"===s.get("type")){var I=s.attr("fontSize")||12,L=D[s.get("name")],R=T[s.get("name")],B=L?L.fontSize:12,N=R?R.fontSize:12,F=B||N||12;if(r<=1&&s.attr("fontSize",F/r),k)break}if(e.fixLineWidth&&s.get("isKeyShape")){var k=s.attr("lineWidth")||0,U=D.lineWidth||T.lineWidth||j.lineWidth||0;if(r<=1&&s.attr("lineWidth",U/r),I)break}}}for(var W=O.length,z=0;z<W;z++)for(var G,c=(A=(G=O[z]).getContainer()).get("children"),S=G.getModel(),D=G.getStateStyle(e.fixState),T=G.get("shapeFactory").getShape(S.type).getStateStyle(e.fixState,G)[e.fixState],i=c.length,o=0;o<i&&(s=c[o],k=I=void 0,!e.fixLabel&&!e.fixAll||"text"!==s.get("type")||(I=s.attr("fontSize")||12,L=D[s.get("name")],R=T[s.get("name")],B=L?L.fontSize:12,N=R?R.fontSize:12,F=B||N||12,r<=1&&s.attr("fontSize",F/r),!k))&&(!e.fixLineWidth&&!e.fixAll||!s.get("isKeyShape")||(k=s.attr("lineWidth")||0,U=D.lineWidth||T.lineWidth||1,r<=1&&s.attr("lineWidth",U/r),!I));o++);}}n=this.get("animate"),l=this.get("animateCfg");h.zoomTo(r,{x:u.x,y:u.y},n,l),h.emit("wheelzoom",t)}}}},p={onMouseEnter:function(t){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})},onMouseMove:function(t){this.shouldUpdate(t)?this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t):this.hideTooltip()},onMouseLeave:function(t){this.shouldEnd(t)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){var e,n=this.container;t.item&&!t.item.destroyed&&(n||(n=this.createTooltip(this.graph.get("canvas")),this.container=n),e=this.formatText(t.item.get("model"),t),n.innerHTML=e,Object(m.e)(this.container,{visibility:"visible"}),this.updatePosition(t))},hideTooltip:function(){Object(m.e)(this.container,{visibility:"hidden"})},updatePosition:function(t){var e=this.get("shouldBegin"),n=this.width,r=this.height,i=this.container,o=this.graph;e(t)?(e=o.getPointByClient(t.clientX,t.clientY),o=(t=o.getCanvasByPoint(e.x,e.y)).x,e=t.y,t=i.getBoundingClientRect(),n/2<o?o-=t.width:o+=this.offset,r/2<e?e-=t.height:e+=this.offset,n="".concat(o,"px"),r="".concat(e,"px"),Object(m.e)(this.container,{left:n,top:r,visibility:"visible"})):Object(m.e)(i,{visibility:"hidden"})},createTooltip:function(t){var e=t.get("el"),n=(e.style.position="relative",Object(m.b)('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>')));return e.parentNode.appendChild(n),Object(m.e)(n,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},Zo=Object(_.a)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},p),sa=Object(_.a)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},p),vs=["click","dblclick"],bs=f.calculationItemsBBox,Os=["click","dblclick"],xs=f.isPolygonsIntersect,Es=f.pathToPoints,ws=["drag","shift","ctrl","alt","control"],Ms=["click","drag"],Ps=["shift","ctrl","control","alt","meta",void 0],Cs=["shift","ctrl","alt","control"],As=["shift","ctrl","alt","control"],ha={"drag-canvas":h,"zoom-canvas":e,"drag-node":Ze,"activate-relations":Ke,"brush-select":b,"click-select":l,"lasso-select":{getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return-1<ws.indexOf(this.trigger.toLowerCase())||(this.trigger="shift",console.warn("Behavior lasso-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(t){var e=this.lasso;t.item||"drag"!==this.trigger&&!this.keydown||(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),e=e||this.createLasso(),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),e.show())},onDragMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:t.x,y:t.y}),this.updateLasso(t))},onDragEnd:function(t){!this.lasso&&!this.dragging||"drag"!==this.trigger&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,n=[];return t.length&&(t.forEach(function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),n.push(["L",t[0].x,t[0].y])),n},clearStates:function(){var e=this.graph,n=this.selectedState,t=e.findAllByState("node",n),r=e.findAllByState("edge",n);t.forEach(function(t){return e.setItemState(t,n,!1)}),r.forEach(function(t){return e.setItemState(t,n,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,i=this.graph,o=this.shouldUpdate,a=this.points.map(function(t){return[i.getCanvasByPoint(t.x,t.y).x,i.getCanvasByPoint(t.x,t.y).y]}),s=this.selectedState,c=[],u=[],l=(i.getNodes().forEach(function(t){var e,n,r;t.isVisible()&&(n=a,r=(e=t).getKeyShape(),r="path"===e.get("type")?Es(r.attr("path")):[[(e=r.getCanvasBBox()).minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]],xs(n,r))&&o(t,"select")&&(c.push(t),e=t.getModel(),u.push(e.id),i.setItemState(t,s,!0))}),[]);this.includeEdges&&c.forEach(function(t){t.getOutEdges().forEach(function(t){var e,n;t.isVisible()&&(e=(n=t.getModel()).source,n=n.target,u.includes(e)&&u.includes(n)&&o(t,"select")&&(l.push(t),i.setItemState(t,r.selectedState,!0)))})}),this.selectedEdges=l,this.selectedNodes=c,this.onSelect&&this.onSelect(c,l),i.emit("nodeselectchange",{selectedItems:{nodes:c,edges:l},select:!0})},createLasso:function(){var t=this.graph.get("delegateGroup").addShape("path",{attrs:Object(_.a)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(t){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(t){t=t.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:Zo,"edge-tooltip":sa,"collapse-expand":{getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var t,e;return vs.includes(this.trigger)?e=this.trigger:(e="click",console.warn("Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["node:".concat(e)]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var e,n,r=t.item;r&&(!(e=this.graph.findDataById(r.get("id")))||(n=e.children)&&0!==n.length&&(n=!e.collapsed,this.shouldBegin(t,n)&&(e.collapsed=n,r.getModel().collapsed=n,this.graph.emit("itemcollapsed",{item:t.item,collapsed:n}),this.shouldUpdate(t,n)&&(this.onChange(r,n),this.graph.layout()))))}},"drag-combo":{getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;return!(!e||e.destroyed||!this.shouldUpdate.call(this,t)||"combo"!==e.getType())},onDragStart:function(t){var e,n,r=this,i=this.graph,o=t.item;this.currentShouldEnd=!0,this.validationCombo(t)&&(this.targets=[],e=i.findAllByState("combo",this.selectedState),n=o.get("id"),0===e.filter(function(t){t=t.get("id");return n===t}).length?this.targets.push(o):this.targets=e,this.activeState&&this.targets.map(function(t){var t=t.getModel();!t.parentId||(t=i.findById(t.parentId))&&i.setItemState(t,r.activeState,!0)}),this.point={},this.originPoint={},this.origin={x:t.x,y:t.y},this.currentItemChildCombos=[],function e(t,n){!1===n(t)||!t||0!==(t=t.get("combos")).length&&Object(X.each)(t,function(t){e(t,n)})}(o,function(t){if(t.destroyed)return!1;t=t.getModel();return r.currentItemChildCombos.push(t.id),!0}))},onDrag:function(e){var i,n,t,r,o,a,s,c=this;this.origin&&this.validationCombo(e)&&(this.enableDelegate?this.updateDelegate(e):(this.activeState&&(i=this.graph,r=e.item,n=r.getModel(),t=i.getCombos(),r=r.getBBox(),o=r.centerX,a=r.centerY,s=r.width,t.filter(function(t){t=t.getModel();return n.parentId,t.id!==n.id&&!c.currentItemChildCombos.includes(t.id)}).map(function(t){var e=t.getBBox(),n=e.centerX,r=e.centerY,e=e.width,n=o-n,r=a-r,n=2*Math.sqrt(n*n+r*r);.8*s<s+e-n?i.setItemState(t,c.activeState,!0):i.setItemState(t,c.activeState,!1)})),Object(X.each)(this.targets,function(t){c.updateCombo(t,e)})))},updatePositions:function(e,n){var r=this;(this.enableDelegate||n)&&Object(X.each)(this.targets,function(t){r.updateCombo(t,e,n)})},onDrop:function(t){var e,n,r=this,i=t.item;this.currentShouldEnd=this.shouldEnd.call(this,t,i),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&i&&this.targets&&!i.destroyed&&(e=this.graph,n=i.getModel(),this.targets.map(function(t){t.getModel().parentId!==n.id?(r.activeState&&e.setItemState(i,r.activeState,!1),r.onlyChangeComboSize?e.updateCombo(t):e.updateComboTree(t,n.id)):e.updateCombo(i)}),this.end(i,t),this.endComparison=!0)},onNodeDrop:function(t){var e,n,r,i,o=this;this.targets&&0!==this.targets.length&&(e=this.graph,i=(n=t.item.getModel().comboId)?e.findById(n):void 0,this.currentShouldEnd=this.shouldEnd.call(this,t,i),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&(n?(this.activeState&&(i=e.findById(n),e.setItemState(i,this.activeState,!1)),this.targets.map(function(t){o.onlyChangeComboSize?e.updateCombo(t):n!==t.getID()&&(r=e.findById(n),n!==t.getModel().parentId&&e.updateComboTree(t,n))})):this.targets.map(function(t){o.onlyChangeComboSize?e.updateCombo(t):t.getModel().comboId&&e.updateComboTree(t)}),this.endComparison=!0,this.end(r,t)))},onDragEnter:function(t){var e;this.origin&&this.validationCombo(t)&&(t=t.item,e=this.graph,this.activeState&&e.setItemState(t,this.activeState,!0))},onDragLeave:function(t){var e;this.origin&&this.validationCombo(t)&&(t=t.item,e=this.graph,this.activeState&&e.setItemState(t,this.activeState,!1))},onDragEnd:function(t){var e,n;this.targets&&0!==this.targets.length&&(e=t.item,this.currentShouldEnd&&this.updatePositions(t),e=this.getParentCombo(e.getModel().parentId),n=this.graph,e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,t))},end:function(t,e){var n,r=this;this.origin&&(n=this.graph,this.delegateShape&&(n.get("delegateGroup").clear(),this.delegateShape=null),t&&this.activeState&&n.setItemState(t,this.activeState,!1),t||this.targets.map(function(t){r.onlyChangeComboSize?n.updateCombo(t):n.updateComboTree(t)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0)},traverse:function(t,e){var n,r=this;!1!==e(t)&&t&&(n=t.get("combos"),Object(X.each)(n,function(t){r.traverse(t,e)}),n=t.get("nodes"),Object(X.each)(n,function(t){r.traverse(t,e)}))},updateCombo:function(t,e,n){var r=this;this.traverse(t,function(t){return!t.destroyed&&(r.updateSignleItem(t,e,n),!0)})},updateSignleItem:function(t,e,n){var r=this.origin,i=this.graph,o=t.getModel(),a=t.get("id"),o=(this.point[a]||(this.point[a]={x:o.x,y:o.y}),e.x-r.x+this.point[a].x),a=e.y-r.y+this.point[a].y;n&&(o+=r.x-e.x,a+=r.y-e.y),i.updateItem(t,{x:o,y:a})},getParentCombo:function(t){var e=this.graph;if(t){e=e.findById(t);if(e)return e}},updateDelegate:function(t){var e,n,r,i,o,a,s=this.graph;this.delegateShape?(e=t.x-this.origin.x+this.originPoint.minX,t=t.y-this.origin.y+this.originPoint.minY,this.delegateShape.attr({x:e,y:t})):(e=s.get("delegateGroup"),t=null,s=(t=1<this.targets.length?bs(this.targets):this.targets[0].getBBox()).x,n=t.y,r=t.width,i=t.height,o=t.minX,a=t.minY,this.originPoint={x:s,y:n,width:r,height:i,minX:o,minY:a},s=Object(_.a)(Object(_.a)({},Hr.delegateStyle),this.delegateStyle),this.delegateShape=e.addShape("rect",{attrs:Object(_.a)({width:t.width,height:t.height,x:t.x,y:t.y},s),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape)}},"collapse-expand-combo":{getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var t,e;return Os.includes(this.trigger)?e=this.trigger:(e="dblclick",console.warn("Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["combo:".concat(e)]="onComboClick",t},onComboClick:function(t){var t=t.item,e=this.graph,n=this.relayout;!t||t.destroyed||"combo"!==t.getType()||(t=t.getModel().id)&&(e.collapseExpandCombo(t),n&&e.get("layout")?e.layout():e.refreshPositions())}},"create-edge":{getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var t;return-1<Ms.indexOf(this.trigger.toLowerCase())||(this.trigger="click",console.warn("Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'")),this.key&&-1===Ps.indexOf(this.key.toLowerCase())&&(this.trigger=void 0,console.warn("Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined")),"drag"===this.trigger?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===this.trigger&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),this.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(t){var e;this.key&&!this.keydown||((e=t.item)&&e.getID()!==this.source&&"node"===e.getType()||this.cancelCreating({item:this.edge,x:t.x,y:t.y}))},onClick:function(t){var e,n,r,i,o,a;this.key&&!this.keydown||(n=t.item,e=this.graph,n=n.getModel(),r=this.getEdgeConfig,this.addingEdge&&this.edge?this.shouldEnd.call(this,t)&&(i=void 0,i=r&&Object(X.isFunction)(r)?r({source:this.source,target:n.id}):this.edgeConfig,o=Object(_.a)({target:n.id},i),this.source===n.id&&(o.type="loop"),e.emit("beforecreateedge",{}),e.updateItem(this.edge,o,!1),e.get("enabledStack")&&(o=Object(_.a)(Object(_.a)({},this.edge.getModel()),{itemType:"edge"}),(a={}).edges=[o],e.pushStack("add",{before:{},after:a})),e.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1):this.shouldBegin.call(this,t)&&(i=void 0,i=r&&Object(X.isFunction)(r)?r({source:n.id,target:n.id}):this.edgeConfig,this.edge=e.addItem("edge",Object(_.a)({source:n.id,target:n.id},i),!1),this.source=n.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)))},updateEndPoint:function(t){this.key&&!this.keydown||(this.edge&&this.edge.destroyed&&this.cancelCreating({item:this.edge}),t={x:t.x,y:t.y},this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:t},!1):this.addingEdge=!1)},cancelCreating:function(t){var e,n;if(!this.key||this.keydown)return e=this.graph,n=t.item,this.addingEdge&&(this.edge===n||null!==(t=null===(n=t.target)||void 0===n?void 0:n.isCanvas)&&void 0!==t&&t.call(n))?(this.edge&&!this.edge.destroyed&&e.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1)):void 0},onKeyDown:function(t){t=t.key;t&&(t.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}},"shortcuts-call":{getDefaultCfg:function(){return{trigger:"ctrl",combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return-1<Cs.indexOf(this.trigger.toLowerCase())||(this.trigger="ctrl",console.warn("Behavior shortcuts-fit-view 的 trigger 参数 '".concat(this.trigger,"' 不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(t){t=t.key;if(t){var e,n=this.trigger.toLowerCase(),t=t.toLowerCase(),n=(this.triggerKeydown||(this.triggerKeydown=t===n||"control"===t&&"ctrl"===n||"ctrl"===t&&"control"===n),this.graph);if(!n[this.functionName])return console.warn("Behavior shortcuts-fit-view 的 functionName 参数 '".concat(this.functionName,"' 不合法，它不是 Graph 的一个函数名")),{};!this.triggerKeydown||this.combinedKey?(e=this.combinedKey.toLowerCase(),this.triggerKeydown&&(t===e||"control"===t&&"ctrl"===e||"ctrl"===t&&"control"===e)&&(this.functionParams&&this.functionParams.length?n[this.functionName].apply(n,this.functionParams):n[this.functionName]())):this.functionParams&&this.functionParams.length?n[this.functionName].apply(n,this.functionParams):n[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},"scroll-canvas":{getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return this.zoomKey&&-1!==As.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(t){var e,n,u,r,i,l,o,d=this,h=this.graph,a=t["".concat(this.zoomKey,"Key")];if((a="control"===this.zoomKey?t.ctrlKey:a)?(a=h.get("canvas").getPointByClient(t.clientX,t.clientY),e=h.getZoom(),0<t.wheelDelta?e+=.05*e:e-=.05*e,h.zoomTo(e,{x:a.x,y:a.y})):(e=t.deltaX||t.movementX,!(a=t.deltaY||t.movementY)&&-1<navigator.userAgent.indexOf("Firefox")&&(a=125*-t.wheelDelta/3),n=this.graph.get("width"),u=this.graph.get("height"),o=this.graph.get("canvas").getCanvasBBox(),r=this.scalableRange,i=this.scalableRange,r<1&&-1<r&&(r*=n,i*=u),w=o.minX,p=o.maxX,l=o.minY,o=o.maxY,0<e?p<-r?e=0:p-e<-r&&(e=p+r):e<0&&(n+r<w?e=0:n+r<w-e&&(e=w-(n+r))),0<a?o<-i?a=0:o-a<-i&&(a=o+i):a<0&&(u+i<l?a=0:u+i<l-a&&(a=l-(u+i))),"x"===this.get("direction")?a=0:"y"===this.get("direction")&&(e=0),h.translate(-e,-a)),t.preventDefault(),this.get("enableOptimize")){var f=this.get("optimizeZoom"),p=this.get("optimized"),g=h.getNodes(),y=h.getEdges(),_=g.length,m=y.length;if(!p){for(var v=0;v<_;v++){var b=g[v];if(!b.destroyed)for(var O=(E=b.get("group").get("children")).length,s=0;s<O;s++)(c=E[s]).destoryed||c.get("isKeyShape")||(c.set("ori-visibility",c.get("ori-visibility")||c.get("visible")),c.hide())}for(var x=0;x<m;x++)for(var E,c,O=(E=y[x].get("group").get("children")).length,s=0;s<O;s++)(c=E[s]).set("ori-visibility",c.get("ori-visibility")||c.get("visible")),c.hide();this.set("optimized",!0)}clearTimeout(this.get("timeout"));var w=setTimeout(function(){var t=h.getZoom();if(d.get("optimized")){d.set("optimized",!1);for(var e=0;e<_;e++){var n=g[e],r=(s=n.get("group").get("children")).length;if(t<f)(o=(c=n.getKeyShape()).get("ori-visibility"))&&c.show();else for(var i=0;i<r;i++){var o=(u=s[i]).get("ori-visibility");!u.get("visible")&&o&&o&&u.show()}}for(var a=0;a<m;a++){var s,c,u,l=y[a],r=(s=l.get("group").get("children")).length;if(t<f)(o=(c=l.getKeyShape()).get("ori-visibility"))&&c.show();else for(i=0;i<r;i++)(u=s[i]).get("visible")||(o=u.get("ori-visibility"))&&u.show()}}},100);this.set("timeout",w)}}}},d=(Object(X.each)(ha,function(t,e){Tr(e,t)}),Object(_.a)(Object(_.a)({},c),Ve)),p={version:Hr.version,Graph:n,TreeGraph:E,Util:f,Layout:Jr.Layouts,TreeLayout:qe,registerLayout:function(t,e){e.isCustomLayout=!0,Jr.Layouts[t]=Object(Jr.registerLayout)(t,e)},Global:Hr,registerBehavior:Tr,registerCombo:Xe,registerEdge:He,registerNode:$e,Minimap:v.Minimap,Grid:v.Grid,Bundling:v.Bundling,Menu:v.Menu,ToolBar:v.ToolBar,Tooltip:v.Tooltip,Legend:v.Legend,TimeBar:v.TimeBar,SnapLine:v.SnapLine,Fisheye:v.Fisheye,ImageMinimap:v.ImageMinimap,EdgeFilterLens:v.EdgeFilterLens,Algorithm:d,Arrow:{triangle:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=15);n=2*(n=void 0===n?0:n);return"M ".concat(n,",0 L ").concat(n+e,",-").concat(t/2," L ").concat(n+e,",").concat(t/2," Z")},vee:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=20);n=2*(n=void 0===n?0:n);return"M ".concat(n,",0 L ").concat(n+e,",-").concat(t/2,"\n        L ").concat(n+2*e/3,",0 L ").concat(n+e,",").concat(t/2," Z")},circle:function(t,e){return void 0===t&&(t=5),"M ".concat(2*(e=void 0===e?0:e),", 0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*t,",0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*-t,",0")},rect:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=10);n=2*(n=void 0===n?0:n);return"M ".concat(n,",").concat(-t/2," \n        L ").concat(n+e,",").concat(-t/2," \n        L ").concat(n+e,",").concat(t/2," \n        L ").concat(n,",").concat(t/2," Z")},diamond:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=15);n=2*(n=void 0===n?0:n);return"M ".concat(n,",0 \n        L ").concat(n+e/2,",").concat(-t/2," \n        L ").concat(n+e,",0 \n        L ").concat(n+e/2,",").concat(t/2," Z")},triangleRect:function(t,e,n,r,i,o){void 0===t&&(t=15),void 0===n&&(n=15),void 0===r&&(r=3);o=2*(o=void 0===o?0:o),i=o+(e=void 0===e?15:e)+(i=void 0===i?5:i);return"M ".concat(o,",0 L ").concat(o+e,",-").concat(t/2," L ").concat(o+e,",").concat(t/2," Z\n            M ").concat(i,", -").concat(n/2,"\n            L ").concat(i+r," -").concat(n/2,"\n            L ").concat(i+r," ").concat(n/2,"\n            L ").concat(i," ").concat(n/2,"\n            Z")}},Marker:k,Shape:Ye},Ss=(p.version="4.6.1",p),h={hover:{stroke:"#1890ff",lineWidth:2}},js=[120,40],Ds={fill:"#000",fontSize:12},Ts={show:!1,size:[150,100],type:"keyShape"},Is={fill:"#fff",stroke:"#40a9ff",radius:2},ks=function(){return(ks=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ls=window.console,Rs=function(e){return e&&"object"==typeof e?(Array.isArray(e)?n=e.map(function(t){return Rs(t)}):e instanceof HTMLElement?n=e:(n={},Object.keys(e).forEach(function(t){return n[t]=Rs(e[t])})),n):e;var n},Bs=($s.prototype.getData=function(){return this.data},$s.prototype.setData=function(t){this.data=t},$s),Ns={},Fs=function(e,n){void 0===n&&(n={}),Object.keys(n).forEach(function(t){e.style[t]=n[t]})},Us=function(t,n,r,i){void 0===n&&(n=0),void 0===r&&(r=""),void 0===i&&(i="");var e,o=t.id,a=t.children,a=void 0===a?[]:a;return ks(ks(((e={})["".concat("g","_level")]=n,e["".concat("g","_parentId")]=r,e["".concat("g","_currentPath")]=i,e),t),{children:null==a?void 0:a.map(function(t,e){return Us(t,n+1,r?"".concat(r,"-").concat(o):o,"".concat(i,"-").concat(e))})})},Ws=function(t,e){var n=t.children,n=void 0===n?[]:n,r=t.g_level,r=void 0===r?0:r;return e<=0?t:ks(ks({},t),{children:r+1<e?null==n?void 0:n.map(function(t){return Ws(t,e)}):[]})},zs=function(t){function e(){document.fullscreenElement||i(!1)}var n=Object(O.useState)(!1),r=n[0],i=n[1];return Object(O.useEffect)(function(){return document.addEventListener("fullscreenchange",e,!1),function(){document.removeEventListener("fullscreenchange",e)}},[]),[r,function(){t?r?document.exitFullscreen&&document.exitFullscreen().then(function(){i(!1)}).catch(function(t){Ls.error("exitFullscreen error: ",t)}):t&&t.requestFullscreen&&t.requestFullscreen().then(function(){i(!0)}).catch(function(t){Ls.error("requestFullscreen error: ",t)}):Ls.error("need dom")}]},Gs=function(){return(Gs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function $s(t){t&&this.setData(t)}function Ks(G,R,B){void 0===B&&(B={});var N=Object(O.useRef)(null),F=Object(O.useRef)(),h=Object(O.useRef)(),n=Object(O.useRef)(),U=R.data,$=R.width,K=R.height,p=R.layout,V=R.minimapCfg,r=R.behaviors,g=R.fitCenter,d=R.nodeCfg,y=R.edgeCfg,W=R.markerCfg,z=R.level,u=R.toolbarCfg,_=R.customLayout,f=F.current;return Object(O.useEffect)(function(){var t,e;f&&!f.destroyed&&(Object(X.isEqual)(U,n.current)||(n.current=Rs(U),f&&(e=U,z&&(e=Us(U)),f.changeData(z?Ws(e,z):U),null===(t=f.get("eventData"))||void 0===t||t.setData(e),f.getEdges().forEach(function(t){var e=t.getModel(),n=e.source,e=e.target,n=null===(n=null==f?void 0:f.findById(n))||void 0===n?void 0:n.get("visible"),e=null===(e=null==f?void 0:f.findById(e))||void 0===e?void 0:e.get("visible");!1!==n&&!1!==e||t.changeVisibility(!1)}),g&&f.fitCenter())))},[U]),Object(O.useEffect)(function(){var t,a,s,c,u,l,e,n,r,i,o;f&&!f.destroyed&&(Object(X.isEqual)(R,h.current)||(_||Object(X.isEqual)(p,null===(e=h.current)||void 0===e?void 0:e.layout)||(null==f||f.updateLayout(p),g&&(null==f||f.fitCenter())),Object(X.isEqual)(V,null===(e=h.current)||void 0===e?void 0:e.minimapCfg)||za(V,f),Object(X.isEqual)(d,null===(e=h.current)||void 0===e?void 0:e.nodeCfg)||f&&(n=(e=null!=d?d:{}).type,r=e.anchorPoints,i=e.style,o=e.title,f.getNodes().forEach(function(t){f.updateItem(t,{nodeCfg:d,markerCfg:W,type:n,style:i,anchorPoints:r,labelCfg:o})})),Object(X.isEqual)(y,null===(t=h.current)||void 0===t?void 0:t.edgeCfg)||f&&(a=(t=null!=y?y:{}).type,s=t.style,c=t.startArrow,u=t.endArrow,l=t.label,f.getEdges().forEach(function(t){var e,n,r,i,o;"fund-line"===a?f.updateItem(t,{edgeCfg:y}):(e=t.getModel(),n=Ka(c,e),r=Ka(u,e),i=(o=null!=l?l:{}).style,o=o.content,f.updateItem(t,{type:a,label:Ya(o,e,f),labelCfg:{style:Ya(i,e,f)},style:Gs({stroke:"#ccc",startArrow:n,endArrow:r},"function"==typeof s?s(e,f):s)}))})),Object(X.isEqual)(W,null===(t=h.current)||void 0===t?void 0:t.markerCfg)||f&&f.getNodes().forEach(function(t){var e=("function"==typeof W?W(t.getModel(),t.get("group")):W).position,e=void 0===e?"right":e,n=t.getBBox(),r=n.width,n=n.height,t=t.get("group").get("children").find(function(t){return"collapse-icon"===t.get("name")});t&&(null==t||t.attr(Gs({},Ga(e,[r,n]))))}),h.current=R))},[R]),Object(O.useEffect)(function(){var t;f&&!f.destroyed&&(t=Wa($,K,N),f.changeSize(t[0],t[1]))},[N,$,K]),Object(O.useEffect)(function(){var t,e;f&&!f.destroyed&&(t=f.get("modes").default,e=[],t.forEach(function(t){Object(X.isObject)(t)?e.push(t.type):Object(X.isString)(t)&&e.push(t)}),f.removeBehaviors(e,"default"),f.addBehaviors(r,"default"))},[r]),Object(O.useEffect)(function(){var c,u,h,d,f,p,g,y,_,m,t,v,O,x,E,a,w,M,s,P,e,C,n,A,r,b,S,j,l,D,i,T,I,o;function k(v){return c=function(){var l,h,d,f,p,g,y,_,m;return Ua(this,function(t){switch(t.label){case 0:return l=v.item,"collapse-icon"!==v.target.get("name")?[3,3]:(y=l.getModel(),h=y.collapsed,d=y.g_currentPath,m=y.children,m=void 0===m?[]:m,f=y.g_parentId,p=y.g_level,g=y.id,y=S&&!m.length&&(s=b.get("eventData").getData(),(c=(c=d).split("-")).shift(),u=s,c.forEach(function(t){u=u.children[Number(t)]}),null!=u&&u.children?u.children.map(function(t){return ks(ks({},t),{children:[]})}):[]),!j||null!==(m=m)&&void 0!==m&&m.length||null!=y&&y.length?[3,2]:((s=document.createElement("div")).className="".concat("g","-antd-loading"),(c=document.createElement("span")).innerText="loading...",Fs(s,{position:"fixed",left:"0",top:"0",width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0, 0.25)",color:"#fff",fontSize:"16px",zIndex:999}),s.appendChild(c),document.body.appendChild(s),[4,j(l.getModel())]));case 1:(m=t.sent())&&(m=m.map(function(t,e){var n;return ks(((n={})["".concat("g","_level")]=p+1,n["".concat("g","_parentId")]="".concat(f,"-").concat(g),n["".concat("g","_currentPath")]="".concat(d,"-").concat(e),n),t)}),i=m,o=d,r=(r=b).get("eventData").getData(),(o=o.split("-")).shift(),a=r,o.forEach(function(t){a=a.children[Number(t)]}),a.children=i),y=m,r=document.getElementsByClassName("".concat("g","-antd-loading")),Array.from(r).forEach(function(t){document.body.removeChild(t)}),t.label=2;case 2:0<(null==y?void 0:y.length)?(o=b.get("data"),i=y,(e=(e=d).split("-")).shift(),n=o,e.forEach(function(t){n=n.children[Number(t)]}),n.children=i,_=o,b.changeData(_),b.get("fitCenter")&&(b.fitCenter(),b.stopAnimate())):(b.updateItem(l,{collapsed:!h}),b.layout()),t.label=3;case 3:return[2]}var e,n,r,i,o,a,s,c,u})},new(s=(s=a=t=void 0)||Promise)(function(n,e){function r(t){try{o(c.next(t))}catch(t){e(t)}}function i(t){try{o(c.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,i)}o((c=c.apply(t,a||[])).next())});var t,a,s,c}function L(t){var e,n,r,i,o,a,s,c,u=l.get("eventData").getData();"collapse-icon"===t.target.get("name")&&(r=n=(e=t.item).getModel().collapsed,{}.toString.call(r)!=="[object ".concat("Boolean","]")&&(n=null===(r=e._cfg.group.getChildren().find(function(t){return"main-box"===t.get("name")}))||void 0===r?void 0:r.attr("defaultCollapsed")),t.item._cfg.group.getChildren().find(function(t){return"marker"===t.cfg.type}),r=(null!=u?u:{}).edges,i=void 0===r?[]:r,t=e.getModel().id,o=[],a=[],s=[],(c=function(n){i.forEach(function(t){var e=t.source,t=t.target;e===n&&(o.push(t),c(t))})})(t),n?(l.findAll("node",function(e){var t=u.nodes.find(function(t){return t.id===e.get("id")}).collapsedLevel;return o.includes(e.get("id"))&&(!t||t<2)}).forEach(function(t){return l.showItem(t)}),u.nodes.forEach(function(t){var e=t.collapsedLevel,e=void 0===e?0:e,n=t.id;o.includes(n)&&(t.collapsedLevel=e-1)})):(l.findAll("node",function(t){return o.includes(t.get("id"))}).forEach(function(t){return l.hideItem(t)}),u.nodes.forEach(function(t){var e=t.collapsedLevel,e=void 0===e?0:e,n=t.id;o.includes(n)&&(t.collapsedLevel=e+1)})),i.forEach(function(t){var e=t.source,t=t.target;o.includes(t)&&s.push(e)}),(s=Array.from(new Set(s))).forEach(function(e){a.push(l.find("node",function(t){return t.get("id")===e}))}),a.forEach(function(t){l.updateItem(t,{collapsed:!t.getModel().collapsed}),l.refreshItem(t)}))}N.current&&G&&(o=B.name,c=void 0===o?"":o,o=Wa($,K,N),u=[],n=R.nodeCfg,C=R.edgeCfg,D=R.behaviors,h=R.layout,T=R.animate,d=R.autoFit,f=R.fitCenter,p=R.onReady,i=R.tooltipCfg,g=R.customLayout,y=(t=null!=n?n:{}).type,M=t.size,e=t.anchorPoints,A=t.nodeStateStyles,_=t.style,m=t.title,I=t.linkCenter,t=t.getChildren,v=(r=null!=C?C:{}).type,O=r.style,x=r.startArrow,E=r.endArrow,a=r.label,r=r.edgeStateStyles,i&&Object(X.isFunction)(i.customContent)&&(w=i.customContent,i=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(i,["customContent"]),i=new Ss.Tooltip(Gs(Gs({offsetX:10,offsetY:20,itemTypes:["node"]},i),{getContent:function(t){return t=w(t.item.getModel()),(e=document.createElement("div")).className="g6-tooltip",Y.a.render(t,e),e;var e}})),u.push(i)),F.current=new Ss[G]({container:N.current,width:o[0],height:o[1],animate:T,linkCenter:I,modes:{default:D},defaultNode:{type:y,size:M,anchorPoints:e,nodeCfg:n},defaultEdge:{type:v,edgeCfg:C,labelCfg:null==a?void 0:a.style},nodeStateStyles:A,edgeStateStyles:(i=r,"FundFlowGraph"!==(void 0===(o=B.name)?"":o)?i:i?(T=(o=void 0===(o=i.hover)?{}:o).endArrow,I=o.startArrow,T||I?{hover:Gs(Gs({},o),{endArrow:!!T&&Ka(T),startArrow:!!I&&Ka(I)})}:i):void 0),layout:g?void 0:h,fitView:d,fitCenter:f,plugins:u}),(D=F.current).current||(D.current="graph-".concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))),M=D.current,(s=F.current).set("id",M),P=["fund-card","indicator-card"],s.node(function(t){if(P.includes(y)||"OrganizationGraph"===c)return t.markerCfg=W,{};var e,n=(null!=m?m:{}).style;return{label:(e=t.value,Object(X.isString)(e)?e:"FundFlowGraph"===c?null==e?void 0:e.text:null==e?void 0:e.title),labelCfg:{style:Ya(n,t,s)},style:Gs({stroke:"#ccc"},"function"==typeof _?_(t,s):_)}}),"fund-line"!==v&&s.edge(function(t){var e,n,r=Ka(x,t),i=Ka(E,t),o=(null!=a?a:{}).style;return{label:(e=t,n=(null!=a?a:{}).content,["DecompositionTreeGraph","OrganizationGraph","RadialTreeGraph"].includes(c)?Ya(n,e,s):"FundFlowGraph"===c?"object"==typeof(n=e.value)?null==n?void 0:n.text:n:e.value),labelCfg:{style:Ya(o,t,s)},style:Gs({stroke:"#ccc",startArrow:r,endArrow:i},"function"==typeof O?O(t,s):O)}}),za(V,s),Va(s,R),W&&(["FlowAnalysisGraph","FundFlowGraph"].includes(c)?((l=s).on("node:click",function(t){L(t)}),l.on("node:touchstart",function(t){L(t)})):(S=z,j=t,(b=s).on("node:click",function(t){k(t)}),b.on("node:touchstart",function(t){k(t)}))),e=s,n=z,A=Rs(C=U),r=A,n&&(r=Us(C),A=Ws(r,n)),e.data(A),e.set("eventData",new Bs(r)),e.render(),e.get("canvas").set("localRefresh",!1),f&&s.fitCenter(),p&&p(s))},[]),Object(O.useEffect)(function(){var t,e,n,r,i,o,a,s,c;F.current&&u&&(t={graph:F.current,container:N.current,toolbarCfg:u},n=t.graph,r=t.container,i=(t=t.toolbarCfg).style,o=t.show,a=t.className,s="".concat(n.get("id"),"-toolbar"),(c=document.querySelector("#".concat(s)))&&(null===(e=c.parentNode)||void 0===e||e.removeChild(c)),o&&((e=document.createElement("div")).id=s,e.className=null!=a?a:"charts-toolbar",Fs(e,{position:"absolute",right:"12px",top:"12px",display:"flex",flexDirection:"column",padding:"6px",borderRadius:"2px",fontSize:"24px",textAlign:"center",lineHeight:"24px",color:"rgba(0,0,0,.65)",backgroundColor:"#fff",boxShadow:"0 0 3px #ccc"}),Fs(e,i),Y.a.render(x.a.createElement(Za,{graph:n,container:r,toolbarCfg:t}),e),r.appendChild(e)))},[F,u]),Object(O.useEffect)(function(){return function(){null!=f&&f.current&&!f.current.destroyed&&f.current.destroy()}},[]),{container:N}}var Vs=function(){return(Vs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Xs(t){return t=t.loadingTemplate,x.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},t||x.a.createElement(Ys.a,{viewBox:"0 0 400 180",width:200,height:90,speed:1},x.a.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),x.a.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),x.a.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),x.a.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),x.a.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),x.a.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),x.a.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),x.a.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),x.a.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),x.a.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"})))}var Ys=t(222),Hs=function(){return(Hs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},qs={fill:"#fff",fontSize:12},Zs={fill:"#40a9ff",radius:[2,2,0,0]},Qs={width:12,height:12},Js=["startArrow","endArrow"],tc={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:{lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},ec=(Ss.registerNode("indicator-card",{draw:function(h,d){var p,g,s,t,e,c=(h=void 0===h?{}:h).value,c=void 0===c?{}:c,n=h.nodeCfg,u=h.markerCfg,r=n.title,l=n.items,i=n.label,i=void 0===i?{}:i,y=n.style,o=n.padding,o=void 0===o?0:o,_=n.badge,m=n.autoWidth,v=n.customContent,b=function(){if(!_)return[0,0,0,0];var t=_.size,e=_.position,e=void 0===e?"left":e,t=Ha(void 0===t?[]:t),n=t[0],r=t[1],i=[];switch(e){case"top":i.push(null!=r?r:4,0,0,0);break;case"right":i.push(0,null!=n?n:4,0,0);break;case"bottom":i.push(0,0,null!=r?r:4,0);break;case"left":i.push(0,0,0,null!=n?n:4)}return i}(),O=i.style,f=$a(o).map(function(t,e){return t+b[e]}),n=null!=r?r:{},i=n.style,o=n.containerStyle,r=n.autoEllipsis,n=void 0===r||r,r=null!=l?l:{},x=r.style,l=r.containerStyle,E=r.layout,a=r.itemSpacing,w=void 0===a?4:a,M=r.sort,a=r.padding,P=$a(void 0===a?[6,0,0]:a),r=c.title,C=c.items,a=(null==h?void 0:h.size)||[100,30],A=0,c=(a="number"==typeof a?[a,a]:a)[0],S=c-f[1]-f[3],y=Xa(y,h,d),y=d.addShape("rect",{attrs:Hs(Hs({x:0,y:0,width:a[0],height:a[1]},Is),y),name:"main-box",draggable:!0}),r=(r&&(t=d.addShape("rect",{attrs:Hs(Hs({x:0,y:0,width:a[0],height:0},Zs),Xa(o,h,d)),name:"title-rect",draggable:!0}),o=Hs(Hs({},qs),Xa(i,h,d)),n=((i=d.addShape("text",{attrs:Hs({x:f[3],y:f[0],textBaseline:"top",text:n&&!m?function(t,e,n){void 0===e&&(e=12),void 0===n&&(n=120);e=Object(X.isNumber)(e)?e:Number(e.replace("px","")),n=Math.floor(n/e);return t.length<=n?t:t.slice(0,n-1)+"..."}(r,null==o?void 0:o.fontSize,S):r},o),name:"title"}))?i.getBBox():{height:a[1]/2}).height,null==t||t.attr("height",n+f[0]+f[2]),A+=t.getBBox().height),C&&(t||(A+=f[0]),e=d.addShape("rect",{attrs:Hs({x:f[3],y:A,width:S,height:0},Xa(l,h,d)),name:"item-box",draggable:!0}),A+=P[0],p=S-P[1]-P[3],g=Array.isArray(C),s=function(t,e){void 0===e&&(e=0);var n,i,o,a,s,c,u,l,r=[];v?r.push(null!==(n=v(t,d,{startX:f[3]+P[3],startY:A,width:p}))&&void 0!==n?n:0):r.push.apply(r,(i=t,o=p,a=f[3]+P[3],void 0===(s=e)&&(s=0),c=[],u=0,(l=M?Object.keys(i):["text","value","icon"]).forEach(function(t,e){var n=t.startsWith("icon"),r=(M||"flex"===E?r=e*o/l.length:"follow"===E?r=u:(r="text"===t?0:o/2,r+=n?u:0),d.addShape(n?"image":"text",{attrs:Hs(Hs({textBaseline:"top",x:a+r,y:A,text:i[t],img:i[t]},n?Qs:Ds),Xa(x||O,h,d,t)),name:"".concat(t,"-").concat(s,"-").concat(e)}));"value"!==t&&"follow"!==E||(u=(u+=r.getBBox().width)+("follow"===E?w:0)),c.push(r.getBBox().height)}),c)),A+=Math.max.apply(Math,r),g&&e!==C.length-1&&(A+=6)},Array.isArray(C)?C.forEach(function(t,e){s(t,e)}):s(C)),(null==t?void 0:t.getBBox().height)||0),o=(null==e||e.attr("height",Math.max(A-r+P[2],a[1])),(null==e?void 0:e.getBBox().height)||0),i=C?(r||f[0])+o+f[2]:r+o;return null==y||y.attr("height",i),m&&(l=Math.max.apply(Math,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([c],null===(n=null==d?void 0:d.getChildren())||void 0===n?void 0:n.map(function(t){return(t.getBBox().maxX||0)+f[1]}),!1)),null==t||t.attr("width",l),null==y||y.attr("width",l)),_&&(S=function(l){var t=null!=_?_:{},e=t.size,t=t.position,t=void 0===t?"left":t,e=Ha(void 0===e?[]:e),n=e[0],r=e[1],i=l[0],o=l[1],a=0,s=0,c=0,u=0;switch(t){case"top":s=a=0,c=null!=n?n:i,u=null!=r?r:4;break;case"left":s=a=0,c=null!=n?n:4,u=null!=r?r:o;break;case"right":a=i-(Object(X.isNumber)(n)?n:4),s=0,c=null!=n?n:4,u=null!=r?r:o;break;case"bottom":a=0,s=o-(Object(X.isNumber)(r)?r:4),c=null!=n?n:i,u=null!=r?r:4}return{x:a,y:s,width:c,height:u}}([a[0],i]),d.addShape("rect",{attrs:Hs(Hs({fill:"#40a9ff"},S),Xa(_.style,h,d)),name:"status-rect"})),u&&(o=(null!==(r=null===(e=null==d?void 0:d.get("item"))||void 0===e?void 0:e.getModel())&&void 0!==r?r:{}).collapsed,m=y.getBBox(),c=m.width,n=m.height,l=(t="function"==typeof u?u(h,d):u).show,a=t.position,i=t.collapsed,S={show:l,position:void 0===a?"right":a,collapsed:null!=o?o:i,style:t.style},e=d,r=S.collapsed,m=S.style,S.show&&e.addShape("marker",{attrs:ks(ks(ks({},Ga(S.position,[c,n])),{r:6,cursor:"pointer",symbol:r?Ss.Marker.expand:Ss.Marker.collapse,stroke:Is.stroke,lineWidth:1,fill:"#fff"}),m),defaultCollapsed:!1,name:"collapse-icon"}),y.attr("defaultCollapsed",i)),y},update:void 0,setState:function(t,i,e){var n,a=e.get("keyShape");if(a&&!a.destroyed){var s=e.getType(),t=Object(X.isBoolean)(i)?t:"".concat(t,":").concat(i),t=e.getStateStyle(t);if(t){var c=Object.assign({},t),d=e.getContainer(),f={x:1,y:1,cx:1,cy:1};if(i)for(r in c)!function(e){var t,n=c[e];Object(X.isPlainObject)(n)&&!Js.includes(e)?(t=d.find(function(t){return t.get("name")===e}))&&t.attr(n):a.attr(((t={})[e]=n,t))}(r);else{var o,r,p,g=qa(e.getCurrentStatesStyle()),t=e.getModel(),u=Object(X.mix)({},t.style,qa(e.getOriginStyle())),l=a.get("name"),y=a.attr(),h={},_=(Object.keys(y).forEach(function(t){var e;"img"!==t&&(e=y[t],h[t]=e&&"object"==typeof e?Object(X.clone)(e):e)}),{});for(o in c)!function(r){var i,o,t=c[r];Object(X.isPlainObject)(t)&&!Js.includes(r)?(i=d.find(function(t){return t.get("name")===r}))&&(o=Object(X.clone)(i.attr()),Object(X.each)(t,function(t,e){var n;r===l&&h[e]&&!f[e]?(delete h[e],n=u[r][e]||tc[s][e],a.attr(e,n)):!o[e]&&0!==o[e]||(delete o[e],n=u[r][e]||tc[s][e],i.attr(e,n))}),_[r]=o):h[r]&&!f[r]&&(delete h[r],t=u[r]||(u[l]?u[l][r]:void 0)||tc[s][r],a.attr(r,t))}(o);for(r in l?_[l]=h:Object(X.mix)(_,h),g)f[r]||(p=g[r],Object(X.isPlainObject)(p)&&!Js.includes(r)||(l?(Object(X.mix)(u[l],((n={})[r]=p,n)),delete u[r]):Object(X.mix)(u,((n={})[r]=p,n)),delete g[r]));var m,v={},b=(Object(X.deepMix)(v,u,_,g),!1);for(m in v)!function(e){var t,n=v[e];Object(X.isPlainObject)(n)&&!Js.includes(e)?(t=d.find(function(t){return t.get("name")===e}))&&(e===l&&(b=!0),"collapse-icon"!==e&&t.attr(n)):b||(t=n||tc[s][e],a.attr(((n={})[e]=t,n)))}(m)}}}}},"single-node"),{nodeCfg:{type:"indicator-card",size:js,style:{stroke:"#40a9ff"},anchorPoints:[[0,.5],[1,.5]],padding:6,layout:"bundled",nodeStateStyles:h,label:{style:function(t,e,n){return n?{icon:{width:10,height:10},value:{fill:"#000"},text:{fill:"#aaa"}}[n]:{}}}},edgeCfg:{type:"cubic-horizontal",endArrow:{type:"vee"},edgeStateStyles:h},behaviors:["zoom-canvas","drag-canvas"],layout:{type:"compactBox",direction:"LR",getId:function(t){return t.id},getHeight:function(){return 60},getWidth:function(){return 16},getVGap:function(){return 16},getHGap:function(){return 100}},animate:!0,autoFit:!0,fitCenter:!0,style:{position:"relative",height:"inherit",backgroundColor:"#fff"},level:100});o.a=function(t){n=ec,e=Rs(t=t);var t=Object(O.useCallback)(function(n,r){var i=Vs({},r);return Object.keys(n).forEach(function(t){var e;"Object"===(e=n[t],Object.prototype.toString.call(e).slice(8,-1))?i[t]=Vs(Vs({},r[t]),n[t]):i[t]=n[t]}),i},[t,n])(e,n),e=t.className,n=t.style,r=t.loading,i=t.loadingTemplate,o=t.errorTemplate,t=Ks("TreeGraph",function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["className","style","loading","loadingTemplate","errorTemplate"]),{name:"DecompositionTreeGraph"}).container;return x.a.createElement(w,{errorTemplate:o},r&&x.a.createElement(Xs,{loadingTemplate:i}),x.a.createElement("div",{className:e,style:n,ref:t}))}},,,,function(t,n,r){"use strict";r.d(n,"a",function(){return y});var a,s,c=0,u=0,e=0,l=0,h=0,d=0,f="object"==typeof performance&&performance.now?performance:Date,o="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return h||(o(g),h=f.now()+d)}function g(){h=0}function i(){this._call=this._time=this._next=null}function y(t,e,n){var r=new i;return r.restart(t,e,n),r}function _(){h=(l=f.now())+d,c=u=0;try{p(),++c;for(var t,e=a;e;)0<=(t=h-e._time)&&e._call.call(null,t),e=e._next;--c}finally{for(var n,r,i=a,o=1/(c=0);i;)i=i._call?(o>i._time&&(o=i._time),(n=i)._next):(r=i._next,i._next=null,n?n._next=r:a=r);s=n,v(o),h=0}}function m(){var t=f.now(),e=t-l;1e3<e&&(d-=e,l=t)}function v(t){c||(u=u&&clearTimeout(u),24<t-h?(t<1/0&&(u=setTimeout(_,t-f.now()-d)),e=e&&clearInterval(e)):(e||(l=f.now(),e=setInterval(m,1e3)),c=1,o(_)))}i.prototype=y.prototype={constructor:i,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||s===this||(s?s._next=this:a=this,s=this),this._call=t,this._time=n,v()},stop:function(){this._call&&(this._call=null,this._time=1/0,v())}}}]);